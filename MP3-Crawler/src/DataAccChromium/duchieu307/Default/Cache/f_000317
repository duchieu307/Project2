/*! For license information please see main.min.js.LICENSE.txt */
!function(e){function t(t){for(var n,r,a=t[0],o=t[1],s=0,c=[];s<a.length;s++)r=a[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(l&&l(t);c.length;)c.shift()()}var n={},r={3:0},i={3:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{1:1,12:1,13:1}[e]&&t.push(r[e]=new Promise((function(t,n){for(var i="static/css/"+({}[e]||e)+"."+{0:"31d6cfe0",1:"dc14cf81",2:"31d6cfe0",4:"31d6cfe0",5:"31d6cfe0",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0",11:"31d6cfe0",12:"1239e212",13:"1239e212",14:"31d6cfe0",15:"31d6cfe0",16:"31d6cfe0",17:"31d6cfe0",18:"31d6cfe0",19:"31d6cfe0",20:"31d6cfe0",21:"31d6cfe0",22:"31d6cfe0",23:"31d6cfe0",24:"31d6cfe0",25:"31d6cfe0",26:"31d6cfe0",27:"31d6cfe0",28:"31d6cfe0"}[e]+".chunk.css",o=a.p+i,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var l=(d=s[c]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===i||l===o))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){var d;if((l=(d=u[c]).getAttribute("data-href"))===i||l===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var i=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=i,delete r[e],h.parentNode.removeChild(h),n(a)},h.href=o,document.getElementsByTagName("head")[0].appendChild(h)})).then((function(){r[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=o);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=function(e){return a.p+"static/js/"+({}[e]||e)+"."+{0:"d883dbff",1:"03095474",2:"3bf519f4",4:"17ac6357",5:"c5de4221",6:"af87639a",7:"fab8e92c",8:"08fba5d8",9:"4d063c0f",10:"62f4baa7",11:"265a5784",12:"9343fc2c",13:"54946ea8",14:"36bc7ecf",15:"c63dc687",16:"89fbab26",17:"0a3c62c0",18:"f7892e4d",19:"d163fef2",20:"a2365079",21:"41921b14",22:"ce80769e",23:"87b64fb0",24:"1fd694dd",25:"5738a2af",26:"7a3eb183",27:"9dc18d00",28:"8c53c8bf"}[e]+".chunk.js"}(e);var l=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}i[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://zjs.zadn.vn/zmp3-desktop/releases/v0.1.5/",a.oe=function(e){throw console.error(e),e};var o=this["webpackJsonpmp3-dekstop"]=this["webpackJsonpmp3-dekstop"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=s;a(a.s=178)}([function(e,t,n){"use strict";e.exports=n(179)},function(e,t,n){"use strict";n.d(t,"g",(function(){return _})),n.d(t,"l",(function(){return E})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return M})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return C})),n.d(t,"q",(function(){return R})),n.d(t,"o",(function(){return I})),n.d(t,"p",(function(){return N})),n.d(t,"r",(function(){return j})),n.d(t,"O",(function(){return D})),n.d(t,"M",(function(){return z})),n.d(t,"J",(function(){return F})),n.d(t,"u",(function(){return U})),n.d(t,"B",(function(){return B})),n.d(t,"m",(function(){return H})),n.d(t,"I",(function(){return G})),n.d(t,"j",(function(){return W})),n.d(t,"K",(function(){return q})),n.d(t,"v",(function(){return Y})),n.d(t,"y",(function(){return Z})),n.d(t,"L",(function(){return X})),n.d(t,"P",(function(){return Q})),n.d(t,"G",(function(){return J})),n.d(t,"H",(function(){return $})),n.d(t,"b",(function(){return ee})),n.d(t,"z",(function(){return te})),n.d(t,"D",(function(){return ne})),n.d(t,"x",(function(){return re})),n.d(t,"i",(function(){return ie})),n.d(t,"s",(function(){return ae})),n.d(t,"C",(function(){return oe})),n.d(t,"w",(function(){return se})),n.d(t,"t",(function(){return le})),n.d(t,"n",(function(){return ue})),n.d(t,"k",(function(){return de})),n.d(t,"A",(function(){return he})),n.d(t,"E",(function(){return fe})),n.d(t,"F",(function(){return pe})),n.d(t,"N",(function(){return me})),n.d(t,"h",(function(){return ge}));var r=n(5),i=n.n(r),a=n(11),o=n(14),s=n(4),c=n(58),l=n.n(c),u=n(51),d=n.n(u),h=(n(195),n(169)),f=n.n(h),p=n(170),m=n.n(p),g=n(23),v=n(45),y=n(21),b=n(2),w="https://".concat(b.C?"":"dev.","zingmp3.vn/api"),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;n.credentials||"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_IS_PRODUCTION:"true"}).REACT_APP_IS_LOCAL||(n.credentials="include");var i=!(!n.method||"post"!==n.method.toLowerCase()),a=O(e,t);return n=i?S(n,t):n,E(a,n,r)},E=function(e,t,n){return fetch(e,t,n).then((function(e){return e.ok?e.json():Promise.reject(e.text())}),(function(e){return Promise.reject(e)})).then((function(e){return{resp:e}}),(function(e){return{error:e}})).catch((function(e){return{error:e}}))},S=function(e,t){return B(t)?e:Object(s.a)({},e,{body:JSON.stringify(t)})},x=function(e,t){var n=T(t),r=f()(""+n);return m()(e+r,b.Nc)},T=function(e){var t=L(e),n=[];for(var r in t)"ctime"!==r&&"id"!==r||null!==e[r]&&void 0!==e[r]&&(n[r]=t[r]);return k(n,"")},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;t.ctime=U(),t.sig=x(e,t),t.api_key=b.a;var r=k(t);return"".concat(n).concat(e,"?").concat(r)},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",n=encodeURIComponent;return Object.keys(e).map((function(t){return n(e[t]).length>5e3?"":"".concat(n(t),"=").concat(n(e[t]))})).filter((function(e){return""!==e})).join(t)},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.gd,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return{text:e,status:t,isLogin:n,thumbnail:r,actionType:i}},A=function(e,t){return"".concat(t?"MV":"B\xe0i h\xe1t"," \u201c<b>").concat(e,"</b>\u201d ch\u1ec9 c\xf3 th\u1ec3 ph\xe1t b\u1eb1ng t\xe0i kho\u1ea3n VIP.")},C=function(e,t){return e.replace("%s",t)},L=function(e){var t={};return Object.keys(e).sort().forEach((function(n){t[n]=e[n]})),t},P=function(e,t){for(var n=String(e);n.length<t;)n="0".concat(n);return n},R=function(e){var t=P(Math.floor(e/60),2),n=P(e%60,2);return"".concat(t,":").concat(n)},I=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0},N=function(e){if(!e)return 0;switch((""+e).length){case 3:return e;default:return function(e,t){t=Math.pow(10,t);for(var n=["K","M","B"],r=n.length-1;r>=0;r--){var i=Math.pow(10,3*(r+1));if(i<=e){1e3===(e=Math.floor(e*t/i)/t)&&r<n.length-1&&(e=1,r++),0===r&&(e=Math.floor(e)),e+=n[r];break}}return e}(e,1)}},j=function(e,t){return e?d.a.unix(e).format(t):d()().format(t)},D=function(e){return e?d.a.unix(e).format("DD/MM/YYYY"):d()().format("DD/MM/YYYY")},z=function(e){return d.a.unix(e).fromNow()},F=function(e){e=parseInt(e,10);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return"".concat(t>0?"".concat(t," gi\u1edd "):"").concat(n>0?"".concat(n," ph\xfat"):"")},U=function(){return Math.round((new Date).getTime()/1e3)},B=function(e){if(!e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},H=function(e,t,n,r){var i;return i=r?e.findIndex((function(e){return e[r]===t})):e.indexOf(t),V(e,i,n)},V=function(e,t,n){return n?X(e)<=1||t<0?[].concat(Object(o.a)(e),[n]):[].concat(Object(o.a)(e.slice(0,t+1)),[n],Object(o.a)(e.slice(t+1))):e},G=function(e,t,n){return B(e)||(r=n?e.findIndex((function(e){return e[n]===t})):e.indexOf(t))<0?e:[].concat(Object(o.a)(e.slice(0,r)),Object(o.a)(e.slice(r+1)));var r},W=function(e,t,n){return n?e.filter((function(e){return!t.some((function(t){return t[n]===e[n]}))})):e.filter((function(e){return t.indexOf(e)<0}))},q=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e},Y=function(e,t){var n=K(e,t);return n+1===e.length?e[0]:e[n+1]},Z=function(e){return Math.floor(Math.random()*Math.floor(e))},K=function(e,t){return e.indexOf(t)},X=function(e){return e?e.length:0},Q=function(e){return e?parseInt(e,10):0},J=function(e){for(var t=e,n=t.offsetLeft;t.offsetParent;)n+=t.offsetParent.offsetLeft,t=t.offsetParent;return n},$=function(e){for(var t=e,n=t.offsetTop;t.offsetParent;)n+=t.offsetParent.offsetTop,t=t.offsetParent;return n},ee=function(e,t){return"https://www.facebook.com/dialog/share?app_id=1603079626622346&display=popup&caption=zingmp3.com&href="+e},te=function(){var e=y.a.get("vistorId");return e||(e=ne()),e},ne=function(){if("object"===typeof window.ZA)return window.ZA.getVisitorID((function(e){y.a.set("vistorId",e),v.a.set("visitorId",e)}))},re=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);if(!n)return null;if(!n[2])return"";try{return decodeURIComponent(n[2].replace(/\+/g," "))}catch(r){return""}},ie=function(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}},ae=function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return(e=("000"+e.toString(36)).slice(-3))+(t=("000"+t.toString(36)).slice(-3))},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new RegExp("^https?://");return t.test(e)},se=function(e,t){t||(t=window.location.href),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==n?null:n[1]},ce=function(){y.a.remove("uid"),l.a.remove("zalo_code",{domain:b.o,path:"/"}),function(){var e=b.Ad+"?app_id="+b.b+"&redirect_uri="+window.location.href;window.location.href=e}()},le=function(){var e=Object(a.a)(i.a.mark((function e(){var t,n,r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=y.a.get("uid"))&&""!==t&&"null"!==t||((t=se("uid"))||ce(),y.a.set("uid",t)),(n=v.a.get("zalo_code"))&&""!==n&&"null"!==n||((r=se("code"))||ce(),n=r,(a=new Date).setTime(a.getTime()+7776e6),l.a.set("zalo_code",n,{domain:b.o,path:"/",expires:a})),e.next=6,_(b.ic,{code:n,uid:t,appid:b.b});case 6:return o=e.sent,s=o.resp,Object(g.a)(s)||ce(),e.abrupt("return",s.data.access_token);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(e){e&&((new Image).src=e)},de=function(e){var t=e.target.getAttribute("role"),n=e.target.type,r=e.target.getAttribute("aria-modal"),i=document.getElementsByClassName("ReactModalPortal");return!!(i&&i.length>0)||("button"===t||"checkbox"===n||"true"===r)},he=function(e){window.ZaloLoginWidget&&window.ZaloLoginWidget.init({sessionName:"zmp3_sid",onLoad:function(){e()}})},fe=function(e){window.ZaloLoginWidget&&window.ZaloLoginWidget.login((function(t){0===t.error_code&&t.data.logged&&(window.ZaloAuthen&&window.ZaloAuthen.sendRedirectOAuthCode(),e())}))},pe=function(e){window.ZaloLoginWidget&&(window.ZaloLoginWidget.logout(),e())},me=function(e){var t=new d.a;if(e=d.a.unix(e),t.diff(e,"days")>7){var n=e.format("D"),r=e.format("M"),i=e.format("H:m");return"".concat(n," th\xe1ng ").concat(r," l\xfac ").concat(i)}return e.fromNow()},ge=function(e){return"public"===e}},function(e,t,n){"use strict";n.d(t,"C",(function(){return r})),n.d(t,"B",(function(){return i})),n.d(t,"r",(function(){return a})),n.d(t,"o",(function(){return o})),n.d(t,"ad",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"Nc",(function(){return l})),n.d(t,"cd",(function(){return u})),n.d(t,"md",(function(){return d})),n.d(t,"F",(function(){return h})),n.d(t,"ld",(function(){return f})),n.d(t,"nd",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"q",(function(){return g})),n.d(t,"p",(function(){return v})),n.d(t,"Ad",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"m",(function(){return w})),n.d(t,"v",(function(){return _})),n.d(t,"Rc",(function(){return E})),n.d(t,"E",(function(){return S})),n.d(t,"od",(function(){return x})),n.d(t,"xb",(function(){return T})),n.d(t,"yb",(function(){return O})),n.d(t,"Bb",(function(){return k})),n.d(t,"Ab",(function(){return M})),n.d(t,"pb",(function(){return A})),n.d(t,"wb",(function(){return C})),n.d(t,"zb",(function(){return L})),n.d(t,"sb",(function(){return P})),n.d(t,"qb",(function(){return R})),n.d(t,"rb",(function(){return I})),n.d(t,"Mc",(function(){return N})),n.d(t,"Ib",(function(){return j})),n.d(t,"Hb",(function(){return D})),n.d(t,"Jb",(function(){return z})),n.d(t,"fb",(function(){return F})),n.d(t,"eb",(function(){return U})),n.d(t,"db",(function(){return B})),n.d(t,"lb",(function(){return H})),n.d(t,"nb",(function(){return V})),n.d(t,"jb",(function(){return G})),n.d(t,"kb",(function(){return W})),n.d(t,"mb",(function(){return q})),n.d(t,"gb",(function(){return Y})),n.d(t,"hb",(function(){return Z})),n.d(t,"ib",(function(){return K})),n.d(t,"Cb",(function(){return X})),n.d(t,"Eb",(function(){return Q})),n.d(t,"Db",(function(){return J})),n.d(t,"tb",(function(){return $})),n.d(t,"vb",(function(){return ee})),n.d(t,"ub",(function(){return te})),n.d(t,"ob",(function(){return ne})),n.d(t,"bb",(function(){return re})),n.d(t,"Hc",(function(){return ie})),n.d(t,"cb",(function(){return ae})),n.d(t,"ac",(function(){return oe})),n.d(t,"vd",(function(){return se})),n.d(t,"Gb",(function(){return ce})),n.d(t,"Fb",(function(){return le})),n.d(t,"Zb",(function(){return ue})),n.d(t,"xc",(function(){return de})),n.d(t,"hc",(function(){return he})),n.d(t,"dc",(function(){return fe})),n.d(t,"ec",(function(){return pe})),n.d(t,"Dc",(function(){return me})),n.d(t,"Fc",(function(){return ge})),n.d(t,"Cc",(function(){return ve})),n.d(t,"cc",(function(){return ye})),n.d(t,"pc",(function(){return be})),n.d(t,"sc",(function(){return we})),n.d(t,"vc",(function(){return _e})),n.d(t,"jc",(function(){return Ee})),n.d(t,"kc",(function(){return Se})),n.d(t,"uc",(function(){return xe})),n.d(t,"Ec",(function(){return Te})),n.d(t,"mc",(function(){return Oe})),n.d(t,"qc",(function(){return ke})),n.d(t,"tc",(function(){return Me})),n.d(t,"rc",(function(){return Ae})),n.d(t,"wc",(function(){return Ce})),n.d(t,"fc",(function(){return Le})),n.d(t,"Gc",(function(){return Pe})),n.d(t,"J",(function(){return Re})),n.d(t,"Bd",(function(){return Ie})),n.d(t,"ic",(function(){return Ne})),n.d(t,"nc",(function(){return je})),n.d(t,"oc",(function(){return De})),n.d(t,"Xb",(function(){return ze})),n.d(t,"Yb",(function(){return Fe})),n.d(t,"yd",(function(){return Ue})),n.d(t,"lc",(function(){return Be})),n.d(t,"bc",(function(){return He})),n.d(t,"Bc",(function(){return Ve})),n.d(t,"zc",(function(){return Ge})),n.d(t,"yc",(function(){return We})),n.d(t,"Ac",(function(){return qe})),n.d(t,"gc",(function(){return Ye})),n.d(t,"Pc",(function(){return Ze})),n.d(t,"Qc",(function(){return Ke})),n.d(t,"zd",(function(){return Xe})),n.d(t,"V",(function(){return Qe})),n.d(t,"X",(function(){return Je})),n.d(t,"U",(function(){return $e})),n.d(t,"Q",(function(){return et})),n.d(t,"R",(function(){return tt})),n.d(t,"S",(function(){return nt})),n.d(t,"T",(function(){return rt})),n.d(t,"W",(function(){return it})),n.d(t,"Kc",(function(){return at})),n.d(t,"jd",(function(){return ot})),n.d(t,"fd",(function(){return st})),n.d(t,"hd",(function(){return ct})),n.d(t,"gd",(function(){return lt})),n.d(t,"id",(function(){return ut})),n.d(t,"sd",(function(){return dt})),n.d(t,"ud",(function(){return ht})),n.d(t,"rd",(function(){return ft})),n.d(t,"td",(function(){return pt})),n.d(t,"qd",(function(){return mt})),n.d(t,"Jc",(function(){return gt})),n.d(t,"ed",(function(){return vt})),n.d(t,"G",(function(){return yt})),n.d(t,"D",(function(){return bt})),n.d(t,"bd",(function(){return wt})),n.d(t,"g",(function(){return _t})),n.d(t,"i",(function(){return Et})),n.d(t,"l",(function(){return St})),n.d(t,"k",(function(){return xt})),n.d(t,"j",(function(){return Tt})),n.d(t,"f",(function(){return Ot})),n.d(t,"Uc",(function(){return kt})),n.d(t,"Yc",(function(){return Mt})),n.d(t,"Xc",(function(){return At})),n.d(t,"Zc",(function(){return Ct})),n.d(t,"Tc",(function(){return Lt})),n.d(t,"z",(function(){return Pt})),n.d(t,"x",(function(){return Rt})),n.d(t,"y",(function(){return It})),n.d(t,"Vc",(function(){return Nt})),n.d(t,"dd",(function(){return jt})),n.d(t,"Pb",(function(){return Dt})),n.d(t,"Kb",(function(){return zt})),n.d(t,"Qb",(function(){return Ft})),n.d(t,"Mb",(function(){return Ut})),n.d(t,"Lb",(function(){return Bt})),n.d(t,"Ob",(function(){return Ht})),n.d(t,"Nb",(function(){return Vt})),n.d(t,"Wb",(function(){return Gt})),n.d(t,"Ub",(function(){return Wt})),n.d(t,"Rb",(function(){return qt})),n.d(t,"Vb",(function(){return Yt})),n.d(t,"Sb",(function(){return Zt})),n.d(t,"Tb",(function(){return Kt})),n.d(t,"L",(function(){return Xt})),n.d(t,"wd",(function(){return Qt})),n.d(t,"c",(function(){return Jt})),n.d(t,"t",(function(){return $t})),n.d(t,"M",(function(){return en})),n.d(t,"N",(function(){return tn})),n.d(t,"Z",(function(){return nn})),n.d(t,"ab",(function(){return rn})),n.d(t,"Y",(function(){return an})),n.d(t,"Wc",(function(){return on})),n.d(t,"e",(function(){return sn})),n.d(t,"u",(function(){return cn})),n.d(t,"pd",(function(){return ln})),n.d(t,"A",(function(){return un})),n.d(t,"Sc",(function(){return dn})),n.d(t,"P",(function(){return hn})),n.d(t,"K",(function(){return fn})),n.d(t,"kd",(function(){return pn})),n.d(t,"w",(function(){return mn})),n.d(t,"d",(function(){return gn})),n.d(t,"Lc",(function(){return vn})),n.d(t,"Ic",(function(){return yn})),n.d(t,"H",(function(){return bn})),n.d(t,"h",(function(){return wn})),n.d(t,"xd",(function(){return _n})),n.d(t,"Oc",(function(){return En})),n.d(t,"n",(function(){return Sn})),n.d(t,"Cd",(function(){return xn})),n.d(t,"O",(function(){return Tn})),n.d(t,"I",(function(){return On}));var r=!0,i="true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_IS_PRODUCTION:"true"}).REACT_APP_IS_LOCAL,a="https://zingmp3.vn",o=".zingmp3.vn",s="session_key",c="38e8643fb0dc04e8d65b99994d3dafff",l="10a01dcf33762d3a204cb96429918ff6",u="//static-zmp3.zadn.vn/skins/zmp3-v5.2/",d="//ac.zingmp3.vn/complete/desktop?type=song&num=10&query=",h="https://lp.zingmp3.vn/v1/web/get-updates",f="https://ac".concat(r?"":"-stg",".zingmp3.vn/suggestKeyword/desktop?num=10&query="),p="https://ac".concat(r?"":"-stg",".zingmp3.vn/v1/web/top-search?num=3&query="),m="https://zingmp3.vn/vip",g="//photo-zmp3.zadn.vn",v="https://download.zingmp3.vn/api",y=("https://id.zalo.me/account?continue=".concat(encodeURIComponent(a),"/social/callback"),"https://id.zalo.me/account/logout?continue=".concat(encodeURIComponent(a)),"https://oauth.zaloapp.com/v3/auth"),b="2588341350709494368",w="https://comment.api.zingmp3.vn/comment",_="https://docs.google.com/forms/d/1MBR_N1S1vB7LKbSbY0C-03kjDyM-Lp6fGLoyoebJTq0/viewform?edit_requested=true",E="https://mp3.zing.vn/tnc",S={SONGS_DISCONVER:"songs_discover"},x="https://log.zingmp3.vn/v1/web/stats/post/live",T="/playlist/get-songs",O="/song/get-song-detail",k="/song/get-streamings",M="/song/get-streamings-beat",A="/song/get-karaoke-url",C="/song/get-list",L="/song/get-song-info",P="/playlist/get-playlist-detail",R="/playlist/get-list",I="/playlist/get-album-hot",N={NORMAL:0,SHUFFLE:1,ORDER:2},j="/video/get-video-detail",D="/video/get-list",z="/video/get-video-hot",F="/artist/get-info-by-alias",U="/artist/get-detail",B="/artist/get-list",H="/genre/get-info",V="/genre/get-video-home",G="/genre/get-album-home",W="/genre/get-artist-home",q="/genre-shortcut/get-list",Y="/chart/get-chart",Z="/chart/get-chart-new-release",K="/chart-realtime/get-detail",X="/top100",Q="/topic/get-group",J="/topic/get-detail",$="/recommend",ee="/search/multi",te="/search",ne="/search/get-hot-key",re="/download/get-token",ie="/download/zip-songs",ae="/download/download-songs",oe="/download/get-streamings",se="https://upload.zingmp3.vn/upload/source/media",ce="/user/get-profile",le="/user/get-myplaylist",ue="/user/create-myplaylist",de="/user/like",he="/user/follow",fe="/user/add-song",pe="/user/add-songs",me="/user/remove-song",ge="/user/remove-video",ve="/user/remove-playlist",ye="/user/create-lyric",be="/user/get-mymusic",we="/user/get-songs-favorite",_e="/user/get-videos-favorite",Ee="/user/get-albums-favorite",Se="/user/get-artists-follow",xe="/user/get-songs-upload",Te="/user/remove-songs",Oe="/user/get-history",ke="/user/get-both-playlist",Me="/user/get-songs-recent",Ae="/user/get-playlists-recent",Ce="/user/get-videos-recent",Le="/user/create-song",Pe="/user/update-theme",Re="FAKE-M4U-ID",Ie="FAKE-ZING_CHART_ID",Ne="/family-vip/get-access-token",je="/family-vip/invitable_friends",De="/family-vip/get-family",ze="/family-vip/add-member",Fe="/family-vip/process-member",Ue={TEXT:"TEXT",BANNER:"BANNER",PLAYLIST:"PLAYLIST",ALL_PLAYLIST:"ALL_PLAYLIST"},Be="/user/get-blocked-asset",He="/user/add-blocked-asset",Ve="/user/remove-block-asset",Ge="/user/get-songids-favorite",We="/user/get-playlistids-favorite",qe="/user/update-media-status",Ye="/user/create-upload-playlist",Ze="128",Ke="320",Xe=[Ke,"720p","1080p"],Qe="song",Je="video",$e="playlist",et="album",tt="artist",nt="genre",rt="genre_album",it="top100",at="ZO68OC68",ot="success",st="added",ct="not-avaiable",lt="danger",ut="only_vip",dt="favorite",ht="recent",ft="asset",pt="playlist",mt="album",gt=2,vt="zmp3_mini_player",yt=200,bt="is_vip",wt={NO_SHUFFLE:0,SHUFFLE:1,FORCE_NO_SHUFFLE:3,FORCE_SHUFFLE:4},_t="/zing-chart/index.html",Et="/zing-chart/video.html",St="/zing-chart-tuan/bai-hat-Viet-Nam/IWZ9Z08I.html",xt="/zing-chart-tuan/MV-Viet-Nam/IWZ9Z08W.html",Tt="/zing-chart-tuan/bai-hat-US-UK/IWZ9Z0BW.html",Ot="/zing-chart-tuan/bai-hat-Kpop/IWZ9Z0BO.html",kt="/tim-kiem/index.html",Mt="/tim-kiem/bai-hat.html",At="/tim-kiem/playlist.html",Ct="/tim-kiem/video.html",Lt="/tim-kiem/artist.html",Pt="/the-loai-video.html",Rt="/the-loai-album.html",It="/the-loai-nghe-si.html",Nt=20,jt=50,Dt="/oa/get-home",zt="/oa/get-artist-info",Ft="/oa/get-info",Ut="/oa/get-events",Bt="/oa/get-event",Ht="/oa/feed-v2/get-feeds",Vt="/oa/feed-v2/get-feed",Gt="/oa/feed-v2/like-feed",Wt="/oa/get-artist-relate",qt="/oa/mylib/get-songs",Yt="/oa/mylib/get-playlists",Zt="/oa/mylib/get-videos",Kt="/oa/get-list-oa",Xt="https://api.adtimaserver.vn/zad/zone/mp3Native",Qt=r?"1141936321660935238":"2102605233148883828",Jt="https://api.adtimaserver.vn/zad/audioad?zid=".concat(r?"359095170944694354":"6141802305779685"),$t=-403,en=-1120,tn=-1110,nn=-1150,rn=-1160,an=[rn,nn],on="Nh\u1eadp t\xean b\xe0i h\xe1t, ca s\u0129 ho\u1eb7c mv\u2026",sn="T\xecm ki\u1ebfm",cn="facebook",ln="twitter",un="instagram",dn=124,hn={SPOTLIGHT:1,POPULAR_SONG:2,TRENDING_SONG:3,POPULAR_VIDEO:4,HIGHLIGHT_SONG:5,HIGHLIGHT_VIDEO:6,PLAYLIST_COLLECTION:7,HIGHLIGHT_PLAYLIST:8,RELATED_ARTIST:9,POPULAR_PLAYLIST:10},fn={SONG:20,VIDEO:20,PLAYLIST:20,ALBUM:20,ARTIST:20},pn={DISABLED:0,ENABLED:1,ONLY_VIP:2},mn={VIDEO:"video",IMAGE:"image",ALBUM:"album",LINK:"link",SONG:"song",PLAYLIST:"playlist",FEED_VIDEO:"feed_video"},gn={ADD_SONG:"ADD_SONG",PLAY_SONG:"PLAY_SONG",PLAY_SONG_WITH_LIST:"PLAY_SONG_WITH_LIST"},vn={ALBUM:1,OFFICIAL:2,USER:3},yn=[5,6,13,14,15,17,18],bn={song:1,video:2,album:3,playlist:4},wn={id:at,link:"/album/ZINGCHARTVarious-Artists/ZO68OC68.html",title:"#ZINGCHART"},_n={LISTEN:"listen",DOWNLOAD:"download",CLOSE_AD:"close_ad",DAILY:"daily",LOOK_BACK:"look_back"},En={DEFAULT:0,OFF:1,WAITING:2,ON:3,REJECTED:4},Sn="CREATE_PLAYLIST_MODAL",xn=["ZWADZBB9","ZW9F08EO","ZWACD68E","ZWADIED6","ZWAD0OB6","ZWAE8CBC","ZWACWBWA","ZWAEOBCW","ZWAD7FEU","ZWAWZ0AI","ZWADIOCC","ZWAEFWIF","ZWAFOEAF","ZWAEE7F7","ZWA86FZB","ZWABWOFZ","ZWAFWIOZ","ZWAD7I8B","ZWAEIUUB","ZWAEU0EE","ZWAEIADU","ZWA96BOO","ZWA8ZCOF","ZWA7W6U9","ZWADWUI8","ZWA7W6ID","ZWADZU90","ZW9F0BIB","ZWA7O66B","ZW9FW8AO","ZWABW6ZE","ZWAE6EZW","ZWAFIAWC","ZWAE8C6W","ZWAID887","ZWAFIZAZ","ZW9FDUF8","ZWADFC6F","ZWAD8UUW","ZWAEEEFI","ZW9F79OB","ZWAECCBD","ZWA7W9ZF","ZWAF09FI","ZWAEIZCW","ZWADWDFD","ZW9EF9EO","ZW9EF8B9","ZWA0FBAZ","ZWADEAUA","ZWAEO0IC","ZWAIWBZF","ZWAU8U8E","ZWAE0AIE","ZWAFIFZA","ZWACDFWB","ZWACF78O","ZWA7WBFW","ZWAEU8OO","ZW9FOZ8W","ZWAD7ADE","ZWAEAZOC","ZWAEA7DD","ZWAEU7E6","ZWADCWU7","ZW9FU0A0","ZWAB0BDW","ZWADF9AD","ZWADED7U","ZWAFW890","ZWAEB6CF","ZWAFW880","ZWAI99II","ZWA7UB8U","ZWADB6O0","ZWAEA7EI","ZWABOCA7","ZWADUZCO","ZWAEB7DW","ZWAEE099","ZW9FD6AZ","ZWAD8UWI","ZWADBIZC","ZWAEIZZZ","ZWA8U7DO","ZWAEC8U8","ZWADIEDA","ZWACDDCU","ZWAEBZUZ","ZWA7WWBF","ZWABZW89","ZWAEFI8Z","ZWADOUW0","ZWAD6E8F","ZWAEB9Z6","ZWAD6CF8","ZWADFAUE","ZWADUZCO"],Tn={SPOTLIGHT:1,SONG:2,PLAYLIST_VIEW:10,PLAYLIST_UPDATE:7,VIDEO:4,ARTIST:9},On={AUDIO:5,PLAYLIST:6,VIDEO:12,ALBUM:11}},function(e,t,n){"use strict";n.d(t,"fb",(function(){return r})),n.d(t,"gb",(function(){return i})),n.d(t,"eb",(function(){return a})),n.d(t,"O",(function(){return o})),n.d(t,"P",(function(){return s})),n.d(t,"cb",(function(){return c})),n.d(t,"db",(function(){return l})),n.d(t,"Vb",(function(){return u})),n.d(t,"Wb",(function(){return d})),n.d(t,"cd",(function(){return h})),n.d(t,"Nb",(function(){return f})),n.d(t,"Rb",(function(){return p})),n.d(t,"Xb",(function(){return m})),n.d(t,"Zb",(function(){return g})),n.d(t,"kd",(function(){return v})),n.d(t,"Yb",(function(){return y})),n.d(t,"Bb",(function(){return b})),n.d(t,"Cb",(function(){return w})),n.d(t,"h",(function(){return _})),n.d(t,"Hd",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"Q",(function(){return x})),n.d(t,"R",(function(){return T})),n.d(t,"U",(function(){return O})),n.d(t,"V",(function(){return k})),n.d(t,"S",(function(){return M})),n.d(t,"T",(function(){return A})),n.d(t,"ab",(function(){return C})),n.d(t,"bb",(function(){return L})),n.d(t,"Db",(function(){return P})),n.d(t,"Fb",(function(){return R})),n.d(t,"Eb",(function(){return I})),n.d(t,"pb",(function(){return N})),n.d(t,"Z",(function(){return j})),n.d(t,"nb",(function(){return D})),n.d(t,"ob",(function(){return z})),n.d(t,"Gb",(function(){return F})),n.d(t,"Hb",(function(){return U})),n.d(t,"rb",(function(){return B})),n.d(t,"sb",(function(){return H})),n.d(t,"qb",(function(){return V})),n.d(t,"vb",(function(){return G})),n.d(t,"ub",(function(){return W})),n.d(t,"tb",(function(){return q})),n.d(t,"Ob",(function(){return Y})),n.d(t,"Ib",(function(){return Z})),n.d(t,"Ab",(function(){return K})),n.d(t,"zb",(function(){return X})),n.d(t,"Ub",(function(){return Q})),n.d(t,"Tb",(function(){return J})),n.d(t,"xb",(function(){return $})),n.d(t,"yb",(function(){return ee})),n.d(t,"Xc",(function(){return te})),n.d(t,"Uc",(function(){return ne})),n.d(t,"ad",(function(){return re})),n.d(t,"Rc",(function(){return ie})),n.d(t,"wb",(function(){return ae})),n.d(t,"dd",(function(){return oe})),n.d(t,"ib",(function(){return se})),n.d(t,"hb",(function(){return ce})),n.d(t,"lb",(function(){return le})),n.d(t,"mb",(function(){return ue})),n.d(t,"Mc",(function(){return de})),n.d(t,"gd",(function(){return he})),n.d(t,"Y",(function(){return fe})),n.d(t,"L",(function(){return pe})),n.d(t,"q",(function(){return me})),n.d(t,"Ed",(function(){return ge})),n.d(t,"M",(function(){return ve})),n.d(t,"N",(function(){return ye})),n.d(t,"id",(function(){return be})),n.d(t,"D",(function(){return we})),n.d(t,"Id",(function(){return _e})),n.d(t,"K",(function(){return Ee})),n.d(t,"sd",(function(){return Se})),n.d(t,"B",(function(){return xe})),n.d(t,"od",(function(){return Te})),n.d(t,"rd",(function(){return Oe})),n.d(t,"ud",(function(){return ke})),n.d(t,"td",(function(){return Me})),n.d(t,"wd",(function(){return Ae})),n.d(t,"nd",(function(){return Ce})),n.d(t,"y",(function(){return Le})),n.d(t,"Hc",(function(){return Pe})),n.d(t,"ld",(function(){return Re})),n.d(t,"ec",(function(){return Ie})),n.d(t,"dc",(function(){return Ne})),n.d(t,"jd",(function(){return je})),n.d(t,"Lc",(function(){return De})),n.d(t,"sc",(function(){return ze})),n.d(t,"rc",(function(){return Fe})),n.d(t,"vc",(function(){return Ue})),n.d(t,"tc",(function(){return Be})),n.d(t,"zc",(function(){return He})),n.d(t,"Fc",(function(){return Ve})),n.d(t,"yc",(function(){return Ge})),n.d(t,"f",(function(){return We})),n.d(t,"t",(function(){return qe})),n.d(t,"u",(function(){return Ye})),n.d(t,"fd",(function(){return Ze})),n.d(t,"pc",(function(){return Ke})),n.d(t,"ed",(function(){return Xe})),n.d(t,"qc",(function(){return Qe})),n.d(t,"hd",(function(){return Je})),n.d(t,"fc",(function(){return $e})),n.d(t,"xc",(function(){return et})),n.d(t,"oc",(function(){return tt})),n.d(t,"Vc",(function(){return nt})),n.d(t,"Sc",(function(){return rt})),n.d(t,"Yc",(function(){return it})),n.d(t,"Tc",(function(){return at})),n.d(t,"Oc",(function(){return ot})),n.d(t,"j",(function(){return st})),n.d(t,"g",(function(){return ct})),n.d(t,"v",(function(){return lt})),n.d(t,"kb",(function(){return ut})),n.d(t,"jb",(function(){return dt})),n.d(t,"Pb",(function(){return ht})),n.d(t,"Qb",(function(){return ft})),n.d(t,"W",(function(){return pt})),n.d(t,"X",(function(){return mt})),n.d(t,"bd",(function(){return gt})),n.d(t,"Jb",(function(){return vt})),n.d(t,"Kb",(function(){return yt})),n.d(t,"Nc",(function(){return bt})),n.d(t,"Lb",(function(){return wt})),n.d(t,"Mb",(function(){return _t})),n.d(t,"i",(function(){return Et})),n.d(t,"a",(function(){return St})),n.d(t,"Jd",(function(){return xt})),n.d(t,"Wc",(function(){return Tt})),n.d(t,"w",(function(){return Ot})),n.d(t,"Gc",(function(){return kt})),n.d(t,"e",(function(){return Mt})),n.d(t,"k",(function(){return At})),n.d(t,"Zc",(function(){return Ct})),n.d(t,"ic",(function(){return Lt})),n.d(t,"hc",(function(){return Pt})),n.d(t,"jc",(function(){return Rt})),n.d(t,"gc",(function(){return It})),n.d(t,"ac",(function(){return Nt})),n.d(t,"H",(function(){return jt})),n.d(t,"G",(function(){return Dt})),n.d(t,"Qc",(function(){return zt})),n.d(t,"Gd",(function(){return Ft})),n.d(t,"c",(function(){return Ut})),n.d(t,"x",(function(){return Bt})),n.d(t,"md",(function(){return Ht})),n.d(t,"Jc",(function(){return Vt})),n.d(t,"A",(function(){return Gt})),n.d(t,"Kc",(function(){return Wt})),n.d(t,"C",(function(){return qt})),n.d(t,"mc",(function(){return Yt})),n.d(t,"nc",(function(){return Zt})),n.d(t,"p",(function(){return Kt})),n.d(t,"n",(function(){return Xt})),n.d(t,"m",(function(){return Qt})),n.d(t,"wc",(function(){return Jt})),n.d(t,"uc",(function(){return $t})),n.d(t,"o",(function(){return en})),n.d(t,"l",(function(){return tn})),n.d(t,"s",(function(){return nn})),n.d(t,"F",(function(){return rn})),n.d(t,"Ic",(function(){return an})),n.d(t,"z",(function(){return on})),n.d(t,"b",(function(){return sn})),n.d(t,"Dc",(function(){return cn})),n.d(t,"Cc",(function(){return ln})),n.d(t,"Ec",(function(){return un})),n.d(t,"Bc",(function(){return dn})),n.d(t,"Ac",(function(){return hn})),n.d(t,"Pc",(function(){return fn})),n.d(t,"qd",(function(){return pn})),n.d(t,"pd",(function(){return mn})),n.d(t,"vd",(function(){return gn})),n.d(t,"Fd",(function(){return vn})),n.d(t,"Nd",(function(){return yn})),n.d(t,"Ld",(function(){return bn})),n.d(t,"Sb",(function(){return wn})),n.d(t,"r",(function(){return _n})),n.d(t,"lc",(function(){return En})),n.d(t,"J",(function(){return Sn})),n.d(t,"I",(function(){return xn})),n.d(t,"kc",(function(){return Tn})),n.d(t,"E",(function(){return On})),n.d(t,"cc",(function(){return kn})),n.d(t,"bc",(function(){return Mn})),n.d(t,"Md",(function(){return An})),n.d(t,"Kd",(function(){return Cn})),n.d(t,"Dd",(function(){return Ln})),n.d(t,"Bd",(function(){return Pn})),n.d(t,"yd",(function(){return Rn})),n.d(t,"Ad",(function(){return In})),n.d(t,"xd",(function(){return Nn})),n.d(t,"Cd",(function(){return jn})),n.d(t,"zd",(function(){return Dn}));var r="FETCH_HOME_PENDING",i="FETCH_HOME_SUCCESS",a="FETCH_HOME_PART_2_SUCCESS",o="FETCH_ALBUM_HOT_PENDING",s="FETCH_ALBUM_HOT_SUCCESS",c="FETCH_GENRE_SHORTCUT_PENDING",l="FETCH_GENRE_SHORTCUT_SUCCESS",u="FETCH_VIDEO_HOT_PENDING",d="FETCH_VIDEO_HOT_SUCCESS",h="RESET_HOME_DATA",f="FETCH_SONG_PENDING",p="FETCH_SONG_SUCCESS",m="FETCH_VIDEO_PENDING",g="FETCH_VIDEO_SUCCESS",v="TOGGLE_AUTOPLAY_VIDEO",y="FETCH_VIDEO_PLAYLIST_SUCCESS",b="FETCH_PLAYLIST_PENDING",w="FETCH_PLAYLIST_SUCCESS",_="ADD_SONG_PLAYLIST_SUCCESS",E="UPDATE_PLAYLIST_TITLE_SUCCESS",S="ADD_LIKED_PLAYLISTS",x="FETCH_ARTIST_INFO_PENDING",T="FETCH_ARTIST_INFO_SUCCESS",O="FETCH_ARTIST_SONGS_PENDING",k="FETCH_ARTIST_SONGS_SUCCESS",M="FETCH_ARTIST_PLAYLISTS_PENDING",A="FETCH_ARTIST_PLAYLISTS_SUCCESS",C="FETCH_GENRE_VIDEO_INFO_PENDING",L="FETCH_GENRE_VIDEO_INFO_SUCCESS",P="FETCH_PROFILE_PENDING",R="FETCH_PROFILE_SUCCESS",I="FETCH_PROFILE_STOPPED",N="FETCH_MYPLAYLIST_SUCCESS",j="FETCH_CREATE_MYPLAYLIST_SUCCESS",D="FETCH_MYMUSIC_PENDING",z="FETCH_MYMUSIC_SUCCESS",F="FETCH_SONGS_FAVORITE_PENDING",U="FETCH_SONGS_FAVORITE_SUCCESS",B="FETCH_MY_MUSIC_FAVORITE_VIDEOS_SUCCESS",H="FETCH_MY_MUSIC_FOLLOWING_ARTIST_SUCCESS",V="FETCH_MY_MUSIC_FAVORITE_ALBUMS_SUCCESS",G="FETCH_MY_MUSIC_PLAYLISTS_SUCCESS",W="FETCH_MY_MUSIC_HISTORY_SUCCESS",q="FETCH_MY_MUSIC_HISTORY_PEDDING",Y="FETCH_SONG_RECENT_SUCCESS",Z="FETCH_SONGS_RECENT_PEDDING",K="FETCH_PLAYLISTS_RECENT_SUCCESS",X="FETCH_PLAYLISTS_RECENT_PENDING",Q="FETCH_VIDEOS_RECENT_SUCCESS",J="FETCH_VIDEOS_RECENT_PENDING",$="FETCH_MY_PLAYLISTS_PENDING",ee="FETCH_MY_PLAYLISTS_SUCCESS",te="REMOVE_SONG_SUCCESS",ne="REMOVE_SONGS_SUCCESS",re="REMOVE_VIDEO_SUCCESS",ie="REMOVE_PLAYLIST_SUCCESS",ae="FETCH_MY_MUSIC_SONG_UPLOAD_SUCCESS",oe="RESET_MYMUSIC_DATA",se="FETCH_LIST_FRIEND_ZALO_SUCCESS",ce="FETCH_LIST_FRIEND_ZALO_PENDING",le="FETCH_MEMBER_FAMILY_VIP_PENDING",ue="FETCH_MEMBER_FAMILY_VIP_SUCCESS",de="PROCESS_MEMBER_FAMILY_VIP_SUCCESS",he="SET_MP3_THEME",fe="FETCH_BLOCKED_ASSET_SUCCESS",pe="FETCHING_BLOCK_PENDING",me="BLOCK_SUCCESS",ge="UNBLOCK_SUCCESS",ve="FETCHING_LIKED_SONGS_PENDING",ye="FETCHING_LIKED_SONGS_SUCCESS",be="SHOW_WEEKLY_VIP_MODAL",we="CLOSE_WEEKLY_VIP_MODAL",_e="UPDATE_PUBLIC_STATUS_SUCCESS",Ee="EDIT_UPLOAD_SONG_SUCCESS",Se="TOGGLE_QUEUE",xe="CLOSE_QUEUE",Te="TOGGLE_MINI_STYLE",Oe="TOGGLE_QUALITY",ke="TOGGLE_SHUFFLE",Me="TOGGLE_REPEAT",Ae="TOGGLE_VOLUME",Ce="TOGGLE_KARAOKE",Le="CLOSE_KARAOKE",Pe="OPEN_KARAOKE",Re="TOGGLE_BEAT_SONG",Ie="HIDE_BEAT_SONG",Ne="HIDE_ALL_CONTROL_IN_PLAYER",je="TOGGLE_AUTOPLAY_RECOMMEND",De="PLAY_SONG",ze="ON_LOAD_START",Fe="ON_LOADED_METADATA",Ue="ON_PLAY",Be="ON_PAUSE",He="ON_TIME_UPDATE",Ve="ON_VOLUME_CHANGE",Ge="ON_QUALITY_CHANGE",We="ADD_PLAYLIST_TO_QUEUE",qe="CLEAR_QUEUE",Ye="CLEAR_QUEUE_EXCEPT_PLAYLIST",Ze="SAVE_STATE",Ke="ON_ENDED",Xe="RESET_NUM_PLAYED_SONGS",Qe="ON_LEVEL_SWITCHED",Je="SHOW_EFFECT_PLAYER",$e="HIDE_EFFECT_PLAYER",et="ON_PROGRESS",tt="ON_BUFFERING",nt="REMOVE_SONG_FROM_QUEUE",rt="REMOVE_SONGS_FROM_QUEUE",it="REMOVE_SUGGESTED_SONG",at="REMOVE_SONGS_FROM_QUEUE_BY_ID",ot="REMOVE_BLOCKED_SUGGESTED_SONG",st="ADD_SONG_TO_QUEUE",ct="ADD_SONGS_TO_QUEUE",lt="CLEAR_STREAMING_SONG",ut="FETCH_LYRIC_SUCCESS",dt="FETCH_LYRIC_PENDING",ht="FETCH_SONG_STREAMING_PENDING",ft="FETCH_SONG_STREAMING_SUCCESS",pt="FETCH_BEAT_SONG_STREAMING_PENDING",mt="FETCH_BEAT_SONG_STREAMING_SUCCESS",gt="RESET_BEAT_SONG",vt="FETCH_SONGS_RECOMMEND_PENDING",yt="FETCH_SONGS_RECOMMEND_SUCCESS",bt="PUT_START_RECOMMEND",wt="FETCH_SONGS_SUGGEST_PENDING",_t="FETCH_SONGS_SUGGEST_SUCCESS",Et="ADD_SONG_STREAMING",St="ADD_BEAT_SONG_STREAMING",xt="UPDATE_SONG_INFO",Tt="REMOVE_SONG_STREAMING",Ot="CLOSE_BLOCK_MODAL",kt="OPEN_BLOCK_MODAL",Mt="ADD_LIKED_SONG_IDS",At="ADD_TOAST",Ct="REMOVE_TOAST",Lt="LIKE_SONG_SUCCESS",Pt="LIKE_SONGS_SUCCESS",Rt="LIKE_VIDEO_SUCCESS",It="LIKE_PLAYLIST_SUCCESS",Nt="FOLLOW_ARTIST_SUCCESS",jt="DOWNLOAD_SONGS_SUCCESS",Dt="DOWNLOAD_SONGS_PEDDING",zt="REMOVE_ITEM_DOWNLOAD",Ft="UPDATE_ITEM_DOWNLOAD",Ut="ADD_ITEM_DOWNLOAD",Bt="CLOSE_BOX_DOWNLOAD",Ht="TOGGLE_CONTENT_DOWNLOAD",Vt="OPEN_POPUP_LOGIN",Gt="CLOSE_POPUP_LOGIN",Wt="OPEN_VIP_MODAL",qt="CLOSE_VIP_MODAL",Yt="ON_AUDIO_AD_STARTED",Zt="ON_AUDIO_AD_STOPPED",Kt="AUDIO_AD_TIME_UPDATE",Xt="AUDIO_AD_METADATA_LOADED",Qt="AUDIO_AD_DATA_LOADED",Jt="ON_PLAY_AD",$t="ON_PAUSE_AD",en="AUDIO_AD_ON_ERROR",tn="AD_COUNTDOWN_UPDATE",nn="CLEAR_AD_DATA",rn="DISABLE_AD",an="OPEN_MODAL",on="CLOSE_MODAL",sn="ADD_FILE_UPLOAD",cn="ON_UPLOAD_START",ln="ON_UPLOAD_PROGRESS",un="ON_UPLOAD_SUCCESS",dn="ON_UPLOAD_ERROR",hn="ON_UPDATE_INFO_UPLOAD",fn="REMOVE_FILE_UPLOAD",pn="TOGGLE_PUBLIC_SONG_UPLOAD",mn="TOGGLE_PUBLIC_PLAYLIST_UPLOAD",gn="TOGGLE_UPLOAD_PLAYLIST",vn="UPADTE_TITLE_PLAYLIST_UPLOAD",yn="UPLOAD_SONG_SUCCESS",bn="UPLOAD_PLAYLIST_SUCCESS",wn="FETCH_UPLOADED_NUMBER_SUCCESS",_n="CLEAN_UP_UPLOAD",En="MISS_UPLOAD_SONG_DATA",Sn="EDIT_UPLOAD_SONG_INFO",xn="EDIT_UPLOAD_PLAYLIST",Tn="MISS_UPLOAD_PLAYLIST_DATA",On="DELETE_UPLOAD_PLAYLIST_SUCESS",kn="GEN_THUMBNAIL_SUCESS",Mn="GEN_THUMBNAIL_PENDING",An="UPLOAD_SONG_PENDING",Cn="UPLOAD_PLAYLIST_PENDING",Ln="UL_SET_FILE",Pn="UL_REMOVE_FILE",Rn="UL_CHANGE_STATUS",In="UL_REMOVE_ALL",Nn="UL_ADD_THUMBNAIL",jn="UL_RETRY_UPLOAD",Dn="UL_CHECKING_CONVERT"},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(32);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){e.exports=n(194)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(12);function s(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(o.a)(e):t}function c(e){return function(){var t,n=r(e);if(i()){var a=r(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return s(this,t)}}n.d(t,"a",(function(){return c}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"v",(function(){return u})),n.d(t,"w",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"B",(function(){return f})),n.d(t,"C",(function(){return p})),n.d(t,"E",(function(){return m})),n.d(t,"H",(function(){return g})),n.d(t,"Q",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"S",(function(){return b})),n.d(t,"F",(function(){return w})),n.d(t,"M",(function(){return x})),n.d(t,"k",(function(){return T})),n.d(t,"q",(function(){return O})),n.d(t,"L",(function(){return k})),n.d(t,"Y",(function(){return M})),n.d(t,"J",(function(){return A})),n.d(t,"b",(function(){return C})),n.d(t,"D",(function(){return L})),n.d(t,"T",(function(){return P})),n.d(t,"l",(function(){return R})),n.d(t,"g",(function(){return I})),n.d(t,"G",(function(){return N})),n.d(t,"h",(function(){return j})),n.d(t,"V",(function(){return D})),n.d(t,"y",(function(){return z})),n.d(t,"s",(function(){return F})),n.d(t,"n",(function(){return U})),n.d(t,"x",(function(){return B})),n.d(t,"X",(function(){return H})),n.d(t,"f",(function(){return V})),n.d(t,"I",(function(){return G})),n.d(t,"K",(function(){return W})),n.d(t,"j",(function(){return q})),n.d(t,"A",(function(){return Y})),n.d(t,"W",(function(){return Z})),n.d(t,"u",(function(){return X})),n.d(t,"a",(function(){return Q})),n.d(t,"P",(function(){return $})),n.d(t,"o",(function(){return te})),n.d(t,"i",(function(){return re})),n.d(t,"d",(function(){return ie})),n.d(t,"R",(function(){return ae})),n.d(t,"O",(function(){return oe})),n.d(t,"U",(function(){return se})),n.d(t,"c",(function(){return ce})),n.d(t,"p",(function(){return le})),n.d(t,"z",(function(){return ue})),n.d(t,"N",(function(){return de})),n.d(t,"r",(function(){return he})),n.d(t,"t",(function(){return fe}));var r=n(38),i=n(4),a=n(31),o=n(2),s=n(48),c=n(1),l=n(13),u=function(e){return e.player.playingSongId},d=function(e){return e.player.playingSongUid},h=function(e){return Boolean(e.player.isPlaying)||Boolean(e.ads.isPlaying)},f=function(e){return e.player.queueSongIds},p=function(e){return e.player.queueSongMap},m=function(e){return e.player.recommendSongs},g=function(e){return e.player.selectedSongIds},v=function(e){return e.player.startRecommend},y=function(e){return Boolean(e.player.autoPlayRecommend)},b=function(e){return e.player.suggestSongs},w=function(e){return e.player.repeat},_=function(e){return e.player.shuffleMode},E=function(e){return e.player.streamings},S=function(e){return e.player.quality},x=function(e){return Boolean(e.player.showQueue)},T=function(e){return Boolean(e.player.isFetchingStreaming)},O=function(e){return e.player.currentTime},k=function(e){return Boolean(e.player.showMiniPlayer)},M=function(e){return Boolean(e.player.isMiniStyle&&!e.player.showQueue)},A=function(e){return Boolean(e.player.showComment)},C=function(e){return e.player.countSongPlayed},L=function(e){return e.player.queueSongStats},P=function(e){return e.player.volume},R=function(e){return e.player.isOpenBlockModal},I=function(e){return e.player.blockInfo||{}},N=function(e){return e.player.isRunningEffect},j=function(e){return e.player.buffered},D=function(e){return e.player.buffering},z=function(e){return e.player.plsRawId},F=function(e){return e.player.playlistInfo},U=function(e){return e.player.likedSongIds},B=function(e){return e.player.playlistReadyToPlay},H=function(e){return e.player.isFetchingInfo||e.player.isFetchingStreaming},V=function(e){return e.player.beatSongStreaming},G=function(e){return e.player.showBeat},W=function(e){return Boolean(e.player.showKaraoke)},q=function(e){return Boolean(e.player.isFetchingBeatSongStreaming)},Y=function(e){return e.player.queueId},Z=function(e){return Object(c.B)(e.player.queueSongIds)},K=["IWZ9Z086","IWZ9Z090"],X=Object(a.createSelector)(u,d,p,L,(function(e,t,n,r){var i=n[e];if(i){var a=(r[t]||{}).sourcePlaylist,o=void 0===a?{}:a;return i.sourcePlaylist=o,i}})),Q=Object(a.createSelector)(X,F,l.C,(function(e){return Boolean(e.player.isRecommendPlayed)}),(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=e||{},a=i.genres,o=void 0===a?[]:a;return!!o.find((function(e){return K.indexOf(e.id)>-1}))||!r&&!(!t||(!t.isalbum||t.is_single)&&t.uid!==n)})),J=Object(a.createSelector)(y,Q,(function(e,t){return e&&!t})),$=Object(a.createSelector)(u,E,d,T,(function(e,t){return t&&t[e]?t[e]:{}})),ee=Object(a.createSelector)(u,V,d,q,(function(e,t){return t&&t[e]?t[e]:{}})),te=Object(a.createSelector)($,(function(e){var t=Object(i.a)({},e);return delete t.lastUpdate,Object.keys(t).reverse()})),ne=Object(a.createSelector)($,(function(e){var t=Object(i.a)({},e);delete t.lastUpdate;for(var n=[],a=0,o=Object.entries(t);a<o.length;a++){var s=Object(r.a)(o[a],2),c=s[0];s[1]&&n.push(c)}return n.reverse()})),re=Object(a.createSelector)(S,(function(e){return e})),ie=Object(a.createSelector)(re,ne,(function(e,t){var n=t.find((function(t){return t===e}))?e:t[t.length-1];return"".concat(n," Kbps")})),ae=Object(a.createSelector)(S,$,ee,G,(function(e,t,n,r){if(r&&n.data)return n.data;var i=t[e];return i||t[Object.keys(t)[0]]})),oe=function(e,t){return p(e)[t]||{}},se=function(e){var t=E(e)[u(e)];if(!t)return!1;for(var n=0,i=Object.entries(t);n<i.length;n++){var a=Object(r.a)(i[n],2),s=a[0];if(!a[1]&&o.zd.indexOf(s)>-1)return!1}return!0},ce=function(e,t){var n=E(e);if(!n)return!0;var r=n[t];if(!r)return!0;var i=r.lastUpdate||0;return Object(c.u)()-i>36e3},le=Object(a.createSelector)(f,p,m,u,d,w,J,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Boolean(t.forceGet)}),(function(e,t,n,r,i,a,l,u){if(Object(c.B)(e))return{};var d=e.findIndex((function(e){return e.songUid===i}));if(d<0)return{};if(a===o.Jc&&!u)return{song:t[r],songUid:i};var h=e[d+1];return h?{song:t[h.songId],songUid:h.songUid}:a?{song:t[e[0].songId],songUid:e[0].songUid}:!Object(c.B)(n)&&l?{song:n[0],trackingSource:s.I}:u?{song:t[e[0].songId],songUid:e[0].songUid}:{}})),ue=Object(a.createSelector)(f,p,d,(function(e,t,n){var r=e.findIndex((function(e){return e.songUid===n}));if(r<0)return{};var i=e[r-1];return i?{song:t[i.songId],songUid:i.songUid}:{}})),de=Object(a.createSelector)(_,(function(e){switch(e){case o.bd.SHUFFLE:case o.bd.FORCE_SHUFFLE:return!0;default:return!1}})),he=Object(a.createSelector)(_,(function(e){switch(e){case o.bd.SHUFFLE:case o.bd.FORCE_NO_SHUFFLE:return!0;default:return!1}})),fe=function(e){return e.player.playingPlaylistId}},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,c,"next",e)}function c(e){r(o,i,a,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"y",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"p",(function(){return s})),n.d(t,"q",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"v",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"x",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"A",(function(){return m})),n.d(t,"B",(function(){return g})),n.d(t,"E",(function(){return v})),n.d(t,"F",(function(){return y})),n.d(t,"l",(function(){return b})),n.d(t,"C",(function(){return w})),n.d(t,"z",(function(){return _})),n.d(t,"r",(function(){return E})),n.d(t,"k",(function(){return S})),n.d(t,"u",(function(){return x})),n.d(t,"t",(function(){return T})),n.d(t,"d",(function(){return O})),n.d(t,"s",(function(){return k})),n.d(t,"m",(function(){return M})),n.d(t,"D",(function(){return A})),n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return L})),n.d(t,"j",(function(){return P})),n.d(t,"f",(function(){return R})),n.d(t,"b",(function(){return I})),n.d(t,"w",(function(){return N}));var r=n(31),i=function(e){return e.user.profile},a=function(e){return Boolean(e.user.profile.is_vip)||Boolean(e.user.profile.family_vip)},o=function(e){return Boolean(e.user.profile.family_vip)&&Boolean(e.user.profile.family_vip.host)},s=function(e){return e.user.likesSong},c=function(e){return e.user.likesVideo},l=function(e){return e.user.likesPlaylist},u=function(e){return e.user.mymusic},d=function(e){return e.user.mymusic},h=function(e){return e.user.downloads},f=function(e){return Boolean(e.user.isOpenPopupLogin)},p=function(e){return e.user.labelPopupLogin},m=function(e){return e.user.zmp3Theme},g=function(e){return e.user.profile.userid},v=function(e){return e.user.profile.ipvn},y=function(e){return e.user.profile.ipvn&&e.user.profile.phone_number_vn},b=function(e){return e.user.isFetchingProfile||!e.user.isFetchingProfileFinished},w=function(e){return e.user.profile.useridencoded},_=function(e){return e.user.songInPlaylist},E=function(e){return e.user.familyVip.familyVipListFriend},S=function(e){return Boolean(e.user.familyVip.isFetchingListFriend)},x=function(e){return e.user.familyVip.members},T=function(e){return e.user.familyVip.maxSlot},O=function(e){return e.user.familyVip.accessToken},k=function(e){return e.user.familyVip.isLoadMemberSuccess},M=function(e){return e.user.isOpenVipModal},A=function(e){return e.user.vipModalData},C=function(e){return e.user.blockedArtistIds},L=function(e){return e.user.blockedSongIds},P=function(e){return e.user.isBlockedFetching},R=Object(r.createSelector)(C,L,(function(e,t){return{blockedArtistIds:e,blockedSongIds:t,songIds:t,artistIds:e}})),I=Object(r.createSelector)(i,(function(e){return!!(e&&parseInt(e.userid,10)>0)})),N=function(e){return e.user.playlists}},function(e,t,n){"use strict";var r=n(83);var i=n(73);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"J",(function(){return N})),n.d(t,"k",(function(){return U})),n.d(t,"E",(function(){return B})),n.d(t,"F",(function(){return H})),n.d(t,"H",(function(){return V})),n.d(t,"c",(function(){return G})),n.d(t,"O",(function(){return q})),n.d(t,"N",(function(){return Y})),n.d(t,"Q",(function(){return Z})),n.d(t,"a",(function(){return X})),n.d(t,"U",(function(){return Q})),n.d(t,"V",(function(){return J})),n.d(t,"e",(function(){return ee})),n.d(t,"Y",(function(){return te})),n.d(t,"f",(function(){return ne})),n.d(t,"W",(function(){return re})),n.d(t,"X",(function(){return ie})),n.d(t,"p",(function(){return ae})),n.d(t,"o",(function(){return se})),n.d(t,"bb",(function(){return ce})),n.d(t,"Z",(function(){return le})),n.d(t,"ab",(function(){return ue})),n.d(t,"w",(function(){return de})),n.d(t,"v",(function(){return he})),n.d(t,"t",(function(){return fe})),n.d(t,"r",(function(){return pe})),n.d(t,"u",(function(){return me})),n.d(t,"A",(function(){return ge})),n.d(t,"B",(function(){return ve})),n.d(t,"x",(function(){return ye})),n.d(t,"q",(function(){return be})),n.d(t,"s",(function(){return _e})),n.d(t,"y",(function(){return Ee})),n.d(t,"L",(function(){return Se})),n.d(t,"b",(function(){return Oe})),n.d(t,"G",(function(){return ke})),n.d(t,"M",(function(){return Me})),n.d(t,"K",(function(){return Ae})),n.d(t,"D",(function(){return Ce})),n.d(t,"i",(function(){return Pe})),n.d(t,"T",(function(){return Ie})),n.d(t,"j",(function(){return De})),n.d(t,"m",(function(){return ze})),n.d(t,"P",(function(){return Fe})),n.d(t,"S",(function(){return Ue})),n.d(t,"C",(function(){return Be})),n.d(t,"l",(function(){return He})),n.d(t,"h",(function(){return Ve})),n.d(t,"R",(function(){return Ge})),n.d(t,"n",(function(){return We})),n.d(t,"d",(function(){return Ze})),n.d(t,"g",(function(){return Xe})),n.d(t,"z",(function(){return nt})),n.d(t,"I",(function(){return rt}));var r=n(14),i=n(5),a=n.n(i),o=n(4),s=n(11),c=n(96),l=n.n(c),u=n(50),d=n(3),h=n(2),f=n(101),p=n.n(f),m=n(16),g=n(1),v=n(59),y=n(23),b=n(22),w=n(37),_=n(29),E=n(17),S=n(10),x=n(13),T=n(18),O=n(34),k=n(39),M=n(77),A=n(40),C=n(25),L=n(48),P=n(82),R=function(e,t){return{type:d.i,id:e,streaming:t}},I=function(e,t){return{type:d.Lc,song:e,options:t}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=Object(s.a)(a.a.mark((function r(i,s){var c,l,d,f,p,b,_,T,M,P,N,U,H,V,G;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Object(g.B)(e)&&!Object(g.B)(e.id)){r.next=2;break}return r.abrupt("return");case 2:if(!n){r.next=4;break}return r.abrupt("return",i(tt(e,t)));case 4:if(c=Object(o.a)({},e),l=s(),d=Object(S.B)(l),!Object(C.a)(l)){r.next=13;break}if(!Object(C.f)(l)){r.next=12;break}return i(Object(E.a)(Object(g.f)(m.j,h.gd))),r.abrupt("return");case 12:i(Object(A.a)());case 13:if(!0!==Object(S.k)(l)){r.next=16;break}return r.abrupt("return");case 16:if(null===(f=Object(S.w)(l))||f!==t.songUid){r.next=23;break}if(Object(O.e)(),!t.isShowKara){r.next=23;break}return i($()),i(ne()),r.abrupt("return");case 23:if(Object(k.g)(l,!0),u.a.pageview(c.link),Object(v.a)(c.title,c.artists_names),!(p=Object(S.O)(l,c.id)).updated){r.next=31;break}c=p,r.next=37;break;case 31:return i(j()),r.next=34,Object(g.g)(h.zb,{id:c.id});case 34:b=r.sent,_=b.resp,Object(y.a)(_)&&_.data&&((c=Object(o.a)({},_.data,{updated:!0})).artists&&(c.artists=c.artists.slice(0,3)),i(D(c)));case 37:if(T=Object(S.D)(l),M=T[t.songUid]||{},P=M.trackingSource||t.trackingSource,Object(w.i)({trackingSource:P,mediaId:c.id,pId:M.sourcePlaylistId,pType:M.pType,adsSrcId:M.adsSrcId||t.adsSrcId},Object(S.q)(l)),P!==L.I&&d.findIndex((function(e){return e.songUid===t.songUid}))<0&&oe(i,s),Object(S.c)(l,c.id)){r.next=45;break}return i(I(c,t)),r.abrupt("return");case 45:return i(F()),r.next=48,Object(g.g)(h.Bb,{id:c.id});case 48:if(N=r.sent,U=N.resp,Object(y.a)(U)&&U.data){r.next=55;break}return i(z()),i(I(c,t)),U&&(H=U.msg||m.L,U.err===h.t&&(i(B()),H="B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n ph\xe1t b\xe0i h\xe1t n\xe0y."),V=U.msg===h.M?h.hd:h.gd,i(Object(E.a)(Object(g.f)(H,V)))),r.abrupt("return");case 55:if(!((G=U.data.err)<0)){r.next=66;break}if(i(z()),i(I(c,t)),!(h.Y.indexOf(G)>=0)){r.next=63;break}return i(Object(E.a)(Object(g.f)(Object(g.d)(c.title),h.id,Object(x.b)(l)))),i(B()),r.abrupt("return");case 63:return i(Object(E.a)(Object(g.f)(U.data.msg?U.data.msg:m.L,h.gd))),G===h.N&&i(B()),r.abrupt("return");case 66:i(R(c.id,U.data)),i(I(c,t));case 68:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},j=function(){return{type:"FETCH_SONG_INFO_PENDING"}},D=function(e){return{type:d.Jd,song:e}},z=function(){return{type:d.Qb}},F=function(){return{type:d.Pb}},U=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.g)(h.Bb,{id:e});case 2:if(r=t.sent,i=r.resp,Object(y.a)(i)&&i.data){t.next=6;break}return t.abrupt("return");case 6:n(R(e,i.data));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n(),i=Object(S.p)(r,{forceGet:e}),a=i.song,o=i.songUid,s=i.trackingSource,c={songUid:o};s&&(c.trackingSource=s),a&&t(N(a,c))}},H=function(){return function(e,t){var n=Object(S.v)(t());e(B(!0)),e({type:d.v,songId:n})}},V=function(){return function(e,t){var n=t();if(!(Object(S.B)(n).lenght<=1)){var r=Object(S.z)(n),i=r.song,a=r.songUid;if(i){if(Object(S.q)(n)>=5)return Object(O.f)();e(N(i,{songUid:a}))}}}},G=function(e){return{type:d.t,keepQueue:e}},W=function(e){return{type:d.u,songUid:e}},q=function(e,t){return function(n,r){var i=r(),a=Object(S.w)(i),o=Object(S.m)(i);if((a!==t||!o)&&(n(function(e,t){return{type:d.Vc,id:e,songUid:t}}(e,t)),a===t)){var s=Object(S.B)(i);if(!(s.lenght<=1)){var c=s.findIndex((function(e){return e.songUid===t})),l=s[c+1]?s[c+1]:s[0],u=Object(S.C)(i),h={isRemove:!0,songUid:l.songUid};n(N(u[l.songId],h))}}}},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n,r){var i=r(),a=Object(S.v)(i),o=Object(S.m)(i),s=Object(S.C)(i),c=[];for(var l in s)Object(b.u)(t,s[l].artists)&&c.push(l);if(e&&c.push(e),n({type:d.Tc,songIds:c}),n({type:d.Oc,songId:e,artistIds:t}),!(c.indexOf(a)<0)){for(var u,h=Object(S.B)(i),f=Object(S.w)(i),p=h.findIndex((function(e){return e.songUid===f})),m=p+1;m<h.length;m++){var g=h[m];if(g&&c.indexOf(g.songId)<0){u=g;break}}if(!u)for(var v=0;v<p;v++){var y=h[v];if(y&&c.indexOf(y.songId)<0){u=y;break}}if(u){var w={isRemove:!o,songUid:u.songUid};n(N(s[u.songId],w))}}}},Z=function(){return function(e,t){var n,r=t(),i=Object(S.w)(r),a=Object(S.B)(r);(Object(S.m)(r)&&(a=Object(g.I)(a,i,"songUid")),Object(g.B)(a))||e((n=a,{type:d.Sc,ids:n}))}},K=function(e,t){return{type:d.j,song:e,options:t}},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=Object(s.a)(a.a.mark((function n(r,i){var o,s,c,l,u,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),s=Object(S.B)(o),t.ignoreBlock){n.next=11;break}if(c=Object(x.f)(o),!Object(b.t)(c.songIds,c.artistIds,e.id,e.artists)){n.next=11;break}return l=Object(b.p)(c.artistIds,e.artists),u=Object(b.o)(e,l,!0),d=!Object(b.v)(c.songIds,e.id),r(Ke({song:e,options:t,type:h.d.ADD_SONG,content:u,onlyBlockedArtist:d})),n.abrupt("return");case 11:if(!(Object(g.L)(s)>=h.G)){n.next=15;break}return r(Object(E.a)({text:m.x})),n.abrupt("return");case 15:if(t.trackingSource===L.I&&r($e(e.id)),oe(r,i),!Object(g.B)(s)){n.next=21;break}return n.next=20,r(N(e,t));case 20:return n.abrupt("return");case 21:r(K(e,t));case 22:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Q=function(){return{type:d.ld}},J=function(){return{type:d.nd}},$=function(){return{type:d.Hc}},ee=function(){return{type:d.y}},te=function(){return{type:d.sd}},ne=function(){return{type:d.B}},re=function(){return{type:d.od}},ie=function(){return{type:d.rd}},ae=function(){return{type:d.fc}},oe=function(e,t){var n=t();Object(S.G)(n)||e({type:d.hd})},se=function(){return{type:d.dc}},ce=function(){return{type:d.wd}},le=function(){return{type:d.td}},ue=function(){return{type:d.ud}},de=function(){return{type:d.vc}},he=function(){return{type:d.tc}},fe=function(){return{type:d.sc}},pe=function(){return{type:d.pc}},me=function(e){return{type:d.rc,duration:e}},ge=function(e){return{type:d.zc,currentTime:e}},ve=function(e,t){return{type:d.Fc,muted:e,volume:t}},ye=function(e){return{type:d.xc,buffered:e}},be=function(e){return{type:d.oc,buffering:e}},we=function(e){return{type:d.yc,quality:e}},_e=function(e){return{type:d.qc,level:e}},Ee=function(e){return function(t,n){var r=n(),i=Object(x.c)(r),a=we;return(i||h.zd.indexOf(e)<0)&&(t(a(e)),!0)}},Se=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i,a){var s=a(),c=Object(x.f)(s);if(n=n.filter((function(t){var n=t.id,r=t.artists;return!Object(b.t)(c.songIds,c.artistIds,n,r)||n===e.id})),Object(S.v)(s)===e.id)return Object(C.a)(s)?Object(C.f)(s)?i(Object(E.a)(Object(g.f)(m.j,h.gd))):Object(O.g)():r.isShowKara?(i($()),Object(O.e)()):Object(O.h)();if(Object(x.c)(s)||(n=Object(b.y)(n),!Object(g.B)(n))){if(Object(C.a)(s)){if(Object(C.f)(s))return void i(Object(E.a)(Object(g.f)(m.j,h.gd)));i(Object(A.a)())}var l=Object(g.s)(),u=Object(S.t)(s);t===Object(S.t)(s)?i(W(l)):i(G(!0)),i(xe(t,n,Object(o.a)({},r,{songId:e.id,songUid:l}))),i(N(e,Object(o.a)({},r,{sourcePlaylistId:t,songUid:l}))),u!==t&&oe(i,a),t!==Object(S.t)(s)&&Object(b.x)({id:t,adsSrcId:r.adsSrcId,playlist:r.playlist})}}},xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:d.f,id:e,songs:t,options:n}},Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:d.g,songs:e,options:t}},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=Object(s.a)(a.a.mark((function n(r,i){var s,c,l,u,d,f,p,v,y,w;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Object(g.B)(e)){n.next=3;break}return r(Object(E.a)(Object(g.f)(m.n,h.gd))),n.abrupt("return");case 3:if(s=i(),t.ignoreBlock){n.next=11;break}if(c=Object(x.f)(s),l=e.filter((function(e){return!Object(b.t)(c.songIds,c.artistIds,e.id,e.artists)})),!Object(g.B)(l)){n.next=10;break}return r(Ke({songs:e,options:t,type:h.d.ADD_SONG,content:m.h,isList:!0})),n.abrupt("return");case 10:e=l;case 11:if(u=Object(S.B)(s),0!==(d=Object(g.L)(u))||Object(g.B)(t.sourcePlaylist)){n.next=17;break}return f=t.sourcePlaylist,r(ke(f.id,e,{playlist:f,isAlbum:f.isalbum})),n.abrupt("return");case 17:if(Object(x.c)(s)){n.next=21;break}if(e=Object(b.y)(e),!Object(g.B)(e)){n.next=21;break}return n.abrupt("return");case 21:if(!(d>=h.G)){n.next=24;break}return r(Object(E.a)({text:m.x})),n.abrupt("return");case 24:if(p=Object(g.L)(e),d+p>h.G&&(e=e.slice(0,h.G-d)),v=Object(g.s)(),y=e[0],r(Te(e,Object(o.a)({},t,{songId:y.id,songUid:v,lable:"m\u1edbi th\xeam"}))),!Object(g.B)(u)){n.next=33;break}return w=t.trackingSource,n.next=33,r(N(y,{trackingSource:w,songUid:v}));case 33:oe(r,i);case 34:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var i=Object(s.a)(a.a.mark((function i(o,s){var c,l,u,d,f,p,v,w,_,O,k,M,L,P,R,I,j,D,z,F,U,B;return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!Object(g.B)(e)){i.next=2;break}return i.abrupt("return");case 2:if(c=Object(r.a)(t),u=(l=n||{}).isAlbum,d=l.playMode,f=void 0===d?h.Mc.NORMAL:d,p=l.trackingSource,v=l.pType,w=l.plsRawId,_=l.adsSrcId,O=l.playlist,k=l.isToggleKaraoke,!Object(g.B)(c)){i.next=16;break}return i.next=7,Object(g.g)(h.xb,{id:e});case 7:if(M=i.sent,L=M.resp,Object(y.a)(L)){i.next=12;break}return o(Object(E.a)(Object(g.f)(L?L.msg:m.L,h.gd))),i.abrupt("return");case 12:if(c=L.data?L.data.items:[],!Object(g.B)(c)){i.next=15;break}return i.abrupt("return");case 15:Object(g.L)(c)>h.G&&(c=c.slice(0,h.G));case 16:if(P=s(),c=c.filter((function(e){return!et(e,Object(x.E)(P))})),n.ignoreBlock){i.next=25;break}if(R=Object(x.f)(P),I=c.filter((function(e){return!Object(b.t)(R.songIds,R.artistIds,e.id,e.artists)})),!Object(g.B)(I)){i.next=24;break}return o(Ke({playlistId:e,songs:c,options:n,content:m.k,isList:!0})),i.abrupt("return");case 24:c=I;case 25:if(Object(x.c)(P)){i.next=33;break}if(j=c.length,c=Object(b.y)(c),0!==(D=c.length)){i.next=32;break}return o(Object(T.H)(m.g,{type:h.yd.ALL_PLAYLIST})),i.abrupt("return");case 32:(j-D>9||D/j<.7)&&o(Object(T.H)(m.s,{type:h.yd.PLAYLIST}));case 33:if(!Object(C.a)(P)){i.next=38;break}if(!Object(C.f)(P)){i.next=37;break}return o(Object(E.a)(Object(g.f)(m.j,h.gd))),i.abrupt("return");case 37:o(Object(A.a)());case 38:z=0,(f===h.Mc.SHUFFLE||Object(S.r)(P)&&f!==h.Mc.ORDER)&&(F=Object(S.n)(P),z=c.findIndex((function(e){return F.indexOf(e.id)>-1}))),z=z<0?Object(g.y)(c.length):z,U=c[z],B=Object(g.s)(),o(G(!0)),o(xe(e,c,{isAlbum:u,songId:U.id,songUid:B,trackingSource:p,pType:v,plsRawId:w,playlist:O,playMode:f})),o(N(U,{songUid:B,trackingSource:p})),oe(o,s),k&&o(J()),Object(b.x)({id:e,adsSrcId:_,playlist:O});case 50:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var i=r();if(!Object(g.B)(e)){if(e=e.filter((function(e){return!et(e,Object(x.E)(i))})),!t.ignoreBlock){var a=Object(x.f)(i),s=e.filter((function(e){return!Object(b.t)(a.songIds,a.artistIds,e.id,e.artists)}));if(Object(g.B)(s))return void n(Ke({songs:e,options:t,content:m.h,isList:!0}));e=s}var c=t.song,l=void 0===c?{}:c;if(!Object(x.c)(i)){var u=e.length,d=(e=Object(b.y)(e)).length;if(0===d)return void n(Object(T.H)(m.g,{type:h.yd.ALL_PLAYLIST}));(u-d>9||d/u<.7)&&n(Object(T.H)(m.s,{type:h.yd.PLAYLIST}))}if(Object(C.a)(i)){if(Object(C.f)(i))return void n(Object(E.a)(Object(g.f)(m.j,h.gd)));n(Object(A.a)())}Object(g.L)(e)>h.G&&(e=e.slice(0,h.G));var f=Object(S.r)(i)?Object(g.y)(e.length):0,p=l&&e.findIndex((function(e){return e.id===l.id}))>-1?l:e[f],v=Object(g.s)(),y=Object(o.a)({},t,{songId:p.id,songUid:v});n(G(!0)),n(Te(e,y)),n(N(p,{songUid:v})),oe(n,r)}}},Ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,i){var a=i();if(!Object(g.B)(t)){if(Object(S.v)(a)===e.id)return Object(C.a)(a)?Object(C.f)(a)?r(Object(E.a)(Object(g.f)(m.j,h.gd))):Object(O.g)():n.isShowKara?(r($()),Object(O.e)()):Object(O.h)();if(t=t.filter((function(e){return!et(e,Object(x.E)(a))})),!Object(x.c)(a)){if(e&&e.streaming_status===h.kd.ONLY_VIP)return void r(Object(T.H)());t=Object(b.y)(t)}var s=Object(x.f)(a);if(n.ignoreBlock||!Object(b.t)(s.songIds,s.artistIds,e.id,e.artists)){if(Object(C.a)(a)){if(Object(C.f)(a))return void r(Object(E.a)(Object(g.f)(m.j,h.gd)));r(Object(A.a)())}t=t.filter((function(t){return!Object(b.t)(s.songIds,s.artistIds,t.id,t.artists)||e.id===t.id})),Object(g.L)(t)>h.G&&(t=t.slice(0,h.G));var c=Object(g.s)(),l=Object(o.a)({},n,{songId:e.id,songUid:c});r(G(!0)),r(Te(t,l)),r(N(e,l)),oe(r,i)}else r(Ke({song:e,songs:t,options:n,content:m.l,type:h.d.PLAY_SONG_WITH_LIST}))}}},Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=Object(s.a)(a.a.mark((function n(r){var i,s,c,l;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.list,!Object(g.B)(e)){n.next=10;break}return n.next=4,Object(g.g)(h.wb,{type:h.E.SONGS_DISCONVER,id:0,"has-streaming":!0,list:i});case 4:if(s=n.sent,c=s.resp,Object(y.a)(c)){n.next=9;break}return r(Object(E.a)(Object(g.f)(c?c.msg:m.L,h.gd))),n.abrupt("return");case 9:e=c.data?c.data.items:[];case 10:l="m4u-".concat(i),r(ke(l,e,Object(o.a)({playMode:h.Mc.SHUFFLE},t)));case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Le=function(e,t){return t.songId=e||"",{type:d.kb,lyric:t}};var Pe=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var i,o,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return r(Le(0,{})),n.abrupt("return");case 3:if(t){n.next=9;break}return n.next=6,Object(g.g)(h.pb,{type:h.V,id:e});case 6:i=n.sent,(o=i.resp)&&o.data&&(t=o.data);case 9:if(t){n.next=12;break}return r(Le(0,{})),n.abrupt("return");case 12:r({type:d.jb}),(s=new XMLHttpRequest).onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE&&200===s.status&&s.responseText){var t=p()(s.responseText);r(Le(e,"object"===typeof t?t:{}))}},s.open("GET",t,!0),s.send();case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Re=function(e){return{type:d.Nc,startRecommend:e}},Ie=function(){return{type:d.jd}},Ne=function(e,t,n,r){return{type:d.Kb,songs:e,start:t,ad:n,blockedAsset:r}};function je(){return{type:d.Jb}}var De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){var n=Object(s.a)(a.a.mark((function n(r,i){var o,s,c,l,u,d,f;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),!Object(S.a)(o)){n.next=3;break}return n.abrupt("return",r(Re(0)));case 3:return r(je()),n.next=6,Object(g.g)(h.tb,{id:e,start:t,count:10});case 6:if(s=n.sent,c=s.resp,Object(y.a)(c)){n.next=10;break}return n.abrupt("return");case 10:if(l=Object(x.c)(o),u=Object(x.f)(o),!l){n.next=16;break}n.t0={},n.next=19;break;case 16:return n.next=18,Object(k.e)([M.a.SUGGEST_ZID],"web_other_native-player");case 18:n.t0=n.sent;case 19:if(d=n.t0,f=c.data?c.data.items:[],!Object(g.B)(f)){n.next=24;break}return r(Re(0)),n.abrupt("return");case 24:r(Ne(f,t,d[M.a.SUGGEST_ZID],u));case 25:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ze=function(e){return function(t,n){t({type:d.Lb}),l()("".concat(h.md).concat(encodeURIComponent(e)),{},(function(e,r){if(r&&r.data){for(var i=r.data||[],a=[],o=0;o<i.length;o++)if(i[o].song){a=i[o].song;break}if(!Object(g.B)(a)){var s=a.map((function(e){return e.title=e.name,e.thumbnail=Object(b.h)(e.thumb,"94_94"),e.alias=Object(_.i)(Object(_.d)([e.name,e.artist])),e.artists=Object(b.b)(e.artist),e.link=Object(b.j)(e.id,Object(_.i)(Object(_.d)([e.name,e.artist]))),e})),c=Object(x.f)(n());t(function(e,t){return{type:d.Mb,songs:e,blockedAsset:t}}(s,c))}}}))}},Fe=function(e){return{type:d.Wc,id:e}},Ue=function(){return{type:d.ed}},Be=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t,n);case 2:r=n(),i=Object(S.u)(r),o=Object(S.w)(r),t(N(i,{songUid:o}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},He=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qe(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ve=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ge=function(){return{type:d.bd}},We=function(){return function(e,t){Object(S.U)(t())||qe(e,t,!0)}},qe=function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r,i,o,s,c,l,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]&&u[2],i=n(),(o=Object(S.u)(i))&&!Object(S.k)(i)&&(Object(S.c)(i,o.id)||r)){e.next=5;break}return e.abrupt("return");case 5:return t(F()),e.next=8,Object(g.g)(h.Bb,{id:o.id});case 8:if(s=e.sent,c=s.resp,Object(y.a)(c)&&c.data){e.next=13;break}return c&&(l=h.gd,c.err===h.M&&(l=h.hd),t(z()),t(I(o)),t(Object(E.a)(Object(g.f)(c.msg?c.msg:m.L,l)))),e.abrupt("return");case 13:if(!(c.data.err<0)){e.next=18;break}return t(z()),t(Object(E.a)(Object(g.f)(c.data.msg?c.data.msg:m.L,h.gd))),e.abrupt("return");case 18:t(R(o.id,c.data));case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r,i,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),(i=Object(S.u)(r))&&!Object(S.j)(r)){e.next=4;break}return e.abrupt("return");case 4:return t({type:d.ec}),t({type:d.W}),e.next=8,Object(g.g)(h.Ab,{id:i.id});case 8:if(o=e.sent,s=o.resp,Object(y.a)(s)&&s.data){e.next=14;break}return s&&t(Ge()),t({type:d.X}),e.abrupt("return");case 14:t((a=i.id,c=s.data,{type:d.a,id:a,streaming:c}));case 15:case"end":return e.stop()}var a,c}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ze=function(){return{type:d.w}},Ke=function(e){return{type:d.Gc,blockInfo:e}},Xe=function(){return function(e,t){var n=t(),r=(n.player.blockInfo||{}).type;if(r!==h.d.ADD_SONG){if(r===h.d.PLAY_SONG_WITH_LIST){var i=n.player.blockInfo||{},a=i.song,o=i.songs,s=i.options;return s.ignoreBlock=!0,e(Ae(a,o,s)),void e(Ze())}Qe(e,n)}else Je(e,n)}},Qe=function(e,t){var n=t.player.blockInfo||{},r=n.playlistId,i=n.songs,a=n.options,s=n.song;e(Ze()),Object(g.B)(s)||e(N(s,a)),e(r?ke(r,i,Object(o.a)({},a,{ignoreBlock:!0})):Me(i,Object(o.a)({},a,{ignoreBlock:!0})))},Je=function(e,t){var n=t.player.blockInfo||{},r=n.songs,i=n.options,a=n.song;e(Ze()),Object(g.B)(r)?e(X(a,Object(o.a)({},i,{ignoreBlock:!0}))):e(Oe(r,Object(o.a)({},i,{ignoreBlock:!0})))},$e=function(e){return{type:d.Yc,id:e}},et=function(e,t){return!(t||!e.is_worldwide)},tt=function(e,t){return function(n,r){if(!Object(g.B)(e)){var i=r();if(e.streaming_status!==h.kd.ONLY_VIP||Object(x.c)(i)){if(Object(S.v)(i)===e.id&&(!t.songUid||Object(S.w)(i)===t.songUid))return Object(C.a)(i)?Object(C.f)(i)?n(Object(E.a)(Object(g.f)(m.j,h.gd))):Object(O.g)():t.isShowKara?(n($()),Object(O.e)()):Object(O.h)();var a=Object(x.f)(i);if(t.songUid||!Object(b.t)(a.songIds,a.artistIds,e.id,e.artists))n(N(e,t));else{var o=Object(b.p)(a.artistIds,e.artists),s=Object(b.o)(e,o),c=!Object(b.v)(a.songIds,e.id);n(Ke({song:e,options:t,type:h.d.PLAY_SONG,content:s,onlyBlockedArtist:c}))}}else n(Object(T.H)())}}},nt=function(e){return{type:"ON_DRAG_DROP",items:e}},rt=function(e){return function(t){var n=e||{},r=n.id,i=n.link;if(!r)return t(Object(E.a)({text:m.t,status:h.gd}));P.history.push(i),t(ke(r,[],{playlist:e,trackingSource:L.y}))}}},function(e,t,n){"use strict";n.d(t,"L",(function(){return r})),n.d(t,"n",(function(){return i})),n.d(t,"K",(function(){return a})),n.d(t,"x",(function(){return o})),n.d(t,"p",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"G",(function(){return f})),n.d(t,"F",(function(){return p})),n.d(t,"J",(function(){return m})),n.d(t,"C",(function(){return g})),n.d(t,"y",(function(){return v})),n.d(t,"E",(function(){return y})),n.d(t,"B",(function(){return b})),n.d(t,"z",(function(){return w})),n.d(t,"I",(function(){return _})),n.d(t,"D",(function(){return E})),n.d(t,"A",(function(){return S})),n.d(t,"H",(function(){return x})),n.d(t,"M",(function(){return T})),n.d(t,"a",(function(){return O})),n.d(t,"r",(function(){return k})),n.d(t,"q",(function(){return M})),n.d(t,"o",(function(){return A})),n.d(t,"h",(function(){return C})),n.d(t,"k",(function(){return L})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return R})),n.d(t,"i",(function(){return I})),n.d(t,"O",(function(){return N})),n.d(t,"N",(function(){return j})),n.d(t,"w",(function(){return D})),n.d(t,"u",(function(){return z})),n.d(t,"v",(function(){return F})),n.d(t,"t",(function(){return U})),n.d(t,"j",(function(){return B})),n.d(t,"s",(function(){return H})),n.d(t,"g",(function(){return V}));var r="C\xf3 l\u1ed7i x\u1ea3y ra , Xin vui l\xf2ng th\u1eed l\u1ea1i!",i="Data kh\xf4ng h\u1ee3p l\u1ec7!",a="Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin.",o="Danh s\xe1ch ph\xe1t ch\u1ec9 c\xf3 t\u1ed1i \u0111a 200 b\xe0i !",s="B\u1ea1n \u0111\xe3 th\xedch b\xe0i h\xe1t",c="\u0110\xe3 th\xeam B\xe0i h\xe1t \u201c<b>%s</b>\u201d v\xe0o playlist th\xe0nh c\xf4ng",l="B\xe0i h\xe1t \u201c<b>%s</b>\u201d \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",u="MV \u201c<b>%s</b>\u201d \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",d='<span>Playlist \u201c<span class="noti-content-bold">%s</span>\u201d \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n</span>',h="Album \u201c<b>%s</b>\u201d \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",f="\u0110\xe3 x\xf3a B\xe0i h\xe1t \u201c<b>%s</b>\u201d kh\u1ecfi playlist th\xe0nh c\xf4ng",p="B\xe0i h\xe1t \u201c<b>%s</b>\u201d \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a kh\u1ecfi Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",m="MV \u201c<b>%s</b>\u201d \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a kh\u1ecfi Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",g="Playlist \u201c<b>%s</b>\u201d \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a kh\u1ecfi Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",v="Album \u201c<b>%s</b>\u201d \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a kh\u1ecfi Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",y="\u0110\xe3 x\xf3a B\xe0i h\xe1t \u201c<b>%s</b>\u201d ra kh\u1ecfi Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",b="\u0110\xe3 x\xf3a Playlist \u201c<b>%s</b>\u201d ra kh\u1ecfi Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",w="\u0110\xe3 x\xf3a Album \u201c<b>%s</b>\u201d ra kh\u1ecfi Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",_="\u0110\xe3 x\xf3a MV \u201c<b>%s</b>\u201d ra kh\u1ecfi Th\u01b0 vi\u1ec7n nh\u1ea1c c\xe1 nh\xe2n",E="\u0110\xe3 x\xf3a B\xe0i h\xe1t \u201c<b>%s</b>\u201d ra kh\u1ecfi danh s\xe1ch Nghe g\u1ea7n \u0111\xe2y",S="\u0110\xe3 x\xf3a Playlist \u201c<b>%s</b>\u201d ra kh\u1ecfi danh s\xe1ch Nghe g\u1ea7n \u0111\xe2y",x="\u0110\xe3 x\xf3a MV \u201c<b>%s</b>\u201d ra kh\u1ecfi danh s\xe1ch Nghe g\u1ea7n \u0111\xe2y",T="Upload b\xe0i h\xe1t th\xe0nh c\xf4ng",O="Thao ta\u0301c th\u01b0\u0323c hi\xea\u0323n \u0111a\u0303 tha\u0300nh c\xf4ng.",k="B\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o G\xf3i Gia \u0110\xecnh th\xe0nh c\xf4ng.",M="Th\xeam v\xe0o G\xf3i Gia \u0110\xecnh kh\xf4ng th\xe0nh c\xf4ng. Li\xean h\u1ec7 ch\u1ee7 g\xf3i \u0111\u1ec3 m\u1eddi l\u1ea1i.",A="L\u1eddi m\u1eddi \u0111\xe3 h\u1ebft h\u1ea1n. Th\xf4ng ba\u0301o \u0111\xea\u0301n chu\u0309 Go\u0301i \u0111\xea\u0309  th\u01b0\u0323c hi\xea\u0323n thao ta\u0301c m\u01a1\u0300i la\u0323i.",C="T\u1ea5t c\u1ea3 c\xe1c b\xe0i h\xe1t \u0111\u1ec1u b\u1ecb ch\u1eb7n. B\u1ea1n c\xf3 ch\u1eafc v\u1eabn mu\u1ed1n th\xeam playlist n\xe0y v\xe0o danh s\xe1ch ph\xe1t?",L="T\u1ea5t c\u1ea3 c\xe1c b\xe0i h\xe1t \u0111\u1ec1u b\u1ecb ch\u1eb7n. B\u1ea1n c\xf3 ch\u1eafc v\u1eabn mu\u1ed1n ph\xe1t playlist n\xe0y?",P="B\xe0i h\xe1t n\xe0y \u0111\xe3 b\u1ecb ch\u1eb7n, b\u1ea1n v\u1eabn mu\u1ed1n ph\xe1t?",R='B\xe0i h\xe1t "<b>%s</b>" \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o Danh s\xe1ch ch\u1eb7n',I="Ngh\u1ec7 s\u0129 <b>%s</b> \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o Danh s\xe1ch ch\u1eb7n",N='B\xe0i h\xe1t "<b>%s</b>" \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a kh\u1ecfi Danh s\xe1ch ch\u1eb7n',j="Ngh\u1ec7 s\u0129 <b>%s</b> \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a kh\u1ecfi Danh s\xe1ch ch\u1eb7n",D="B\xe0i h\xe1t n\xe0y \u0111\xe3 b\u1ecb t\u1eeb ch\u1ed1i ki\u1ec3m duy\u1ec7t, kh\xf4ng th\u1ec3 b\u1eadt ch\u1ebf \u0111\u1ed9 c\xf4ng khai",z="Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n th\xe0nh c\xf4ng",F="Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111ang \u0111\u01b0\u1ee3c ph\xea duy\u1ec7t",U="Danh s\xe1ch Radio cho b\xe0i h\xe1t n\xe0y t\u1ea1m th\u1eddi kh\xf4ng kh\u1ea3 d\u1ee5ng. Xin th\u1eed l\u1ea1i sau.",B="\u0110ang ph\xe1t n\u1ed9i dung t\xe0i tr\u1ee3, vui l\xf2ng th\u1eed l\u1ea1i sau.",H="M\u1ed9t s\u1ed1 n\u1ed9i dung d\xe0nh ri\xeang cho t\xe0i kho\u1ea3n VIP theo y\xeau c\u1ea7u c\u1ee7a \u0111\u01a1n v\u1ecb s\u1edf h\u1eefu b\u1ea3n quy\u1ec1n.",V="N\u1ed9i dung d\xe0nh ri\xeang cho t\xe0i kho\u1ea3n VIP theo y\xeau c\u1ea7u c\u1ee7a \u0111\u01a1n v\u1ecb s\u1edf h\u1eefu b\u1ea3n quy\u1ec1n."},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(4),i=n(3),a=n(2),o=0,s={color:"#6796e6",status:a.gd},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:i.k,payload:Object(r.a)({},s,{},e,{status:e.status,id:o++})}},l=function(e){return{type:i.Zc,payload:e}}},function(e,t,n){"use strict";n.d(t,"z",(function(){return E})),n.d(t,"w",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return k})),n.d(t,"V",(function(){return M})),n.d(t,"E",(function(){return P})),n.d(t,"F",(function(){return R})),n.d(t,"D",(function(){return I})),n.d(t,"K",(function(){return z})),n.d(t,"c",(function(){return F})),n.d(t,"T",(function(){return U})),n.d(t,"j",(function(){return B})),n.d(t,"G",(function(){return H})),n.d(t,"d",(function(){return V})),n.d(t,"t",(function(){return W})),n.d(t,"x",(function(){return Z})),n.d(t,"a",(function(){return X})),n.d(t,"n",(function(){return $})),n.d(t,"N",(function(){return ee})),n.d(t,"M",(function(){return ne})),n.d(t,"L",(function(){return ie})),n.d(t,"P",(function(){return oe})),n.d(t,"u",(function(){return ce})),n.d(t,"o",(function(){return ue})),n.d(t,"m",(function(){return he})),n.d(t,"p",(function(){return fe})),n.d(t,"B",(function(){return me})),n.d(t,"J",(function(){return ge})),n.d(t,"k",(function(){return ve})),n.d(t,"O",(function(){return we})),n.d(t,"Q",(function(){return _e})),n.d(t,"v",(function(){return Ee})),n.d(t,"A",(function(){return Te})),n.d(t,"y",(function(){return Me})),n.d(t,"C",(function(){return Le})),n.d(t,"s",(function(){return Ie})),n.d(t,"r",(function(){return Ne})),n.d(t,"i",(function(){return ze})),n.d(t,"S",(function(){return Fe})),n.d(t,"R",(function(){return Ue})),n.d(t,"H",(function(){return Be})),n.d(t,"I",(function(){return He})),n.d(t,"e",(function(){return Ve})),n.d(t,"l",(function(){return Ge})),n.d(t,"b",(function(){return We})),n.d(t,"U",(function(){return qe})),n.d(t,"q",(function(){return Ye}));var r=n(4),i=n(14),a=n(5),o=n.n(a),s=n(11),c=n(58),l=n.n(c),u=n(3),d=n(2),h=n(16),f=n(1),p=n(23),m=n(39),g=n(17),v=n(13),y=n(45),b=n(21),w=n(15),_=n(88),E=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r,i,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:u.Db}),e.next=3,Object(f.g)(d.Gb,{},{credentials:"include"});case 3:if(n=e.sent,r=n.resp,i=function(){return setTimeout((function(){Object(m.f)()}),1e3)},t(Ge()),t(Ye()),t(Ze()),Object(p.a)(r)&&r.data){e.next=14;break}return i(),t({type:u.Eb}),b.a.set(d.D,!1),e.abrupt("return");case 14:(a=Boolean(r.data.is_vip))?t(Object(w.n)()):i(),l.a.set(d.ad,r.data.session?r.data.session:"",{domain:d.o,path:"/",expires:30}),s=r.data.setting||{},(c=s.theme)&&(y.a.set("ZMP3_THEME",c),t(Fe(c))),t((o=r.data,{type:u.Fb,profile:o})),window.profile=r.data,b.a.set(d.D,a);case 22:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,i,a,s,c,l,h,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),i=Object(v.C)(r),e.next=4,Object(f.g)(d.Fb,{});case 4:if(a=e.sent,s=a.resp,Object(p.a)(s)){e.next=8;break}return e.abrupt("return");case 8:for(m in c=s.data||{},l=c.items,h=void 0===l?[]:l)h[m].isUser=i===h[m].uid;t((o=h,{type:u.pb,playlists:o}));case 11:case"end":return e.stop()}var o}),e)})));return function(t,n){return e.apply(this,arguments)}}()},x=function(e){return{type:u.Z,playlist:e}},T=function(e){return function(t,n){t(x(e))}},O=function(e,t,n){return function(){var r=Object(s.a)(o.a.mark((function r(i,a){var s,c,l;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=a(),Object(v.b)(s)){r.next=5;break}return i(H("Th\xeam V\xe0o Playlist C\xe1 Nh\xe2n")),r.abrupt("return");case 5:return r.next=7,Object(f.g)(d.Zb,{name:e,media_id:t,media_ids:n},{method:"post"});case 7:if(c=r.sent,l=c.resp,Object(p.a)(l)){r.next=12;break}return l&&l.msg&&i(Object(g.a)(Object(f.f)(l.msg,d.gd))),r.abrupt("return");case 12:return i(Object(g.a)(Object(f.f)(l.msg,d.jd))),i(x(l.data)),r.abrupt("return",l.data);case 15:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t({type:u.Ic,payload:{modalType:d.n,modalProps:e}})}},M=function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(f.g)(d.Zb,{id:e,name:t},{method:"post"});case 2:if(i=n.sent,a=i.resp,Object(p.a)(a)){n.next=7;break}return r(Object(g.a)(Object(f.f)(a?a.msg:h.L,d.gd))),n.abrupt("return",!1);case 7:return r({type:u.Hd,playlistId:e,title:t}),r(Object(g.a)(Object(f.f)(a.msg,d.jd))),n.abrupt("return",!0);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},A=function(e,t,n){return{type:u.ic,id:e,like:t,liked:n}},C=function(e,t,n){return{type:u.jc,id:e,like:t,liked:n}},L=function(e,t,n){return{type:u.gc,id:e,like:t,liked:n}},P=function(e,t,n,r){return function(){var i=Object(s.a)(o.a.mark((function i(a,s){var c,l,u,m,y;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(c=s(),l=Object(v.b)(c)){i.next=5;break}return a(H("Th\xeam V\xe0o Y\xeau Th\xedch")),i.abrupt("return");case 5:return i.next=7,Object(f.g)(d.xc,{type:e,id:t});case 7:if(u=i.sent,m=u.resp){i.next=12;break}return a(Object(g.a)(Object(f.f)(h.L,d.gd))),i.abrupt("return");case 12:if(Object(p.a)(m)&&m.data){i.next=15;break}return a(Object(g.a)(Object(f.f)(m.msg,d.gd))),i.abrupt("return");case 15:y=m.data.liked?"like":"unlike",i.t0=e,i.next=i.t0===d.V?19:i.t0===d.X?22:i.t0===d.U?25:i.t0===d.Q?28:31;break;case 19:return a(Object(g.a)(Object(f.f)(m.data.liked?Object(f.c)(h.d,n):Object(f.c)(h.F,n),d.jd,l,r,y))),a(A(t,m.data.like,m.data.liked)),i.abrupt("break",32);case 22:return a(Object(g.a)(Object(f.f)(m.data.liked?Object(f.c)(h.f,n):Object(f.c)(h.J,n),d.jd,l,r,y))),a(C(t,m.data.like,m.data.liked)),i.abrupt("break",32);case 25:return a(Object(g.a)(Object(f.f)(m.data.liked?Object(f.c)(h.c,n):Object(f.c)(h.C,n),d.jd,l,r,y))),a(L(t,m.data.like,m.data.liked)),i.abrupt("break",32);case 28:return a(Object(g.a)(Object(f.f)(m.data.liked?Object(f.c)(h.b,n):Object(f.c)(h.y,n),d.jd,l,r,y))),a(L(t,m.data.like,m.data.liked)),i.abrupt("break",32);case 31:return i.abrupt("return");case 32:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()},R=function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(r,i){var a,s,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),Object(v.b)(a)){n.next=5;break}return r(H()),n.abrupt("return");case 5:if(!Object(f.B)(t)){n.next=8;break}return r(Object(g.a)(Object(f.f)(h.n))),n.abrupt("return");case 8:return n.next=10,Object(f.g)(d.xc,{type:e,ids:t.join(",")});case 10:if(s=n.sent,c=s.resp,Object(p.a)(c)){n.next=15;break}return r(Object(g.a)(Object(f.f)(c?c.msg:h.L,d.gd))),n.abrupt("return");case 15:n.t0=e,n.next=n.t0===d.V?18:n.t0===d.X?21:n.t0===d.U?22:23;break;case 18:return r((o=c.data,{type:u.hc,items:o})),r(Object(g.a)(Object(f.f)(h.p,d.jd))),n.abrupt("break",24);case 21:case 22:case 23:return n.abrupt("return",{});case 24:case"end":return n.stop()}var o}),n)})));return function(e,t){return n.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),Object(v.b)(i)){t.next=5;break}return n(H("Quan T\xe2m Ngh\u1ec7 S\u1ef9")),t.abrupt("return");case 5:return t.next=7,Object(f.g)(d.hc,{id:e});case 7:a=t.sent,(s=a.resp)&&0!==s.err&&s.msg&&n(Object(g.a)(Object(f.f)(s.msg,d.gd)));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},N=function(e){return{type:u.H,item:e}},j=function(e,t){return{type:u.Gd,id:e,percent:t}},D=function(e){return{type:u.c,item:e}},z=function(e){return{type:u.Qc,id:e}},F=function(){return{type:u.x}},U=function(){return{type:u.md}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var n=Object(s.a)(o.a.mark((function n(r,a){var s,c,l,u,p,m,y,b,w,_,E,S,x,T,O,k;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=a(),Object(v.b)(s)){n.next=3;break}return n.abrupt("return",r(H()));case 3:if(Object(v.c)(s)){n.next=7;break}return c={title:"N\u1ed9i dung b\u1ea3n quy\u1ec1n"},"B\u1ea1n c\u1ea7n t\xe0i kho\u1ea3n VIP \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y",n.abrupt("return",r(Be("B\u1ea1n c\u1ea7n t\xe0i kho\u1ea3n VIP \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y",c)));case 7:return l=Object(i.a)(new Set(e)),u={credentials:"include"},p=Object(f.a)(d.bb,{ids:l.join(",")},d.p),n.next=12,Object(f.l)(p,u,5e4);case 12:if(m=n.sent,(y=m.resp)&&0===y.err){n.next=17;break}return y&&y.msg&&r(Object(g.a)(Object(f.f)(y.msg,d.gd))),n.abrupt("return");case 17:return b=y.data.token,w=1,_={id:function(){return"id-"+Math.random().toString(36).substr(2,16)}(),name:t||"File",status:0,percent:w},r(D(_)),E=500*Math.ceil(Object(f.L)(e)/10),S=setInterval((function(){99!==w&&r(j(_.id,w++))}),E),x=Object(f.a)(d.Hc,{token:b},d.p),n.next=27,Object(f.l)(x,u,5e4);case 27:if(T=n.sent,clearInterval(S),setTimeout((function(){r(z(_.id))}),1e3),!T.resp||0===T.resp.err||!T.resp.msg){n.next=33;break}return r(Object(g.a)(Object(f.f)(T.resp.msg,d.gd))),n.abrupt("return");case 33:if(O=T.resp.data.key){n.next=37;break}return r(Object(g.a)(Object(f.f)(h.n,d.gd))),n.abrupt("return");case 37:k=Object(f.a)(d.cb,{token:b,key:O,title:t},d.p),_.status=1,r(N(_)),window.open(k,"_blank");case 41:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},H=function(){return function(e){Object(f.E)((function(){e(E()),e(Object(_.c)()),Object(m.c)()}))}},V=function(){return{type:u.A}},G=function(e){return{type:u.ob,data:e}},W=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:u.nb}),e.next=3,Object(f.g)(d.pc);case 3:n=e.sent,r=n.resp,i=r&&r.data?r.data:{},t(G(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},q=function(e){return{type:u.yb,data:e}},Y=function(){return{type:u.xb}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.K.PLAYLIST;return function(){var n=Object(s.a)(o.a.mark((function n(r,i){var a,s,c,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),Object(v.b)(a)){n.next=5;break}return r(H("Th\xeam V\xe0o Playlist C\xe1 Nh\xe2n")),n.abrupt("return");case 5:return r(Y()),n.next=8,Object(f.g)(d.Fb,{start:e,count:t});case 8:s=n.sent,c=s.resp,(l=c&&c.data?c.data:{}).start=e,r(q(l));case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},K=function(e,t){return{type:u.h,songId:e,playlistId:t}},X=function(e,t,n,r){return function(){var i=Object(s.a)(o.a.mark((function i(a,s){var c,l,u,m,y,b;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c=s(),l=Object(v.b)(c),u={method:"POST"},m={id:e,playlist_id:t,to:"playlist"},i.next=6,Object(f.g)(d.dc,m,u);case 6:if(y=i.sent,b=y.resp,Object(p.a)(b)){i.next=12;break}return a(Object(g.a)({text:b?b.msg:h.L,status:d.gd})),a(K(e,t)),i.abrupt("return",!1);case 12:return a(Object(g.a)(Object(f.f)(Object(f.c)(h.e,n),d.jd,l,r))),a(K(e,t)),i.abrupt("return",!0);case 15:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()},Q=function(e){return{type:u.Hb,data:e}},J=function(){return{type:u.Gb}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.K.SONG;return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(J()),n.next=3,Object(f.g)(d.sc,{start:e,count:t});case 3:i=n.sent,a=i.resp,(s=a&&a.data?a.data:{}).start=e,r(Q(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ee=function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(r,i){var a,s,c,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=i(),s=Object(v.b)(a),n.next=4,Object(f.g)(d.Dc,{id:e.id,from:d.td,from_id:t});case 4:if(c=n.sent,l=c.resp,Object(p.a)(l)){n.next=9;break}return l&&l.msg&&r(Object(g.a)(Object(f.f)(l.msg,d.gd))),n.abrupt("return",!1);case 9:return r(Object(g.a)(Object(f.f)(Object(f.c)(h.G,e.title),d.jd,s,e.thumbnail_medium))),n.abrupt("return",!0);case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},te=function(e,t,n){return{type:u.Xc,id:e,from:t,from_id:n}},ne=function(e,t,n,r,i){return function(){var a=Object(s.a)(o.a.mark((function a(s,c){var l,u,m,y;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l=c(),u=Object(v.b)(l),e&&t){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Object(f.g)(d.Dc,{id:e,from:t,from_id:n});case 6:if(m=a.sent,y=m.resp,Object(p.a)(y)){a.next=11;break}return y&&y.msg&&(s(Object(g.a)(Object(f.f)(y.msg,d.gd,u,i))),s(te(e,t,n))),a.abrupt("return");case 11:s(n?Object(g.a)(Object(f.f)(Object(f.c)(h.G,r),d.jd,u,i)):Object(g.a)(Object(f.f)("recent"===t?Object(f.c)(h.D,r):Object(f.c)(h.E,r),d.jd,u,i))),s(te(e,t,n));case 13:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},re=function(e,t){return{type:u.Rc,id:e,from:t}},ie=function(e,t,n,r){return function(){var i=Object(s.a)(o.a.mark((function i(a,s){var c,l,u,m,y;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:c=s(),l=Object(v.b)(c),u="",i.t0=t,i.next="playlist"===i.t0?6:"recent"===i.t0?8:10;break;case 6:return u=Object(f.c)(h.B,n),i.abrupt("break",11);case 8:return u=Object(f.c)(h.A,n),i.abrupt("break",11);case 10:u=Object(f.c)(h.z,n);case 11:if(e&&t){i.next=13;break}return i.abrupt("return");case 13:return i.next=15,Object(f.g)(d.Cc,{id:e,from:t});case 15:if(m=i.sent,y=m.resp,Object(p.a)(y)){i.next=20;break}return y&&y.msg&&a(Object(g.a)(Object(f.f)(y.msg,d.gd,l,r))),i.abrupt("return");case 20:return"recent"!==t&&a(L(e,0,!1)),a(Object(g.a)(Object(f.f)(u,d.jd,l,r))),a(re(e,t)),i.abrupt("return",!0);case 24:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()},ae=function(e,t){return{type:u.ad,id:e,from:t}},oe=function(e,t,n){return function(){var r=Object(s.a)(o.a.mark((function r(i){var a,s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Object(f.g)(d.Fc,{id:e,from:t});case 4:if(a=r.sent,s=a.resp,Object(p.a)(s)){r.next=9;break}return s&&s.msg&&i(Object(g.a)(Object(f.f)(s.msg,d.gd))),r.abrupt("return");case 9:i(Object(g.a)(Object(f.f)("recent"===t?Object(f.c)(h.H,n):Object(f.c)(h.I,n),d.jd))),i(ae(e,t));case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},se=function(e){return{type:u.ub,data:e}},ce=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(J()),e.next=3,Object(f.g)(d.mc,{});case 3:n=e.sent,r=n.resp,i=r&&r.data?r.data:{},t(se(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},le=function(e){return{type:u.rb,data:e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.K.VIDEO;return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(J()),n.next=3,Object(f.g)(d.vc,{start:e,count:t});case 3:i=n.sent,a=i.resp,(s=a&&a.data?a.data:{}).start=e,r(le(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},de=function(e){return{type:u.qb,data:e}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.K.ALBUM;return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(J()),n.next=3,Object(f.g)(d.jc,{start:e,count:t});case 3:i=n.sent,a=i.resp,(s=a&&a.data?a.data:{}).start=e,r(de(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.K.ARTIST;return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(J()),n.next=3,Object(f.g)(d.kc,{start:e,count:t});case 3:i=n.sent,a=i.resp,(s=a&&a.data?a.data:{}).start=e,r(pe(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},pe=function(e){return{type:u.sb,data:e}},me=function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(J()),n.next=3,Object(f.g)(d.uc,{start:e,count:t});case 3:i=n.sent,a=i.resp,(s=a&&a.data?a.data:{}).start=e,r(ye(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var r,i,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.public_status===d.Oc.ON,!(e.public_status===d.Oc.REJECTED||r&&"private"===e.privacy)){t.next=4;break}return n(Object(g.a)(Object(f.f)(h.w,d.jd))),t.abrupt("return");case 4:return i={media_ids:e.id,status:r?"off":"on"},t.next=7,Object(f.g)(d.Ac,i);case 7:if(a=t.sent,s=a.resp,Object(p.a)(s)){t.next=12;break}return n(Object(g.a)(Object(f.f)(s?s.msg:h.L,d.gd))),t.abrupt("return");case 12:n({type:u.Id,mediaId:e.id,status:r?d.Oc.OFF:d.Oc.WAITING}),c=r?h.u:h.v,n(Object(g.a)(Object(f.f)(c,d.jd)));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){var t=e.id,n=e.title,r=e.artist,i=e.genre,a=e.thumbnail;return function(){var e=Object(s.a)(o.a.mark((function e(s){var c,l,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={title:n,artist:r,media_id:t,genre:i},a&&(c.thumbnail=a),e.next=4,Object(f.g)(d.fc,c,{method:"post"});case 4:if(l=e.sent,m=l.resp,!Object(p.a)(m)){e.next=10;break}return s({type:u.K,id:t,title:n,artist:r,thumbnail:a}),s(Object(g.a)(Object(f.f)("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",d.jd))),e.abrupt("return");case 10:s(Object(g.a)(Object(f.f)(m&&m.message?m.message:h.L,d.gd)));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ye=function(e){return{type:u.wb,data:e}},be=function(e,t){return{type:u.Uc,ids:e,from:t}},we=function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(f.g)(d.Ec,{ids:e,from:t});case 4:if(i=n.sent,a=i.resp,Object(p.a)(a)){n.next=9;break}return a&&a.msg&&r(Object(g.a)(Object(f.f)(a.msg,d.gd))),n.abrupt("return");case 9:r(Object(g.a)(Object(f.f)(a.msg,d.jd))),r(be(e,t));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_e=function(){return{type:u.dd}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.K.PLAYLIST;return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(J()),n.next=3,Object(f.g)(d.qc,{start:e,count:t});case 3:i=n.sent,a=i.resp,(s=a&&a.data?a.data:{}).start=e,r(Se(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Se=function(e){return{type:u.vb,data:e}},xe=function(){return{type:u.Ib}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.K.SONG;return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(xe()),n.next=3,Object(f.g)(d.tc,{start:e,count:t});case 3:i=n.sent,a=i.resp,(s=a&&a.data?a.data:{}).start=e+t,r(Oe(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Oe=function(e){return{type:u.Ob,data:e}},ke=function(){return{type:u.zb}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.K.PLAYLIST;return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ke()),n.next=3,Object(f.g)(d.rc,{start:e,count:t});case 3:i=n.sent,a=i.resp,(s=a&&a.data?a.data:{}).start=e+t,r(Ae(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ae=function(e){return{type:u.Ab,data:e}},Ce=function(){return{type:u.Tb}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.K.VIDEO;return function(){var n=Object(s.a)(o.a.mark((function n(r){var i,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Ce()),n.next=3,Object(f.g)(d.wc,{start:e,count:t});case 3:i=n.sent,a=i.resp,(s=a&&a.data?a.data:{}).start=e+t,r(Pe(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Pe=function(e){return{type:u.Ub,data:e}},Re=function(e){return{type:u.mb,data:e}},Ie=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:u.lb}),Object(f.t)().then(function(){var e=Object(s.a)(o.a.mark((function e(n){var r,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.g)(d.oc);case 2:r=e.sent,i=r.resp,a=i&&i.data?i.data:{},n&&(a.accessToken=n),t(Re(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ne=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,i,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),i=Object(v.d)(r),t(je()),e.next=5,Object(f.g)(d.nc,{access_token:i,fields:"id,name",limit:100,offset:0});case 5:a=e.sent,s=a.resp,c=s&&s.data?s.data:{},t(De(c));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},je=function(){return{type:u.hb}},De=function(e){return{type:u.ib,data:e}},ze=function(e){return function(t,n){t(function(e){return{type:u.Mc,data:e}}(e))}},Fe=function(e){return{type:u.gd,data:e}},Ue=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),!Object(v.b)(i)){t.next=5;break}return t.next=5,Object(f.g)(d.Gc,{theme:e});case 5:n(Fe(e));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Be=function(e,t){return{type:u.Kc,data:Object(r.a)({detail:e},t)}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){var n="HALFPAGE"===e.toUpperCase()?"halfpage":"masthead_banner",r="".concat(d.s,"?utm_source=desktop&utm_medium=").concat(n,"&utm_campaign=close_button"),i={type:d.yd.BANNER,link:r,bannerType:d.xd.CLOSE_AD};t(Be("",i))}},Ve=function(){return{type:u.C}},Ge=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.g)(d.lc);case 2:n=e.sent,(r=n.resp)&&r.data&&t({type:u.Y,data:r.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},We=function(e){var t=e.artistIds,n=void 0===t?[]:t,r=e.songId,i=void 0===r?"":r,a=e.messages,c=e.isInPlayer,l=e.thumbnail_medium,h=e.thumbnail,p=e.artistThumbnails;return function(){var e=Object(s.a)(o.a.mark((function e(t,r){var s,m,y,b,_,E,S;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),m=Object(v.b)(s),y=l||h,i||!Object(f.B)(n)){e.next=5;break}return e.abrupt("return");case 5:return i&&p.unshift(y),b={media_ids:i,artist_ids:n.join(",")},t({type:u.L}),e.next=10,Object(f.g)(d.bc,b);case 10:if(_=e.sent,(E=_.resp)&&!(E.err<0)){e.next=15;break}return t(Object(g.a)(Object(f.f)(E.msg,d.gd))),e.abrupt("return");case 15:t({type:u.q,songId:i,artistIds:n}),c&&t(Object(w.N)(i,n)),S=0,a.forEach((function(e,n){var r=p[n];setTimeout((function(){t(Object(g.a)(Object(f.f)(e,d.jd,m,r)))}),S),S+=2e3}));case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},qe=function(e){var t=e.artistIds,n=void 0===t?[]:t,r=e.songId,i=e.messages,a=void 0===i?[]:i,c=e.thumbnail_medium,l=e.thumbnail,h=e.artistThumbnails,p=void 0===h?[]:h;return function(){var e=Object(s.a)(o.a.mark((function e(t,i){var s,h,m,y,b,w,_;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i(),h=Object(v.b)(s),m=c||l,r||!Object(f.B)(n)){e.next=5;break}return e.abrupt("return");case 5:return r&&p.unshift(m),y={media_ids:r,artist_ids:n.join(",")},t({type:u.L}),e.next=10,Object(f.g)(d.Bc,y);case 10:if(b=e.sent,(w=b.resp)&&!(w.err<0)){e.next=15;break}return t(Object(g.a)(Object(f.f)(w.msg,d.gd))),e.abrupt("return");case 15:return t({type:u.Ed,songId:r,artistIds:n}),_=0,a.forEach((function(e,n){var r=p[n];setTimeout((function(){t(Object(g.a)(Object(f.f)(e,d.jd,h,r)))}),_),_+=2e3})),e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ye=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:u.M}),e.next=3,Object(f.g)(d.zc);case 3:n=e.sent,r=n.resp,i=(r=void 0===r?{}:r).data,a=void 0===i?{}:i,t({type:u.N,likedSongIds:a.items||[]});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ze=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r,i,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.g)(d.yc);case 2:if(n=e.sent,r=n.resp,i=(r=void 0===r?{}:r).data,a=void 0===i?{}:i,!Object(f.B)(a.items)){e.next=8;break}return e.abrupt("return");case 8:s={},a.items.forEach((function(e){s[e]={liked:!0}})),t({type:u.d,likedPlaylists:s});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=(n(183),i.a.createContext(null));var o=function(e){e()},s={notify:function(){}};function c(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var l=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=c())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var u=function(e){var t=e.store,n=e.context,o=e.children,s=Object(r.useMemo)((function(){var e=new l(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),c=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,c]);var u=n||a;return i.a.createElement(u.Provider,{value:s},o)},d=n(55);function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var f=n(122),p=n.n(f),m=n(118),g="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,v=[],y=[null,null];function b(e,t){var n=e[1];return[t.payload,n+1]}function w(e,t,n){g((function(){return e.apply(void 0,t)}),n)}function _(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function E(e,t,n,r,i,a,o,s,c,l){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(f){n=f,d=f}n||(d=null),e===a.current?o.current||c():(a.current=e,s.current=e,o.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var S=function(){return[null,0]};function x(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,s=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,c=n.methodName,u=void 0===c?"connectAdvanced":c,f=n.renderCountProp,g=void 0===f?void 0:f,x=n.shouldHandleStateChanges,T=void 0===x||x,O=n.storeKey,k=void 0===O?"store":O,M=(n.withRef,n.forwardRef),A=void 0!==M&&M,C=n.context,L=void 0===C?a:C,P=h(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),R=L;return function(t){var n=t.displayName||t.name||"Component",a=s(n),o=Object(d.a)({},P,{getDisplayName:s,methodName:u,renderCountProp:g,shouldHandleStateChanges:T,storeKey:k,displayName:a,wrappedComponentName:n,WrappedComponent:t}),c=P.pure;var f=c?r.useMemo:function(e){return e()};function x(n){var a=Object(r.useMemo)((function(){var e=n.forwardedRef,t=h(n,["forwardedRef"]);return[n.context,e,t]}),[n]),s=a[0],c=a[1],u=a[2],p=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(m.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:R}),[s,R]),g=Object(r.useContext)(p),x=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(g)&&Boolean(g.store);var O=x?n.store:g.store,k=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,o)}(O)}),[O]),M=Object(r.useMemo)((function(){if(!T)return y;var e=new l(O,x?null:g.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[O,x,g]),A=M[0],C=M[1],L=Object(r.useMemo)((function(){return x?g:Object(d.a)({},g,{subscription:A})}),[x,g,A]),P=Object(r.useReducer)(b,v,S),I=P[0][0],N=P[1];if(I&&I.error)throw I.error;var j=Object(r.useRef)(),D=Object(r.useRef)(u),z=Object(r.useRef)(),F=Object(r.useRef)(!1),U=f((function(){return z.current&&u===D.current?z.current:k(O.getState(),u)}),[O,I,u]);w(_,[D,j,F,u,U,z,C]),w(E,[T,O,A,k,D,j,F,z,C,N],[O,A,k]);var B=Object(r.useMemo)((function(){return i.a.createElement(t,Object(d.a)({},U,{ref:c}))}),[c,t,U]);return Object(r.useMemo)((function(){return T?i.a.createElement(p.Provider,{value:L},B):B}),[p,B,L])}var O=c?i.a.memo(x):x;if(O.WrappedComponent=t,O.displayName=a,A){var M=i.a.forwardRef((function(e,t){return i.a.createElement(O,Object(d.a)({},e,{forwardedRef:t}))}));return M.displayName=a,M.WrappedComponent=t,p()(M,t)}return p()(O,t)}}function T(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function O(e,t){if(T(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!T(e[n[i]],t[n[i]]))return!1;return!0}var k=n(24);function M(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function A(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function C(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=A(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=A(i),i=r(t,n)),i},r}}var L=[function(e){return"function"===typeof e?C(e):void 0},function(e){return e?void 0:M((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?M((function(t){return Object(k.b)(e,t)})):void 0}];var P=[function(e){return"function"===typeof e?C(e):void 0},function(e){return e?void 0:M((function(){return{}}))}];function R(e,t,n){return Object(d.a)({},n,{},e,{},t)}var I=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var c=e(t,n,s);return o?i&&a(c,r)||(r=c):(o=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return R}}];function N(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function j(e,t,n,r,i){var a,o,s,c,l,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function p(i,f){var p=!d(f,o),m=!u(i,a);return a=i,o=f,p&&m?(s=e(a,o),t.dependsOnOwnProps&&(c=t(r,o)),l=n(s,c,o)):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(c=t(r,o)),l=n(s,c,o)):m?function(){var t=e(a,o),r=!h(t,s);return s=t,r&&(l=n(s,c,o)),l}():l}return function(i,u){return f?p(i,u):(s=e(a=i,o=u),c=t(r,o),l=n(s,c,o),f=!0,l)}}function D(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=h(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),c=i(e,a);return(a.pure?j:N)(o,s,c,e,a)}function z(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function F(e,t){return e===t}function U(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?x:n,i=t.mapStateToPropsFactories,a=void 0===i?P:i,o=t.mapDispatchToPropsFactories,s=void 0===o?L:o,c=t.mergePropsFactories,l=void 0===c?I:c,u=t.selectorFactory,f=void 0===u?D:u;return function(e,t,n,i){void 0===i&&(i={});var o=i,c=o.pure,u=void 0===c||c,p=o.areStatesEqual,m=void 0===p?F:p,g=o.areOwnPropsEqual,v=void 0===g?O:g,y=o.areStatePropsEqual,b=void 0===y?O:y,w=o.areMergedPropsEqual,_=void 0===w?O:w,E=h(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=z(e,a,"mapStateToProps"),x=z(t,s,"mapDispatchToProps"),T=z(n,l,"mergeProps");return r(f,Object(d.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:x,initMergeProps:T,pure:u,areStatesEqual:m,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:_},E))}}var B=U();function H(){return Object(r.useContext)(a)}function V(e){void 0===e&&(e=a);var t=e===a?H:function(){return Object(r.useContext)(e)};return function(){return t().store}}var G=V();function W(e){void 0===e&&(e=a);var t=e===a?G:V(e);return function(){return t().dispatch}}var q=W(),Y=function(e,t){return e===t};function Z(e){void 0===e&&(e=a);var t=e===a?H:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=Y);var i=t();return function(e,t,n,i){var a,o=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return new l(n,i)}),[n,i]),c=Object(r.useRef)(),u=Object(r.useRef)(),d=Object(r.useRef)();try{a=e!==u.current||c.current?e(n.getState()):d.current}catch(h){throw c.current&&(h.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),h}return g((function(){u.current=e,d.current=a,c.current=void 0})),g((function(){function e(){try{var e=u.current(n.getState());if(t(e,d.current))return;d.current=e}catch(h){c.current=h}o({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),a}(e,n,i.store,i.subscription)}}var K,X=Z(),Q=n(43);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return X})),K=Q.unstable_batchedUpdates,o=K},function(e,t,n){e.exports=n(191)()},function(e,t,n){"use strict";var r=n(6),i=function e(){Object(r.a)(this,e)};i.localStorage=window.localStorage||{},i.get=function(e){return localStorage.getItem(e)},i.set=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return localStorage.setItem(e,t)},i.remove=function(e){return localStorage.removeItem(e)},t.a=i},function(e,t,n){"use strict";n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"d",(function(){return x})),n.d(t,"i",(function(){return T})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return k})),n.d(t,"l",(function(){return M})),n.d(t,"q",(function(){return A})),n.d(t,"c",(function(){return C})),n.d(t,"x",(function(){return L})),n.d(t,"f",(function(){return P})),n.d(t,"e",(function(){return R})),n.d(t,"y",(function(){return I})),n.d(t,"n",(function(){return N})),n.d(t,"t",(function(){return j})),n.d(t,"v",(function(){return D})),n.d(t,"u",(function(){return z})),n.d(t,"o",(function(){return F})),n.d(t,"p",(function(){return U})),n.d(t,"r",(function(){return B})),n.d(t,"m",(function(){return H})),n.d(t,"s",(function(){return V})),n.d(t,"w",(function(){return G}));var r=n(5),i=n.n(r),a=n(11),o=n(44),s=n(1),c=n(29),l=n(37),u=n(2),d=n(10),h=n(25),f=n(64),p=n(30),m=n(33),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.includes("http")?e:t?"".concat(u.q,"/thumb/").concat(t,"/").concat(e):"".concat(u.q,"/").concat(e)},v=function(e,t,n){switch(e){case"song":return b(t,n);case"artist":return w(t,n);case"album":return _(t,n);case"video":return E(t,n);case"hub":return S(t,n);default:return}},y=function(e,t){return"/bai-hat/".concat(t,"/").concat(e,".html")},b=function(e,t){return"/bai-hat/".concat(t,"/").concat(e,".html")},w=function(e,t){return"/nghe-si/".concat(t)},_=function(e,t){return"/album/".concat(t,"/").concat(e,".html")},E=function(e,t){return"/video-clip/".concat(t,"/").concat(e,".html")},S=function(e,t){return"/hub/".concat(t,"/").concat(e,".html")},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(s.a)("/download",{id:e,type:t,quanlity:n})},T=function(e){return"".concat(u.r).concat(e)},O=function(e){if(!e)return[];var t=e.split(",");if(Object(s.B)(e))return[];var n,r=[],i=Object(o.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a&&r.push({name:a,link:w("",Object(c.i)(a))})}}catch(l){i.e(l)}finally{i.f()}return r},k=function(e){return e?{id:e.id,name:e.name,link:e.link,oa_link:e.oa_link,cover:e.cover,thumbnail:e.thumbnail,follow:e.follow,followed:e.followed,biography:e.biography,national:e.national,birthday:e.birthday,realname:e.realname,spotlight:e.spotlight}:null},M=function(e,t,n){return e&&n===t&&!window.hasAudioAds},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return void 0===e||void 0===e[t]?n:e[t].liked||!1},C=function(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return""}},L=function(e){var t=e.id,n=e.adsSrcId,r=void 0===n?"":n,i=e.playlist||{},a=i.is_single,o=i.isalbum;t&&!a&&Object(l.g)({id:t,type:o?u.H.album:u.H.playlist,adsSrcId:r})},P=function(e,t){return"".concat(t,"/feed/").concat(e,".html")},R=function(e,t){return"".concat(t,"/event/").concat(e,".html")},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.streaming_status!==u.kd.ONLY_VIP}))},N=function(e,t){return t?e:e.filter((function(e){return e.streaming_status!==u.kd.ONLY_VIP}))},j=function(e,t,n,r){return D(e,n)||z(t,r)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.indexOf(t)>-1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.find((function(t){var n="object"===typeof t?t.id:t;return e.indexOf(n)>-1}));return!!n},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];arguments.length>2&&arguments[2];if(Object(s.B)(t))return"B\u1ea1n \u0111\xe3 ch\u1eb7n b\xe0i h\xe1t <b>".concat(e.title,"</b>. B\u1ea1n c\xf3 ch\u1eafc v\u1eabn mu\u1ed1n ph\xe1t b\xe0i h\xe1t n\xe0y?");var n=t.map((function(e){return e.name}));return"B\u1ea1n \u0111\xe3 ch\u1eb7n kh\xf4ng nghe nh\u1ea1c c\u1ee7a <b>".concat(n.join(", "),"</b>. B\u1ea1n c\xf3 ch\u1eafc v\u1eabn mu\u1ed1n ph\xe1t b\xe0i h\xe1t n\xe0y?")},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((function(t){return e.indexOf(t.id)>-1}))},B=function(e){return e.isalbum?u.Lc.ALBUM:e.isoffical?u.Lc.OFFICIAL:e.user_name?u.Lc.USER:""},H=function(e){var t=window.lastReload;if(t){var n=Object(d.m)(e),r=Object(h.h)(e);if(!(n||r||Object(f.e)(e)))Object(s.u)()-t<1800||(window.location.reload(),window.lastReload=Object(s.u)())}else window.lastReload=Object(s.u)()},V=function(){if(window.offsetY){var e=document.getElementsByClassName("w-zingmp3")[0];e&&(e.classList.remove("--z--hide-scroll"),Object(p.j)(window,window.offsetY),window.offsetY=0)}if(window.headerShrinked){var t=document.getElementById("header"),n=document.getElementById("main-body"),r=document.querySelectorAll(".z-header-search-wrap input")[0];window.unShrinkHeader&&t&&n&&r&&window.unShrinkHeader(t,n,r,!0)}},G=function(){var e=Object(a.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=!1,r=setTimeout((function(){n=!0,e({})}),3e4);Object(s.l)("".concat(u.F,"?ts=").concat(Object(s.s)()),{credentials:"include"}).then((function(t){clearTimeout(r),n||e(t)})).catch((function(e){n&&t(e)}))})).then((function(e){if(m.default.info("Long Polling",e),!e.error){var r=(e||{}).resp,i=(r=void 0===r?{}:r).action,a=r.error_code,o=void 0===a?0:a,s=r.error_message;if(!(o<0)){switch(i){case 102:t();break;case 101:n()}return G(t,n)}m.default.error("Long Polling",s)}})).catch((function(e){console.log("errors",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(1),n(2);var r=function(e){return!(!e||0!==e.err)}},function(e,t,n){"use strict";var r=n(167),i="object"==typeof self&&self&&self.Object===Object&&self,a=(r.a||i||Function("return this")()).Symbol,o=Object.prototype,s=o.hasOwnProperty,c=o.toString,l=a?a.toStringTag:void 0;var u=function(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(a){}var i=c.call(e);return r&&(t?e[l]=n:delete e[l]),i},d=Object.prototype.toString;var h=function(e){return d.call(e)},f=a?a.toStringTag:void 0;var p=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?u(e):h(e)};var m=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var g=function(e){return null!=e&&"object"==typeof e},v=Function.prototype,y=Object.prototype,b=v.toString,w=y.hasOwnProperty,_=b.call(Object);var E=function(e){if(!g(e)||"[object Object]"!=p(e))return!1;var t=m(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&b.call(n)==_},S=n(123),x="@@redux/INIT";function T(e,t,n){var r;if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(T)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var i=e,a=t,o=[],s=o,c=!1;function l(){s===o&&(s=o.slice())}function u(){return a}function d(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),s.push(e),function(){if(t){t=!1,l();var n=s.indexOf(e);s.splice(n,1)}}}function h(e){if(!E(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,a=i(a,e)}finally{c=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:x}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,h({type:x})}})[S.a]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[S.a]=function(){return this},e},r}function O(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function k(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a=Object.keys(n);var o=void 0;try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:x}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+x+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(s){o=s}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var c=a[s],l=n[c],u=e[c],d=l(u,t);if("undefined"===typeof d){var h=O(c,t);throw new Error(h)}i[c]=d,r=r||d!==u}return r?i:e}}function M(e,t){return function(){return t(e.apply(void 0,arguments))}}function A(e,t){if("function"===typeof e)return M(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var a=n[i],o=e[a];"function"===typeof o&&(r[a]=M(o,t))}return r}function C(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function P(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a,o=e(n,r,i),s=o.dispatch,c={getState:o.getState,dispatch:function(e){return s(e)}};return a=t.map((function(e){return e(c)})),s=C.apply(void 0,a)(o.dispatch),L({},o,{dispatch:s})}}}n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return P}))},function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"a",(function(){return v}));var r=n(31),i=n(10),a=n(13),o=n(1),s=function(e){return e.ads.audioAdStarted},c=function(e){return e.ads.isPlaying},l=function(e){return e.ads.duration},u=function(e){return e.ads.currentTime},d=function(e){return e.ads.companions},h=function(e){return e.ads.advertiser},f=function(e){return e.ads.remainTime},p=function(e){return e.ads.loading},m=Object(r.createSelector)(s,(function(e){return e})),g=Object(r.createSelector)(a.c,(function(e){return e.ads.lastPlayedTime}),i.b,i.u,i.z,i.s,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,a=i.song,s=void 0===a?{}:a,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return!(e||Object(o.u)()-t<1800||n<2||!r.allow_audio_ads||!Object(o.B)(s)&&!s.allow_audio_ads||c.isPR)})),v=Object(r.createSelector)((function(e){return e.ads.disable}),s,(function(e){return e.ads.error}),a.c,i.m,g,(function(e,t,n,r,i,a){return!(r||n||e)&&(!!t||!!a)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(230),a=(r=i)&&r.__esModule?r:{default:r};t.default=a.default,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var r=n(38),i=n(0),a=n.n(i),o=n(84),s=n(53),c=n(74),l=n(1),u=n(75),d=n(41);function h(e){var t=e.className,n=void 0===t?"":t,r=e.tooltipId,i=void 0===r?"":r,o=e.onClick,c=e.text,l=e.title;return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"".concat(n),onClick:o,"data-tip":!0,"data-for":i},c),l&&a.a.createElement(s.a,{id:i,type:"dark",effect:"solid",globalEventOff:"click"},a.a.createElement("p",null,l)))}function f(e){var t=e.className,n=void 0===t?"":t,o=e.tooltipId,h=void 0===o?"":o,f=e.classNameIcon,p=e.title,m=e.onClick,g=e.nextSong,v=Object(i.useState)(!1),y=Object(r.a)(v,2),b=(y[0],y[1]),w=Object(l.B)(g),_="".concat(h).concat(w?"-text":"");return a.a.createElement("a",{className:"".concat(n," z-tooltip-btn"),onClick:m,"data-tip":!0,"data-for":_,onMouseEnter:function(){b(!0)},onMouseLeave:function(){b(!1)}},a.a.createElement(u.a,{node:document.getElementById("z-dropdown-tp")},Object(l.B)(g)?a.a.createElement(s.a,{key:_,id:_,type:"dark",effect:"solid",globalEventOff:"click"},a.a.createElement("p",null,p)):a.a.createElement(s.a,{key:_,id:_,type:"dark",effect:"solid",scrollHide:!1},a.a.createElement("div",{className:"z-card card-40 media-next-item"},a.a.createElement("span",{className:"thumb-40","data-action":"play"},a.a.createElement("div",{className:"image","data-action":"play"},a.a.createElement("img",{src:g.thumbnail})),a.a.createElement("i",{className:"icon ic-play-circle-outline","data-action":"play"})),a.a.createElement("div",{className:"card-info"},a.a.createElement("div",{className:"title"},a.a.createElement("span",null,g.title)),a.a.createElement("div",{className:"artist",style:{textOverflow:"initial"}},Object(l.B)(g.artists)?a.a.createElement("a",{className:"z-alias"},g.artists_names):a.a.createElement(d.a,{items:g.artists})))))),a.a.createElement(c.a,{className:f}))}t.c=function(e){var t=e.className,n=void 0===t?"":t,l=e.tooltipId,d=void 0===l?"":l,h=e.classNameIcon,f=e.title,p=e.link,m=e.onClick,g=Object(i.useState)(!1),v=Object(r.a)(g,2),y=v[0],b=v[1],w=function(){b(!0)},_=function(){b(!1)};return p?a.a.createElement(o.a,{className:"".concat(n," z-tooltip-btn"),onClick:m,to:p,"data-tip":!0,"data-for":d,onMouseEnter:w,onMouseLeave:_},f&&y&&a.a.createElement(u.a,{node:document.getElementById("z-dropdown-tp")},a.a.createElement(s.a,{id:d,type:"dark",effect:"solid",globalEventOff:"click"},a.a.createElement("span",null,f))),a.a.createElement(c.a,{className:h})):a.a.createElement("a",{className:"".concat(n," z-tooltip-btn"),onClick:m,"data-tip":!0,"data-for":d,onMouseEnter:w,onMouseLeave:_},f&&y&&a.a.createElement(u.a,{node:document.getElementById("z-dropdown-tp")},a.a.createElement(s.a,{id:d,type:"dark",effect:"solid",globalEventOff:"click"},a.a.createElement("span",null,f))),a.a.createElement(c.a,{className:h}))}},function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return f}));var r,i=n(32),a={ORDER:1,ICON:2,CHART_PROMOTE:3,CHART_DETAIL:4,OA_ORDER:5,CHART_TOP:6,DRAG_DROP:7},o=["addToQueue","nextPlaying","addMore","play-radio","add-lyric","comment","social-share"],s=["like","addToQueue","nextPlaying","addMore","play-radio","add-lyric","comment","social-share"],c=["like","addMore","play-radio","add-lyric","comment","social-share"],l=["nextPlaying","addMore","play-radio","add-lyric","comment","social-share"],u=["addToQueue","nextPlaying","addMore","play-radio","add-lyric","comment","social-share","edit-song","delete"],d=["delete"],h={error:"error",waiting:"waiting",inprogress:"inprogress",converting:"converting",success:"success"},f=(r={},Object(i.a)(r,h.error,""),Object(i.a)(r,h.waiting,""),Object(i.a)(r,h.inprogress,"\u0110ang t\u1ea3i"),Object(i.a)(r,h.converting,"Chu\u1ea9n b\u1ecb"),Object(i.a)(r,h.success,""),r)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return joinStr})),__webpack_require__.d(__webpack_exports__,"i",(function(){return toAlias})),__webpack_require__.d(__webpack_exports__,"a",(function(){return accentsTidy})),__webpack_require__.d(__webpack_exports__,"h",(function(){return textTidy})),__webpack_require__.d(__webpack_exports__,"g",(function(){return stripTag})),__webpack_require__.d(__webpack_exports__,"j",(function(){return trim})),__webpack_require__.d(__webpack_exports__,"b",(function(){return capitalizeStr})),__webpack_require__.d(__webpack_exports__,"f",(function(){return replaceEnterByBr})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isUrlHadDomain})),__webpack_require__.d(__webpack_exports__,"e",(function(){return removePrefixLink}));var joinStr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.join.call(t,"-")},toAlias=function toAlias(str){str=trim(str);var replaceChr="-",stripped_str=str;stripped_str=stripped_str.replace(/,/g,"");var viet=[],i=0;viet[i++]=["a","/\xe1|\xe0|\u1ea3|\xe3|\u1ea1|\u0103|\u1eaf|\u1eb1|\u1eb3|\u1eb5|\u1eb7|\xe2|\u1ea5|\u1ea7|\u1ea9|\u1eab|\u1ead/g"],viet[i++]=["o","/\xf3|\xf2|\u1ecf|\xf5|\u1ecd|\u01a1|\u1edb|\u1edd|\u1edf|\u1ee1|\u1ee3|\xf4|\u1ed1|\u1ed3|\u1ed5|\u1ed7|\u1ed9/g"],viet[i++]=["e","/\xe9|\xe8|\u1ebb|\u1ebd|\u1eb9|\xea|\u1ebf|\u1ec1|\u1ec3|\u1ec5|\u1ec7/g"],viet[i++]=["u","/\xfa|\xf9|\u1ee7|\u0169|\u1ee5|\u01b0|\u1ee9|\u1eeb|\u1eed|\u1eef|\u1ef1/g"],viet[i++]=["i","/\xed|\xec|\u1ec9|\u0129|\u1ecb/g"],viet[i++]=["y","/\xfd|\u1ef3|\u1ef7|\u1ef9|\u1ef5/g"],viet[i++]=["d","/\u0111/g"];for(var _i=0;_i<viet.length;_i++)stripped_str=stripped_str.replace(eval(viet[_i][1]),viet[_i][0]),stripped_str=stripped_str.replace(eval(viet[_i][1].toUpperCase().replace("G","g")),viet[_i][0].toUpperCase());return replaceChr?stripped_str.replace(/[\W]|_/g,replaceChr).replace(/\s/g,replaceChr).replace(/^\-+|\-+$/g,replaceChr):stripped_str},accentsTidy=function(e){return textTidy(e).replace(/\s{2,}/g,"-").replace(/\W/g,"-")},textTidy=function(e){return e.replace(/[\xe1\xe0\u1ea1\u1ea3\xe3\xe2\u1ea5\u1ea7\u1ead\u1ea9\u1eab\u0103\u1eaf\u1eb1\u1eb7\u1eb3\u1eb5\xe4\xe5]/g,"a").replace(/[\xc1\xc0\u1ea0\u1ea2\xc3\xc2\u1ea4\u1ea6\u1eac\u1ea8\u1eaa\u0102\u1eae\u1eb0\u1eb6\u1eb2\u1eb4]/g,"A").replace(/[\u0111]/g,"d").replace(/[\u0110]/g,"D").replace(/\xe6/g,"ae").replace(/\xe7/g,"c").replace(/[\xe9\xe8\u1eb9\u1ebb\u1ebd\xea\u1ebf\u1ec1\u1ec7\u1ec3\u1ec5\xeb]/g,"e").replace(/[\xc9\xc8\u1eb8\u1eba\u1ebc\xca\u1ebe\u1ec0\u1ec6\u1ec2\u1ec4]/g,"E").replace(/[\xec\xed\xee\xef\u1ecb\u0129\xed\u1ec9]/g,"i").replace(/[\xcc\xcd\u0128\u1eca\u1ec8]/g,"i").replace(/\xf1/g,"n").replace(/[\xf3\xf2\u1ecd\u1ecf\xf5\xf4\u1ed1\u1ed3\u1ed9\u1ed5\u1ed7\u01a1\u1edb\u1edd\u1ee3\u1edf\u1ee1\xf6]/g,"o").replace(/[\xd3\xd2\u1ecc\u1ece\xd5\xd4\u1ed0\u1ed2\u1ed8\u1ed4\u1ed6\u01a0\u1eda\u1edc\u1ee2\u1ede\u1ee0]/g,"O").replace(/\u0153/g,"oe").replace(/[\xfa\xf9\u1ee5\u1ee7\u0169\u01b0\u1ee9\u1eeb\u1ef1\u1eed\u1eef\xfc]/g,"u").replace(/[\xda\xd9\u1ee4\u1ee6\u0168\u01af\u1ee8\u1eea\u1ef0\u1eec\u1eee]/g,"U").replace(/[\xfd\u1ef3\u1ef5\u1ef7\u1ef9\xff]/g,"y").replace(/[\xdd\u1ef2\u1ef4\u1ef6\u1ef8]/g,"Y")},stripTag=function(e){return e.replace(/<(?:.|\n)*?>/gm,"")},trim=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},truncate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.length>t?e.substring(0,t-n.length)+n:e},removeSpace=function(e){return e.replace(/[\s\uFEFF\xA0]/g,"")},checkAllUppercase=function(e){for(var t=0,n="";t<e.length;){if((n=e.charAt(t))===n.toLowerCase())return!1;t++}return!0},capitalizeWord=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},capitalizeStr=function(e){return e.split(" ").map((function(e){return checkAllUppercase(e)?e:capitalizeWord(e.toLowerCase())})).join(" ")},replaceEnterByBr=function(e){return e?e.replace(/\n/g,"</br>"):""},multipleIncludes=function(e,t){return t.some((function(t){return e.includes(t)}))},getLinkFromString=function(e){if(!e)return!1;var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.exec(e);return!(!t||!t[0])&&t[0]},stripTagWithBr=function(e){if(!e)return"";var t=e.replace(/<(?:.|\n)*?>/gm,"</br>").split("</br>");return t=t.filter((function(e){return!!e})).join("</br>")},trimFull=function(e){return e.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},isUrlHadDomain=function(e){return!!e&&RegExp(/^http:\/\/|^https:\/\/|^\/\//).test(e)},removePrefixLink=function(e){return e?e.replace(/^http:\/\/|^https:\/\//,"//"):""},getInfoMp3Link=function(e){if(!e)return null;var t=RegExp(/^(https:\/\/oa.zingmp3.com|https:\/\/zingmp3.com|https:\/\/beta.mp3.zing.vn|https:\/\/mp3.zing.vn)\/(bai-hat|video-clip|album|playlist)\/[A-Za-z0-9-]+\/([A-Z0-9]{8}).html/),n=e.match(t);return n?{type:n[2],id:n[3]}:null},getPathFromLink=function(e){if(!e)return"";var t=e.match(RegExp(/^(http[s]:\/\/)(www.)?([a-z0-9-.]+)\/([a-z0-9_/.]+)/));return t?t[4]:""}},function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"c",(function(){return p}));var r=function(e){for(var t=e,n=t.offsetTop;t.offsetParent;)n+=t.offsetParent.offsetTop,t=t.offsetParent;return n},i=!("undefined"===typeof window||!window.document||!window.document.createElement),a=function(e){return document&&document.getElementById(e)},o=function(e,t){e&&(e.hasOwnProperty("scrollTo")?e.scrollTo(0,t):e.scrollTop=t)},s=function(e,t,n){var r=e.scrollTop||e.scrollY,i=t-r,a=0;!function t(){var o=l(a+=20,r,i,n);e.hasOwnProperty("scrollTo")?e.scrollTo(0,o):e.scrollTop=o,a<n&&setTimeout(t,20)}()},c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},l=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},u=function(e,t,n,r){var i=e.scrollTop,a=t-i,o=+new Date,s=!0,u=null;c((function d(){if(s){c(d);var h=+new Date,f=Math.floor(l(h-o,i,a,n)),p=Math.ceil(e.scrollTop);u?u===p?(u=f,e.scrollTop=f):s=!1:(u=f,e.scrollTop=f),h>o+n&&(e.scrollTop=t,s=!1,r&&r())}}))},d=function(){window.scrollTo(0,0)},h=function(e,t){e.addEventListener("fullscreenchange",t),e.addEventListener("mozfullscreenchange",t),e.addEventListener("webkitfullscreenchange",t),e.addEventListener("msfullscreenchange",t)},f=function(e,t){e.removeEventListener("fullscreenchange",t),e.removeEventListener("mozfullscreenchange",t),e.removeEventListener("webkitfullscreenchange",t),e.removeEventListener("msfullscreenchange",t)};function p(e,t){return!(!e||!t)&&(e.scrollTop>t.offsetTop||t.offsetTop+t.offsetHeight-e.scrollTop>e.offsetHeight)}},function(e,t,n){"use strict";function r(e,t){return e===t}function i(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,a=null;return function(){return i(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=0,c=r.pop(),l=o(r),u=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(n)),d=a((function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return u.apply(null,e)}));return d.resultFunc=c,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}t.__esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if("object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var c=t.createSelector=s(a)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(6),i=n(7),a="font-weight: bold; font-size: 13px;",o="color: #ff8000;"+a,s="color: #ff0000;"+a,c=["color: #0000ff;font-weight: bold; font-size: 13px;","color: #006600;font-weight: bold; font-size: 13px;",o,s,s],l=["debug","info","warn","error","disabled"],u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;Object(r.a)(this,e),this.level=t,this.offLevel=n}return Object(i.a)(e,[{key:"debug",value:function(e){this.log(e,0,Array.prototype.slice.call(arguments,1))}},{key:"info",value:function(e){this.log(e,1,Array.prototype.slice.call(arguments,1))}},{key:"warn",value:function(e){this.log(e,2,Array.prototype.slice.call(arguments,1))}},{key:"error",value:function(e){this.log(e,3,Array.prototype.slice.call(arguments,1))}},{key:"onOff",value:function(){this.level===this.offLevel?this.level=this.previousLevel:(this.previousLevel=this.level,this.level=this.offLevel),window.console&&window.console.log&&window.console.log("%c[ZMP3.Log] set log level to "+l[this.level],o)}},{key:"level",value:function(e){this.level=e}},{key:"log",value:function(e,t,n){if(!(t<this.level)){n||(n=e,e=null);var r=c[t],i="";e&&(i="["+e+"]"),window.console&&window.console.log&&window.console.log.apply(console,["%c["+l[t]+"]"+i,r].concat(n))}}}]),e}();u.LEVEL_DEBUG=0,u.LEVEL_INFO=1,u.LEVEL_WARN=2,u.LEVEL_ERROR=3,u.LEVEL_DISABLED=4,u.getInstance=function(){return void 0===this._instance&&(this._instance=new this,this._instance.previousLevel=this._instance.level,this._instance.level=this._instance.offLevel),this._instance},u.setLevel=function(e){this.getInstance().level=e},u.debug=function(){this.getInstance().debug.apply(this.getInstance(),arguments)},u.info=function(){this.getInstance().info.apply(this.getInstance(),arguments)},u.warn=function(){this.getInstance().warn.apply(this.getInstance(),arguments)},u.error=function(){this.getInstance().error.apply(this.getInstance(),arguments)}},function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(2),i=(function(){var e=function(){if("undefined"!==typeof window)return window.MediaSource||window.WebKitMediaSource}(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove}(),function(){return document.getElementById("audio")}),a=function(){window&&window.audioAds&&window.audioAds.skip()},o=function(){var e=i();if(e){var t=document.getElementById("audio_ads");if(t)return t.paused?t.play():t.pause();e.paused?e.play():e.pause()}},s=function(){var e=i();e&&e.pause()},c=function(){var e=i();e&&e.play()},l=function(){var e=i();e&&(e.currentTime=0)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find((function(e){return e===t}))?t:e[e.length-1]},d=function(e){return-1!==r.zd.indexOf(e)},h=function(e){switch(e){case 0:return"L\u1eb7p l\u1ea1i";case 1:return"L\u1eb7p l\u1ea1i t\u1ea5t c\u1ea3";case 2:return"L\u1eb7p l\u1ea1i m\u1ed9t l\u1ea7n";default:return}}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return b}));var r=n(50),i=n(21),a=n(1),o=n(2),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!o.B){var n=window.profile||{},r=n.useridencoded,i=void 0===r?0:r,s=n.username,c=void 0===s?"":s,l=n.is_vip,u=void 0!==l&&l,d=u?1:0,h=Object(a.z)()||"",f={platform:"WEB_DESKTOP",version:"v5",action:t,userId:i,isVip:d,userName:c,visitorId:h,data:JSON.stringify(e)},p=Object(a.e)(f);Object(a.l)("".concat(o.od,"?").concat(p))}},c=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"song",a="song"===r?"TRACKING_SONG":"TRACKING_MV",o=JSON.parse(i.a.get(a))||{};o.mediaId===e&&(o[t]=n,i.a.set(a,JSON.stringify(o)))},l=function(e){var t=e?"TRACKING_MV":"TRACKING_SONG",n=JSON.parse(i.a.get(t))||{},r=n.duration,a=n.trackingSource,c=n.mediaId,l=n.pId,u=void 0===l?"":l,d=n.pType,h=void 0===d?"":d,f=n.adsSrcId,p=void 0===f?"":f;if(i.a.set(t,JSON.stringify({})),r){var m=parseInt(1e3*r,10);s({id:c,type:e?o.H.video:o.H.song,src:a||"unknown",skip:!1,stayTime:m,duration:m,miniPlayer:!1,pos:m,pId:u,pType:h,adsSrcId:p})}},u=function(e,t){clearTimeout(window.adTrackingTimer),e.adsSrcId&&(window.adTrackingTimer=setTimeout((function(){return l()}),3e4));var n=JSON.parse(i.a.get("TRACKING_SONG"))||{},r=n.duration,a=n.trackingSource,c=n.mediaId,u=n.isVideo,d=n.pId,f=void 0===d?"":d,p=n.pType,m=void 0===p?"":p,g=n.adsSrcId,v=void 0===g?"":g;if(i.a.set("TRACKING_SONG",JSON.stringify(e)),r){var y=h(c),b=y>0&&Math.round(t)<r;window.songLog=null,s({id:c,type:u?o.H.video:o.H.song,src:a||"unknown",skip:b,duration:parseInt(1e3*r,10),stayTime:y,miniPlayer:!0,pos:parseInt(1e3*t,10),pId:f,pType:m,adsSrcId:v})}},d=function(e,t){Object(a.B)(window.songLog)||window.songLog.mediaId!==e?window.songLog={mediaId:e,listenTime:0,startTime:Date.now()}:(window.songLog.startTime&&(window.songLog.listenTime+=Date.now()-window.songLog.startTime),window.songLog.startTime="pause"===t?0:Date.now())},h=function(e){if(Object(a.B)(window.songLog)||window.songLog.mediaId!==e)return 0;var t=window.songLog,n=t.listenTime,r=t.startTime;return r&&(n+=Date.now()-r),n},f=function(e){clearTimeout(window.adTrackingTimer),e.adsSrcId&&(window.adTrackingTimer=setTimeout((function(){return l(!0)}),3e4));var t=JSON.parse(i.a.get("TRACKING_MV"))||{},n=t.duration,r=t.trackingSource,a=t.mediaId,c=t.skip,u=void 0===c||c,d=t.listenTime,h=t.adsSrcId,f=void 0===h?"":h;if(i.a.set("TRACKING_MV",JSON.stringify(e)),n){var p=d||m(a);window.mvLog=null;var g=parseInt(1e3*n,10);s({id:a,type:o.H.video,src:r,miniPlayer:!1,duration:g,skip:u,stayTime:p,pos:u?p:g,adsSrcId:f})}},p=function(e,t){if(Object(a.B)(window.mvLog)||window.mvLog.mediaId!==e)window.mvLog={mediaId:e,listenTime:0,startTime:Date.now()};else switch(window.mvLog.startTime&&(window.mvLog.listenTime+=Date.now()-window.mvLog.startTime),t){case"pause":window.mvLog.startTime=0;break;case"end":c(e,"listenTime",window.mvLog.listenTime,"mv"),window.mvLog=null;break;default:window.mvLog.startTime=Date.now()}},m=function(e){if(Object(a.B)(window.mvLog)||window.mvLog.mediaId!==e)return 0;var t=window.mvLog,n=t.listenTime,r=t.startTime;return r&&(n+=Date.now()-r),n},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r.a.event({category:e,action:t,label:n},["eventTracker"])},v=function(e,t){return function(){return g("Home",e,t)}},y=function(e){return function(t){return function(){return g("Home",e,t)}}},b=function(e,t){return function(){return g("Playlist/album Detail",e,t)}}},function(e,t,n){"use strict";var r=n(73);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return v}));var r=n(13),i=n(1),a=n(2),o=function(e){var t=Object(i.w)("zid");t&&""!==t||(t=a.wd);var n="";window.adtimaDynamic&&(n+=window.adtimaDynamic);var r=document.getElementById("zads-dynamic");r&&(n+=(n?";":"")+r.getAttribute("values"));try{var o=window.AdtimaRender.Helpers.Cookie.get("crtg_vng_rta");n+=o?(n?";":"")+"criteo="+(o=(o+=",none").replace(/;/g,",")):(n?";":"")+"criteo=none"}catch(l){n+=(n?";":"")+"criteo=none"}try{var s=document.URL.split("?")[0];(s=s.split("#")[0].toLowerCase())&&(n+=(n?";":"")+"curl="+s)}catch(l){}try{window.AdtimaRender.Helpers.Device.browser.facebook&&(n+=(n?";":"")+"fbid=true")}catch(l){}try{window.AdtimaRender.Banner.NativeAd.getZaloSession().zacc_session&&(n+=(n?";":"")+"iszalo=true")}catch(l){}var c="";return n&&(c="vs="+encodeURIComponent(n)),"//api.adtimaserver.vn/zad/videoad?zid="+t+"&cid=v_"+e+"&"+c+"&uid="+Object(i.z)()+"&contentId=web_video_".concat(e)},s=function(e){window.adtimaConfig||(window.adtimaConfig={}),window.adtimaConfig.contentId=e},c=function(){if(window&&window.AdtimaZingMp3)try{window.adtimaConfig&&window.adtimaConfig.contentId||s("web_other_other"),console.log("InitAds"),window.AdtimaZingMp3.init()}catch(e){console.log("err ",e)}},l=function(e){if(!Object(r.c)(e)&&window&&window.AdtimaZingMp3)try{window.AdtimaZingMp3.init()}catch(t){console.log("err ",t)}},u=function(){if(window&&window.AdtimaZingMp3)try{window.AdtimaZingMp3.refreshAdtima()}catch(e){console.log("err ",e)}},d=function(e){if(!Object(r.c)(e)&&(s("web_other_other"),window&&window.AdtimaZingMp3))try{window.AdtimaZingMp3.refreshAdtima()}catch(t){console.log("err ",t)}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(r.c)(e);if(!n&&window&&window.AdtimaZingMp3)try{window.AdtimaZingMp3.init({nextSong:t})}catch(i){console.log("err ",i)}},f=function(e){if(!e&&window&&window.AdtimaZingMp3)try{window.AdtimaZingMp3.loadPopupAds()}catch(t){console.log("err ",t)}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?new Promise((function(r){var o={zones:e,contentId:t};o.uid=Object(i.z)();var s=Object(i.e)(o);Object(i.l)("".concat(a.L,"?").concat(s),{credentials:"include"}).then((function(t){t.resp&&!Object(i.B)(t.resp.data)||r({});var a=t.resp.data[e];return Object(i.B)(a)&&r({}),r(n?g(a[0]):a[0])})).catch((function(){r({})}))})):Promise.reject("zone Id is required")},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(i.B)(e)?Promise.reject("zone Ids is required"):new Promise((function(n){var r={zones:e.join(),contentId:t};r.uid=Object(i.z)();var o=Object(i.e)(r);Object(i.l)("".concat(a.L,"?").concat(o),{credentials:"include"}).then((function(t){t.resp&&!Object(i.B)(t.resp.data)||n({});var r=t.resp.data,a={};e.forEach((function(e){var t=r[e]?g(r[e][0]):null;a[e]=t})),n(a)})).catch((function(e){return n({})}))}))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ext,n=void 0===t?{}:t,r=e.tracking,a=void 0===r?{}:r;if(Object(i.B)(n))return null;var o=n.artist||[],s=o.map((function(e){return e.name}));s=s.join(",");var c,l=n.url||"";if(!(c=l.includes("mp3.zing.vn")?l.split("mp3.zing.vn")[1]:l.split("zingmp3.vn")[1])||!n.id)return null;var u=["song","video","album","album"];return{isNativeAd:!0,thumbnail:n.bannerFile,thumbnail_medium:n.bannerFile,thumb:n.bannerFile,title:n.title,name:n.title,type:u[n.type],link:c,id:n.id,artists:o,artists_names:s,adsSrcId:n.sourceId,artist:s,tracking:a,isoffical:!0}},v=function(){var e=Object(i.z)();return new Promise((function(t){Object(i.l)("https://api.adtimaserver.vn/zad/zone/zonedirect?zones=".concat("593071610407635586",",").concat("1135849910620867211",",").concat("1005491790556917276","&uid=").concat(e)).then((function(e){var n=e.resp.data,r=n["".concat("593071610407635586")],i=(r=void 0===r?{}:r).banner,a=void 0!==i&&i,o=r.targeting,s=(o=void 0===o?{}:o).playlist_id,c=void 0===s?[]:s,l=n["".concat("1135849910620867211")],u=(l=void 0===l?{}:l).banner,d=void 0!==u&&u,h=n["".concat("1005491790556917276")],f=void 0===h?{}:h;window.halfPagePlaylist=f,t({hasMastheadSub:a,hasMastheadHome:d,playlistIds:c})})).catch((function(e){return t({})}))}))}},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(3),i=function(){return{type:r.mc}},a=function(){return{type:r.nc}},o=function(e){return{type:r.n,duration:e}},s=function(e,t){return{type:r.m,companions:e,advertiser:t}},c=function(e){return{type:r.p,currentTime:e}},l=function(){return{type:r.s}},u=function(){return{type:r.o}},d=function(){return{type:r.l}},h=function(){return{type:r.wc}},f=function(){return{type:r.uc}},p=function(){return{type:r.F}}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(67),o=n(1);t.a=function(e){var t=e.items,n=e.onClick,r=e.className,s=void 0===r?"":r,c=e.ellipsis;if(Object(o.B)(t))return null;var l=t.length;return t.map((function(e,t){var r=t===l-1;return i.a.createElement(a.a,{key:"permalink-".concat(t),className:"".concat(s," ").concat(r?"":"mr-2"),title:e.name,link:e.link,text:e.name,isLast:r,ellipsis:c,onClick:n,spotlight:e.spotlight})}))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(180)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(73);function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(e,t,n){"use strict";var r=n(6),i=n(58),a=n.n(i),o=n(2),s=function e(){Object(r.a)(this,e)};s.get=function(e){return a.a.get(e,{domain:o.o})},s.set=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.a.set(e,t,{domain:o.o,path:"/",expires:30})},t.a=s},,function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return v}));var r=n(5),i=n.n(r),a=n(11),o=n(3),s=n(65),c=n(1),l=n(23),u=n(28),d=n(2),h=function(e){return{type:o.Dd,files:e}},f=function(e){return{type:o.Bd,key:e}},p=function(){return{type:o.Ad}},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:o.yd,key:e,status:t,data:n}},g=function(){return{type:o.Cd}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return function(t,n){var r=n(),i=Object(s.b)(r);Object.values(i).filter((function(e){return e.status===u.h.waiting})).slice(0,e).forEach((function(e){return t(y(e))}))}},y=function(e){return function(t){t(m(e.key,u.h.inprogress));var n=function(){return t(m(e.key,u.h.error))},r=function(){var n=Object(a.a)(i.a.mark((function n(r){var h,f,p,g,v;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((h=JSON.parse(r.target.responseText)||{}).data&&h.data.file){n.next=3;break}return n.abrupt("return",t(m(e.key,u.h.error)));case 3:return n.next=5,b(e);case 5:return(f=n.sent)&&t({type:o.xd,key:e.key,thumbnail:f}),p={title:e.file.name||e.name,artist:e.file.artist||"",filename:h.data.file.filePath,thumbnail:f},n.next=10,Object(c.g)(d.fc,p,{method:"post"});case 10:if(g=n.sent,v=g.resp,Object(l.a)(v)){n.next=14;break}return n.abrupt("return",t(m(e.key,u.h.error)));case 14:t(m(e.key,u.h.converting,{songId:v.data.media_id})),t({type:o.e,ids:[v.data.media_id]}),t(function(){var e=Object(a.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.checkingConverting){e.next=2;break}return e.abrupt("return");case 2:window.checkingConverting=setInterval(Object(a.a)(i.a.mark((function e(){var r,a,l,u,h,f,p,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),a=Object(s.c)(r),l=a.converting,u=a.total,0!==l){e.next=6;break}return clearInterval(window.checkingConverting),window.checkingConverting=null,e.abrupt("return");case 6:return e.next=8,Object(c.g)(d.uc,{start:0,count:u});case 8:h=e.sent,f=h.resp,p=f&&f.data?f.data:{},m=p.items.filter((function(e){return 1===e.status_code})),t({type:o.zd,songs:m});case 13:case"end":return e.stop()}}),e)}))),3e4);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=new FormData;h.append("file",e.file);var f=new XMLHttpRequest;f.timeout=6e5,f.upload.addEventListener("progress",(function(){}),!1),f.addEventListener("load",r,!1),f.addEventListener("error",n,!1),f.addEventListener("timeout",n,!1),f.open("POST","https://upload.zingmp3.vn/upload/source/media"),f.send(h)}},b=function(e){return new Promise(function(){var t=Object(a.a)(i.a.mark((function t(n){var r,a,o,s,l,u,d,h,f,p,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.file&&e.file.picture){t.next=2;break}return t.abrupt("return",n(""));case 2:return r=e.file.picture,a=r.data,o=r.type,s=new Uint8Array(a),l=new File([s],"".concat(e.key,".jpeg"),{type:o}),(u=new FormData).append("file",l),d="https://upload.zingmp3.vn/upload/images?product=zmp3&type=cover&ts=".concat(e.key),h={method:"POST",header:{"Content-Type":"multipart/form-data"},body:u},t.next=11,Object(c.l)(d,h);case 11:return f=t.sent,p=f.resp,m="",p&&p.data&&p.data.file&&(m=p.data.file.filePath||""),t.abrupt("return",n(m));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},function(e,t,n){"use strict";n.d(t,"q",(function(){return r})),n.d(t,"s",(function(){return i})),n.d(t,"o",(function(){return a})),n.d(t,"j",(function(){return o})),n.d(t,"p",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"v",(function(){return u})),n.d(t,"u",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"r",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"t",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"n",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"e",(function(){return _})),n.d(t,"y",(function(){return E})),n.d(t,"M",(function(){return S})),n.d(t,"N",(function(){return x})),n.d(t,"L",(function(){return T})),n.d(t,"K",(function(){return O})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return M})),n.d(t,"H",(function(){return A})),n.d(t,"D",(function(){return C})),n.d(t,"G",(function(){return L})),n.d(t,"E",(function(){return P})),n.d(t,"J",(function(){return R})),n.d(t,"I",(function(){return I})),n.d(t,"x",(function(){return N})),n.d(t,"B",(function(){return j})),n.d(t,"A",(function(){return D})),n.d(t,"z",(function(){return z})),n.d(t,"C",(function(){return F})),n.d(t,"w",(function(){return U})),n.d(t,"c",(function(){return B})),n.d(t,"F",(function(){return H}));var r="hSlider",i="hSuggestPL",a="hRecent",o="hDm",s="hRewind",c="hDiscovery",l="hNewSong",u="hZC",d="h100",h="hAutoGenre",f="hNewRelPL",p="hAlbum",m="hGenre",g="hMix",v="hMixartist4U",y="hDailyTheme",b="hFavoriteMix",w="hBasedOnRecent",_="hRadio",E="bsRadio",S="cZC",x="cZCW",T="t100",O="Genre",k="album",M="aSong",A="mRecent",C="mFavSong",L="mPlaylist",P="myM4U",R="search",I="npSuggest",N="playLink",j="vRecommended",D="search",z="mvPlaylist",F="mvTabmv",U="hMV",B="aMV",H="mMV"},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(/^\s+|\s+$/g,"")}var i=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function a(e){console.warn("[react-ga]",e)}function o(e,t){return function(e){return/[^@]+@[^@]+/.test(e)}(e)?(a("This arg looks like an email address, redacting."),"REDACTED (Potential Email Address)"):t?r(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(i)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})):e}function s(e){console.info("[react-ga]",e)}var c=[],l={calls:c,ga:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];c.push(t.concat())},resetCalls:function(){c.length=0}},u=n(0),d=n.n(u),h=n(20),f=n.n(h);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?_(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){function t(){var e,n;g(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return E(_(_(n=y(this,(e=b(t)).call.apply(e,[this].concat(i))))),"handleClick",(function(e){var r=n.props,i=r.target,a=r.eventLabel,o=r.to,s=r.onClick,c={label:a},l="_blank"!==i,u=!(e.ctrlKey||e.shiftKey||e.metaKey||1===e.button);l&&u?(e.preventDefault(),t.trackLink(c,(function(){window.location.href=o}))):t.trackLink(c,(function(){})),s&&s(e)})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.to,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},m(e,["to"]),{href:t,onClick:this.handleClick});return"_blank"===this.props.target&&(n.rel="noopener noreferrer"),delete n.eventLabel,d.a.createElement("a",n)}}])&&v(n.prototype,r),i&&v(n,i),t}(u.Component);function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return(O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}E(S,"trackLink",(function(){a("ga tracking not enabled")})),E(S,"propTypes",{eventLabel:f.a.string.isRequired,target:f.a.string,to:f.a.string,onClick:f.a.func}),E(S,"defaultProps",{target:null,to:null,onClick:null});var M=!1,A=!0,C=!1,L=!0,P=function(){var e;return C?l.ga.apply(l,arguments):"undefined"!==typeof window&&(window.ga?(e=window).ga.apply(e,arguments):a("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function R(e){return o(e,A)}function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];"string"===typeof i?(!L&&Array.isArray(e)||P.apply(void 0,n),Array.isArray(e)&&e.forEach((function(e){P.apply(void 0,k(["".concat(e,".").concat(i)].concat(n.slice(1))))}))):a("ga command must be a string")}function N(e,t){e?(t&&(t.debug&&!0===t.debug&&(M=!0),!1===t.titleCase&&(A=!1)),t&&t.gaOptions?P("create",e,t.gaOptions):P("create",e,"auto")):a("gaTrackingID is required in initialize()")}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(P.apply(void 0,t),M&&(s("called ga('arguments');"),s("with arguments: ".concat(JSON.stringify(t))))),window.ga}function D(e,t){I(t,"send",e),M&&(s("called ga('send', fieldObject);"),s("with fieldObject: ".concat(JSON.stringify(e))),s("with trackers: ".concat(JSON.stringify(t))))}var z={require:function(e,t){if(e){var n=r(e);if(""!==n)if(t){if("object"!==O(t))return void a("Expected `options` arg to be an Object");0===Object.keys(t).length&&a("Empty `options` given to .require()"),j("require",n,t),M&&s("called ga('require', '".concat(n,"', ").concat(JSON.stringify(t)))}else j("require",n),M&&s("called ga('require', '".concat(n,"');"));else a("`name` cannot be an empty string in .require()")}else a("`name` is required in .require()")},execute:function(e,t){var n,r;if(1===(arguments.length<=2?0:arguments.length-2)?n=arguments.length<=2?void 0:arguments[2]:(r=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3]),"string"!==typeof e)a("Expected `pluginName` arg to be a String.");else if("string"!==typeof t)a("Expected `action` arg to be a String.");else{var i="".concat(e,":").concat(t);n=n||null,r&&n?(j(i,r,n),M&&(s("called ga('".concat(i,"');")),s('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(j(i,n),M&&(s("called ga('".concat(i,"');")),s("with payload: ".concat(JSON.stringify(n))))):(j(i),M&&s("called ga('".concat(i,"');")))}}};function F(e,t,n){if("function"===typeof t)if(e&&e.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:R(e.label)},i=!1,o=setTimeout((function(){i=!0,t()}),250);r.hitCallback=function(){clearTimeout(o),i||t()},D(r,n)}else a("args.label is required in outboundLink()");else a("hitCallback function is required")}S.origTrackLink=S.trackLink,S.trackLink=F;var U=S;t.a={initialize:function(e,t){if(t&&!0===t.testMode)C=!0;else{if("undefined"===typeof window)return!1;t&&!0===t.standardImplementation||function(e){var t,n,r,i,a,o,s,c="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?c=e.gaAddress:e&&e.debug&&(c="https://www.google-analytics.com/analytics_debug.js"),t=window,n=document,r="script",i=c,a="ga",t.GoogleAnalyticsObject=a,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=n.createElement(r),s=n.getElementsByTagName(r)[0],o.async=1,o.src=i,s.parentNode.insertBefore(o,s)}(t)}return L=!t||"boolean"!==typeof t.alwaysSendToDefaultTracker||t.alwaysSendToDefaultTracker,Array.isArray(e)?e.forEach((function(e){"object"===O(e)?N(e.trackingId,e):a("All configs must be an object")})):N(e,t),!0},ga:j,set:function(e,t){e?"object"===O(e)?(0===Object.keys(e).length&&a("empty `fieldsObject` given to .set()"),I(t,"set",e),M&&(s("called ga('set', fieldsObject);"),s("with fieldsObject: ".concat(JSON.stringify(e))))):a("Expected `fieldsObject` arg to be an Object"):a("`fieldsObject` is required in .set()")},send:D,pageview:function(e,t,n){if(e){var i=r(e);if(""!==i){var o={};if(n&&(o.title=n),I(t,"send",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}({hitType:"pageview",page:i},o)),M){s("called ga('send', 'pageview', path);");var c="";n&&(c=" and title: ".concat(n)),s("with path: ".concat(i).concat(c))}}else a("path cannot be an empty string in .pageview()")}else a("path is required in .pageview()")},modalview:function(e,t){if(e){var n,i="/"===(n=r(e)).substring(0,1)?n.substring(1):n;if(""!==i){var o="/modal/".concat(i);I(t,"send","pageview",o),M&&(s("called ga('send', 'pageview', path);"),s("with path: ".concat(o)))}else a("modalName cannot be an empty string or a single / in .modalview()")}else a("modalName is required in .modalview(modalName)")},timing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,o=arguments.length>1?arguments[1]:void 0;if(t&&n&&r&&"number"===typeof r){var s={hitType:"timing",timingCategory:R(t),timingVar:R(n),timingValue:r};i&&(s.timingLabel=R(i)),D(s,o)}else a("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")},event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.action,r=e.label,i=e.value,o=e.nonInteraction,s=e.transport,c=x(e,["category","action","label","value","nonInteraction","transport"]),l=arguments.length>1?arguments[1]:void 0;if(t&&n){var u={hitType:"event",eventCategory:R(t),eventAction:R(n)};r&&(u.eventLabel=R(r)),"undefined"!==typeof i&&("number"!==typeof i?a("Expected `args.value` arg to be a Number."):u.eventValue=i),"undefined"!==typeof o&&("boolean"!==typeof o?a("`args.nonInteraction` must be a boolean."):u.nonInteraction=o),"undefined"!==typeof s&&("string"!==typeof s?a("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(s)&&a("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),u.transport=s)),Object.keys(c).filter((function(e){return"dimension"===e.substr(0,"dimension".length)})).forEach((function(e){u[e]=c[e]})),Object.keys(c).filter((function(e){return"metric"===e.substr(0,"metric".length)})).forEach((function(e){u[e]=c[e]})),D(u,l)}else a("args.category AND args.action are required in event()")},exception:function(e,t){var n=e.description,r=e.fatal,i={hitType:"exception"};n&&(i.exDescription=R(n)),"undefined"!==typeof r&&("boolean"!==typeof r?a("`args.fatal` must be a boolean."):i.exFatal=r),D(i,t)},plugin:z,outboundLink:F,OutboundLink:U,testModeAPI:l}},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function s(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return Et(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var t=f(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=h(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var g=r.momentProperties=[];function v(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)o(i=t[r=g[n]])||(e[r]=i);return e}var y=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function E(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function S(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&E(e[r])!==E(t[r]))&&o++;return o+a}function x(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,a=[],o=0;o<arguments.length;o++){if(i="","object"===typeof arguments[o]){for(var s in i+="\n["+o+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];a.push(i)}x(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var O,k={};function M(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),k[e]||(x(t),k[e]=!0)}function A(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e,t){var n,r=d({},e);for(n in t)u(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&a(e[n])&&(r[n]=d({},r[n]));return r}function L(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,O=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var P={};function R(e,t){var n=e.toLowerCase();P[n]=P[n+"s"]=P[t]=e}function I(e){return"string"===typeof e?P[e]||P[e.toLowerCase()]:void 0}function N(e){var t,n,r={};for(n in e)u(e,n)&&(t=I(n))&&(r[t]=e[n]);return r}var j={};function D(e,t){j[e]=t}function z(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},H={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(H[e]=i),t&&(H[t[0]]=function(){return z(i.apply(this,arguments),t[1],t[2])}),n&&(H[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e,t){return e.isValid()?(t=W(t,e.localeData()),B[t]=B[t]||function(e){var t,n,r,i=e.match(F);for(t=0,n=i.length;t<n;t++)H[i[t]]?i[t]=H[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,a="";for(r=0;r<n;r++)a+=A(i[r])?i[r].call(t,e):i[r];return a}}(t),B[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(U.lastIndex=0;n>=0&&U.test(e);)e=e.replace(U,r),U.lastIndex=0,n-=1;return e}var q=/\d/,Y=/\d\d/,Z=/\d{3}/,K=/\d{4}/,X=/[+-]?\d{6}/,Q=/\d\d?/,J=/\d\d\d\d?/,$=/\d\d\d\d\d\d?/,ee=/\d{1,3}/,te=/\d{1,4}/,ne=/[+-]?\d{1,6}/,re=/\d+/,ie=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ce={};function le(e,t,n){ce[e]=A(t)?t:function(e,r){return e&&n?n:t}}function ue(e,t){return u(ce,e)?ce[e](t._strict,t._locale):new RegExp(de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i}))))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function fe(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)he[e[n]]=r}function pe(e,t){fe(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function me(e,t,n){null!=t&&u(he,e)&&he[e](t,n._a,n,e)}function ge(e){return ve(e)?366:365}function ve(e){return e%4===0&&e%100!==0||e%400===0}V("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),R("year","y"),D("year",1),le("Y",ie),le("YY",Q,Y),le("YYYY",te,K),le("YYYYY",ne,X),le("YYYYYY",ne,X),fe(["YYYYY","YYYYYY"],0),fe("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):E(e)})),fe("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),fe("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return E(e)+(E(e)>68?1900:2e3)};var ye,be=we("FullYear",!0);function we(e,t){return function(n){return null!=n?(Ee(this,e,n),r.updateOffset(this,t),this):_e(this,e)}}function _e(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ee(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ve(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Se(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Se(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?ve(e)?29:28:31-r%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),R("month","M"),D("month",8),le("M",Q),le("MM",Q,Y),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),fe(["M","MM"],(function(e,t){t[1]=E(e)-1})),fe(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:f(n).invalidMonth=e}));var xe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Oe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ke(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ye.call(this._shortMonthsParse,o))?i:null:-1!==(i=ye.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=ye.call(this._shortMonthsParse,o))||-1!==(i=ye.call(this._longMonthsParse,o))?i:null:-1!==(i=ye.call(this._longMonthsParse,o))||-1!==(i=ye.call(this._shortMonthsParse,o))?i:null}function Me(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=E(t);else if(!s(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ae(e){return null!=e?(Me(this,e),r.updateOffset(this,!0),this):_e(this,"Month")}var Ce=se,Le=se;function Pe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=de(r[t]),i[t]=de(i[t]);for(t=0;t<24;t++)a[t]=de(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Re(e,t,n,r,i,a,o){var s=new Date(e,t,n,r,i,a,o);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function Ie(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ne(e,t,n){var r=7+t-n;return-(7+Ie(e,0,r).getUTCDay()-t)%7+r-1}function je(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+Ne(e,r,i);return s<=0?o=ge(a=e-1)+s:s>ge(e)?(a=e+1,o=s-ge(e)):(a=e,o=s),{year:a,dayOfYear:o}}function De(e,t,n){var r,i,a=Ne(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+ze(i=e.year()-1,t,n):o>ze(e.year(),t,n)?(r=o-ze(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function ze(e,t,n){var r=Ne(e,t,n),i=Ne(e+1,t,n);return(ge(e)-r+i)/7}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),D("week",5),D("isoWeek",5),le("w",Q),le("ww",Q,Y),le("W",Q),le("WW",Q,Y),pe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=E(e)})),V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),D("day",11),D("weekday",11),D("isoWeekday",11),le("d",Q),le("e",Q),le("E",Q),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),pe(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e})),pe(["d","e","E"],(function(e,t,n,r){t[r]=E(e)}));var Fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ue="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Be="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function He(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ye.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ye.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=ye.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=ye.call(this._weekdaysParse,o))||-1!==(i=ye.call(this._shortWeekdaysParse,o))||-1!==(i=ye.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ye.call(this._shortWeekdaysParse,o))||-1!==(i=ye.call(this._weekdaysParse,o))||-1!==(i=ye.call(this._minWeekdaysParse,o))?i:null:-1!==(i=ye.call(this._minWeekdaysParse,o))||-1!==(i=ye.call(this._weekdaysParse,o))||-1!==(i=ye.call(this._shortWeekdaysParse,o))?i:null}var Ve=se,Ge=se,We=se;function qe(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),c.push(a),l.push(r),l.push(i),l.push(a);for(o.sort(e),s.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)s[t]=de(s[t]),c[t]=de(c[t]),l[t]=de(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ye(){return this.hours()%12||12}function Ze(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ke(e,t){return t._meridiemParse}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Ye),V("k",["kk",2],0,(function(){return this.hours()||24})),V("hmm",0,0,(function(){return""+Ye.apply(this)+z(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Ye.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+z(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)})),Ze("a",!0),Ze("A",!1),R("hour","h"),D("hour",13),le("a",Ke),le("A",Ke),le("H",Q),le("h",Q),le("k",Q),le("HH",Q,Y),le("hh",Q,Y),le("kk",Q,Y),le("hmm",J),le("hmmss",$),le("Hmm",J),le("Hmmss",$),fe(["H","HH"],3),fe(["k","kk"],(function(e,t,n){var r=E(e);t[3]=24===r?0:r})),fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),fe(["h","hh"],(function(e,t,n){t[3]=E(e),f(n).bigHour=!0})),fe("hmm",(function(e,t,n){var r=e.length-2;t[3]=E(e.substr(0,r)),t[4]=E(e.substr(r)),f(n).bigHour=!0})),fe("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=E(e.substr(0,r)),t[4]=E(e.substr(r,2)),t[5]=E(e.substr(i)),f(n).bigHour=!0})),fe("Hmm",(function(e,t,n){var r=e.length-2;t[3]=E(e.substr(0,r)),t[4]=E(e.substr(r))})),fe("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=E(e.substr(0,r)),t[4]=E(e.substr(r,2)),t[5]=E(e.substr(i))}));var Xe,Qe=we("Hours",!0),Je={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Te,monthsShort:Oe,week:{dow:0,doy:6},weekdays:Fe,weekdaysMin:Be,weekdaysShort:Ue,meridiemParse:/[ap]\.?m?\.?/i},$e={},et={};function tt(e){return e?e.toLowerCase().replace("_","-"):e}function nt(t){var n=null;if(!$e[t]&&"undefined"!==typeof e&&e&&e.exports)try{n=Xe._abbr,!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),rt(n)}catch(r){}return $e[t]}function rt(e,t){var n;return e&&((n=o(t)?at(e):it(e,t))?Xe=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Xe._abbr}function it(e,t){if(null!==t){var n,r=Je;if(t.abbr=e,null!=$e[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=$e[e]._config;else if(null!=t.parentLocale)if(null!=$e[t.parentLocale])r=$e[t.parentLocale]._config;else{if(null==(n=nt(t.parentLocale)))return et[t.parentLocale]||(et[t.parentLocale]=[]),et[t.parentLocale].push({name:e,config:t}),null;r=n._config}return $e[e]=new L(C(r,t)),et[e]&&et[e].forEach((function(e){it(e.name,e.config)})),rt(e),$e[e]}return delete $e[e],null}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!i(e)){if(t=nt(e))return t;e=[e]}return function(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=tt(e[a]).split("-")).length,n=(n=tt(e[a+1]))?n.split("-"):null;t>0;){if(r=nt(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}a++}return Xe}(e)}function ot(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Se(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}function st(e,t,n){return null!=e?e:null!=t?t:n}function ct(e){var t,n,i,a,o,s=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,a,o,s,c;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,o=4,n=st(t.GG,e._a[0],De(St(),1,4).year),r=st(t.W,1),((i=st(t.E,1))<1||i>7)&&(c=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var l=De(St(),a,o);n=st(t.gg,e._a[0],l.year),r=st(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(c=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(c=!0)):i=a}r<1||r>ze(n,a,o)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(s=je(n,r,i,a,o),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=st(e._a[0],i[0]),(e._dayOfYear>ge(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=Ie(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ie:Re).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==a&&(f(e).weekdayMismatch=!0)}}var lt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ut=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/Z|[+-]\d\d(?::?\d\d)?/,ht=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ft=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pt=/^\/?Date\((\-?\d+)/i;function mt(e){var t,n,r,i,a,o,s=e._i,c=lt.exec(s)||ut.exec(s);if(c){for(f(e).iso=!0,t=0,n=ht.length;t<n;t++)if(ht[t][1].exec(c[1])){i=ht[t][0],r=!1!==ht[t][2];break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,n=ft.length;t<n;t++)if(ft[t][1].exec(c[3])){a=(c[2]||" ")+ft[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(c[4]){if(!dt.exec(c[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),wt(e)}else e._isValid=!1}var gt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function vt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var yt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function bt(e){var t=gt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(t){var n=function(e,t,n,r,i,a){var o=[vt(e),Oe.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Ue.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return yt[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(t[8],t[9],t[10]),e._d=Ie.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function wt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],f(e).empty=!0;var t,n,i,a,o,s=""+e._i,c=s.length,l=0;for(i=W(e._f,e._locale).match(F)||[],t=0;t<i.length;t++)a=i[t],(n=(s.match(ue(a,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&f(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),H[a]?(n?f(e).empty=!1:f(e).unusedTokens.push(a),me(a,n,e)):e._strict&&!n&&f(e).unusedTokens.push(a);f(e).charsLeftOver=c-l,s.length>0&&f(e).unusedInput.push(s),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),ct(e),ot(e)}else bt(e);else mt(e)}function _t(e){var t=e._i,n=e._f;return e._locale=e._locale||at(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new b(ot(t)):(c(t)?e._d=t:i(n)?function(e){var t,n,r,i,a;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],wt(t),p(t)&&(a+=f(t).charsLeftOver,a+=10*f(t).unusedTokens.length,f(t).score=a,(null==r||a<r)&&(r=a,n=t));d(e,n||t)}(e):n?wt(e):function(e){var t=e._i;o(t)?e._d=new Date(r.now()):c(t)?e._d=new Date(t.valueOf()):"string"===typeof t?function(e){var t=pt.exec(e._i);null===t?(mt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=l(t.slice(0),(function(e){return parseInt(e,10)})),ct(e)):a(t)?function(e){if(!e._d){var t=N(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ct(e)}}(e):s(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),p(e)||(e._d=null),e))}function Et(e,t,n,r,o){var s={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=n,s._i=e,s._f=t,s._strict=r,function(e){var t=new b(ot(_t(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function St(e,t,n,r){return Et(e,t,n,r,!1)}r.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var xt=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Tt=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Ot(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return St();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var kt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=N(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ye.call(kt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<kt.length;++r)if(e[kt[r]]){if(n)return!1;parseFloat(e[kt[r]])!==E(e[kt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=at(),this._bubble()}function At(e){return e instanceof Mt}function Ct(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Lt(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+z(~~(e/60),2)+t+z(~~e%60,2)}))}Lt("Z",":"),Lt("ZZ",""),le("Z",oe),le("ZZ",oe),fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Rt(oe,e)}));var Pt=/([\+\-]|\d\d)/gi;function Rt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Pt)||["-",0,0],i=60*r[1]+E(r[2]);return 0===i?0:"+"===r[0]?i:-i}function It(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(w(e)||c(e)?e.valueOf():St(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):St(e).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function jt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Dt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ft(e,t){var n,r,i,a=e,o=null;return At(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=Dt.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:E(o[2])*n,h:E(o[3])*n,m:E(o[4])*n,s:E(o[5])*n,ms:E(Ct(1e3*o[6]))*n}):(o=zt.exec(e))?(n="-"===o[1]?-1:(o[1],1),a={y:Ut(o[2],n),M:Ut(o[3],n),w:Ut(o[4],n),d:Ut(o[5],n),h:Ut(o[6],n),m:Ut(o[7],n),s:Ut(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=It(t,e),e.isBefore(t)?n=Bt(e,t):((n=Bt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(St(a.from),St(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new Mt(a),At(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function Ut(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Bt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ht(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Vt(this,Ft(n="string"===typeof n?+n:n,r),e),this}}function Vt(e,t,n,i){var a=t._milliseconds,o=Ct(t._days),s=Ct(t._months);e.isValid()&&(i=null==i||i,s&&Me(e,_e(e,"Month")+s*n),o&&Ee(e,"Date",_e(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Ft.fn=Mt.prototype,Ft.invalid=function(){return Ft(NaN)};var Gt=Ht(1,"add"),Wt=Ht(-1,"subtract");function qt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Yt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=at(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zt=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Kt(){return this._locale}function Xt(e,t){V(0,[e,e.length],0,t)}function Qt(e,t,n,r,i){var a;return null==e?De(this,r,i).year:(t>(a=ze(e,r,i))&&(t=a),Jt.call(this,e,t,n,r,i))}function Jt(e,t,n,r,i){var a=je(e,t,n,r,i),o=Ie(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Xt("gggg","weekYear"),Xt("ggggg","weekYear"),Xt("GGGG","isoWeekYear"),Xt("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),D("weekYear",1),D("isoWeekYear",1),le("G",ie),le("g",ie),le("GG",Q,Y),le("gg",Q,Y),le("GGGG",te,K),le("gggg",te,K),le("GGGGG",ne,X),le("ggggg",ne,X),pe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=E(e)})),pe(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),R("quarter","Q"),D("quarter",7),le("Q",q),fe("Q",(function(e,t){t[1]=3*(E(e)-1)})),V("D",["DD",2],"Do","date"),R("date","D"),D("date",9),le("D",Q),le("DD",Q,Y),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),fe(["D","DD"],2),fe("Do",(function(e,t){t[2]=E(e.match(Q)[0])}));var $t=we("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),D("dayOfYear",4),le("DDD",ee),le("DDDD",Z),fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=E(e)})),V("m",["mm",2],0,"minute"),R("minute","m"),D("minute",14),le("m",Q),le("mm",Q,Y),fe(["m","mm"],4);var en=we("Minutes",!1);V("s",["ss",2],0,"second"),R("second","s"),D("second",15),le("s",Q),le("ss",Q,Y),fe(["s","ss"],5);var tn,nn=we("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),R("millisecond","ms"),D("millisecond",16),le("S",ee,q),le("SS",ee,Y),le("SSS",ee,Z),tn="SSSS";tn.length<=9;tn+="S")le(tn,re);function rn(e,t){t[6]=E(1e3*("0."+e))}for(tn="S";tn.length<=9;tn+="S")fe(tn,rn);var an=we("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var on=b.prototype;function sn(e){return e}on.add=Gt,on.calendar=function(e,t){var n=e||St(),i=It(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(A(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,St(n)))},on.clone=function(){return new b(this)},on.diff=function(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=It(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t)){case"year":a=qt(this,r)/12;break;case"month":a=qt(this,r);break;case"quarter":a=qt(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:_(a)},on.endOf=function(e){return void 0===(e=I(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},on.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)},on.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||St(e).isValid())?Ft({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},on.fromNow=function(e){return this.from(St(),e)},on.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||St(e).isValid())?Ft({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},on.toNow=function(e){return this.to(St(),e)},on.get=function(e){return A(this[e=I(e)])?this[e]():this},on.invalidAt=function(){return f(this).overflow},on.isAfter=function(e,t){var n=w(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(o(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},on.isBefore=function(e,t){var n=w(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(o(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},on.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},on.isSame=function(e,t){var n,r=w(e)?e:St(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=I(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},on.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},on.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},on.isValid=function(){return p(this)},on.lang=Zt,on.locale=Yt,on.localeData=Kt,on.max=Tt,on.min=xt,on.parsingFlags=function(){return d({},f(this))},on.set=function(e,t){if("object"===typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:j[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=N(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(A(this[e=I(e)]))return this[e](t);return this},on.startOf=function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},on.subtract=Wt,on.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},on.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},on.toDate=function(){return new Date(this.valueOf())},on.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(n,"Z")):G(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},on.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},on.toJSON=function(){return this.isValid()?this.toISOString():null},on.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},on.unix=function(){return Math.floor(this.valueOf()/1e3)},on.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},on.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},on.year=be,on.isLeapYear=function(){return ve(this.year())},on.weekYear=function(e){return Qt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},on.isoWeekYear=function(e){return Qt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},on.quarter=on.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},on.month=Ae,on.daysInMonth=function(){return Se(this.year(),this.month())},on.week=on.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},on.isoWeek=on.isoWeeks=function(e){var t=De(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},on.weeksInYear=function(){var e=this.localeData()._week;return ze(this.year(),e.dow,e.doy)},on.isoWeeksInYear=function(){return ze(this.year(),1,4)},on.date=$t,on.day=on.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},on.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},on.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},on.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},on.hour=on.hours=Qe,on.minute=on.minutes=en,on.second=on.seconds=nn,on.millisecond=on.milliseconds=an,on.utcOffset=function(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=Rt(oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Nt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Vt(this,Ft(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Nt(this)},on.utc=function(e){return this.utcOffset(0,e)},on.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this},on.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=Rt(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},on.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60===0)},on.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},on.isLocal=function(){return!!this.isValid()&&!this._isUTC},on.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},on.isUtc=jt,on.isUTC=jt,on.zoneAbbr=function(){return this._isUTC?"UTC":""},on.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},on.dates=T("dates accessor is deprecated. Use date instead.",$t),on.months=T("months accessor is deprecated. Use month instead",Ae),on.years=T("years accessor is deprecated. Use year instead",be),on.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),on.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=_t(e))._a){var t=e._isUTC?h(e._a):St(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var cn=L.prototype;function ln(e,t,n,r){var i=at(),a=h().set(r,t);return i[n](a,e)}function un(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return ln(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ln(e,r,n,"month");return i}function dn(e,t,n,r){"boolean"===typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i,a=at(),o=e?a._week.dow:0;if(null!=n)return ln(t,(n+o)%7,r,"day");var c=[];for(i=0;i<7;i++)c[i]=ln(t,(i+o)%7,r,"day");return c}cn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r},cn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},cn.invalidDate=function(){return this._invalidDate},cn.ordinal=function(e){return this._ordinal.replace("%d",e)},cn.preparse=sn,cn.postformat=sn,cn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)},cn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)},cn.set=function(e){var t,n;for(n in e)A(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},cn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||xe).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},cn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xe.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},cn.monthsParse=function(e,t,n){var r,i,a;if(this._monthsParseExact)return ke.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},cn.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},cn.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Ce),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},cn.week=function(e){return De(e,this._week.dow,this._week.doy).week},cn.firstDayOfYear=function(){return this._week.doy},cn.firstDayOfWeek=function(){return this._week.dow},cn.weekdays=function(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},cn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},cn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},cn.weekdaysParse=function(e,t,n){var r,i,a;if(this._weekdaysParseExact)return He.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},cn.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ve),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},cn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ge),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},cn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=We),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},cn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},cn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},rt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=T("moment.lang is deprecated. Use moment.locale instead.",rt),r.langData=T("moment.langData is deprecated. Use moment.localeData instead.",at);var hn=Math.abs;function fn(e,t,n,r){var i=Ft(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function pn(e){return e<0?Math.floor(e):Math.ceil(e)}function mn(e){return 4800*e/146097}function gn(e){return 146097*e/4800}function vn(e){return function(){return this.as(e)}}var yn=vn("ms"),bn=vn("s"),wn=vn("m"),_n=vn("h"),En=vn("d"),Sn=vn("w"),xn=vn("M"),Tn=vn("y");function On(e){return function(){return this.isValid()?this._data[e]:NaN}}var kn=On("milliseconds"),Mn=On("seconds"),An=On("minutes"),Cn=On("hours"),Ln=On("days"),Pn=On("months"),Rn=On("years"),In=Math.round,Nn={ss:44,s:45,m:45,h:22,d:26,M:11};function jn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var Dn=Math.abs;function zn(e){return(e>0)-(e<0)||+e}function Fn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Dn(this._milliseconds)/1e3,r=Dn(this._days),i=Dn(this._months);e=_(n/60),t=_(e/60),n%=60,e%=60;var a=_(i/12),o=i%=12,s=r,c=t,l=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=zn(this._months)!==zn(d)?"-":"",p=zn(this._days)!==zn(d)?"-":"",m=zn(this._milliseconds)!==zn(d)?"-":"";return h+"P"+(a?f+a+"Y":"")+(o?f+o+"M":"")+(s?p+s+"D":"")+(c||l||u?"T":"")+(c?m+c+"H":"")+(l?m+l+"M":"")+(u?m+u+"S":"")}var Un=Mt.prototype;return Un.isValid=function(){return this._isValid},Un.abs=function(){var e=this._data;return this._milliseconds=hn(this._milliseconds),this._days=hn(this._days),this._months=hn(this._months),e.milliseconds=hn(e.milliseconds),e.seconds=hn(e.seconds),e.minutes=hn(e.minutes),e.hours=hn(e.hours),e.months=hn(e.months),e.years=hn(e.years),this},Un.add=function(e,t){return fn(this,e,t,1)},Un.subtract=function(e,t){return fn(this,e,t,-1)},Un.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"year"===e)return t=this._days+r/864e5,n=this._months+mn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(gn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Un.asMilliseconds=yn,Un.asSeconds=bn,Un.asMinutes=wn,Un.asHours=_n,Un.asDays=En,Un.asWeeks=Sn,Un.asMonths=xn,Un.asYears=Tn,Un.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},Un._bubble=function(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,c=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*pn(gn(s)+o),o=0,s=0),c.milliseconds=a%1e3,e=_(a/1e3),c.seconds=e%60,t=_(e/60),c.minutes=t%60,n=_(t/60),c.hours=n%24,o+=_(n/24),i=_(mn(o)),s+=i,o-=pn(gn(i)),r=_(s/12),s%=12,c.days=o,c.months=s,c.years=r,this},Un.clone=function(){return Ft(this)},Un.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Un.milliseconds=kn,Un.seconds=Mn,Un.minutes=An,Un.hours=Cn,Un.days=Ln,Un.weeks=function(){return _(this.days()/7)},Un.months=Pn,Un.years=Rn,Un.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Ft(e).abs(),i=In(r.as("s")),a=In(r.as("m")),o=In(r.as("h")),s=In(r.as("d")),c=In(r.as("M")),l=In(r.as("y")),u=i<=Nn.ss&&["s",i]||i<Nn.s&&["ss",i]||a<=1&&["m"]||a<Nn.m&&["mm",a]||o<=1&&["h"]||o<Nn.h&&["hh",o]||s<=1&&["d"]||s<Nn.d&&["dd",s]||c<=1&&["M"]||c<Nn.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,jn.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Un.toISOString=Fn,Un.toString=Fn,Un.toJSON=Fn,Un.locale=Yt,Un.localeData=Kt,Un.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fn),Un.lang=Zt,V("X",0,0,"unix"),V("x",0,0,"valueOf"),le("x",ie),le("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),fe("x",(function(e,t,n){n._d=new Date(E(e))})),r.version="2.22.2",t=St,r.fn=on,r.min=function(){var e=[].slice.call(arguments,0);return Ot("isBefore",e)},r.max=function(){var e=[].slice.call(arguments,0);return Ot("isAfter",e)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=h,r.unix=function(e){return St(1e3*e)},r.months=function(e,t){return un(e,t,"months")},r.isDate=c,r.locale=rt,r.invalid=m,r.duration=Ft,r.isMoment=w,r.weekdays=function(e,t,n){return dn(e,t,n,"weekdays")},r.parseZone=function(){return St.apply(null,arguments).parseZone()},r.localeData=at,r.isDuration=At,r.monthsShort=function(e,t){return un(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return dn(e,t,n,"weekdaysMin")},r.defineLocale=it,r.updateLocale=function(e,t){if(null!=t){var n,r,i=Je;null!=(r=nt(e))&&(i=r._config),t=C(i,t),(n=new L(t)).parentLocale=$e[e],$e[e]=n,rt(e)}else null!=$e[e]&&(null!=$e[e].parentLocale?$e[e]=$e[e].parentLocale:null!=$e[e]&&delete $e[e]);return $e[e]},r.locales=function(){return O($e)},r.weekdaysShort=function(e,t,n){return dn(e,t,n,"weekdaysShort")},r.normalizeUnits=I,r.relativeTimeRounding=function(e){return void 0===e?In:"function"===typeof e&&(In=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Nn[e]&&(void 0===t?Nn[e]:(Nn[e]=t,"s"===e&&(Nn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=on,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(139)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(0),i=n.n(r);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return function(){return e}}var f=function(){};f.thatReturns=h,f.thatReturnsFalse=h(!1),f.thatReturnsTrue=h(!0),f.thatReturnsNull=h(null),f.thatReturnsThis=function(){return this},f.thatReturnsArgument=function(e){return e};var p=f;var m=function(e,t,n,r,i,a,o,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}},g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;function b(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}})()&&Object.assign;var w="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";var _=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,n,r,i,a){a!==w&&m(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=p,n.PropTypes=n,n}()})),E={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},S=function(e,t){var n;"function"===typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):((n=document.createEvent("Event")).initEvent(e,!1,!0),n.detail=t),window.dispatchEvent(n)};var x=function(e,t){var n=this.state.show,r=this.props.id,i=this.isCapture(t.currentTarget),a=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),n&&"true"===a?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),T(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},T=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},O={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:o({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}};var k=function(e,t,n){var r=t.respectEffect,i=void 0!==r&&r,a=t.customEvent,o=void 0!==a&&a,s=this.props.id,c=n.target.getAttribute("data-tip")||null,l=n.target.getAttribute("data-for")||null,u=n.target;if(!this.isCustomEvent(u)||o){var d=null==s&&null==l||l===s;if(null!=c&&(!i||"float"===this.getEffect(u))&&d){var h=function(e){var t={};for(var n in e)"function"===typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);h.currentTarget=u,e(h)}}},M=function(e,t){var n={};return e.forEach((function(e){var r=e.getAttribute(t);r&&r.split(" ").forEach((function(e){return n[e]=!0}))})),n},A=function(){return document.getElementsByTagName("body")[0]};function C(e,t,n,r,i,a,o){for(var s=I(n),c=s.width,l=s.height,u=I(t),d=u.width,h=u.height,f=N(e,t,a),p=f.mouseX,m=f.mouseY,g=j(a,d,h,c,l),v=D(o),y=v.extraOffset_X,b=v.extraOffset_Y,w=window.innerWidth,_=window.innerHeight,E=z(n),S=E.parentTop,x=E.parentLeft,T=function(e){var t=g[e].l;return p+t+y},O=function(e){var t=g[e].t;return m+t+b},k=function(e){return function(e){var t=g[e].r;return p+t+y}(e)>w},M=function(e){return function(e){var t=g[e].b;return m+t+b}(e)>_},A=function(e){return function(e){return T(e)<0}(e)||k(e)||function(e){return O(e)<0}(e)||M(e)},C=function(e){return!A(e)},L=["top","bottom","left","right"],P=[],R=0;R<4;R++){var F=L[R];C(F)&&P.push(F)}var U,B=!1,H=i!==r;return C(i)&&H?(B=!0,U=i):P.length>0&&H&&A(i)&&A(r)&&(B=!0,U=P[0]),B?{isNewState:!0,newState:{place:U}}:{isNewState:!1,position:{left:parseInt(T(r)-x,10),top:parseInt(O(r)-S,10)}}}var L,P,R,I=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},N=function(e,t,n){var r=t.getBoundingClientRect(),i=r.top,a=r.left,o=I(t),s=o.width,c=o.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:a+s/2,mouseY:i+c/2}},j=function(e,t,n,r,i){var a,o,s,c;return"float"===e?(a={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},c={l:-(r+3+2),r:-3,t:-i/2,b:i/2},o={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===e&&(a={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},c={l:-(r+t/2+2),r:-t/2,t:-i/2,b:i/2},o={l:t/2,r:r+t/2+2,t:-i/2,b:i/2}),{top:a,bottom:s,left:c,right:o}},D=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/\'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffset_X:t,extraOffset_Y:n}},z=function(e){for(var t=e;t&&"none"===window.getComputedStyle(t).getPropertyValue("transform");)t=t.parentElement;return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function F(e,t,n,r){if(t)return t;if(void 0!==n&&null!==n)return n;if(null===n)return null;var a=/<br\s*\/?>/;return r&&"false"!==r&&a.test(e)?e.split(a).map((function(e,t){return i.a.createElement("span",{key:t,className:"multi-line"},e)})):e}function U(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}!function(e){if(e&&"undefined"!==typeof window){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}}('.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip:before, .__react_component_tooltip:after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0px;\n  margin-left: 0px;\n  visibility: visible;\n}\n.__react_component_tooltip.type-dark {\n  color: #fff;\n  background-color: #222;\n}\n.__react_component_tooltip.type-dark.place-top:after {\n  border-top-color: #222;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-dark.place-bottom:after {\n  border-bottom-color: #222;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-dark.place-left:after {\n  border-left-color: #222;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-dark.place-right:after {\n  border-right-color: #222;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-dark.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-dark.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-dark.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-dark.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-dark.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-success {\n  color: #fff;\n  background-color: #8DC572;\n}\n.__react_component_tooltip.type-success.place-top:after {\n  border-top-color: #8DC572;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-success.place-bottom:after {\n  border-bottom-color: #8DC572;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-success.place-left:after {\n  border-left-color: #8DC572;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-success.place-right:after {\n  border-right-color: #8DC572;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-success.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-success.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-success.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-success.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-success.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-warning {\n  color: #fff;\n  background-color: #F0AD4E;\n}\n.__react_component_tooltip.type-warning.place-top:after {\n  border-top-color: #F0AD4E;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-warning.place-bottom:after {\n  border-bottom-color: #F0AD4E;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-warning.place-left:after {\n  border-left-color: #F0AD4E;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-warning.place-right:after {\n  border-right-color: #F0AD4E;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-warning.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-warning.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-warning.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-warning.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-warning.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-error {\n  color: #fff;\n  background-color: #BE6464;\n}\n.__react_component_tooltip.type-error.place-top:after {\n  border-top-color: #BE6464;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-error.place-bottom:after {\n  border-bottom-color: #BE6464;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-error.place-left:after {\n  border-left-color: #BE6464;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-error.place-right:after {\n  border-right-color: #BE6464;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-error.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-error.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-error.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-error.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-error.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-info {\n  color: #fff;\n  background-color: #337AB7;\n}\n.__react_component_tooltip.type-info.place-top:after {\n  border-top-color: #337AB7;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-info.place-bottom:after {\n  border-bottom-color: #337AB7;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-info.place-left:after {\n  border-left-color: #337AB7;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-info.place-right:after {\n  border-right-color: #337AB7;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-info.border {\n  border: 1px solid #fff;\n}\n.__react_component_tooltip.type-info.border.place-top:before {\n  border-top: 8px solid #fff;\n}\n.__react_component_tooltip.type-info.border.place-bottom:before {\n  border-bottom: 8px solid #fff;\n}\n.__react_component_tooltip.type-info.border.place-left:before {\n  border-left: 8px solid #fff;\n}\n.__react_component_tooltip.type-info.border.place-right:before {\n  border-right: 8px solid #fff;\n}\n.__react_component_tooltip.type-light {\n  color: #222;\n  background-color: #fff;\n}\n.__react_component_tooltip.type-light.place-top:after {\n  border-top-color: #fff;\n  border-top-style: solid;\n  border-top-width: 6px;\n}\n.__react_component_tooltip.type-light.place-bottom:after {\n  border-bottom-color: #fff;\n  border-bottom-style: solid;\n  border-bottom-width: 6px;\n}\n.__react_component_tooltip.type-light.place-left:after {\n  border-left-color: #fff;\n  border-left-style: solid;\n  border-left-width: 6px;\n}\n.__react_component_tooltip.type-light.place-right:after {\n  border-right-color: #fff;\n  border-right-style: solid;\n  border-right-width: 6px;\n}\n.__react_component_tooltip.type-light.border {\n  border: 1px solid #222;\n}\n.__react_component_tooltip.type-light.border.place-top:before {\n  border-top: 8px solid #222;\n}\n.__react_component_tooltip.type-light.border.place-bottom:before {\n  border-bottom: 8px solid #222;\n}\n.__react_component_tooltip.type-light.border.place-left:before {\n  border-left: 8px solid #222;\n}\n.__react_component_tooltip.type-light.border.place-right:before {\n  border-right: 8px solid #222;\n}\n.__react_component_tooltip.place-top {\n  margin-top: -10px;\n}\n.__react_component_tooltip.place-top:before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-top:after {\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  bottom: -6px;\n  left: 50%;\n  margin-left: -8px;\n}\n.__react_component_tooltip.place-bottom {\n  margin-top: 10px;\n}\n.__react_component_tooltip.place-bottom:before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom:after {\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  top: -6px;\n  left: 50%;\n  margin-left: -8px;\n}\n.__react_component_tooltip.place-left {\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left:before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-left:after {\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  right: -6px;\n  top: 50%;\n  margin-top: -4px;\n}\n.__react_component_tooltip.place-right {\n  margin-left: 10px;\n}\n.__react_component_tooltip.place-right:before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right:after {\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  left: -6px;\n  top: 50%;\n  margin-top: -4px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0px;\n  text-align: center;\n}');var B,H=function(e){e.hide=function(e){S(E.HIDE,{target:e})},e.rebuild=function(){S(E.REBUILD)},e.show=function(e){S(E.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t={currentTarget:e.detail.target};this.showTooltip(t,!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(L=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(E.HIDE,this.globalHide),window.addEventListener(E.HIDE,this.globalHide,!1),window.removeEventListener(E.REBUILD,this.globalRebuild),window.addEventListener(E.REBUILD,this.globalRebuild,!1),window.removeEventListener(E.SHOW,this.globalShow),window.addEventListener(E.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(E.HIDE,this.globalHide),window.removeEventListener(E.REBUILD,this.globalRebuild),window.removeEventListener(E.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(L=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,a=e.getAttribute("data-event")||r,o=e.getAttribute("data-event-off")||i;a.split(" ").forEach((function(n){e.removeEventListener(n,O.get(e,n));var r=x.bind(t,o);O.set(e,n,r),e.addEventListener(n,r,!1)})),o&&o.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),a=r||e.getAttribute("data-event-off");e.removeEventListener(i,O.get(e,n)),a&&e.removeEventListener(a,this.hideTooltip)}}(L=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(L=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(L=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,a=n.possibleCustomEvents,o=n.possibleCustomEventsOff,s=A(),c=M(e,"data-event"),l=M(e,"data-event-off");null!=r&&(c[r]=!0),null!=i&&(l[i]=!0),a.split(" ").forEach((function(e){return c[e]=!0})),o.split(" ").forEach((function(e){return l[e]=!0})),this.unbindBodyListener(s);var u=this.bodyModeListeners={};for(var d in null==r&&(u.mouseover=k.bind(this,this.showTooltip,{}),u.mousemove=k.bind(this,this.updateTooltip,{respectEffect:!0}),u.mouseout=k.bind(this,this.hideTooltip,{})),c)u[d]=k.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||i;x.call(t,n,e)}),{customEvent:!0});for(var h in l)u[h]=k.bind(this,this.hideTooltip,{customEvent:!0});for(var f in u)s.addEventListener(f,u[f])},e.prototype.unbindBodyListener=function(e){e=e||A();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((R=P=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,l(t).call(this,e))).state={place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:U(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}var n,r,h;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,h=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=U(e);return Object.keys(r).some((function(e){return r[e]!==n[e]}))?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{ariaProps:r}):null}}],(r=[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.insecure,e.resizeHide);this.bindListener(),this.bindWindowEvents(t)}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(),this.unbindWindowEvents()}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t;if(e){var n=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t=document.querySelectorAll('[data-tip][data-for="'.concat(n,'"]'))}else t=document.querySelectorAll("[data-tip]:not([data-for])");return function(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}(t)}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,i=t.isCapture,a=this.getTargetArray(n);a.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(a):a.forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,r=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),F(this.state.originTooltip,r,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"===typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(!t||this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget}))){var n=this.props,r=n.multiline,i=n.getContent,a=e.currentTarget.getAttribute("data-tip"),o=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,c=!0;e.currentTarget.getAttribute("data-scroll-hide")?c="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(c=this.props.scrollHide);var l=e.currentTarget.getAttribute("data-place")||this.props.place||"top",u=s?"solid":this.getEffect(e.currentTarget),d=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},h=C(e,e.currentTarget,this.tooltipRef,l,l,u,d);h.position&&this.props.overridePosition&&(h.position=this.props.overridePosition(h.position,e.currentTarget,this.tooltipRef,l,l,u,d));var f=h.isNewState?h.newState.place:l;this.clearTimer();var p=e.currentTarget,m=this.state.show?p.getAttribute("data-delay-update")||this.props.delayUpdate:0,g=this,v=function(){g.setState({originTooltip:a,isMultiline:o,desiredPlace:l,place:f,type:p.getAttribute("data-type")||g.props.type||"dark",effect:u,offset:d,html:p.getAttribute("data-html")?"true"===p.getAttribute("data-html"):g.props.html||!1,delayShow:p.getAttribute("data-delay-show")||g.props.delayShow||0,delayHide:p.getAttribute("data-delay-hide")||g.props.delayHide||0,delayUpdate:p.getAttribute("data-delay-update")||g.props.delayUpdate||0,border:p.getAttribute("data-border")?"true"===p.getAttribute("data-border"):g.props.border||!1,extraClass:p.getAttribute("data-class")||g.props.class||g.props.className||"",disable:p.getAttribute("data-tip-disable")?"true"===p.getAttribute("data-tip-disable"):g.props.disable||!1,currentTarget:p},(function(){c&&g.addScrollListener(g.state.currentTarget),g.updateTooltip(e),i&&Array.isArray(i)&&(g.intervalUpdateContent=setInterval((function(){if(g.mount){var e=g.props.getContent,t=F(a,"",e[0](),o),n=g.isEmptyTip(t);g.setState({isEmptyTip:n}),g.updatePosition()}}),i[1]))}))};m?this.delayReshow=setTimeout(v,m):v()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,i=n.disable,a=this.props.afterShow,o=this.getTooltipContent(),s=parseInt(r,10),c=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(o)&&!i){var l=function(){if(Array.isArray(o)&&o.length>0||o){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:c,show:!0},(function(){t.updatePosition(),n&&a&&a(e)}))}};clearTimeout(this.delayShowLoop),r?this.delayShowLoop=setTimeout(l,s):l()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,a=r.isScroll,o=a?0:this.state.delayHide,s=this.props.afterHide,c=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(c)&&!i){if(t){var l=this.getTargetArray(this.props.id),u=l.some((function(t){return t===e.currentTarget}));if(!u||!this.state.show)return}var d=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(),t&&s&&s(e)})))};this.clearTimer(),o?this.delayHideLoop=setTimeout(d,parseInt(o,10)):d()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(){window.removeEventListener("scroll",this.hideTooltipOnScroll)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,r=t.currentTarget,i=t.place,a=t.desiredPlace,o=t.effect,s=t.offset,c=this.tooltipRef,l=C(n,r,c,i,a,o,s);if(l.position&&this.props.overridePosition&&(l.position=this.props.overridePosition(l.position,n,r,c,i,a,o,s)),l.isNewState)return this.setState(l.newState,(function(){e.updatePosition()}));c.style.left=l.position.left+"px",c.style.top=l.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"render",value:function(){var e=this,n=this.state,r=n.extraClass,a=n.html,o=n.ariaProps,c=n.disable,l=this.getTooltipContent(),u=this.isEmptyTip(l),d="__react_component_tooltip"+(!this.state.show||c||u?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),h=this.props.wrapper;t.supportedWrappers.indexOf(h)<0&&(h=t.defaultProps.wrapper);var f=[d,r].filter(Boolean).join(" ");return a?i.a.createElement(h,s({className:f,id:this.props.id,ref:function(t){return e.tooltipRef=t}},o,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:l}})):i.a.createElement(h,s({className:f,id:this.props.id},o,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),l)}}])&&a(n.prototype,r),h&&a(n,h),t}(i.a.Component),o(P,"propTypes",{children:_.any,place:_.string,type:_.string,effect:_.string,offset:_.object,multiline:_.bool,border:_.bool,insecure:_.bool,class:_.string,className:_.string,id:_.string,html:_.bool,delayHide:_.number,delayUpdate:_.number,delayShow:_.number,event:_.string,eventOff:_.string,watchWindow:_.bool,isCapture:_.bool,globalEventOff:_.string,getContent:_.any,afterShow:_.func,afterHide:_.func,overridePosition:_.func,disable:_.bool,scrollHide:_.bool,resizeHide:_.bool,wrapper:_.string,bodyMode:_.bool,possibleCustomEvents:_.string,possibleCustomEventsOff:_.string,clickable:_.bool}),o(P,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),o(P,"supportedWrappers",["div","span"]),o(P,"displayName","ReactTooltip"),(B=L=R).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},L=void(B.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||L))||L)||L)||L)||L)||L)||L;t.a=H},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(9),o=n(8),s=n(0),c=n.n(s),l=n(1),u=n(39),d=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){Object(l.E)((function(){Object(l.A)(e.props.fetchProfile),e.props.fetchHome(),Object(u.c)(),e.props.callback&&e.props.callback()}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.openZaloPopupFirst&&this.handleClick()}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.className,r=e.children;return c.a.createElement("a",{role:"button",className:n,onClick:this.handleClick}," ".concat(t),r)}}]),n}(s.Component);d.defaultProps={className:""};var h=d,f=n(24),p=n(19),m=n(88),g=n(18);t.a=Object(p.b)((function(e){return{}}),(function(e){return Object(f.b)({fetchHome:m.c,fetchProfile:g.z},e)}))(h)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){var r,i;!function(a){if(void 0===(i="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=a(),!!0){var o=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=o,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,a){var o;if("undefined"!==typeof document){if(arguments.length>1){if("number"===typeof(a=e({path:"/"},r.defaults,a)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}a.expires=a.expires?a.expires.toUTCString():"";try{o=JSON.stringify(i),/^[\{\[]/.test(o)&&(i=o)}catch(g){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in a)a[l]&&(c+="; "+l,!0!==a[l]&&(c+="="+a[l]));return document.cookie=t+"="+i+c}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,h=0;h<u.length;h++){var f=u[h].split("="),p=f.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var m=f[0].replace(d,decodeURIComponent);if(p=n.read?n.read(p,m):n(p,m)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(g){}if(t===m){o=p;break}t||(o[m]=p)}catch(g){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))}))},function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"q",(function(){return b})),n.d(t,"p",(function(){return w})),n.d(t,"o",(function(){return _}));var r=n(21),i=function(){y("Zing MP3 | Nghe t\u1ea3i nh\u1ea1c ch\u1ea5t l\u01b0\u1ee3ng cao tr\xean desktop, mobile v\xe0 TV")},a=function(e,t){y("".concat(e," - ").concat(t," | Album 320 lossless"))},o=function(){y("Ch\u1ee7 \u0110\u1ec1 Nh\u1ea1c Hot | Tuy\u1ec3n t\u1eadp nh\u1ea1c hay ch\u1ecdn l\u1ecdc")},s=function(e){y("".concat(e," | Tuy\u1ec3n t\u1eadp nh\u1ea1c hay ch\u1ecdn l\u1ecdc"))},c=function(){y("#zingchart | Xem b\xe0i h\xe1t, album, MV \u0111ang hot nh\u1ea5t hi\u1ec7n t\u1ea1i")},l=function(e){var t="";switch(e){case"video":t="MV";break;case"playlist":case"album":t="Album";break;default:t="B\xe0i h\xe1t"}y("#zingchart tu\u1ea7n, #zingchart Zing - ".concat(t))},u=function(){y("Top 100 | Tuy\u1ec3n t\u1eadp nh\u1ea1c hay ch\u1ecdn l\u1ecdc")},d=function(){y("Video | Tuy\u1ec3n t\u1eadp nh\u1ea1c hay ch\u1ecdn l\u1ecdc")},h=function(e,t){y("".concat(e," - ").concat(t," | Video Clip MV HD"))},f=function(){y("Ngh\u1ec7 s\u0129 | Xem b\xe0i h\xe1t, album, MV \u0111ang hot nh\u1ea5t hi\u1ec7n t\u1ea1i")},p=function(){y("Nh\u1ea1c c\xe1 nh\xe2n | Xem b\xe0i h\xe1t, album, MV \u0111ang hot nh\u1ea5t hi\u1ec7n t\u1ea1i")},m=function(e){y("".concat(e," - Nh\u1ea1c ").concat(e))},g=function(e,t){y("".concat(e," - ").concat(t," | B\xe0i h\xe1t, lyrics"))},v=function(e,t){document.title="".concat(e," - ").concat(t," | B\xe0i h\xe1t, lyrics")},y=function(e){window.MP3.ISPLAYING||(document.title=e),b(e)},b=function(e){var t=JSON.stringify(e||document.title);r.a.set("TITILE_KEY",t)},w=function(){var e=r.a.get("TITILE_KEY");e&&(document.title=JSON.parse(e))},_=function(e){e&&y("".concat(e," - Zing MP3 Official Account"))}},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(12),o=n(9),s=n(8),c=n(0),l=n.n(c),u=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).onClick=e.onClick.bind(Object(a.a)(e)),e.node=null,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick),document.removeEventListener("mouseup",this.onClick)}},{key:"onClick",value:function(e){var t=e.target;this.node&&(this.node.contains(t)?(0,this.props.toggleIsOpen)():(0,this.props.closeMenu)())}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.children,i=t.onClick;return l.a.createElement("a",{onClick:i||null,className:n,ref:function(t){e.node=t}},r)}}]),n}(c.Component);t.a=u},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(93),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var a=n(79);a.inherits=n(61);var o=n(149),s=n(115);a.inherits(d,o);for(var c=i(s.prototype),l=0;l<c.length;l++){var u=c[l];d.prototype[u]||(d.prototype[u]=s.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){(function(e,r){var i;(function(){var a="Expected a function",o="__lodash_placeholder__",s="[object Arguments]",c="[object Array]",l="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Function]",f="[object Number]",p="[object Object]",m="[object RegExp]",g="[object String]",v="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",_="[object Int32Array]",E="[object Uint8Array]",S="[object Uint16Array]",x="[object Uint32Array]",T=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39|#96);/g,A=/[&<>"'`]/g,C=RegExp(M.source),L=RegExp(A.source),P=/<%-([\s\S]+?)%>/g,R=/<%([\s\S]+?)%>/g,I=/<%=([\s\S]+?)%>/g,N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,j=/^\w*$/,D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,z=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,F=RegExp(z.source),U=/[\u0300-\u036f\ufe20-\ufe23]/g,B=/\\(\\)?/g,H=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,V=/\w*$/,G=/^0[xX]/,W=/^\[object .+?Constructor\]$/,q=/^\d+$/,Y=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Z=/($^)/,K=/['\n\r\u2028\u2029\\]/g,X=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Q=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],J=-1,$={};$[v]=$[y]=$[b]=$[w]=$[_]=$[E]=$["[object Uint8ClampedArray]"]=$[S]=$[x]=!0,$[s]=$[c]=$["[object ArrayBuffer]"]=$[l]=$[u]=$[d]=$[h]=$["[object Map]"]=$[f]=$[p]=$[m]=$["[object Set]"]=$[g]=$["[object WeakMap]"]=!1;var ee={};ee[s]=ee[c]=ee["[object ArrayBuffer]"]=ee[l]=ee[u]=ee[v]=ee[y]=ee[b]=ee[w]=ee[_]=ee[f]=ee[p]=ee[m]=ee[g]=ee[E]=ee["[object Uint8ClampedArray]"]=ee[S]=ee[x]=!0,ee[d]=ee[h]=ee["[object Map]"]=ee["[object Set]"]=ee["[object WeakMap]"]=!1;var te={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},re={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},ie={function:!0,object:!0},ae={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},se=ie[typeof t]&&t&&!t.nodeType&&t,ce=ie[typeof e]&&e&&!e.nodeType&&e,le=se&&ce&&"object"==typeof r&&r&&r.Object&&r,ue=ie[typeof self]&&self&&self.Object&&self,de=ie[typeof window]&&window&&window.Object&&window,he=(ce&&ce.exports,le||de!==(this&&this.window)&&de||ue||this);function fe(e,t){if(e!==t){var n=null===e,r=void 0===e,i=e===e,a=null===t,o=void 0===t,s=t===t;if(e>t&&!a||!i||n&&!o&&s||r&&s)return 1;if(e<t&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function pe(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function me(e,t,n){if(t!==t)return Te(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function ge(e){return"function"==typeof e||!1}function ve(e){return null==e?"":e+""}function ye(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function be(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function we(e,t){return fe(e.criteria,t.criteria)||e.index-t.index}function _e(e){return te[e]}function Ee(e){return ne[e]}function Se(e,t,n){return t?e=ae[e]:n&&(e=oe[e]),"\\"+e}function xe(e){return"\\"+oe[e]}function Te(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var a=e[i];if(a!==a)return i}return-1}function Oe(e){return!!e&&"object"==typeof e}function ke(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Me(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;)e[n]===t&&(e[n]=o,a[++i]=n);return a}function Ae(e){for(var t=-1,n=e.length;++t<n&&ke(e.charCodeAt(t)););return t}function Ce(e){for(var t=e.length;t--&&ke(e.charCodeAt(t)););return t}function Le(e){return re[e]}var Pe=function e(t){var n=(t=t?Pe.defaults(he.Object(),t,Pe.pick(he,Q)):he).Array,r=t.Date,i=t.Error,te=t.Function,ne=t.Math,re=t.Number,ie=t.Object,ae=t.RegExp,oe=t.String,se=t.TypeError,ce=n.prototype,le=ie.prototype,ue=oe.prototype,de=te.prototype.toString,ke=le.hasOwnProperty,Re=0,Ie=le.toString,Ne=he._,je=ae("^"+de.call(ke).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),De=t.ArrayBuffer,ze=t.clearTimeout,Fe=t.parseFloat,Ue=ne.pow,Be=le.propertyIsEnumerable,He=Jn(t,"Set"),Ve=t.setTimeout,Ge=ce.splice,We=t.Uint8Array,qe=Jn(t,"WeakMap"),Ye=ne.ceil,Ze=Jn(ie,"create"),Ke=ne.floor,Xe=Jn(n,"isArray"),Qe=t.isFinite,Je=Jn(ie,"keys"),$e=ne.max,et=ne.min,tt=Jn(r,"now"),nt=t.parseInt,rt=ne.random,it=re.NEGATIVE_INFINITY,at=re.POSITIVE_INFINITY,ot=qe&&new qe,st={};function ct(e){if(Oe(e)&&!Ti(e)&&!(e instanceof dt)){if(e instanceof ut)return e;if(ke.call(e,"__chain__")&&ke.call(e,"__wrapped__"))return mr(e)}return new ut(e)}function lt(){}function ut(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function dt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=at,this.__views__=[]}function ht(){this.__data__={}}function ft(e){var t=e?e.length:0;for(this.data={hash:Ze(null),set:new He};t--;)this.push(e[t])}function pt(e,t){var n=e.data;return("string"==typeof t||Ai(t)?n.set.has(t):n.hash[t])?0:-1}function mt(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function gt(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function vt(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function yt(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[++i]=o)}return a}function bt(e,t){for(var r=-1,i=e.length,a=n(i);++r<i;)a[r]=t(e[r],r,e);return a}function wt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function _t(e,t,n,r){var i=-1,a=e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Et(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function St(e,t,n,r){return void 0!==e&&ke.call(r,n)?e:t}function xt(e,t,n){for(var r=-1,i=Xi(t),a=i.length;++r<a;){var o=i[r],s=e[o],c=n(s,t[o],o,e,t);((c===c?c!==s:s===s)||void 0===s&&!(o in e))&&(e[o]=c)}return e}function Tt(e,t){return null==t?e:kt(t,Xi(t),e)}function Ot(e,t){for(var r=-1,i=null==e,a=!i&&er(e),o=a?e.length:0,s=t.length,c=n(s);++r<s;){var l=t[r];c[r]=a?tr(l,o)?e[l]:void 0:i?void 0:e[l]}return c}function kt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r];n[a]=e[a]}return n}function Mt(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:fn(e,t,n):null==e?ga:"object"==r?Kt(e):void 0===t?Ea(e):Xt(e,t)}function At(e,t,n,r,i,a,o){var c;if(n&&(c=i?n(e,r,i):n(e)),void 0!==c)return c;if(!Ai(e))return e;var d=Ti(e);if(d){if(c=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&ke.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return mt(e,c)}else{var T=Ie.call(e),O=T==h;if(T!=p&&T!=s&&(!O||i))return ee[T]?function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return pn(e);case l:case u:return new r(+e);case v:case y:case b:case w:case _:case E:case"[object Uint8ClampedArray]":case S:case x:var i=e.buffer;return new r(n?pn(i):i,e.byteOffset,e.length);case f:case g:return new r(e);case m:var a=new r(e.source,V.exec(e));a.lastIndex=e.lastIndex}return a}(e,T,t):i?e:{};if(c=function(e){var t=e.constructor;"function"==typeof t&&t instanceof t||(t=ie);return new t}(O?{}:e),!t)return Tt(c,e)}a||(a=[]),o||(o=[]);for(var k=a.length;k--;)if(a[k]==e)return o[k];return a.push(e),o.push(c),(d?gt:Ht)(e,(function(r,i){c[i]=At(r,t,n,i,e,a,o)})),c}ct.support={},ct.templateSettings={escape:P,evaluate:R,interpolate:I,variable:"",imports:{_:ct}};var Ct=function(){function e(){}return function(t){if(Ai(t)){e.prototype=t;var n=new e;e.prototype=void 0}return n||{}}}();function Lt(e,t,n){if("function"!=typeof e)throw new se(a);return Ve((function(){e.apply(void 0,n)}),t)}function Pt(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,a=Kn(),o=a==me,s=o&&t.length>=200?_n(t):null,c=t.length;s&&(a=pt,o=!1,t=s);e:for(;++i<n;){var l=e[i];if(o&&l===l){for(var u=c;u--;)if(t[u]===l)continue e;r.push(l)}else a(t,l,0)<0&&r.push(l)}return r}var Rt=bn(Ht),It=bn(Vt,!0);function Nt(e,t){var n=!0;return Rt(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function jt(e,t){var n=[];return Rt(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Dt(e,t,n,r){var i;return n(e,(function(e,n,a){if(t(e,n,a))return i=r?n:e,!1})),i}function zt(e,t,n,r){r||(r=[]);for(var i=-1,a=e.length;++i<a;){var o=e[i];Oe(o)&&er(o)&&(n||Ti(o)||xi(o))?t?zt(o,t,n,r):wt(r,o):n||(r[r.length]=o)}return r}var Ft=wn(),Ut=wn(!0);function Bt(e,t){return Ft(e,t,Qi)}function Ht(e,t){return Ft(e,t,Xi)}function Vt(e,t){return Ut(e,t,Xi)}function Gt(e,t){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];Mi(e[o])&&(a[++i]=o)}return a}function Wt(e,t,n){if(null!=e){void 0!==n&&n in fr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:void 0}}function qt(e,t,n,r,i,a){return e===t||(null==e||null==t||!Ai(e)&&!Oe(t)?e!==e&&t!==t:function(e,t,n,r,i,a,o){var h=Ti(e),v=Ti(t),y=c,b=c;h||((y=Ie.call(e))==s?y=p:y!=p&&(h=Ni(e)));v||((b=Ie.call(t))==s?b=p:b!=p&&(v=Ni(t)));var w=y==p,_=b==p,E=y==b;if(E&&!h&&!w)return function(e,t,n){switch(n){case l:case u:return+e==+t;case d:return e.name==t.name&&e.message==t.message;case f:return e!=+e?t!=+t:e==+t;case m:case g:return e==t+""}return!1}(e,t,y);if(!i){var S=w&&ke.call(e,"__wrapped__"),x=_&&ke.call(t,"__wrapped__");if(S||x)return n(S?e.value():e,x?t.value():t,r,i,a,o)}if(!E)return!1;a||(a=[]),o||(o=[]);var T=a.length;for(;T--;)if(a[T]==e)return o[T]==t;a.push(e),o.push(t);var O=(h?Gn:Wn)(e,t,n,r,i,a,o);return a.pop(),o.pop(),O}(e,t,qt,n,r,i,a))}function Yt(e,t,n){var r=t.length,i=r,a=!n;if(null==e)return!i;for(e=fr(e);r--;){var o=t[r];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){var s=(o=t[r])[0],c=e[s],l=o[1];if(a&&o[2]){if(void 0===c&&!(s in e))return!1}else{var u=n?n(c,l,s):void 0;if(!(void 0===u?qt(l,c,n,!0):u))return!1}}return!0}function Zt(e,t){var r=-1,i=er(e)?n(e.length):[];return Rt(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Kt(e){var t=Qn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e[n]===r&&(void 0!==r||n in fr(e)))}}return function(e){return Yt(e,t)}}function Xt(e,t){var n=Ti(e),r=rr(e)&&or(t),i=e+"";return e=pr(e),function(a){if(null==a)return!1;var o=i;if(a=fr(a),(n||!r)&&!(o in a)){if(null==(a=1==e.length?a:Wt(a,nn(e,0,-1))))return!1;o=xr(e),a=fr(a)}return a[o]===t?void 0!==t||o in a:qt(t,a[o],void 0,!0)}}function Qt(e){return function(t){return null==t?void 0:t[e]}}function Jt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&tr(r)){var i=r;Ge.call(e,r,1)}}return e}function $t(e,t){return e+Ke(rt()*(t-e+1))}function en(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}var tn=ot?function(e,t){return ot.set(e,t),e}:ga;function nn(e,t,r){var i=-1,a=e.length;(t=null==t?0:+t||0)<0&&(t=-t>a?0:a+t),(r=void 0===r||r>a?a:+r||0)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function rn(e,t){var n;return Rt(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function an(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function on(e,t,n){var r=qn(),i=-1;return t=bt(t,(function(e){return r(e)})),an(Zt(e,(function(e){return{criteria:bt(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=fe(i[r],a[r]);if(c){if(r>=s)return c;var l=n[r];return c*("asc"===l||!0===l?1:-1)}}return e.index-t.index}(e,t,n)}))}function sn(e,t){var n=-1,r=Kn(),i=e.length,a=r==me,o=a&&i>=200,s=o?_n():null,c=[];s?(r=pt,a=!1):(o=!1,s=t?[]:c);e:for(;++n<i;){var l=e[n],u=t?t(l,n,e):l;if(a&&l===l){for(var d=s.length;d--;)if(s[d]===u)continue e;t&&s.push(u),c.push(l)}else r(s,u,0)<0&&((t||o)&&s.push(u),c.push(l))}return c}function cn(e,t){for(var r=-1,i=t.length,a=n(i);++r<i;)a[r]=e[t[r]];return a}function ln(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?nn(e,r?0:a,r?a+1:i):nn(e,r?a+1:0,r?i:a)}function un(e,t){var n=e;n instanceof dt&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var a=t[r];n=a.func.apply(a.thisArg,wt([n],a.args))}return n}function dn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];(n?o<=t:o<t)&&null!==o?r=a+1:i=a}return i}return hn(e,t,ga,n)}function hn(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,c=void 0===t;i<a;){var l=Ke((i+a)/2),u=n(e[l]),d=void 0!==u,h=u===u;if(o)var f=h||r;else f=s?h&&d&&(r||null!=u):c?h&&(r||d):null!=u&&(r?u<=t:u<t);f?i=l+1:a=l}return et(a,4294967294)}function fn(e,t,n){if("function"!=typeof e)return ga;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)};case 5:return function(n,r,i,a,o){return e.call(t,n,r,i,a,o)}}return function(){return e.apply(t,arguments)}}function pn(e){var t=new De(e.byteLength);return new We(t).set(new We(e)),t}function mn(e,t,r){for(var i=r.length,a=-1,o=$e(e.length-i,0),s=-1,c=t.length,l=n(c+o);++s<c;)l[s]=t[s];for(;++a<i;)l[r[a]]=e[a];for(;o--;)l[s++]=e[a++];return l}function gn(e,t,r){for(var i=-1,a=r.length,o=-1,s=$e(e.length-a,0),c=-1,l=t.length,u=n(s+l);++o<s;)u[o]=e[o];for(var d=o;++c<l;)u[d+c]=t[c];for(;++i<a;)u[d+r[i]]=e[o++];return u}function vn(e,t){return function(n,r,i){var a=t?t():{};if(r=qn(r,i,3),Ti(n))for(var o=-1,s=n.length;++o<s;){var c=n[o];e(a,c,r(c,o,n),n)}else Rt(n,(function(t,n,i){e(a,t,r(t,n,i),i)}));return a}}function yn(e){return Ei((function(t,n){var r=-1,i=null==t?0:n.length,a=i>2?n[i-2]:void 0,o=i>2?n[2]:void 0,s=i>1?n[i-1]:void 0;for("function"==typeof a?(a=fn(a,s,5),i-=2):i-=(a="function"==typeof s?s:void 0)?1:0,o&&nr(n[0],n[1],o)&&(a=i<3?void 0:a,i=1);++r<i;){var c=n[r];c&&e(t,c,a)}return t}))}function bn(e,t){return function(n,r){var i=n?Xn(n):0;if(!ar(i))return e(n,r);for(var a=t?i:-1,o=fr(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function wn(e){return function(t,n,r){for(var i=fr(t),a=r(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var c=a[s];if(!1===n(i[c],c,i))break}return t}}function _n(e){return Ze&&He?new ft(e):null}function En(e){return function(t){for(var n=-1,r=fa(aa(t)),i=r.length,a="";++n<i;)a=e(a,r[n],n);return a}}function Sn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ct(e.prototype),r=e.apply(n,t);return Ai(r)?r:n}}function xn(e){return function t(n,r,i){i&&nr(n,r,i)&&(r=void 0);var a=Vn(n,e,void 0,void 0,void 0,void 0,void 0,r);return a.placeholder=t.placeholder,a}}function Tn(e,t){return Ei((function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(void 0,n))}))}function On(e,t){return function(n,r,i){if(i&&nr(n,r,i)&&(r=void 0),1==(r=qn(r,i,3)).length){var a=function(e,t,n,r){for(var i=-1,a=e.length,o=r,s=o;++i<a;){var c=e[i],l=+t(c);n(l,o)&&(o=l,s=c)}return s}(n=Ti(n)?n:hr(n),r,e,t);if(!n.length||a!==t)return a}return function(e,t,n,r){var i=r,a=i;return Rt(e,(function(e,o,s){var c=+t(e,o,s);(n(c,i)||c===r&&c===a)&&(i=c,a=e)})),a}(n,r,e,t)}}function kn(e,t){return function(n,r,i){if(r=qn(r,i,3),Ti(n)){var a=pe(n,r,t);return a>-1?n[a]:void 0}return Dt(n,r,e)}}function Mn(e){return function(t,n,r){return t&&t.length?pe(t,n=qn(n,r,3),e):-1}}function An(e){return function(t,n,r){return Dt(t,n=qn(n,r,3),e,!0)}}function Cn(e){return function(){for(var t,r=arguments.length,i=e?r:-1,o=0,s=n(r);e?i--:++i<r;){var c=s[o++]=arguments[i];if("function"!=typeof c)throw new se(a);!t&&ut.prototype.thru&&"wrapper"==Zn(c)&&(t=new ut([],!0))}for(i=t?-1:r;++i<r;){var l=Zn(c=s[i]),u="wrapper"==l?Yn(c):void 0;t=u&&ir(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?t[Zn(u[0])].apply(t,u[3]):1==c.length&&ir(c)?t[l]():t.thru(c)}return function(){var e=arguments,n=e[0];if(t&&1==e.length&&Ti(n)&&n.length>=200)return t.plant(n).value();for(var i=0,a=r?s[i].apply(this,e):n;++i<r;)a=s[i].call(this,a);return a}}}function Ln(e,t){return function(n,r,i){return"function"==typeof r&&void 0===i&&Ti(n)?e(n,r):t(n,fn(r,i,3))}}function Pn(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=fn(n,r,3)),e(t,n,Qi)}}function Rn(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=fn(n,r,3)),e(t,n)}}function In(e){return function(t,n,r){var i={};return n=qn(n,r,3),Ht(t,(function(t,r,a){var o=n(t,r,a);t=e?t:o,i[r=e?o:r]=t})),i}}function Nn(e){return function(t,n,r){return t=ve(t),(e?t:"")+Fn(t,n,r)+(e?"":t)}}function jn(e){var t=Ei((function(n,r){var i=Me(r,t.placeholder);return Vn(n,e,void 0,r,i)}));return t}function Dn(e,t){return function(n,r,i,a){var o=arguments.length<3;return"function"==typeof r&&void 0===a&&Ti(n)?e(n,r,i,o):en(n,qn(r,a,4),i,o,t)}}function zn(e,t,r,i,a,o,s,c,l,u){var d=128&t,h=1&t,f=2&t,p=8&t,m=4&t,g=16&t,v=f?void 0:Sn(e);return function y(){for(var b=arguments.length,w=b,_=n(b);w--;)_[w]=arguments[w];if(i&&(_=mn(_,i,a)),o&&(_=gn(_,o,s)),p||g){var E=y.placeholder,S=Me(_,E);if((b-=S.length)<u){var x=c?mt(c):void 0,T=$e(u-b,0),O=p?S:void 0,k=p?void 0:S,M=p?_:void 0,A=p?void 0:_;t|=p?32:64,t&=~(p?64:32),m||(t&=-4);var C=[e,t,r,M,O,A,k,x,l,T],L=zn.apply(void 0,C);return ir(e)&&ur(L,C),L.placeholder=E,L}}var P=h?r:this,R=f?P[e]:e;return c&&(_=lr(_,c)),d&&l<_.length&&(_.length=l),this&&this!==he&&this instanceof y&&(R=v||Sn(e)),R.apply(P,_)}}function Fn(e,t,n){var r=e.length;if(r>=(t=+t)||!Qe(t))return"";var i=t-r;return la(n=null==n?" ":n+"",Ye(i/n.length)).slice(0,i)}function Un(e,t,r,i){var a=1&t,o=Sn(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=i.length,d=n(u+c);++l<u;)d[l]=i[l];for(;c--;)d[l++]=arguments[++s];var h=this&&this!==he&&this instanceof t?o:e;return h.apply(a?r:this,d)}}function Bn(e){var t=ne[e];return function(e,n){return(n=void 0===n?0:+n||0)?(n=Ue(10,n),t(e*n)/n):t(e)}}function Hn(e){return function(t,n,r,i){var a=qn(r);return null==r&&a===Mt?dn(t,n,e):hn(t,n,a(r,i,1),e)}}function Vn(e,t,n,r,i,s,c,l){var u=2&t;if(!u&&"function"!=typeof e)throw new se(a);var d=r?r.length:0;if(d||(t&=-97,r=i=void 0),d-=i?i.length:0,64&t){var h=r,f=i;r=i=void 0}var p=u?void 0:Yn(e),m=[e,t,n,r,i,h,f,s,c,l];if(p&&(!function(e,t){var n=e[1],r=t[1],i=n|r,a=i<128,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?mn(l,c,t[4]):mt(c),e[4]=l?Me(e[3],o):mt(t[4])}(c=t[5])&&(l=e[5],e[5]=l?gn(l,c,t[6]):mt(c),e[6]=l?Me(e[5],o):mt(t[6]));(c=t[7])&&(e[7]=mt(c));128&r&&(e[8]=null==e[8]?t[8]:et(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(m,p),t=m[1],l=m[9]),m[9]=null==l?u?0:e.length:$e(l-d,0)||0,1==t)var g=function(e,t){var n=Sn(e);return function r(){var i=this&&this!==he&&this instanceof r?n:e;return i.apply(t,arguments)}}(m[0],m[2]);else g=32!=t&&33!=t||m[4].length?zn.apply(void 0,m):Un.apply(void 0,m);return(p?tn:ur)(g,m)}function Gn(e,t,n,r,i,a,o){var s=-1,c=e.length,l=t.length;if(c!=l&&!(i&&l>c))return!1;for(;++s<c;){var u=e[s],d=t[s],h=r?r(i?d:u,i?u:d,s):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!Et(t,(function(e){return u===e||n(u,e,r,i,a,o)})))return!1}else if(u!==d&&!n(u,d,r,i,a,o))return!1}return!0}function Wn(e,t,n,r,i,a,o){var s=Xi(e),c=s.length;if(c!=Xi(t).length&&!i)return!1;for(var l=c;l--;){var u=s[l];if(!(i?u in t:ke.call(t,u)))return!1}for(var d=i;++l<c;){var h=e[u=s[l]],f=t[u],p=r?r(i?f:h,i?h:f,u):void 0;if(!(void 0===p?n(h,f,r,i,a,o):p))return!1;d||(d="constructor"==u)}if(!d){var m=e.constructor,g=t.constructor;if(m!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g))return!1}return!0}function qn(e,t,n){var r=ct.callback||ma;return r=r===ma?Mt:r,n?r(e,t,n):r}var Yn=ot?function(e){return ot.get(e)}:_a;function Zn(e){for(var t=e.name,n=st[t],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function Kn(e,t,n){var r=ct.indexOf||Er;return r=r===Er?me:r,e?r(e,t,n):r}var Xn=Qt("length");function Qn(e){for(var t=ta(e),n=t.length;n--;)t[n][2]=or(t[n][1]);return t}function Jn(e,t){var n=null==e?void 0:e[t];return Ci(n)?n:void 0}function $n(e,t,n){null==e||rr(t,e)||(e=1==(t=pr(t)).length?e:Wt(e,nn(t,0,-1)),t=xr(t));var r=null==e?e:e[t];return null==r?void 0:r.apply(e,n)}function er(e){return null!=e&&ar(Xn(e))}function tr(e,t){return t=null==t?9007199254740991:t,(e="number"==typeof e||q.test(e)?+e:-1)>-1&&e%1==0&&e<t}function nr(e,t,n){if(!Ai(n))return!1;var r=typeof t;if("number"==r?er(n)&&tr(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function rr(e,t){var n=typeof e;return!!("string"==n&&j.test(e)||"number"==n)||!Ti(e)&&(!N.test(e)||null!=t&&e in fr(t))}function ir(e){var t=Zn(e);if(!(t in dt.prototype))return!1;var n=ct[t];if(e===n)return!0;var r=Yn(n);return!!r&&e===r[0]}function ar(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function or(e){return e===e&&!Ai(e)}function sr(e,t){e=fr(e);for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}function cr(e,t){var n={};return Bt(e,(function(e,r,i){t(e,r,i)&&(n[r]=e)})),n}function lr(e,t){for(var n=e.length,r=et(t.length,n),i=mt(e);r--;){var a=t[r];e[r]=tr(a,n)?i[a]:void 0}return e}var ur=function(){var e=0,t=0;return function(n,r){var i=ai(),a=16-(i-t);if(t=i,a>0){if(++e>=150)return n}else e=0;return tn(n,r)}}();function dr(e){for(var t=Qi(e),n=t.length,r=n&&e.length,i=!!r&&ar(r)&&(Ti(e)||xi(e)),a=-1,o=[];++a<n;){var s=t[a];(i&&tr(s,r)||ke.call(e,s))&&o.push(s)}return o}function hr(e){return null==e?[]:er(e)?Ai(e)?e:ie(e):ra(e)}function fr(e){return Ai(e)?e:ie(e)}function pr(e){if(Ti(e))return e;var t=[];return ve(e).replace(D,(function(e,n,r,i){t.push(r?i.replace(B,"$1"):n||e)})),t}function mr(e){return e instanceof dt?e.clone():new ut(e.__wrapped__,e.__chain__,mt(e.__actions__))}var gr=Ei((function(e,t){return Oe(e)&&er(e)?Pt(e,zt(t,!1,!0)):[]}));function vr(e,t,n){return(e?e.length:0)?((n?nr(e,t,n):null==t)&&(t=1),nn(e,t<0?0:t)):[]}function yr(e,t,n){var r=e?e.length:0;return r?((n?nr(e,t,n):null==t)&&(t=1),nn(e,0,(t=r-(+t||0))<0?0:t)):[]}var br=Mn(),wr=Mn(!0);function _r(e){return e?e[0]:void 0}function Er(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?$e(r+n,0):n;else if(n){var i=dn(e,t);return i<r&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return me(e,t,n||0)}var Sr=Ei((function(e){for(var t=e.length,r=t,i=n(d),a=Kn(),o=a==me,s=[];r--;){var c=e[r]=er(c=e[r])?c:[];i[r]=o&&c.length>=120?_n(r&&c):null}var l=e[0],u=-1,d=l?l.length:0,h=i[0];e:for(;++u<d;)if(c=l[u],(h?pt(h,c):a(s,c,0))<0){for(r=t;--r;){var f=i[r];if((f?pt(f,c):a(e[r],c,0))<0)continue e}h&&h.push(c),s.push(c)}return s}));function xr(e){var t=e?e.length:0;return t?e[t-1]:void 0}var Tr=Ei((function(e,t){var n=Ot(e,t=zt(t));return Jt(e,t.sort(fe)),n}));function Or(e){return vr(e,1)}var kr=Hn(),Mr=Hn(!0),Ar=Ei((function(e){return sn(zt(e,!1,!0))}));function Cr(e,t,n,r){if(!(e?e.length:0))return[];null!=t&&"boolean"!=typeof t&&(n=nr(e,t,r=n)?void 0:t,t=!1);var i=qn();return null==n&&i===Mt||(n=i(n,r,3)),t&&Kn()==me?function(e,t){for(var n,r=-1,i=e.length,a=-1,o=[];++r<i;){var s=e[r],c=t?t(s,r,e):s;r&&n===c||(n=c,o[++a]=s)}return o}(e,n):sn(e,n)}function Lr(e){if(!e||!e.length)return[];var t=-1,r=0;e=yt(e,(function(e){if(er(e))return r=$e(e.length,r),!0}));for(var i=n(r);++t<r;)i[t]=bt(e,Qt(t));return i}function Pr(e,t,n){if(!(e?e.length:0))return[];var r=Lr(e);return null==t?r:(t=fn(t,n,4),bt(r,(function(e){return _t(e,t,void 0,!0)})))}var Rr=Ei((function(e,t){return er(e)?Pt(e,t):[]})),Ir=Ei(Lr);function Nr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ti(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}var jr=Ei((function(e){var t=e.length,n=t>2?e[t-2]:void 0,r=t>1?e[t-1]:void 0;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):void 0,r=void 0),e.length=t,Pr(e,n,r)}));function Dr(e){var t=ct(e);return t.__chain__=!0,t}function zr(e,t,n){return t.call(n,e)}var Fr=Ei((function(e){return e=zt(e),this.thru((function(t){return function(e,t){for(var r=-1,i=e.length,a=-1,o=t.length,s=n(i+o);++r<i;)s[r]=e[r];for(;++a<o;)s[r++]=t[a];return s}(Ti(t)?t:[fr(t)],e)}))})),Ur=Ei((function(e,t){return Ot(e,zt(t))})),Br=vn((function(e,t,n){ke.call(e,n)?++e[n]:e[n]=1}));function Hr(e,t,n){var r=Ti(e)?vt:Nt;return n&&nr(e,t,n)&&(t=void 0),"function"==typeof t&&void 0===n||(t=qn(t,n,3)),r(e,t)}function Vr(e,t,n){return(Ti(e)?yt:jt)(e,t=qn(t,n,3))}var Gr=kn(Rt),Wr=kn(It,!0),qr=Ln(gt,Rt),Yr=Ln((function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e}),It),Zr=vn((function(e,t,n){ke.call(e,n)?e[n].push(t):e[n]=[t]}));function Kr(e,t,n,r){var i=e?Xn(e):0;return ar(i)||(i=(e=ra(e)).length),n="number"!=typeof n||r&&nr(t,n,r)?0:n<0?$e(i+n,0):n||0,"string"==typeof e||!Ti(e)&&Ii(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Kn(e,t,n)>-1}var Xr=vn((function(e,t,n){e[n]=t})),Qr=Ei((function(e,t,r){var i=-1,a="function"==typeof t,o=rr(t),s=er(e)?n(e.length):[];return Rt(e,(function(e){var n=a?t:o&&null!=e?e[t]:void 0;s[++i]=n?n.apply(e,r):$n(e,t,r)})),s}));function Jr(e,t,n){return(Ti(e)?bt:Zt)(e,t=qn(t,n,3))}var $r=vn((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),ei=Dn(_t,Rt),ti=Dn((function(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}),It);function ni(e,t,n){if(n?nr(e,t,n):null==t)return(r=(e=hr(e)).length)>0?e[$t(0,r-1)]:void 0;var r,i=-1,a=Di(e),o=(r=a.length)-1;for(t=et(t<0?0:+t||0,r);++i<t;){var s=$t(i,o),c=a[s];a[s]=a[i],a[i]=c}return a.length=t,a}function ri(e,t,n){var r=Ti(e)?Et:rn;return n&&nr(e,t,n)&&(t=void 0),"function"==typeof t&&void 0===n||(t=qn(t,n,3)),r(e,t)}var ii=Ei((function(e,t){if(null==e)return[];var n=t[2];return n&&nr(t[0],t[1],n)&&(t.length=1),on(e,zt(t),[])})),ai=tt||function(){return(new r).getTime()};function oi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new se(a);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var si=Ei((function(e,t,n){var r=1;if(n.length){var i=Me(n,si.placeholder);r|=32}return Vn(e,r,t,n,i)})),ci=Ei((function(e,t){for(var n=-1,r=(t=t.length?zt(t):Ki(e)).length;++n<r;){var i=t[n];e[i]=Vn(e[i],1,e)}return e})),li=Ei((function(e,t,n){var r=3;if(n.length){var i=Me(n,li.placeholder);r|=32}return Vn(t,r,e,n,i)})),ui=xn(8),di=xn(16);function hi(e,t,n){var r,i,o,s,c,l,u,d=0,h=!1,f=!0;if("function"!=typeof e)throw new se(a);if(t=t<0?0:+t||0,!0===n){var p=!0;f=!1}else Ai(n)&&(p=!!n.leading,h="maxWait"in n&&$e(+n.maxWait||0,t),f="trailing"in n?!!n.trailing:f);function m(t,n){n&&ze(n),i=l=u=void 0,t&&(d=ai(),o=e.apply(c,r),l||i||(r=c=void 0))}function g(){var e=t-(ai()-s);e<=0||e>t?m(u,i):l=Ve(g,e)}function v(){m(f,l)}function y(){if(r=arguments,s=ai(),c=this,u=f&&(l||!p),!1===h)var n=p&&!l;else{i||p||(d=s);var a=h-(s-d),m=a<=0||a>h;m?(i&&(i=ze(i)),d=s,o=e.apply(c,r)):i||(i=Ve(v,a))}return m&&l?l=ze(l):l||t===h||(l=Ve(g,t)),n&&(m=!0,o=e.apply(c,r)),!m||l||i||(r=c=void 0),o}return y.cancel=function(){l&&ze(l),i&&ze(i),d=0,i=l=u=void 0},y}var fi=Ei((function(e,t){return Lt(e,1,t)})),pi=Ei((function(e,t,n){return Lt(e,t,n)})),mi=Cn(),gi=Cn(!0);function vi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new se(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new vi.Cache,n}var yi=Ei((function(e,t){if(t=zt(t),"function"!=typeof e||!vt(t,ge))throw new se(a);var n=t.length;return Ei((function(r){for(var i=et(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)}))})),bi=jn(32),wi=jn(64),_i=Ei((function(e,t){return Vn(e,256,void 0,void 0,void 0,zt(t))}));function Ei(e,t){if("function"!=typeof e)throw new se(a);return t=$e(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,i=-1,a=$e(r.length-t,0),o=n(a);++i<a;)o[i]=r[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,r[0],o);case 2:return e.call(this,r[0],r[1],o)}var s=n(t+1);for(i=-1;++i<t;)s[i]=r[i];return s[t]=o,e.apply(this,s)}}function Si(e,t){return e>t}function xi(e){return Oe(e)&&er(e)&&ke.call(e,"callee")&&!Be.call(e,"callee")}var Ti=Xe||function(e){return Oe(e)&&ar(e.length)&&Ie.call(e)==c};function Oi(e,t,n,r){var i=(n="function"==typeof n?fn(n,r,3):void 0)?n(e,t):void 0;return void 0===i?qt(e,t,n):!!i}function ki(e){return Oe(e)&&"string"==typeof e.message&&Ie.call(e)==d}function Mi(e){return Ai(e)&&Ie.call(e)==h}function Ai(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ci(e){return null!=e&&(Mi(e)?je.test(de.call(e)):Oe(e)&&W.test(e))}function Li(e){return"number"==typeof e||Oe(e)&&Ie.call(e)==f}function Pi(e){var t,n;return!(!Oe(e)||Ie.call(e)!=p||xi(e)||!(ke.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))&&(Bt(e,(function(e,t){n=t})),void 0===n||ke.call(e,n))}function Ri(e){return Ai(e)&&Ie.call(e)==m}function Ii(e){return"string"==typeof e||Oe(e)&&Ie.call(e)==g}function Ni(e){return Oe(e)&&ar(e.length)&&!!$[Ie.call(e)]}function ji(e,t){return e<t}function Di(e){var t=e?Xn(e):0;return ar(t)?t?mt(e):[]:ra(e)}function zi(e){return kt(e,Qi(e))}var Fi=yn((function e(t,n,r,i,a){if(!Ai(t))return t;var o=er(n)&&(Ti(n)||Ni(n)),s=o?void 0:Xi(n);return gt(s||n,(function(c,l){if(s&&(c=n[l=c]),Oe(c))i||(i=[]),a||(a=[]),function(e,t,n,r,i,a,o){var s=a.length,c=t[n];for(;s--;)if(a[s]==c)return void(e[n]=o[s]);var l=e[n],u=i?i(l,c,n,e,t):void 0,d=void 0===u;d&&(u=c,er(c)&&(Ti(c)||Ni(c))?u=Ti(l)?l:er(l)?mt(l):[]:Pi(c)||xi(c)?u=xi(l)?zi(l):Pi(l)?l:{}:d=!1);a.push(c),o.push(u),d?e[n]=r(u,c,i,a,o):(u===u?u!==l:l===l)&&(e[n]=u)}(t,n,l,e,r,i,a);else{var u=t[l],d=r?r(u,c,l,t,n):void 0,h=void 0===d;h&&(d=c),void 0===d&&(!o||l in t)||!h&&(d===d?d===u:u!==u)||(t[l]=d)}})),t})),Ui=yn((function(e,t,n){return n?xt(e,t,n):Tt(e,t)})),Bi=Tn(Ui,(function(e,t){return void 0===e?t:e})),Hi=Tn(Fi,(function e(t,n){return void 0===t?n:Fi(t,n,e)})),Vi=An(Ht),Gi=An(Vt),Wi=Pn(Ft),qi=Pn(Ut),Yi=Rn(Ht),Zi=Rn(Vt);function Ki(e){return Gt(e,Qi(e))}var Xi=Je?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&er(e)?dr(e):Ai(e)?Je(e):[]}:dr;function Qi(e){if(null==e)return[];Ai(e)||(e=ie(e));var t=e.length;t=t&&ar(t)&&(Ti(e)||xi(e))&&t||0;for(var r=e.constructor,i=-1,a="function"==typeof r&&r.prototype===e,o=n(t),s=t>0;++i<t;)o[i]=i+"";for(var c in e)s&&tr(c,t)||"constructor"==c&&(a||!ke.call(e,c))||o.push(c);return o}var Ji=In(!0),$i=In(),ea=Ei((function(e,t){if(null==e)return{};if("function"!=typeof t[0]){t=bt(zt(t),oe);return sr(e,Pt(Qi(e),t))}var n=fn(t[0],t[1],3);return cr(e,(function(e,t,r){return!n(e,t,r)}))}));function ta(e){e=fr(e);for(var t=-1,r=Xi(e),i=r.length,a=n(i);++t<i;){var o=r[t];a[t]=[o,e[o]]}return a}var na=Ei((function(e,t){return null==e?{}:"function"==typeof t[0]?cr(e,fn(t[0],t[1],3)):sr(e,zt(t))}));function ra(e){return cn(e,Xi(e))}var ia=En((function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}));function aa(e){return(e=ve(e))&&e.replace(Y,_e).replace(U,"")}var oa=En((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),sa=Nn(),ca=Nn(!0);function la(e,t){var n="";if(e=ve(e),(t=+t)<1||!e||!Qe(t))return n;do{t%2&&(n+=e),t=Ke(t/2),e+=e}while(t);return n}var ua=En((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),da=En((function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}));function ha(e,t,n){var r=e;return(e=ve(e))?(n?nr(r,t,n):null==t)?e.slice(Ae(e),Ce(e)+1):(t+="",e.slice(ye(e,t),be(e,t)+1)):e}function fa(e,t,n){return n&&nr(e,t,n)&&(t=void 0),(e=ve(e)).match(t||X)||[]}var pa=Ei((function(e,t){try{return e.apply(void 0,t)}catch(n){return ki(n)?n:new i(n)}}));function ma(e,t,n){return n&&nr(e,t,n)&&(t=void 0),Oe(e)?va(e):Mt(e,t)}function ga(e){return e}function va(e){return Kt(At(e,!0))}var ya=Ei((function(e,t){return function(n){return $n(n,e,t)}})),ba=Ei((function(e,t){return function(n){return $n(e,n,t)}}));function wa(e,t,n){if(null==n){var r=Ai(t),i=r?Xi(t):void 0,a=i&&i.length?Gt(t,i):void 0;(a?a.length:r)||(a=!1,n=t,t=e,e=this)}a||(a=Gt(t,Xi(t)));var o=!0,s=-1,c=Mi(e),l=a.length;!1===n?o=!1:Ai(n)&&"chain"in n&&(o=n.chain);for(;++s<l;){var u=a[s],d=t[u];e[u]=d,c&&(e.prototype[u]=function(t){return function(){var n=this.__chain__;if(o||n){var r=e(this.__wrapped__),i=r.__actions__=mt(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,wt([this.value()],arguments))}}(d))}return e}function _a(){}function Ea(e){return rr(e)?Qt(e):function(e){var t=e+"";return e=pr(e),function(n){return Wt(n,e,t)}}(e)}var Sa=Bn("ceil"),xa=Bn("floor"),Ta=On(Si,it),Oa=On(ji,at),ka=Bn("round");return ct.prototype=lt.prototype,ut.prototype=Ct(lt.prototype),ut.prototype.constructor=ut,dt.prototype=Ct(lt.prototype),dt.prototype.constructor=dt,ht.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ht.prototype.get=function(e){return"__proto__"==e?void 0:this.__data__[e]},ht.prototype.has=function(e){return"__proto__"!=e&&ke.call(this.__data__,e)},ht.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},ft.prototype.push=function(e){var t=this.data;"string"==typeof e||Ai(e)?t.set.add(e):t.hash[e]=!0},vi.Cache=ht,ct.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new se(a);var n=e;e=t,t=n}return e=Qe(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},ct.ary=function(e,t,n){return n&&nr(e,t,n)&&(t=void 0),Vn(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:$e(+t||0,0))},ct.assign=Ui,ct.at=Ur,ct.before=oi,ct.bind=si,ct.bindAll=ci,ct.bindKey=li,ct.callback=ma,ct.chain=Dr,ct.chunk=function(e,t,r){t=(r?nr(e,t,r):null==t)?1:$e(Ke(t)||1,1);for(var i=0,a=e?e.length:0,o=-1,s=n(Ye(a/t));i<a;)s[++o]=nn(e,i,i+=t);return s},ct.compact=function(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var a=e[t];a&&(i[++r]=a)}return i},ct.constant=function(e){return function(){return e}},ct.countBy=Br,ct.create=function(e,t,n){var r=Ct(e);return n&&nr(e,t,n)&&(t=void 0),t?Tt(r,t):r},ct.curry=ui,ct.curryRight=di,ct.debounce=hi,ct.defaults=Bi,ct.defaultsDeep=Hi,ct.defer=fi,ct.delay=pi,ct.difference=gr,ct.drop=vr,ct.dropRight=yr,ct.dropRightWhile=function(e,t,n){return e&&e.length?ln(e,qn(t,n,3),!0,!0):[]},ct.dropWhile=function(e,t,n){return e&&e.length?ln(e,qn(t,n,3),!0):[]},ct.fill=function(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&nr(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=null==n?0:+n||0)<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:+r||0)<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e}(e,t,n,r)):[]},ct.filter=Vr,ct.flatten=function(e,t,n){var r=e?e.length:0;return n&&nr(e,t,n)&&(t=!1),r?zt(e,t):[]},ct.flattenDeep=function(e){return(e?e.length:0)?zt(e,!0):[]},ct.flow=mi,ct.flowRight=gi,ct.forEach=qr,ct.forEachRight=Yr,ct.forIn=Wi,ct.forInRight=qi,ct.forOwn=Yi,ct.forOwnRight=Zi,ct.functions=Ki,ct.groupBy=Zr,ct.indexBy=Xr,ct.initial=function(e){return yr(e,1)},ct.intersection=Sr,ct.invert=function(e,t,n){n&&nr(e,t,n)&&(t=void 0);for(var r=-1,i=Xi(e),a=i.length,o={};++r<a;){var s=i[r],c=e[s];t?ke.call(o,c)?o[c].push(s):o[c]=[s]:o[c]=s}return o},ct.invoke=Qr,ct.keys=Xi,ct.keysIn=Qi,ct.map=Jr,ct.mapKeys=Ji,ct.mapValues=$i,ct.matches=va,ct.matchesProperty=function(e,t){return Xt(e,At(t,!0))},ct.memoize=vi,ct.merge=Fi,ct.method=ya,ct.methodOf=ba,ct.mixin=wa,ct.modArgs=yi,ct.negate=function(e){if("function"!=typeof e)throw new se(a);return function(){return!e.apply(this,arguments)}},ct.omit=ea,ct.once=function(e){return oi(2,e)},ct.pairs=ta,ct.partial=bi,ct.partialRight=wi,ct.partition=$r,ct.pick=na,ct.pluck=function(e,t){return Jr(e,Ea(t))},ct.property=Ea,ct.propertyOf=function(e){return function(t){return Wt(e,pr(t),t+"")}},ct.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Kn(),i=e.length;++n<i;)for(var a=0,o=e[n];(a=r(t,o,a))>-1;)Ge.call(t,a,1);return t},ct.pullAt=Tr,ct.range=function(e,t,r){r&&nr(e,t,r)&&(t=r=void 0),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,a=$e(Ye((t-e)/((r=null==r?1:+r||0)||1)),0),o=n(a);++i<a;)o[i]=e,e+=r;return o},ct.rearg=_i,ct.reject=function(e,t,n){var r=Ti(e)?yt:jt;return t=qn(t,n,3),r(e,(function(e,n,r){return!t(e,n,r)}))},ct.remove=function(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,a=[],o=e.length;for(t=qn(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),a.push(i))}return Jt(e,a),r},ct.rest=Or,ct.restParam=Ei,ct.set=function(e,t,n){if(null==e)return e;for(var r=t+"",i=-1,a=(t=null!=e[r]||rr(t,e)?[r]:pr(t)).length,o=a-1,s=e;null!=s&&++i<a;){var c=t[i];Ai(s)&&(i==o?s[c]=n:null==s[c]&&(s[c]=tr(t[i+1])?[]:{})),s=s[c]}return e},ct.shuffle=function(e){return ni(e,at)},ct.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&nr(e,t,n)&&(t=0,n=r),nn(e,t,n)):[]},ct.sortBy=function(e,t,n){if(null==e)return[];n&&nr(e,t,n)&&(t=void 0);var r=-1;return t=qn(t,n,3),an(Zt(e,(function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}})),we)},ct.sortByAll=ii,ct.sortByOrder=function(e,t,n,r){return null==e?[]:(r&&nr(t,n,r)&&(n=void 0),Ti(t)||(t=null==t?[]:[t]),Ti(n)||(n=null==n?[]:[n]),on(e,t,n))},ct.spread=function(e){if("function"!=typeof e)throw new se(a);return function(t){return e.apply(this,t)}},ct.take=function(e,t,n){return(e?e.length:0)?((n?nr(e,t,n):null==t)&&(t=1),nn(e,0,t<0?0:t)):[]},ct.takeRight=function(e,t,n){var r=e?e.length:0;return r?((n?nr(e,t,n):null==t)&&(t=1),nn(e,(t=r-(+t||0))<0?0:t)):[]},ct.takeRightWhile=function(e,t,n){return e&&e.length?ln(e,qn(t,n,3),!1,!0):[]},ct.takeWhile=function(e,t,n){return e&&e.length?ln(e,qn(t,n,3)):[]},ct.tap=function(e,t,n){return t.call(n,e),e},ct.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new se(a);return!1===n?r=!1:Ai(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hi(e,t,{leading:r,maxWait:+t,trailing:i})},ct.thru=zr,ct.times=function(e,t,r){if((e=Ke(e))<1||!Qe(e))return[];var i=-1,a=n(et(e,4294967295));for(t=fn(t,r,1);++i<e;)i<4294967295?a[i]=t(i):t(i);return a},ct.toArray=Di,ct.toPlainObject=zi,ct.transform=function(e,t,n,r){var i=Ti(e)||Ni(e);if(t=qn(t,r,4),null==n)if(i||Ai(e)){var a=e.constructor;n=i?Ti(e)?new a:[]:Ct(Mi(a)?a.prototype:void 0)}else n={};return(i?gt:Ht)(e,(function(e,r,i){return t(n,e,r,i)})),n},ct.union=Ar,ct.uniq=Cr,ct.unzip=Lr,ct.unzipWith=Pr,ct.values=ra,ct.valuesIn=function(e){return cn(e,Qi(e))},ct.where=function(e,t){return Vr(e,Kt(t))},ct.without=Rr,ct.wrap=function(e,t){return Vn(t=null==t?ga:t,32,void 0,[e],[])},ct.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(er(n))var r=r?wt(Pt(r,n),Pt(n,r)):n}return r?sn(r):[]},ct.zip=Ir,ct.zipObject=Nr,ct.zipWith=jr,ct.backflow=gi,ct.collect=Jr,ct.compose=gi,ct.each=qr,ct.eachRight=Yr,ct.extend=Ui,ct.iteratee=ma,ct.methods=Ki,ct.object=Nr,ct.select=Vr,ct.tail=Or,ct.unique=Cr,wa(ct,ct),ct.add=function(e,t){return(+e||0)+(+t||0)},ct.attempt=pa,ct.camelCase=ia,ct.capitalize=function(e){return(e=ve(e))&&e.charAt(0).toUpperCase()+e.slice(1)},ct.ceil=Sa,ct.clone=function(e,t,n,r){return t&&"boolean"!=typeof t&&nr(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?At(e,t,fn(n,r,1)):At(e,t)},ct.cloneDeep=function(e,t,n){return"function"==typeof t?At(e,!0,fn(t,n,1)):At(e,!0)},ct.deburr=aa,ct.endsWith=function(e,t,n){t+="";var r=(e=ve(e)).length;return n=void 0===n?r:et(n<0?0:+n||0,r),(n-=t.length)>=0&&e.indexOf(t,n)==n},ct.escape=function(e){return(e=ve(e))&&L.test(e)?e.replace(A,Ee):e},ct.escapeRegExp=function(e){return(e=ve(e))&&F.test(e)?e.replace(z,Se):e||"(?:)"},ct.every=Hr,ct.find=Gr,ct.findIndex=br,ct.findKey=Vi,ct.findLast=Wr,ct.findLastIndex=wr,ct.findLastKey=Gi,ct.findWhere=function(e,t){return Gr(e,Kt(t))},ct.first=_r,ct.floor=xa,ct.get=function(e,t,n){var r=null==e?void 0:Wt(e,pr(t),t+"");return void 0===r?n:r},ct.gt=Si,ct.gte=function(e,t){return e>=t},ct.has=function(e,t){if(null==e)return!1;var n=ke.call(e,t);if(!n&&!rr(t)){if(null==(e=1==(t=pr(t)).length?e:Wt(e,nn(t,0,-1))))return!1;t=xr(t),n=ke.call(e,t)}return n||ar(e.length)&&tr(t,e.length)&&(Ti(e)||xi(e))},ct.identity=ga,ct.includes=Kr,ct.indexOf=Er,ct.inRange=function(e,t,n){return t=+t||0,void 0===n?(n=t,t=0):n=+n||0,e>=et(t,n)&&e<$e(t,n)},ct.isArguments=xi,ct.isArray=Ti,ct.isBoolean=function(e){return!0===e||!1===e||Oe(e)&&Ie.call(e)==l},ct.isDate=function(e){return Oe(e)&&Ie.call(e)==u},ct.isElement=function(e){return!!e&&1===e.nodeType&&Oe(e)&&!Pi(e)},ct.isEmpty=function(e){return null==e||(er(e)&&(Ti(e)||Ii(e)||xi(e)||Oe(e)&&Mi(e.splice))?!e.length:!Xi(e).length)},ct.isEqual=Oi,ct.isError=ki,ct.isFinite=function(e){return"number"==typeof e&&Qe(e)},ct.isFunction=Mi,ct.isMatch=function(e,t,n,r){return n="function"==typeof n?fn(n,r,3):void 0,Yt(e,Qn(t),n)},ct.isNaN=function(e){return Li(e)&&e!=+e},ct.isNative=Ci,ct.isNull=function(e){return null===e},ct.isNumber=Li,ct.isObject=Ai,ct.isPlainObject=Pi,ct.isRegExp=Ri,ct.isString=Ii,ct.isTypedArray=Ni,ct.isUndefined=function(e){return void 0===e},ct.kebabCase=oa,ct.last=xr,ct.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?$e(r+n,0):et(n||0,r-1))+1;else if(n){var a=e[i=dn(e,t,!0)-1];return(t===t?t===a:a!==a)?i:-1}if(t!==t)return Te(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},ct.lt=ji,ct.lte=function(e,t){return e<=t},ct.max=Ta,ct.min=Oa,ct.noConflict=function(){return he._=Ne,this},ct.noop=_a,ct.now=ai,ct.pad=function(e,t,n){t=+t;var r=(e=ve(e)).length;if(r>=t||!Qe(t))return e;var i=(t-r)/2,a=Ke(i);return(n=Fn("",Ye(i),n)).slice(0,a)+e+n},ct.padLeft=sa,ct.padRight=ca,ct.parseInt=function(e,t,n){return(n?nr(e,t,n):null==t)?t=0:t&&(t=+t),e=ha(e),nt(e,t||(G.test(e)?16:10))},ct.random=function(e,t,n){n&&nr(e,t,n)&&(t=n=void 0);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=rt();return et(e+a*(t-e+Fe("1e-"+((a+"").length-1))),t)}return $t(e,t)},ct.reduce=ei,ct.reduceRight=ti,ct.repeat=la,ct.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(null==e||rr(t,e)||(r=null==(e=1==(t=pr(t)).length?e:Wt(e,nn(t,0,-1)))?void 0:e[xr(t)]),r=void 0===r?n:r),Mi(r)?r.call(e):r},ct.round=ka,ct.runInContext=e,ct.size=function(e){var t=e?Xn(e):0;return ar(t)?t:Xi(e).length},ct.snakeCase=ua,ct.some=ri,ct.sortedIndex=kr,ct.sortedLastIndex=Mr,ct.startCase=da,ct.startsWith=function(e,t,n){return e=ve(e),n=null==n?0:et(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n},ct.sum=function(e,t,n){return n&&nr(e,t,n)&&(t=void 0),1==(t=qn(t,n,3)).length?function(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}(Ti(e)?e:hr(e),t):function(e,t){var n=0;return Rt(e,(function(e,r,i){n+=+t(e,r,i)||0})),n}(e,t)},ct.template=function(e,t,n){var r=ct.templateSettings;n&&nr(e,t,n)&&(t=n=void 0),e=ve(e),t=xt(Tt({},n||t),r,St);var i,a,o=xt(Tt({},t.imports),r.imports,St),s=Xi(o),c=cn(o,s),l=0,u=t.interpolate||Z,d="__p += '",h=ae((t.escape||Z).source+"|"+u.source+"|"+(u===I?H:Z).source+"|"+(t.evaluate||Z).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++J+"]")+"\n";e.replace(h,(function(t,n,r,o,s,c){return r||(r=o),d+=e.slice(l,c).replace(K,xe),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var p=t.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(T,""):d).replace(O,"$1").replace(k,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=pa((function(){return te(s,f+"return "+d).apply(void 0,c)}));if(m.source=d,ki(m))throw m;return m},ct.trim=ha,ct.trimLeft=function(e,t,n){var r=e;return(e=ve(e))?(n?nr(r,t,n):null==t)?e.slice(Ae(e)):e.slice(ye(e,t+"")):e},ct.trimRight=function(e,t,n){var r=e;return(e=ve(e))?(n?nr(r,t,n):null==t)?e.slice(0,Ce(e)+1):e.slice(0,be(e,t+"")+1):e},ct.trunc=function(e,t,n){n&&nr(e,t,n)&&(t=void 0);var r=30,i="...";if(null!=t)if(Ai(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,i="omission"in t?ve(t.omission):i}else r=+t||0;if(r>=(e=ve(e)).length)return e;var o=r-i.length;if(o<1)return i;var s=e.slice(0,o);if(null==a)return s+i;if(Ri(a)){if(e.slice(o).search(a)){var c,l,u=e.slice(0,o);for(a.global||(a=ae(a.source,(V.exec(a)||"")+"g")),a.lastIndex=0;c=a.exec(u);)l=c.index;s=s.slice(0,null==l?o:l)}}else if(e.indexOf(a,o)!=o){var d=s.lastIndexOf(a);d>-1&&(s=s.slice(0,d))}return s+i},ct.unescape=function(e){return(e=ve(e))&&C.test(e)?e.replace(M,Le):e},ct.uniqueId=function(e){var t=++Re;return ve(e)+t},ct.words=fa,ct.all=Hr,ct.any=ri,ct.contains=Kr,ct.eq=Oi,ct.detect=Gr,ct.foldl=ei,ct.foldr=ti,ct.head=_r,ct.include=Kr,ct.inject=ei,wa(ct,function(){var e={};return Ht(ct,(function(t,n){ct.prototype[n]||(e[n]=t)})),e}(),!1),ct.sample=ni,ct.prototype.sample=function(e){return this.__chain__||null!=e?this.thru((function(t){return ni(t,e)})):ni(this.value())},ct.VERSION="3.10.1",gt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){ct[e].placeholder=ct})),gt(["drop","take"],(function(e,t){dt.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new dt(this);n=null==n?1:$e(Ke(n)||0,0);var i=this.clone();return r?i.__takeCount__=et(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},dt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),gt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=2!=n;dt.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:qn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}})),gt(["first","last"],(function(e,t){var n="take"+(t?"Right":"");dt.prototype[e]=function(){return this[n](1).value()[0]}})),gt(["initial","rest"],(function(e,t){var n="drop"+(t?"":"Right");dt.prototype[e]=function(){return this.__filtered__?new dt(this):this[n](1)}})),gt(["pluck","where"],(function(e,t){var n=t?"filter":"map",r=t?Kt:Ea;dt.prototype[e]=function(e){return this[n](r(e))}})),dt.prototype.compact=function(){return this.filter(ga)},dt.prototype.reject=function(e,t){return e=qn(e,t,1),this.filter((function(t){return!e(t)}))},dt.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||t<0)?new dt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=+t||0)<0?n.dropRight(-t):n.take(t-e)),n)},dt.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},dt.prototype.toArray=function(){return this.take(at)},Ht(dt.prototype,(function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=ct[r?"take"+("last"==t?"Right":""):t];i&&(ct.prototype[t]=function(){var t=r?[1]:arguments,a=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,c=o instanceof dt,l=t[0],u=c||Ti(o);u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=function(e){return r&&a?i(e,1)[0]:i.apply(void 0,wt([e],t))},h={func:zr,args:[d],thisArg:void 0},f=c&&!s;if(r&&!a)return f?((o=o.clone()).__actions__.push(h),e.call(o)):i.call(void 0,this.value())[0];if(!r&&u){o=f?o:new dt(this);var p=e.apply(o,t);return p.__actions__.push(h),new ut(p,a)}return this.thru(d)})})),gt(["join","pop","push","replace","shift","sort","splice","split","unshift"],(function(e){var t=(/^(?:replace|split)$/.test(e)?ue:ce)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);ct.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n]((function(n){return t.apply(n,e)}))}})),Ht(dt.prototype,(function(e,t){var n=ct[t];if(n){var r=n.name;(st[r]||(st[r]=[])).push({name:t,func:n})}})),st[zn(void 0,2).name]=[{name:"wrapper",func:void 0}],dt.prototype.clone=function(){var e=new dt(this.__wrapped__);return e.__actions__=mt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=mt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=mt(this.__views__),e},dt.prototype.reverse=function(){if(this.__filtered__){var e=new dt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},dt.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ti(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=et(t,e+o);break;case"takeRight":e=$e(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,c=s-o,l=r?s:o-1,u=this.__iteratees__,d=u.length,h=0,f=et(c,this.__takeCount__);if(!n||i<200||i==c&&f==c)return un(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;c--&&h<f;){for(var m=-1,g=e[l+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}p[h++]=g}return p},ct.prototype.chain=function(){return Dr(this)},ct.prototype.commit=function(){return new ut(this.value(),this.__chain__)},ct.prototype.concat=Fr,ct.prototype.plant=function(e){for(var t,n=this;n instanceof lt;){var r=mr(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},ct.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof dt){var n=e;return this.__actions__.length&&(n=new dt(this)),(n=n.reverse()).__actions__.push({func:zr,args:[t],thisArg:void 0}),new ut(n,this.__chain__)}return this.thru(t)},ct.prototype.toString=function(){return this.value()+""},ct.prototype.run=ct.prototype.toJSON=ct.prototype.valueOf=ct.prototype.value=function(){return un(this.__wrapped__,this.__actions__)},ct.prototype.collect=ct.prototype.map,ct.prototype.head=ct.prototype.first,ct.prototype.select=ct.prototype.filter,ct.prototype.tail=ct.prototype.rest,ct}();he._=Pe,void 0===(i=function(){return Pe}.call(t,n,t,e))||(e.exports=i)}).call(this)}).call(this,n(139)(e),n(52))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(31),i=function(e){return e.upload},a=function(e){return e.upload.songs},o=Object(r.createSelector)(a,(function(e){return e.filter((function(e){return!e.mediaId})).length})),s=Object(r.createSelector)(a,(function(e){return e.filter((function(e){return e.filePath&&!e.mediaId})).length})),c=Object(r.createSelector)(a,(function(e){return e.findIndex((function(e){return!e.mediaId}))>-1})),l=Object(r.createSelector)(a,(function(e){return e.filter((function(e){return e.mediaId})).length}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(31),i=n(28),a=function(e){return e.uploadv2},o=function(e){return e.uploadv2.items},s=Object(r.createSelector)(o,a,(function(e){return Object.values(e).reduce((function(e,t){switch(e.total++,t.status){case i.h.success:e.success++,e.songIds.push(t.songId),e.songs.push(t.song);break;case i.h.inprogress:e.inprogress++;break;case i.h.waiting:e.waiting++;break;case i.h.error:e.error++;break;case i.h.converting:e.converting++}return e}),{total:0,success:0,error:0,inprogress:0,waiting:0,converting:0,songIds:[],songs:[]})}))},function(e,t,n){"use strict";var r=n(4),i=n(0),a=n.n(i),o=n(2),s=(n(325),function(e){var t=e.children,n=e.isLoading,i=e.isSmall,s=e.width,c=void 0===s?"100%":s,l=e.style,u=e.fadeLoader,d=u?"spinner.svg":i?"sm_loading.svg":"la_loading.svg",h=u?"fadeLoader":"";return n?a.a.createElement("div",{style:Object(r.a)({width:c},l),className:h},a.a.createElement("div",{style:{width:60,margin:"0 auto"}},a.a.createElement("img",{src:"".concat(o.cd,"images/").concat(d),alt:"Zing MP3"}))):t});s.defaultProps={children:null,isSmall:!1},t.a=s},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(84),o=n(29);function s(e){var t=e.className,n=e.role,r=e.link,s=e.text,c=e.title,l=e.onClick,u=e.isLast,d=e.spotlight,h=e.ellipsis;if(!r)return null;if(u&&(d||h)){var f=s.trim().split(" "),p="",m="";return f.forEach((function(e,t){t!==f.length-1?p+="".concat(e," "):m=e})),i.a.createElement(a.a,{role:n,to:r,className:"".concat(t," ").concat(d?"spotlight":""),title:c,onClick:l},p,i.a.createElement("span",{className:"last-word"},m,d&&i.a.createElement("i",{className:"icon ic-star"}),h&&"..."))}return i.a.createElement(a.a,{role:n,to:r,className:"".concat(t," ").concat(d?"spotlight":""),title:c,onClick:l},Object(o.j)(s),d&&i.a.createElement("i",{className:"icon ic-star"}),u?"":", ")}s.defaultProps={className:"",role:"button",isLast:!0},t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(5),i=n.n(r),a=n(11),o=n(6),s=n(7),c=n(12),l=n(9),u=n(8),d=n(0),h=n.n(d),f=n(26),p=n.n(f),m=n(24),g=n(19),v=n(18),y=n(13),b=n(22),w=n(1),_=n(2),E=n(16),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.name}));return t.join(", ")},x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).getContentText=function(e){var t=r.props,n=t.isBlock,i=t.song;return n?i.artists&&e?"B\u1ea1n \u0111ang ch\u1eb7n b\xe0i h\xe1t v\xe0 ngh\u1ec7 s\u0129 sau. B\u1ea1n c\xf3 mu\u1ed1n b\u1ecf ch\u1eb7n?":"B\u1ea1n \u0111ang ch\u1eb7n b\xe0i h\xe1t n\xe0y. B\u1ea1n mu\u1ed1n b\u1ecf ch\u1eb7n b\xe0i h\xe1t n\xe0y?":"B\u1ea1n c\xf3 th\u1ec3 ch\u1eb7n b\xe0i h\xe1t v\xe0 ngh\u1ec7 s\u0129 bi\u1ec3u di\u1ec5n. Ngh\u1ec7 s\u0129 v\xe0 c\xe1c b\xe0i h\xe1t c\u1ee7a h\u1ecd s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c th\xeam v\xe0o danh s\xe1ch ph\xe1t khi ph\xe1t t\u1ea5t c\u1ea3 Playlist."},r.getSongInfo=Object(a.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.g)(_.zb,{id:r.state.song.id});case 2:t=e.sent,(n=t.resp)&&n.data&&r.setState({song:n.data});case 5:case"end":return e.stop()}}),e)}))),r.onClick=r.onClick.bind(Object(c.a)(r)),r.closeModal=r.closeModal.bind(Object(c.a)(r)),r.blockAction=r.blockAction.bind(Object(c.a)(r)),r.unblockAction=r.unblockAction.bind(Object(c.a)(r)),r.isArtistChecked=r.isArtistChecked.bind(Object(c.a)(r)),r.toggleCheck=r.toggleCheck.bind(Object(c.a)(r)),r.state={artistChecked:[],songChecked:!0,song:r.props.song},r}return Object(s.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.song;t.id!==this.props.song.id&&this.setState({song:t})}},{key:"onClick",value:function(){this.props.isLogin?this.setState({isOpenModal:!0}):this.props.openPopupLogin()}},{key:"closeModal",value:function(){this.setState({isOpenModal:!1})}},{key:"blockAction",value:function(){this.closeModal();var e=this.state,t=e.songChecked,n=e.artistChecked,r=e.song,i=this.props.isInPlayer,a=t?r.id:void 0,o=[],s=[],c=r.thumbnail_medium||"";a&&o.push(E.m.replace("%s",r.title)),r.artists&&r.artists.forEach((function(e){n.indexOf(e.id)>-1&&(o.push(E.i.replace("%s",e.name)),s.push(e.thumbnail))})),this.props.blockAction({songId:a,artistIds:n,messages:o,isInPlayer:i,thumbnail_medium:c,artistThumbnails:s})}},{key:"unblockAction",value:function(){this.closeModal();var e=this.state.song,t=this.props.blockedArtistIds,n=e.artists.map((function(e){return e.id})),r=e.id,i=[],a=[];i.push(E.O.replace("%s",e.title)),e.artists&&e.artists.forEach((function(e){t.indexOf(e.id)>-1&&(i.push(E.N.replace("%s",e.name)),a.push(e.thumbnail))})),this.props.unBlockAction({songId:r,artistIds:n,messages:i,thumbnail_medium:e.thumbnail_medium,artistThumbnails:a})}},{key:"isArtistChecked",value:function(e){return this.state.checkedItems.indexOf(e)>-1}},{key:"toggleCheck",value:function(e,t){t?this.setState((function(t){var n=t.artistChecked,r=n.indexOf(e);return r<0?n.push(e):n.splice(r,1),{artistChecked:n}})):this.setState((function(e){return{songChecked:!e.songChecked}}))}},{key:"render",value:function(){var e=this.state,t=e.isOpenModal,n=e.songChecked,r=this.props,i=r.className,a=r.isBlock,o=r.blockedArtistIds,s=r.showBlockText,c=this.state.song,l=Object(b.u)(o,c.artists);return h.a.createElement(d.Fragment,null,h.a.createElement("a",{role:"button",onClick:this.onClick,className:i},h.a.createElement("i",{role:"button",className:"icon ic-denial"}),h.a.createElement("span",null,a?s?"B\u1ecf Ch\u1eb7n":"":"Ch\u1eb7n")),t&&h.a.createElement(T,{song:c,isBlock:a,isOpen:t,closeModal:this.closeModal,songChecked:n,isArtistChecked:this.isArtistChecked,toggleCheck:this.toggleCheck,blockedArtistIds:o,contentText:this.getContentText(l),hasBlockedArtist:l,getSongInfo:this.getSongInfo,confirm:a?this.unblockAction:this.blockAction}))}}]),n}(d.Component),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.getSongInfo()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.closeModal,r=e.confirm,i=e.isBlock,a=e.song,o=e.songChecked,s=e.toggleCheck,c=e.blockedArtistIds,l=e.contentText,u=e.hasBlockedArtist;return h.a.createElement(p.a,{isOpen:t,onRequestClose:n,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-block-modal",contentLabel:"Chia s\u1ebb"},h.a.createElement("div",{className:"z-modal-content"},h.a.createElement("div",{className:"z-buy-download-zone z-left pad-20 clearfix"},h.a.createElement("div",{className:"z-title"},i?"B\u1ecf ch\u1eb7n b\xe0i h\xe1t":"Ch\u1eb7n b\xe0i h\xe1t"),h.a.createElement("div",{className:"z-copyright-content"},l),h.a.createElement("ul",{className:"list-block"},h.a.createElement(O,{key:a.id,id:a.id,title:a.title,thumb:a.thumbnail,artistsNames:S(a.artists),checked:o,toggleCheck:s,isBlock:i}),a.artists.map((function(e,t){var n=c.indexOf(e.id)>-1;return i&&!n?null:h.a.createElement(O,{key:t,id:e.id,isArtist:!0,title:e.name,thumb:e.thumbnail,toggleCheck:s,isBlock:i})}))),h.a.createElement("div",{className:"--z--group-button mar-top-10"},h.a.createElement("a",{onClick:n,className:"z-btn z-btn-shadow z-btn-2x z-btn-edit-close"},"Kh\xf4ng"),h.a.createElement("a",{onClick:r,className:"z-btn z-btn-shadow z-btn-2x z-btn-confirm"},i?u?"B\u1ecf ch\u1eb7n t\u1ea5t c\u1ea3":"B\u1ecf ch\u1eb7n":"Ch\u1eb7n")))))}}]),n}(h.a.Component),O=function(e){var t=e.title,n=e.artistsNames,r=e.id,i=e.thumb,a=e.isArtist,o=e.checked,s=e.toggleCheck,c=e.isBlock;return h.a.createElement("li",null,h.a.createElement("div",{className:"z-card card-40 ".concat(a?"card-50 thumb-50-circle":"")},h.a.createElement("a",{className:"thumb-40"},i&&h.a.createElement("img",{src:i,alt:""})),h.a.createElement("div",{className:"card-info ellipsis"},h.a.createElement("div",{className:"ellipsis"},a?"".concat(c?"":"Ch\u1eb7n b\xe0i h\xe1t c\u1ee7a "):"",h.a.createElement("b",null,"".concat(t))),n&&h.a.createElement("div",{className:"artist"},h.a.createElement("span",null,n))),!c&&h.a.createElement("div",{className:"z-check-section"},h.a.createElement("label",{className:"z-checkbox"},h.a.createElement("input",{role:"button",type:"checkbox",onClick:function(){return s(r,a)},checked:o}),h.a.createElement("span",{role:"button",className:"z-checkmark"})))))};t.b=Object(g.b)((function(e){return{blockedArtistIds:Object(y.e)(e),isLogin:Object(y.b)(e)}}),(function(e){return Object(m.b)({blockAction:v.b,unBlockAction:v.U,openPopupLogin:v.G},e)}))(x)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(26),o=n.n(a),s=n(85),c=n.n(s),l=n(98),u=n(2);t.a=function(e){var t=e.isOpen,n=e.closeModal,r=e.title,a=void 0===r?"D\xe0nh cho t\xe0i kho\u1ea3n VIP":r,s=e.detail,d=void 0===s?"Theo y\xeau c\u1ea7u c\u1ee7a \u0111\u01a1n v\u1ecb s\u1edf h\u1eefu b\u1ea3n quy\u1ec1n, b\u1ea1n c\u1ea7n t\xe0i kho\u1ea3n VIP \u0111\u1ec3 nghe b\xe0i h\xe1t n\xe0y.":s,h=e.isLogin,f=e.type,p=e.link,m=e.bannerType,g=void 0===m?"listen":m,v=e.btnText;if(!t)return null;var y=c()("z-modal z-show",{"z-download-free-modal":f,"z-download-vip-modal":!f,"z-playlist-vip-modal":f===u.yd.PLAYLIST||f===u.yd.ALL_PLAYLIST});return i.a.createElement(o.a,{isOpen:t,onRequestClose:n,className:"z-modal-inner z-no-pad",overlayClassName:y,contentLabel:"Chia s\u1ebb"},i.a.createElement(l.a,{closeModal:n,title:a,detail:d,isLogin:h,type:f,link:p,bannerType:g,btnText:v}))}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(26),o=n.n(a),s=n(72),c=n.n(s),l=n(22);o.a.setAppElement("#root");var u=function(e){var t=e.className,n=e.text,r=e.link,a=e.icon,o=e.addToast,s=Object(l.i)(r);return i.a.createElement(c.a,{className:t,role:"button",component:"a","data-clipboard-text":s,title:"Sao ch\xe9p","data-tip":"\u0110\xe3 sao ch\xe9p","data-for":"global","data-delay-show":0,"data-offset":"{ 'right': 5, 'top': -5 }","data-delay-hide":1e3,onClick:function(){o({status:"success",text:"Link \u0111\xe3 \u0111\u01b0\u1ee3c sao ch\xe9p v\xe0o clipboard"})},"data-event":"click","data-event-off":"mousemove"},a&&i.a.createElement("i",{className:"icon ic-".concat(a)}),i.a.createElement("span",null,n))};u.defaultProps={className:"icon ic-share",text:""},t.a=u},function(e,t,n){var r=n(145),i=n(258);function a(t,n){return delete e.exports[t],e.exports[t]=n,n}e.exports={Parser:r,Tokenizer:n(146),ElementType:n(57),DomHandler:i,get FeedHandler(){return a("FeedHandler",n(260))},get Stream(){return a("Stream",n(261))},get WritableStream(){return a("WritableStream",n(148))},get ProxyHandler(){return a("ProxyHandler",n(276))},get DomUtils(){return a("DomUtils",n(277))},get CollectingHandler(){return a("CollectingHandler",n(291))},DefaultHandler:i,get RssHandler(){return a("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new r(n,t).end(e),n.dom},parseFeed:function(t,n){var i=new e.exports.FeedHandler(n);return new r(i,n).end(t),i.dom},createDomStream:function(e,t,n){var a=new i(e,t,n);return new r(a,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t,n){var r;"undefined"!==typeof self&&self,r=function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(1)),s=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"propsWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return Object.keys(this.props).forEach((function(r){if(-1!==r.search(e)){var i=t?r.replace(e,""):r;n[i]=this.props[r]}}),this),n}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=o.default.version.match(/0\.13(.*)/)?this.refs.element.getDOMNode():this.element,r=n(3);this.clipboard=new r(t,e);var i=this.propsWith(/^on/,!0);Object.keys(i).forEach((function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])}),this)}},{key:"render",value:function(){var e=this,t=i({type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:function(t){e.element=t},onClick:this.props.onClick},this.propsWith(/^data-/),this.propsWith(/^button-/,!0));return o.default.createElement(this.getComponent(),t,this.props.children)}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}]),t}(o.default.Component);d.propTypes={options:function(e,t,n){var i=e[t];return i&&"object"!==("undefined"===typeof i?"undefined":r(i))||Array.isArray(i)?new Error("Invalid props '"+t+"' supplied to '"+n+"'. '"+t+"' is not an object."):void 0!==e["option-text"]&&"function"!==typeof e["option-text"]?new Error("Invalid props 'option-text' supplied to '"+n+"'. 'option-text' is not a function."):void 0},type:s.default.string,className:s.default.string,style:s.default.object,component:s.default.string,children:s.default.oneOfType([s.default.element,s.default.string,s.default.number,s.default.object])},d.defaultProps={onClick:function(){}},t.default=d},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n}])},e.exports=r(n(0),n(20),n(315))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(83);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=function(e){var t=e.className;return e.name,i.a.createElement("i",{role:"button",className:"icon ic-".concat(t)})}},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(9),o=n(8),s=n(0),c=n.n(s),l=n(43),u=n.n(l),d=n(30),h=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return d.b?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),u.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),n}(c.a.Component);t.a=h},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(12),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(27),d=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this)).onClick=i.onClick.bind(Object(a.a)(i)),i}return Object(i.a)(n,[{key:"onClick",value:function(){var e=this.props,t=e.id,n=e.type,r=e.likeAction,i=e.title,a=e.fireGAEvent;return r(n,t,i,e.thumbnail),a&&a(),!1}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.text,r=void 0===n?"":n,i=e.liked,a=e.id;return r?l.a.createElement("a",{onClick:this.onClick,className:"".concat(t," liked"),title:i?"Xo\xe1 kh\u1ecfi th\u01b0 vi\u1ec7n":"Th\xeam v\xe0o th\u01b0 vi\u1ec7n"},l.a.createElement("i",{role:"button",className:"icon ".concat(i?"ic-like-full":"ic-like")})," ".concat(r)):l.a.createElement(u.c,{className:t,title:i?"Xo\xe1 kh\u1ecfi th\u01b0 vi\u1ec7n":"Th\xeam v\xe0o th\u01b0 vi\u1ec7n",classNameIcon:i?"like-full":"like",onClick:this.onClick,tooltipId:"like-".concat(a)})}}]),n}(c.Component);d.defaultProps={className:"",liked:!1},t.a=d},function(e,t,n){"use strict";var r=n(2).C?{SEARCH_ZID:"2077413248503083284",SUGGEST_ZID:"2519676343188680993",NEW_SONG_ZID:"789825045784916702",SONG_ZID:"272894159406723362",MV_ZID:"840938712840237348",ALBUM_HOT_ZIDS:["121377385470194400","689345041809240802"],MV_HOT_ZIDS:["1257354393690796772","1825383553961521894"],BANNER_MP3_ZID:"1659704971474990478",BANNER_ZID:"1623324446699254366",HOT_KEYWORD_ZIDS:["2002201628051468597","2570158203374891319"],PL_SUGGEST_ZID:"1258648553236426378",PL_FOR_YOU_ZID:"715861474110041733"}:{SEARCH_ZID:"1509403879441658130",SUGGEST_ZID:"815671841144664363",NEW_SONG_ZID:"221813546419712732",SONG_ZID:"1383683392049475885",MV_ZID:"1951649399121080623",ALBUM_HOT_ZIDS:["1749606784533230215","2317618335438041753"],MV_HOT_ZIDS:["1800123829091529453","2368100195624252143"],BANNER_MP3_ZID:"2467875378286785845",BANNER_ZID:"1647974904688505515",HOT_KEYWORD_ZIDS:["866189504178254129","1434163671687721267"],PL_SUGGEST_ZID:"1826607344762973836",PL_FOR_YOU_ZID:"1826607344762973836"};t.a=r},function(e,t,n){e.exports=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},a=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var s=i(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new o.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},l=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,i);if(c){for(var u=0;u<c;u+=a)this._doProcessBlock(r,u);var d=r.splice(0,c);n.sigBytes-=l}return new o.init(d,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);return e}()},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(89).Buffer)},function(e,t,n){var r=e.exports;[n(294),n(295),n(296),n(297),n(298),n(299)].forEach((function(e){Object.keys(e).forEach((function(t){r[t]=e[t].bind(r)}))}))},function(e,t){e.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(43),o=n.n(a),s=n(19),c=n(168),l=n.n(c),u=n(49),d=n.n(u),h=n(42),f=n.n(h),p=n(20),m=n.n(p),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var b=function(e){function t(){var n,r;v(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.state={match:r.computeMatch(r.props.history.location.pathname)},y(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:g({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;f()(null==n||1===i.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen((function(){e.setState({match:e.computeMatch(r.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){d()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?i.a.Children.only(e):null},t}(i.a.Component);b.propTypes={history:m.a.object.isRequired,children:m.a.node},b.contextTypes={router:m.a.object},b.childContextTypes={router:m.a.object.isRequired};var w=b,_=n(50),E=(n(193),n(6)),S=n(7),x=n(9),T=n(8),O=n(24),k=n(329),M=n(85),A=n.n(M),C=n(18),L=n(15),P=n(13),R=n(10),I=n(2),N=n(5),j=n.n(N),D=n(11),z=n(39),F=n(1),U=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).hasAds=function(){var t=e.props.location,n=t?t.pathname:"/",r=e.ads||{},i=r.hasMastheadSub,a=r.hasMastheadHome,o=r.playlistIds;if("/"===n)return a;if(!i)return!1;if(Object(F.B)(o))return!0;if(n.includes("/album/")||n.includes("/playlist/")){var s=n.split("/");if(o.indexOf(s[s.length-1].split(".html")[0])>-1)return!0}return!1},e.ads=null,e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=Object(D.a)(j.a.mark((function e(){var t,n,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.b)();case 2:return t=e.sent,this.ads=t,this.setState({a:{}}),e.next=7,Object(z.b)();case 7:n=e.sent,this.ads=n,this.interval=setInterval(Object(D.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.b)();case 2:t=e.sent,r.ads=t;case 4:case"end":return e.stop()}}),e)}))),12e4);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.isFetchingProfile||this.props.isVip||!this.ads||!this.hasAds()?null:(window.hasMasthead=!0,i.a.createElement("div",{id:"zmp3_Top"}))}}]),n}(r.PureComponent),B=n(59),H=n(25),V=n(22),G=n(64),W=n(84),q=n(35),Y=n(14),Z=n(44),K=n(12),X=n(96),Q=n.n(X),J=n(171),$=n.n(J),ee=n(172),te=n.n(ee),ne=n(173),re=n.n(ne),ie=n(102),ae=n(23),oe=n(77),se=n(21),ce=n(37),le=(n(229),0),ue=1,de=2,he=3,fe={song:{text:"B\xe0i H\xe1t",icon:"song",path:I.Yc},playlist:{text:"Album/Playlist",icon:"list-music",path:I.Xc},artist:{text:"Ngh\u1ec7 S\u0129",icon:"artist",path:I.Tc},video:{text:"MV",icon:"mv",path:I.Zc}},pe=function(e){return e.keyword},me=function(e){return function(t,n){var r=n.query,a=$()(t.keyword,r),o=te()(t.keyword,a),s=fe[t.obj_type_name];return i.a.createElement("a",null,i.a.createElement("i",{className:"icon ic-".concat(s?s.icon:"search")}),o.map((function(t,n){var r="dark"===e?"highlight-dark":"match-word",a=t.highlight?r:null;return i.a.createElement("span",{className:a,key:n},t.text)})),s&&i.a.createElement("i",{className:"z-type"}," - trong ".concat(s.text)))}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase().replace(/[-.,_/*+?^${}()|[\]\\]/g," ").trim()},ve=function(e){return e.stopImmediatePropagation(),e.preventDefault(),e.returnValue=!1,!1},ye=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).scrollLock=function(e){var t=document.getElementById("react-autowhatever-1");t&&(e=e||t.firstChild,r.scrollElem=e,function(e,t){e.addEventListener("wheel",t,!1)}(e,r.onScrollHandler))},r.scrollRelease=function(e){(e=e||r.scrollElem)&&function(e,t){e.removeEventListener("wheel",t,!1)}(e,r.onScrollHandler)},r.onScrollHandler=function(e){var t=r.scrollElem,n=t.scrollTop,i=t.scrollHeight,a=t.clientHeight,o=e.deltaY,s=o>0;return s&&o>i-a-n?(t.scrollTop=i,ve(e)):!s&&-o>n?(t.scrollTop=0,ve(e)):void 0},r.onChange=function(e,t){var n=t.newValue,i=Boolean(n);r.setState({value:n||"",showsugall:i,showHotKeyword:!i}),i||r.setState({suggestions:[]})},r.onClear=function(e){r.setState({value:"",suggestions:[]})},r.onFocus=function(e){r.expandSearch(e.target),r.setState({isFocus:!0}),r.state.value?(r.input.select(),r.setState({showsugall:!0},(function(){r.autoCompleteSearch(r.state.value)}))):r.setState({showHotKeyword:!0})},r.onBlur=function(){r.setState({isFocus:!1})},r.hideSugAll=function(){r.setState({showsugall:!1})},r.fetchSuggest=function(e){Q()("".concat(I.ld).concat(encodeURIComponent(e)),{},(function(e,t){if(t&&t.data&&r.state.value){var n,i=t.data[0]&&t.data[0].keyword?t.data[0].keyword:[],a=Object(Z.a)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.keyword=o.obj_type_name?o.keyword:ge(o.keyword)}}catch(e){a.e(e)}finally{a.f()}r.setState({suggestions:i})}}))},r.onSuggestionsFetchRequested=function(e){var t=e.value,n=e.reason;r.state.value!==t&&t&&"suggestion-selected"!==n&&r.autoCompleteSearch(t)},r.onSuggestionSelected=function(e,t){var n=t.suggestion;if(n){e.preventDefault();var i=[n.keyword].concat(Object(Y.a)(r.state.history));r.setState({showsugall:!1,suggestions:[],history:i});var a=fe[n.obj_type_name];r.props.history.push("".concat(a?a.path:r.getSearchPathName(),"?q=").concat(encodeURIComponent(n.keyword))),r.input.blur(),r.saveKeyWord(i),r.fireTrackingSearch(n.keyword,ue)}},r.handleSubmit=function(e){if(e.preventDefault(),r.state.value){var t=r.getSearchPathName();r.props.history.push({pathname:t,match:{path:t},search:"?q=".concat(encodeURIComponent(r.state.value.toLowerCase())),state:{id:r.state.value.toLowerCase()}});var n=[r.state.value].concat(Object(Y.a)(r.state.history));r.setState({showsugall:!1,suggestions:[],history:n}),r.input.blur(),r.saveKeyWord(n),r.fireTrackingSearch(r.state.value,le)}},r.storeInputReference=function(e){null!==e&&(r.input=e.input)},r.onHotKeyWordSelected=function(e,t,n){var i=r.getSearchPathName();window.adKeyword=t,r.props.history.push("".concat(i,"?q=").concat(encodeURIComponent(e))),r.props.history.push({pathname:i,match:{path:i},search:"?q=".concat(encodeURIComponent(e))});var a=[e].concat(Object(Y.a)(r.state.history));r.setState({value:e,showsugall:!1,showHotKeyword:!1,history:a}),r.saveKeyWord(a),r.fireTrackingSearch(e,n)},r.hideHotKeywords=function(){r.setState({showHotKeyword:!1})},r.renderInputComponent=function(e){e.showsugall;var t=Object(q.a)(e,["showsugall"]),n=t.value;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"z-input-group header-search-group"},i.a.createElement("label",null,i.a.createElement("i",{className:"icon ic-search",onClick:r.handleSubmit}),i.a.createElement("div",{className:"input-wrapper"},i.a.createElement("input",Object.assign({type:"text"},t,{className:"form-control z-input-placeholder",placeholder:I.Wc})))),n?i.a.createElement("i",{className:"icon ic-close",onClick:r.onClear}):""),i.a.createElement("div",{className:"--z--clip-header"}))},r.fireTrackingSearch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(ce.g)({fromKeySearch:r.state.value||"",keyClick:e,keyClickType:t,fromSession:"keyword-search"},42)},r.getSearchPathName=function(){var e=r.props.history.location,t=(e=void 0===e?{}:e).pathname,n=void 0===t?"":t;return n.includes("/tim-kiem/")?n:I.Uc},r.handleClickIcon=function(){window.headerShrinked&&(r.expandSearch(r.input),r.input.focus())},r.renderSuggestionsContainer=r.renderSuggestionsContainer.bind(Object(K.a)(r)),r.autoCompleteSearch=Object(F.i)(r.fetchSuggest,250),r.state={value:e.location.pathname===I.Uc&&Object(F.x)("q")||"",suggestions:[],hotKeywords:[],showsugall:!1,history:[],isFocus:!1},r}return Object(S.a)(n,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick.bind(this))}},{key:"componentDidMount",value:function(){var e=Object(D.a)(j.a.mark((function e(){var t,n,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.addEventListener("click",this.handleClick.bind(this));try{t=se.a.get("KEYWORD_SEARCH"),n=JSON.parse(t)||[],this.setState({history:n})}catch(a){}return e.next=4,Object(F.g)(I.ob);case 4:r=e.sent,i=r.resp,Object(ae.a)(i)&&this.setState({hotKeywords:i.data});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=e.location,r=this.props,i=r.pathName,a=r.location;r.isVip;n===a||i.includes("/tim-kiem/")||this.onClear(),t.showsugall}},{key:"saveKeyWord",value:function(e){try{var t=e.slice(0,10),n=JSON.stringify(t);se.a.set("KEYWORD_SEARCH",n)}catch(r){}}},{key:"handleClick",value:function(e){this.state.showsugall&&(this.searchEl.contains(e.target)||"keyword-btn"===e.target.getAttribute("role")||(this.setState({showsugall:!1,suggestions:[]}),this.collapseSearch(this.input)))}},{key:"expandSearch",value:function(e){window.headerShrinked&&(e.placeholder=I.Wc,document.getElementById("header").classList.add("--z--header-animation"))}},{key:"collapseSearch",value:function(e){window.headerShrinked&&(e.placeholder=I.e,document.getElementById("header").classList.remove("--z--header-animation"))}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return this.state.showsugall?i.a.createElement("div",{className:"z-auto-com-wrap",style:{display:"block"}},i.a.createElement(ie.Scrollbars,Object.assign({autoHeight:!0,autoHeightMax:window.innerHeight-165,style:{width:"100%",position:"absolute"}},t),n)):null}},{key:"onSuggestionsClearRequested",value:function(){}},{key:"focusInput",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.state,n=t.showsugall,a=t.value,o=t.suggestions,s=t.showHotKeyword,c=t.hotKeywords,l=t.history,u=t.isFocus,d=this.props,h=d.zmp3Theme,f=(d.playingPlaylistId,d.isPlaying,d.playPlaylist,d.toggleQueue,d.isVip),p={placeholder:I.Wc,value:a,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,showsugall:n},m="dark"===h,g={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open ".concat(m?"react-autosuggest__dark-theme":""," z-sug-re"),suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion z-sug-re",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"},v=s&&!Object(F.B)(c);return i.a.createElement(r.Fragment,null,i.a.createElement("div",{className:"z-header-search-wrap ".concat(m?"auto-suggest-dark":""," ").concat(v?"auto-hot-keyword":""," ").concat(v||u||n?"z-focus":""),ref:function(t){return e.searchEl=t},onClick:this.handleClickIcon},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(re.a,{ref:this.storeInputReference,multiSection:!1,focusInputOnSuggestionClick:!1,alwaysRenderSuggestions:!0,suggestions:o,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,renderSuggestionsContainer:this.renderSuggestionsContainer,getSuggestionValue:pe,renderSuggestion:me(h),renderInputComponent:this.renderInputComponent,inputProps:p,theme:g})),v&&i.a.createElement(be,{isVip:f,onKeyWordSelected:this.onHotKeyWordSelected,hotKeywords:c,history:l,input:this.input,hideHotKeywords:this.hideHotKeywords})))}}]),n}(r.Component),be=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={adKeywords:[]},e.handleOutClick=function(t){e.node.contains(t.target)||e.props.input.contains(t.target)||e.props.hideHotKeywords()},e.hanldeKeydown=function(t){[13,27].indexOf(t.keyCode)<0||e.props.hideHotKeywords()},e}return Object(S.a)(n,[{key:"componentWillMount",value:function(){var e=Object(D.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.isVip){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(z.e)(Object(Y.a)(oe.a.HOT_KEYWORD_ZIDS),"web_other_native-search");case 4:t=e.sent,n=Object.values(t).filter((function(e){return e})),this.setState({adKeywords:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleOutClick),document.addEventListener("keydown",this.hanldeKeydown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleOutClick),document.removeEventListener("keydown",this.hanldeKeydown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hotKeywords,r=void 0===n?[]:n,a=t.history,o=void 0===a?[]:a,s=t.onKeyWordSelected,c=this.state.adKeywords,l=void 0===c?[]:c;if(Object(F.B)(r)&&Object(F.B)(o))return null;var u=l.map((function(e){return ge(e.title)})),d=Object(Y.a)(new Set(o)).filter((function(e){return u.indexOf(e)<0})).slice(0,3),h=r.filter((function(e){return[].concat(Object(Y.a)(u),Object(Y.a)(d)).indexOf(e)<0}));return i.a.createElement("div",{className:" z-auto-com-wrap z-show",ref:function(t){return e.node=t}},i.a.createElement("div",{className:"z-sug-re"},i.a.createElement("ul",null,u.map((function(e,t){return i.a.createElement("li",{key:"spo-".concat(t),onClick:function(){return s(e,l[t])}},i.a.createElement("a",null,e,i.a.createElement("i",{className:"icon ic-qc"})))})),d.map((function(e,t){return i.a.createElement("li",{key:"his-".concat(t),onClick:function(){return s(e,void 0,de)}},i.a.createElement("a",null,e,i.a.createElement("i",{className:"icon ic-history"})))})),h.map((function(e,t){return i.a.createElement("li",{key:"hot-".concat(t),onClick:function(){return s(e,void 0,he)}},i.a.createElement("a",null,e,i.a.createElement("i",{className:"icon ic-trend"})))})))))}}]),n}(r.PureComponent),we=ye,_e=n(54),Ee=n(60),Se=n(45),xe=n(26),Te=n.n(xe),Oe=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this)).chooseTheme=function(e){r.setState({dark:e})},r.onSelect=function(){r.state.dark&&r.props.toggleDarkTheme(),r.closeModal()},r.closeModal=function(){r.setState({isOpen:!1}),se.a.set("themeSelected","ok")},r.dark="dark"===e.currentTheme,r.state={dark:r.dark,isOpen:!1},r}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.dark||"ok"===se.a.get("themeSelected")||this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.dark,r=t.isOpen;return this.dark||!r?null:i.a.createElement(Te.a,{isOpen:r,onAfterOpen:this.afterOpenModal,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-choice-theme-modal",contentLabel:"Chia s\u1ebb"},i.a.createElement("div",{className:"z-modal-content"},i.a.createElement("div",{className:"z-title"},"Ch\u1ecdn giao di\u1ec7n "),i.a.createElement("div",{className:"z-theme-data mar-top-15"},i.a.createElement("div",{className:"z-theme mar-right-30"},i.a.createElement("div",{className:"z-theme-cover ".concat(n?"":"z-active"),onClick:function(){return e.chooseTheme(!1)},style:{marginBottom:10}},i.a.createElement("div",{className:"z-light"})),i.a.createElement("div",{className:"z-checkbox-message",onClick:function(){return e.chooseTheme(!1)}},i.a.createElement("label",{className:"z-checkbox"},i.a.createElement("input",{type:"checkbox",checked:!n}),i.a.createElement("span",{className:"z-checkmark"})),i.a.createElement("div",{className:"z-cb-title"},i.a.createElement("span",{className:"z-text"},"S\xe1ng")))),i.a.createElement("div",{className:"z-theme"},i.a.createElement("div",{className:"z-theme-cover ".concat(n?"z-active":""),onClick:function(){return e.chooseTheme(!0)},style:{marginBottom:10}},i.a.createElement("div",{className:"z-dark"})),i.a.createElement("div",{className:"z-checkbox-message",onClick:function(){return e.chooseTheme(!0)}},i.a.createElement("label",{className:"z-checkbox"},i.a.createElement("input",{type:"checkbox",checked:n}),i.a.createElement("span",{className:"z-checkmark"})),i.a.createElement("div",{className:"z-cb-title"},i.a.createElement("span",{className:"z-text"},"T\u1ed1i"))))),i.a.createElement("button",{type:"submit",onClick:this.onSelect,className:"z-btn z-btn-shadow mar-top-20"},"Ch\u1ecdn"),i.a.createElement("div",{className:"z-more-info"},"(B\u1ea1n c\xf3 th\u1ec3  thay \u0111\u1ed5i l\u1ef1a ch\u1ecdn giao di\u1ec7n t\u1eeb menu c\xe1 nh\xe2n)")))}}]),n}(r.Component),ke=n(38),Me=n(30),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return i.a.createElement(W.a,{to:"/".concat(e.publisher.alias)},i.a.createElement("div",{className:"noti-item"},i.a.createElement("div",{className:"noti-image new-image"},i.a.createElement("img",{className:"avatar",src:e.publisher.avatar}),i.a.createElement("img",{className:"z-icon",src:e.icon})),i.a.createElement("div",{className:"noti-content"},i.a.createElement("div",{className:"main-content",dangerouslySetInnerHTML:{__html:e.content}}),i.a.createElement("span",{className:"noti-time"},Object(F.M)(e.time/1e3)))))}))},Ce=function(e){var t=Object(r.useState)([]),n=Object(ke.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(!1),c=Object(ke.a)(s,2),l=c[0],u=c[1],d=Object(r.useState)(0),h=Object(ke.a)(d,2),f=h[0],p=h[1],m=Object(r.useState)(!1),g=Object(ke.a)(m,2),v=g[0],y=g[1],b=Object(r.useRef)(null),w=function(){var e=Object(D.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f>=100)){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.next=5,Object(F.g)("/noti/get-list",{start:f,count:10});case 5:t=e.sent,(n=t.resp).data&&(r=n.data.items||[],o([].concat(Object(Y.a)(a),Object(Y.a)(r))),0!==f||Object(F.B)(r)||+se.a.get("notiId")!==r[0].id&&y(!0)),p(f+10),u(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){l||b.current.scrollTop+b.current.clientHeight<b.current.scrollHeight||w()};return Object(r.useEffect)((function(){return 0!==f||l||w(),b.current.addEventListener("scroll",_),function(){return b.current.removeEventListener("scroll",_)}}),[l,f]),Object(r.useEffect)((function(){e.showNotifi&&Object(Me.j)(b.current,0)}),[e.showNotifi]),i.a.createElement(i.a.Fragment,null,i.a.createElement(Ee.a,{onClick:function(){a[0]&&se.a.set("notiId",a[0].id),y(!1)},toggleIsOpen:e.toggleIsOpen,closeMenu:e.closeMenu,className:"icon-button ".concat(v?"new-noti":""," ").concat(e.showNotifi?"active":"")},i.a.createElement("i",{className:"icon ic-noti"})),i.a.createElement("div",{className:"z-user-dropdown-menu ".concat(e.showNotifi?"z-show":"z-hide")},i.a.createElement("div",{className:"z-user-dropdown-menu-inner",ref:b},i.a.createElement("span",{className:"main-header"},"Th\xf4ng b\xe1o"),0===a.length&&i.a.createElement("span",{className:"no-noti z-center pad-bottom-10"},"B\u1ea1n ch\u01b0a nh\u1eadn th\xf4ng b\xe1o n\xe0o"),0!==a.length&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"sub-header pad-top-0 mar-bottom-10"},"M\u1edbi nh\u1ea5t"),i.a.createElement(W.a,{to:"/".concat(a[0].publisher.alias)},i.a.createElement("div",{className:"noti-item"},i.a.createElement("div",{className:"noti-image new-topic"},i.a.createElement("img",{className:"avatar",src:a[0].publisher.avatar}),i.a.createElement("img",{className:"z-icon",src:a[0].icon})),i.a.createElement("div",{className:"noti-content"},i.a.createElement("div",{className:"main-content",dangerouslySetInnerHTML:{__html:a[0].content}}),i.a.createElement("span",{className:"noti-time"},Object(F.M)(a[0].time/1e3)))))),a.length>1&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"sub-header mar-top-10 mar-bottom-10 pad-top-0"},"Tr\u01b0\u1edbc \u0111\xf3"),Ae(a.slice(1))))))},Le=(n(177),"light"),Pe="dark",Re=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).toggleMenuNotiFi=function(){var t=e.state.showNotifi;e.setState({showNotifi:!t})},e.hideNotifiMenu=function(){e.setState({showNotifi:!1})},e.toggleMenu=function(){var t=e.state.showMenu;e.setState({showMenu:!t})},e.hideMenu=function(){e.setState({showMenu:!1})},e.onLogout=function(){Object(F.F)((function(){se.a.set(I.ed,null),se.a.set(I.D,!1),Se.a.set("ZMP3_THEME",Le)}))},e.toggleDarkTheme=function(){var t=Se.a.get("ZMP3_THEME");return t&&t!==Le?(e.setState({currentTheme:Le}),e.setTheme(Le),e.props.setMp3Theme(Le),Se.a.set("ZMP3_THEME",Le)):(e.setState({currentTheme:Pe}),e.setTheme(Pe),e.props.setMp3Theme(Pe),Se.a.set("ZMP3_THEME",Pe))},e.getListOA=Object(D.a)(j.a.mark((function t(){var n,r,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.g)(I.Tb);case 2:if(n=t.sent,r=n.resp,Object(ae.a)(r)){t.next=6;break}return t.abrupt("return");case 6:i=r.data,e.setState({OAList:i});case 8:case"end":return t.stop()}}),t)}))),e.state={showMenu:!1,showNotifi:!1,currentTheme:Se.a.get("ZMP3_THEME"),OAList:[],notiList:[{artist:"Lou Ho\xe0ng",content:"\u0110\xe3 chia s\u1ebd 9 b\xe0i vi\u1ebft",type:"topic",time:new Date},{artist:"H\xf2a Minzy",type:"image",content:"\u0111\xe3 chia s\u1ebb 9 b\xe0i vi\u1ebft",time:new Date},{artist:"B\xedch Ph\u01b0\u01a1ng",type:"topic",content:"\u0111\xe3 chia s\u1ebb 9 b\xe0i vi\u1ebft m\u1edbi: \u201cEm kh\xf4ng Th\u1ec3\u201d. S\xe1ng t\xe1c Ti\xean TI\xean. Tr\xecnh b\xe0y: TTB - Ki\u1ec1u Loan\u201d v\xe0 c\xf2n c\u1ea3 1 \u0111o\u1ea1n text bao d\xe0i th\xf2n l\xf2n \u0111\u1eb1ng sau n\u1eefa n\xe8",time:new Date},{artist:"B\xedch Ph\u01b0\u01a1ng",type:"topic",content:"\u0111\xe3 chia s\u1ebb 9 b\xe0i vi\u1ebft m\u1edbi: \u201cEm kh\xf4ng Th\u1ec3\u201d. S\xe1ng t\xe1c Ti\xean TI\xean. Tr\xecnh b\xe0y: TTB - Ki\u1ec1u Loan",time:new Date},{artist:"B\xedch Ph\u01b0\u01a1ng",type:"topic",content:"\u0111\xe3 chia s\u1ebb 9 b\xe0i vi\u1ebft m\u1edbi: \u201cEm kh\xf4ng Th\u1ec3\u201d. S\xe1ng t\xe1c Ti\xean TI\xean. Tr\xecnh b\xe0y: TTB - Ki\u1ec1u Loan",time:new Date},{artist:"B\xedch Ph\u01b0\u01a1ng",type:"topic",content:"\u0111\xe3 chia s\u1ebb 9 b\xe0i vi\u1ebft m\u1edbi: \u201cEm kh\xf4ng Th\u1ec3\u201d. S\xe1ng t\xe1c Ti\xean TI\xean. Tr\xecnh b\xe0y: TTB - Ki\u1ec1u Loan",time:new Date},{artist:"B\xedch Ph\u01b0\u01a1ng",type:"topic",content:"\u0111\xe3 chia s\u1ebb 9 b\xe0i vi\u1ebft m\u1edbi: \u201cEm kh\xf4ng Th\u1ec3\u201d. S\xe1ng t\xe1c Ti\xean TI\xean. Tr\xecnh b\xe0y: TTB - Ki\u1ec1u Loan",time:new Date},{artist:"B\xedch Ph\u01b0\u01a1ng",type:"topic",content:"\u0111\xe3 chia s\u1ebb 9 b\xe0i vi\u1ebft m\u1edbi: \u201cEm kh\xf4ng Th\u1ec3\u201d. S\xe1ng t\xe1c Ti\xean TI\xean. Tr\xecnh b\xe0y: TTB - Ki\u1ec1u Loan",time:new Date},{artist:"B\xedch Ph\u01b0\u01a1ng",type:"topic",content:"\u0111\xe3 chia s\u1ebb 9 b\xe0i vi\u1ebft m\u1edbi: \u201cEm kh\xf4ng Th\u1ec3\u201d. S\xe1ng t\xe1c Ti\xean TI\xean. Tr\xecnh b\xe0y: TTB - Ki\u1ec1u Loan",time:new Date}]},e}return Object(S.a)(n,[{key:"setTheme",value:function(e){var t=document.getElementById("ZMP3_THEME");t.href=e!==Pe?window.MP3.STYLE_LIGHT?window.MP3.STYLE_LIGHT:"".concat(I.cd,"css/styles.4.6.css"):window.MP3.STYLE_DARK?window.MP3.STYLE_DARK:"".concat(I.cd,"css/styles.dark.4.7.css")}},{key:"componentWillReceiveProps",value:function(e){if(e.isLogin&&!this.props.isLogin){var t=Se.a.get("ZMP3_THEME");this.setTheme(t),this.setState({currentTheme:t}),this.getListOA()}}},{key:"componentDidMount",value:function(){this.getListOA()}},{key:"renderAdButton",value:function(e){switch(!0){case!Object(F.B)(e.family_vip)&&e.family_vip.host&&!e.family_vip.renew:return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"z-center"},i.a.createElement("span",{className:"--z--date-expire"},"T\xe0i kho\u1ea3n VIP Family s\u1ebd h\u1ebft h\u1ea1n v\xe0o ",Object(F.O)(e.family_vip.family_vip_expire_time)),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(W.a,{to:"/family-vip",className:"z-btn z-btn-outline z-btn-shadow mar-top-15"},"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n")),i.a.createElement("li",null,i.a.createElement("a",{rel:"noopener noreferrer",href:"".concat(I.s,"?popup=1"),target:"_blank",className:"z-btn z-btn-yellow z-btn-shadow mar-top-10"},"Mua th\xeam VIP")))));case!Object(F.B)(e.family_vip)&&e.family_vip.host:return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"z-center"},i.a.createElement("span",{className:"--z--date-expire"},"T\xe0i kho\u1ea3n VIP Family c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c gia h\u1ea1n v\xe0o ng\xe0y ",Object(F.O)(e.family_vip.family_vip_expire_time)),i.a.createElement("ul",{className:"mar-top-5"},i.a.createElement("li",null,i.a.createElement(W.a,{to:"/family-vip",className:"z-btn z-btn-outline z-btn-shadow mar-top-15"},"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n")))));case!Object(F.B)(e.family_vip)&&!e.family_vip.renew:return i.a.createElement("div",{className:"z-center"},i.a.createElement("span",{className:"--z--date-expire"},"T\xe0i kho\u1ea3n VIP Family s\u1ebd h\u1ebft h\u1ea1n v\xe0o ",Object(F.O)(e.family_vip.family_vip_expire_time)),i.a.createElement("a",{rel:"noopener noreferrer",href:"".concat(I.s,"?popup=1"),target:"_blank",className:"z-btn z-btn-yellow z-btn-shadow mar-top-15"},"Mua th\xeam VIP"));case!Object(F.B)(e.family_vip):return i.a.createElement("div",{className:"z-center"},i.a.createElement("span",{className:"--z--date-expire"},"T\xe0i kho\u1ea3n VIP Family c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c gia h\u1ea1n v\xe0o ng\xe0y ",Object(F.O)(e.family_vip.family_vip_expire_time)));case!Object(F.B)(e.vip_subscription)&&!e.vip_subscription.renew:return i.a.createElement("div",{className:"z-center"},i.a.createElement("span",{className:"--z--date-expire"},"T\xe0i kho\u1ea3n VIP s\u1ebd h\u1ebft h\u1ea1n v\xe0o ",Object(F.O)(e.vip_subscription.end)),i.a.createElement("a",{rel:"noopener noreferrer",href:"".concat(I.s,"?popup=1"),target:"_blank",className:"z-btn z-btn-yellow z-btn-shadow mar-top-15"},"Mua th\xeam VIP"));case!Object(F.B)(e.vip_subscription):return i.a.createElement("div",{className:"z-center"},i.a.createElement("span",{className:"--z--date-expire"},"T\xe0i kho\u1ea3n VIP c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c gia h\u1ea1n v\xe0o ng\xe0y ",Object(F.O)(e.vip_subscription.end)));case e.is_vip:return i.a.createElement("div",{className:"z-center"},i.a.createElement("span",{className:"--z--date-expire"},"T\xe0i kho\u1ea3n VIP s\u1ebd h\u1ebft h\u1ea1n v\xe0o ",Object(F.O)(e.vip_expire_time)),i.a.createElement("a",{rel:"noopener noreferrer",href:"".concat(I.s,"?popup=1"),target:"_blank",className:"z-btn z-btn-yellow z-btn-shadow mar-top-15"},"Mua th\xeam VIP"));default:return i.a.createElement("div",{className:"z-center mar-top-10"},i.a.createElement("a",{rel:"noopener noreferrer",href:"".concat(I.s,"?popup=1"),target:"_blank",className:"z-btn z-btn-yellow z-btn-shadow"},"Mua VIP ngay"))}}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isLogin,r=e.isVip,a=e.openPopupLogin,o=e.isFetchingProfile,s=this.state,c=s.showMenu,l=s.showNotifi,u=s.currentTheme,d=s.OAList,h=s.notiList;return n?i.a.createElement("div",{className:"user-profile-container ".concat(r?"z-vip-avatar":""),style:{visibility:o?"hidden":"visible"}},i.a.createElement(W.a,{className:"icon-button z-center mar-left-10",to:"/mymusic/upload-song"},i.a.createElement("i",{className:"icon ic-upload"})),i.a.createElement("div",{className:"z-noti-wrap mar-left-10"},i.a.createElement(Ce,{closeMenu:this.hideNotifiMenu,toggleIsOpen:this.toggleMenuNotiFi,notiList:h,showNotifi:l})),i.a.createElement("div",{className:"z-login-wrap pull-right mar-left-10"},i.a.createElement("div",{className:"z-card card-40"},i.a.createElement(Ee.a,{toggleIsOpen:this.toggleMenu,closeMenu:this.hideMenu,className:"thumb-40 mar-0"},i.a.createElement("div",{className:"avatar-frame "},i.a.createElement("img",{src:t.avatar,alt:"Zing MP3"}),r&&i.a.createElement("i",{className:"icon ic-svg-vip-account"})))),i.a.createElement("div",{className:"z-user-dropdown-menu login-dropdown ".concat(c?"z-show":"z-hide")},i.a.createElement("div",{className:"z-user-profile mar-bottom-20"},i.a.createElement("div",{className:"z-user-avatar ".concat(r&&"z-vip-user-avatar")},i.a.createElement("img",{src:t.avatar,alt:"Zing MP3"}),r&&i.a.createElement("i",{className:"icon ic-svg-vip-account"})),i.a.createElement("div",{className:"z-user-name z-center mar-bottom-5"},t.displayname||"T\xe0i kho\u1ea3n th\u01b0\u1eddng"),this.renderAdButton(t)),i.a.createElement("ul",{className:"z-user-menu-list pad-top-10 pad-bottom-10 bor-top"},i.a.createElement("li",null,i.a.createElement(W.a,{to:"/mymusic"},i.a.createElement("i",{className:"icon ic-user"}),i.a.createElement("span",null,"Nh\u1ea1c C\xe1 Nh\xe2n"))),i.a.createElement("li",null,i.a.createElement(W.a,{to:"/mymusic/block"},i.a.createElement("i",{className:"icon ic-denial"}),i.a.createElement("span",null,"Danh s\xe1ch ch\u1eb7n"))),i.a.createElement("li",null,i.a.createElement("a",{onClick:this.toggleDarkTheme},i.a.createElement("i",{className:"icon ic-brightness"}),i.a.createElement("span",null,"Ch\u1ee7 \u0111\u1ec1 t\u1ed1i"),i.a.createElement("i",{className:"icon ic-svg-switch ".concat(u===Pe?"":"z-switch-off")})))),!Object(F.B)(d)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"z-header-dropdown pad-top-10 bor-top",style:{width:"100%"}},"Trang OA:"),i.a.createElement("ul",{className:"z-user-menu-list"},i.a.createElement("li",null,d.map((function(e){return i.a.createElement("a",{href:e.link,className:"z-oa-dropdown-item"},i.a.createElement("img",{src:e.thumbnail,alt:""}),i.a.createElement("span",{className:"z-artist"},e.name))}))))),i.a.createElement("div",{className:"z-vip-area bor-top"},i.a.createElement("div",{className:"z-center"},i.a.createElement("a",{onClick:this.onLogout,rel:"noopener noreferrer",className:"z-btn z-btn-outline z-btn-shadow"},"\u0110\u0103ng xu\u1ea5t"))))),i.a.createElement(Oe,{currentTheme:u,toggleDarkTheme:this.toggleDarkTheme})):i.a.createElement("div",{className:" user-profile-container ",style:{visibility:o?"hidden":"visible"}},i.a.createElement("a",{onClick:a,className:"icon-button z-center mar-left-10"},i.a.createElement("i",{className:"icon ic-upload"})),i.a.createElement("div",{className:"z-noti-wrap"},i.a.createElement("a",{onClick:a,className:"icon-button z-center mar-left-10"},i.a.createElement("i",{className:"icon ic-noti"}))),i.a.createElement("div",{className:"z-login-wrap pull-right mar-left-10"},i.a.createElement("div",{className:"z-card card-40"},i.a.createElement(_e.a,{className:"thumb-40 mar-right-0",text:""},i.a.createElement("img",{src:t.avatar,alt:"Zing MP3"})),i.a.createElement("div",{className:"card-info mar-left-10"},i.a.createElement("div",{className:"title mar-top-10"},i.a.createElement(_e.a,{text:"\u0110\u0103ng Nh\u1eadp"}))),i.a.createElement("div",{className:"extension"},i.a.createElement("div",{className:"list-buttons"},i.a.createElement("div",{className:"normal-view"},i.a.createElement(Ee.a,{toggleIsOpen:this.toggleMenu,closeMenu:this.hideMenu},i.a.createElement("i",{className:"icon ".concat(c?"ic-go-up":"ic-go-down")})))))),i.a.createElement("div",{className:"z-user-dropdown-menu login-dropdown ".concat(c?"z-show":"z-hide")},i.a.createElement("ul",{className:"z-user-menu-list pad-top-10 pad-bottom-10"},i.a.createElement("li",null,i.a.createElement("a",{onClick:this.toggleDarkTheme,className:"pad-top-10 pad-bottom-10 pad-right-15 pad-left-15"},i.a.createElement("i",{className:"icon ic-brightness"}),i.a.createElement("span",null,"Ch\u1ee7 \u0111\u1ec1 t\u1ed1i"),i.a.createElement("i",{className:"icon ic-svg-switch ".concat(u===Pe?"":"z-switch-off")})))),i.a.createElement("div",{className:"z-vip-area bor-top pad-20"},i.a.createElement("div",{className:"z-center"},i.a.createElement("a",{rel:"noopener noreferrer",href:"".concat(I.s,"?popup=1"),className:"z-btn z-btn-yellow z-btn-shadow"},"Mua VIP"))))),i.a.createElement(Oe,{currentTheme:u,toggleDarkTheme:this.toggleDarkTheme}))}}]),n}(r.Component);Re.defaultProps={menus:[{name:"Gi\u1edbi Thi\u1ec7u",link:"https://mp3.zing.vn/huong-dan/about"},{name:"\u0110i\u1ec1u Kho\u1ea3n",link:"https://mp3.zing.vn/huong-dan/terms"},{name:"Li\xean h\u1ec7",link:"https://mp3.zing.vn/huong-dan/contact"}]};var Ie=Re,Ne=function(e,t){return void 0===e||void 0===t?"":"/"===e&&"/home"===t||e.includes(t)?"active":""},je=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).openMenu=function(){r.setState({showMenu:!0})},r.closeMenu=function(){r.setState({showMenu:!1})},r.openUserMenu=function(){r.setState({showUserMenu:!0})},r.closeUserMenu=function(){r.setState({showUserMenu:!1})},r.handleMyMusicClick=function(e){var t=r.props,n=t.openPopupLogin;t.isLogin||(n(),e.preventDefault())},r.fetchPlaylist=Object(D.a)(j.a.mark((function e(){var t,n,i,a,o,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.isLogin){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(F.g)("/user/get-menu-info");case 4:t=e.sent,n=t.resp,i=n&&n.data?n.data:{},a=i.playlists||{},o=a.items,s=void 0===o?[]:o,r.setState({playlists:s.filter((function(e){return e.total_song>0})),hasUploadedSong:i.has_uploaded_song});case 9:case"end":return e.stop()}}),e)}))),r.state={showMenu:!1,showUserMenu:!1,playlists:[]},r}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.pathName,r=t.menus,a=t.isVip,o=t.isLogin,s=this.state,c=s.showMenu,l=s.showUserMenu,u=s.playlists,d=s.hasUploadedSong;return i.a.createElement("div",{className:"z-menu-bar"},i.a.createElement("div",{className:"--z--menu-bar-inner"},i.a.createElement("ul",{className:"z-nav pri"},r.map((function(t){return i.a.createElement("li",{key:"top-menu-".concat(t.name),className:"".concat(t.shrink?"--z--shrink":""),onMouseOver:e.openMenu,onMouseLeave:e.closeMenu,onClick:e.closeMenu},i.a.createElement(W.a,{to:t.link,className:"nav-link text-upper ".concat(Ne(n,t.path))},t.name),c&&((r=t.subs?t.subs:null)?i.a.createElement("div",{className:"z-dropdown-table-menu z-tbl-width-col-".concat(r.length," clearfix pad-top-10 pad-bottom-10")},r.map((function(e){return i.a.createElement("div",{key:"top-submenu1-".concat(e.title),className:"z-tbl-col"},e.title?i.a.createElement("div",{className:"z-title-group"},e.link?i.a.createElement(W.a,{to:e.link},e.title):e.title):null,i.a.createElement("ul",{className:"menu-list"},e.items.map((function(e){return i.a.createElement("li",{key:"top-submenu2-".concat(e.name),className:"menu-item"},i.a.createElement(W.a,{to:e.link},e.name))}))))}))):null));var r})),i.a.createElement("li",{onMouseOver:this.openUserMenu,onMouseLeave:this.closeUserMenu,onClick:this.closeUserMenu},i.a.createElement(W.a,{className:"nav-link ".concat(Ne(n,"/mymusic")),to:"/mymusic",onClick:this.handleMyMusicClick},"NH\u1ea0C C\xc1 NH\xc2N"),o&&l&&i.a.createElement(De,Object.assign({},this.props,{onClick:this.closeMenu,playlists:u,fetchPlaylist:this.fetchPlaylist,hasUploadedSong:d}))),!a&&i.a.createElement("li",{key:"vip",className:"--z--shrink z-button-vip",style:{paddingRight:20}},i.a.createElement("a",{className:"nav-link",href:I.s+"#utm_source=desktop&utm_medium=topnav-link&utm_campaign=VIP",rel:"noopener noreferrer",target:"_blank"},i.a.createElement("i",{className:"icon ic-svg-vip-btn"}))))))}}]),n}(r.Component),De=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentWillMount",value:function(){var e=this;this.timer=setTimeout((function(){e.props.fetchPlaylist()}),300)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.playlists,r=void 0===n?[]:n,a=e.hasUploadedSong,o=r.filter((function(e){return I.Ic.indexOf(e.subType)<0&&!e.is_single}));return i.a.createElement("div",{className:"dropdown-menu-list z-dropdown-table-menu"},i.a.createElement("div",{className:"z-list-playlist"},i.a.createElement("ul",{className:""},i.a.createElement("li",{className:"menu-item",onClick:t},i.a.createElement(W.a,{to:"/mymusic/favorites-song"},i.a.createElement("div",{className:"z-card card-40 favorite"},i.a.createElement("a",{className:"thumb-40"}),i.a.createElement("div",{className:"card-info card-info"},i.a.createElement("div",{className:"title"},i.a.createElement("a",null,"B\xe0i h\xe1t y\xeau th\xedch")))))),a&&i.a.createElement("li",{className:"menu-item",onClick:t},i.a.createElement(W.a,{to:"/mymusic/upload"},i.a.createElement("div",{className:"z-card card-40 upload"},i.a.createElement("a",{className:"thumb-40"}),i.a.createElement("div",{className:"card-info card-info"},i.a.createElement("div",{className:"title"},i.a.createElement("a",null,"B\xe0i h\xe1t t\u1ea3i l\xean")))))),o.slice(0,4).map((function(e){return i.a.createElement("li",{className:"menu-item",onClick:t},i.a.createElement(W.a,{to:e.link},i.a.createElement("div",{className:"z-card card-40"},i.a.createElement("a",{className:"thumb-40"},i.a.createElement("img",{src:e.thumbnail,alt:""})),i.a.createElement("div",{className:"card-info card-info"},i.a.createElement("div",{className:"title"},i.a.createElement("a",{title:e.title},e.title))))))}))),i.a.createElement("div",{className:"z-center z-more"},i.a.createElement(W.a,{className:"z-btn-text",to:"/mymusic/playlist",onClick:t},"Xem t\u1ea5t c\u1ea3"))))}}]),n}(r.Component);je.defaultProps={menus:[{name:"Trang ch\u1ee7",path:"/home",link:"/",shrink:!0},{name:"#zingchart",path:"/zing-chart",link:"/zing-chart/index.html",shrink:!1,subSize:2,subs:[{title:"REALTIME",items:[{name:"B\xe0i h\xe1t",link:"/zing-chart/bai-hat.html"},{name:"MV",link:"/zing-chart/video.html"}]},{title:"TU\u1ea6N",items:[{name:"B\xe0i h\xe1t",link:"/zing-chart-tuan/bai-hat-Viet-Nam/IWZ9Z08I.html"},{name:"MV",link:"/zing-chart-tuan/video-Viet-Nam/IWZ9Z08W.html"}]},{title:"US-UK",items:[{name:"B\xe0i h\xe1t",link:"/zing-chart-tuan/bai-hat-US-UK/IWZ9Z0BW.html"},{name:"MV",link:"/zing-chart-tuan/video-US-UK/IWZ9Z0BU.html"}]},{title:"K-POP",items:[{name:"B\xe0i h\xe1t",link:"/zing-chart-tuan/bai-hat-Kpop/IWZ9Z0BO.html"},{name:"MV",link:"/zing-chart-tuan/video-Kpop/IWZ9Z0BZ.html"}]}]},{name:"M\u1edaI PH\xc1T H\xc0NH",path:"/top-new-release",link:"/top-new-release/index.html",shrink:!1},{name:"Top 100",path:"/top100",link:"/top100",shrink:!1,subs:[{title:"Vi\u1ec7t Nam",items:[{name:"Nh\u1ea1c Tr\u1ebb",link:"/album/Top-100-Bai-Hat-Nhac-Tre-Hay-Nhat-Various-Artists/ZWZB969E.html"},{name:"Nh\u1ea1c Tr\u1eef T\xecnh",link:"/album/Top-100-Nhac-Tru-Tinh-Hay-Nhat-Various-Artists/ZWZB969F.html"},{name:"Qu\xea H\u01b0\u01a1ng",link:"/album/Top-100-Nhac-Que-Huong-Hay-Nhat-Various-Artists/ZWZB96AU.html"},{name:"Nh\u1ea1c C\xe1ch M\u1ea1ng",link:"/album/Top-100-Nhac-Cach-Mang-Viet-Nam-Various-Artists/ZWZB96AO.html"},{name:"Rap / Hip Hop Vi\u1ec7t",link:"/album/Top-100-Nhac-Rap-Viet-Nam-Hay-Nhat-Various-Artists/ZWZB96AI.html"},{name:"Rock Vi\u1ec7t",link:"/album/Top-100-Nhac-Rock-Viet-Nam-Hay-Nhat-Various-Artists/ZWZB96A0.html"},{name:"Dance Vi\u1ec7t",link:"/album/Top-100-Nhac-Dance-Viet-Nam-Hay-Nhat-Various-Artists/ZWZB96AW.html"}]},{title:"\xc2U M\u1ef8",items:[{name:"Pop",link:"/album/Top-100-Pop-Au-My-Hay-Nhat-Various-Artists/ZWZB96AB.html"},{name:"Rock",link:"/album/Top-100-Nhac-Rock-Au-My-Hay-Nhat-Various-Artists/ZWZB96AC.html"},{name:"Rap / Hip Hop",link:"/album/Top-100-Nhac-Rap-Hip-Hop-Au-My-Hay-Nhat-Various-Artists/ZWZB96AD.html"},{name:"Country",link:"/album/Top-100-Nhac-Country-Au-My-Hay-Nhat-Various-Artists/ZWZB96AE.html"},{name:"Electronic / Dance",link:"/album/Top-100-Nhac-Electronic-Dance-Au-My-Hay-Nhat-Various-Artists/ZWZB96C7.html"},{name:"R&B / Soul",link:"/album/Top-100-Nhac-R-B-Au-My-Hay-Nhat-Various-Artists/ZWZB96C8.html"},{name:"Audiophile",link:"/album/Top-100-Nhac-Audiophile-Au-My-Hay-Nhat-Various-Artists/ZWZB96D8.html"}]},{title:"CH\xc2U \xc1",items:[{name:"H\xe0n Qu\u1ed1c",link:"/album/Top-100-Nhac-Han-Quoc-Hay-NhatVarious-Artists/ZWZB96DC.html"},{name:"Nh\u1eadt B\u1ea3n",link:"/album/Top-100-Nhac-Nhat-Ban-Hay-NhatVarious-Artists/ZWZB96DF.html"},{name:"Hoa Ng\u1eef",link:"/album/Top-100-Nhac-Hoa-Hay-NhatVarious-Artists/ZWZB96EI.html"}]},{title:"H\xd2A T\u1ea4U",items:[{name:"Classical",link:"/album/Top-100-Nhac-Hoa-Tau-Co-Dien-Hay-Nhat-Various-Artists/ZWZB96EW.html"},{name:"Piano",link:"/album/Top-100-Nhac-Hoa-Tau-Nhac-Cu-Piano-Hay-Nhat-Various-Artists/ZWZB96EU.html"},{name:"Guitar",link:"/album/Top-100-Nhac-Hoa-Tau-Nhac-Cu-Guitar-Hay-Nhat-Various-Artists/ZWZB96EZ.html"},{name:"Violin",link:"/album/Top-100-Nhac-Hoa-Tau-Nhac-Cu-Violin-Hay-Nhat-Various-Artists/ZWZB96E6.html"},{name:"Cello",link:"/album/Top-100-Nhac-Hoa-Tau-Nhac-Cu-Cello-Hay-Nhat-Various-Artists/ZWZB96E7.html"},{name:"Saxophone",link:"/album/Top-100-Nhac-Hoa-Tau-Nhac-Cu-Saxophone-Hay-Nhat-Various-Artists/ZWZB96E8.html"},{name:"Nh\u1ea1c C\u1ee5 Kh\xe1c",link:"/album/Top-100-Nhac-Hoa-Tau-Nhac-Cu-Khac-Hay-Nhat-Various-Artists/ZWZB96EA.html"}]}]},{name:"Ch\u1ee7 \u0111\u1ec1",path:"/chu-de",link:"/chu-de",shrink:!1,subs:[{title:"\u0110\u1ec0 XU\u1ea4T",items:[{name:"Nh\u1ea1c Hot",link:"/chu-de/Nhac-Hot/IWZ9Z0C8.html"},{name:"Nh\u1eefng B\xe0i Hit",link:"/chu-de/Nhung-Bai-Hit-Moi/IWZ9ZIWD.html"},{name:"Nh\u1ea1c Vi\u1ec7t B\u1ea5t H\u1ee7",link:"/chu-de/Nhac-Viet-Bat-Hu/IWZ9ZI79.html"},{name:"Nh\u1ea1c B\u1ea5t H\u1ee7 \xc2u M\u1ef9",link:"/chu-de/Nhac-Bat-Hu-US-UK/IWZ9ZI77.html"},{name:"K-Pop HIT",link:"/chu-de/K-Pop-HIT/IWZ9ZI9I.html"},{name:"Nh\u1ea1c Th\xfay Nga",link:"/chu-de/Nhac-Thuy-Nga/IWZ9ZIIZ.html"}]},{title:"TH\u1ec2 LO\u1ea0I",items:[{name:"EDM",link:"/chu-de/EDM/IWZ99FE8.html"},{name:"Acoustic",link:"/chu-de/Acoustic/IWZ9A0D6.html"},{name:"Indie",link:"/chu-de/Indie/IWZ978WA.html"},{name:"Nh\u1ea1c Kh\xf4ng L\u1eddi",link:"/chu-de/Nhac-Khong-Loi/IWZ9ZIOI.html"},{name:"Tr\u1eef T\xecnh & Bolero",link:"/chu-de/Nhac-Tru-Tinh-Bolero/IWZ9ZI9W.html"}]},{title:"T\xc2M TR\u1ea0NG",items:[{name:"Nh\u1eefng Ng\xe0y M\u01b0a",link:"/chu-de/Nhung-Ngay-Mua/IWZ9ZIZD.html"},{name:"T\xecnh Y\xeau",link:"/chu-de/Music-For-Love/IWZ9Z0D9.html"},{name:"Giai \u0110i\u1ec7u Bu\u1ed3n",link:"/chu-de/Sad-Songs-F-A/IWZ9ZIUI.html"},{name:"\xc2m Nh\u1ea1c Th\u01b0 Gi\xe3n",link:"/chu-de/Am-Nhac-Thu-Gian/IWZ9ZIU0.html"},{name:"Motivation",link:"/chu-de/Motivation/IWZ977FE.html"}]},{title:"Ho\u1ea1t \u0110\u1ed9ng",items:[{name:"T\u1eadp Trung",link:"/chu-de/Lam-Viec/IWZ9ZI9O.html"},{name:"Spa - Yoga",link:"/chu-de/Spa-Yoga/IWZ9ZIZF.html"},{name:"C\xe0 Ph\xea",link:"/chu-de/Ca-Phe/IWZ9ZI6Z.html"},{name:"Weekend",link:"/chu-de/Weekend/IWZ97806.html"},{name:"Party",link:"/chu-de/Am-Nhac-Cho-Party/IWZ9ZIZE.html"},{name:"Du L\u1ecbch",link:"/chu-de/Du-Lich/IWZ9ZI6C.html"}]}]},{name:"MV",path:"/the-loai-video",link:"/the-loai-video.html",shrink:!0,subs:[{title:"Vi\u1ec7t Nam",link:"/the-loai-video/Viet-Nam/IWZ9Z08I.html",items:[{name:"Nh\u1ea1c Tr\u1ebb",link:"/the-loai-video/Nhac-Tre/IWZ9Z088.html"},{name:"Nh\u1ea1c Tr\u1eef T\xecnh",link:"/the-loai-video/Nhac-Tru-Tinh/IWZ9Z08B.html"},{name:"Dance Vi\u1ec7t",link:"/the-loai-video/Nhac-Dance/IWZ9Z0CW.html"},{name:"Rock Vi\u1ec7t",link:"/the-loai-video/Rock-Viet/IWZ9Z08A.html"},{name:"Rap / Hip Hop Vi\u1ec7t",link:"/the-loai-video/Rap-Viet/IWZ9Z089.html"},{name:"Nh\u1ea1c Tr\u1ecbnh",link:"/the-loai-video/Nhac-Trinh/IWZ9Z08E.html"},{name:"Nh\u1ea1c Thi\u1ebfu Nhi",link:"/the-loai-video/Nhac-Thieu-Nhi/IWZ9Z08F.html"}]},{title:"\xc2u M\u1ef9",link:"/the-loai-video/US-UK/IWZ9Z08O.html",items:[{name:"Pop",link:"/the-loai-video/Pop/IWZ9Z097.html"},{name:"Rock",link:"/the-loai-video/Rock/IWZ9Z099.html"},{name:"Rap / Hip Hop",link:"/the-loai-video/Rap-Hip-Hop/IWZ9Z09B.html"},{name:"Country",link:"/the-loai-video/Country/IWZ9Z096.html"},{name:"Electronic / Dance",link:"/the-loai-video/Electronic-Dance/IWZ9Z09A.html"},{name:"R&B / Soul",link:"/the-loai-video/R-B-Soul/IWZ9Z09D.html"},{name:"Audiophile",link:"/the-loai-video/Audiophile/IWZ9Z0EO.html"}]},{title:"Ch\xe2u \xc1",link:"/the-loai-video/Kpop/IWZ9Z08W.html",items:[{name:"H\xe0n Qu\u1ed1c",link:"/the-loai-video/Kpop/IWZ9Z08W.html"},{name:"Nh\u1eadt B\u1ea3n",link:"/the-loai-video/Nhat-Ban/IWZ9Z08Z.html"},{name:"Hoa Ng\u1eef",link:"/the-loai-video/Hoa-Ngu/IWZ9Z08U.html"},{name:"Th\xe1i Lan",link:"/the-loai-video/Thai-Lan/IWZ9Z0CZ.html"}]},{title:"H\xf2a T\u1ea5u",link:"/the-loai-video/Hoa-Tau/IWZ9Z086.html",items:[{name:"Classical",link:"/the-loai-video/Classical/IWZ9Z0BI.html"},{name:"Piano",link:"/the-loai-video/Piano/IWZ9Z0B0.html"},{name:"Guitar",link:"/the-loai-video/Guitar/IWZ9Z0A9.html"},{name:"Violin",link:"/the-loai-video/Violin/IWZ9Z0BU.html"},{name:"Cello",link:"/the-loai-video/Cello/IWZ9Z0AD.html"},{name:"Saxophone",link:"/the-loai-video/Saxophone/IWZ9Z0B7.html"},{name:"Nh\u1ea1c C\u1ee5 D\xe2n T\u1ed9c",link:"/the-loai-video/Nhac-Cu-Dan-Toc/IWZ9Z0AA.html"}]}]},{name:"Album",path:"/the-loai-album",link:"/the-loai-album.html",shrink:!0,subs:[{title:"Vi\u1ec7t Nam",link:"/the-loai-album/Viet-Nam/IWZ9Z08I.html",items:[{name:"Nh\u1ea1c Tr\u1ebb",link:"/the-loai-album/Nhac-Tre/IWZ9Z088.html"},{name:"Nh\u1ea1c Tr\u1eef T\xecnh",link:"/the-loai-album/Nhac-Tru-Tinh/IWZ9Z08B.html"},{name:"Dance Vi\u1ec7t",link:"/the-loai-album/Nhac-Dance/IWZ9Z0CW.html"},{name:"Rock Vi\u1ec7t",link:"/the-loai-album/Rock-Viet/IWZ9Z08A.html"},{name:"Rap / Hip Hop Vi\u1ec7t",link:"/the-loai-album/Rap-Viet/IWZ9Z089.html"},{name:"Nh\u1ea1c Tr\u1ecbnh",link:"/the-loai-album/Nhac-Trinh/IWZ9Z08E.html"},{name:"Nh\u1ea1c Thi\u1ebfu Nhi",link:"/the-loai-album/Nhac-Thieu-Nhi/IWZ9Z08F.html"}]},{title:"\xc2u M\u1ef9",link:"/the-loai-album/US-UK/IWZ9Z08O.html",items:[{name:"Pop",link:"/the-loai-album/Pop/IWZ9Z097.html"},{name:"Rock",link:"/the-loai-album/Rock/IWZ9Z099.html"},{name:"Rap / Hip Hop",link:"/the-loai-album/Rap-Hip-Hop/IWZ9Z09B.html"},{name:"Country",link:"/the-loai-album/Country/IWZ9Z096.html"},{name:"Electronic / Dance",link:"/the-loai-album/Electronic-Dance/IWZ9Z09A.html"},{name:"R&B / Soul",link:"/the-loai-album/R-B-Soul/IWZ9Z09D.html"},{name:"Audiophile",link:"/the-loai-album/Audiophile/IWZ9Z0EO.html"}]},{title:"Ch\xe2u \xc1",link:"/the-loai-album/Kpop/IWZ9Z08W.html",items:[{name:"H\xe0n Qu\u1ed1c",link:"/the-loai-album/Kpop/IWZ9Z08W.html"},{name:"Nh\u1eadt B\u1ea3n",link:"/the-loai-album/Nhat-Ban/IWZ9Z08Z.html"},{name:"Hoa Ng\u1eef",link:"/the-loai-album/Hoa-Ngu/IWZ9Z08U.html"},{name:"Th\xe1i Lan",link:"/the-loai-album/Thai-Lan/IWZ9Z0CZ.html"}]},{title:"H\xf2a T\u1ea5u",link:"/the-loai-album/Hoa-Tau/IWZ9Z086.html",items:[{name:"Classical",link:"/the-loai-album/Classical/IWZ9Z0BI.html"},{name:"Piano",link:"/the-loai-album/Piano/IWZ9Z0B0.html"},{name:"Guitar",link:"/the-loai-album/Guitar/IWZ9Z0A9.html"},{name:"Violin",link:"/the-loai-album/Violin/IWZ9Z0BU.html"},{name:"Cello",link:"/the-loai-album/Cello/IWZ9Z0AD.html"},{name:"Saxophone",link:"/the-loai-album/Saxophone/IWZ9Z0B7.html"},{name:"Nh\u1ea1c C\u1ee5 D\xe2n T\u1ed9c",link:"/the-loai-album/Nhac-Cu-Dan-Toc/IWZ9Z0AA.html"}]}]},{name:"Ngh\u1ec7 s\u0129",path:"/the-loai-nghe-si",link:"/the-loai-nghe-si.html",shrink:!0,subs:[{title:"",items:[{name:"Vi\u1ec7t Nam",link:"/the-loai-nghe-si/Viet-Nam/IWZ9Z08I.html"},{name:"\xc2u M\u1ef9",link:"/the-loai-nghe-si/US-UK/IWZ9Z08O.html"},{name:"H\xe0n Qu\u1ed1c",link:"/the-loai-nghe-si/Kpop/IWZ9Z08W.html"},{name:"Nh\u1eadt B\u1ea3n",link:"/the-loai-nghe-si/Nhat-Ban/IWZ9Z08Z.html"},{name:"Hoa Ng\u1eef",link:"/the-loai-nghe-si/Hoa-Ngu/IWZ9Z08U.html"},{name:"H\xf2a T\u1ea5u",link:"/the-loai-nghe-si/Hoa-Tau/IWZ9Z086.html"}]}]}]};var ze=je,Fe=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLogin,n=e.profile,r=e.fetchProfile,a=e.setMp3Theme,o=e.openPopupLogin,s=e.pathName,c=e.isVip,l=e.createMyPlaylist,u=e.history,d=e.myplaylist,h=e.fetchMyPlaylist,f=e.createPlaylistByModal,p=e.uploadedFiles,m=e.uploadingFiles,g=e.isFetchingProfile;return i.a.createElement("div",{className:"z-top-bar"},i.a.createElement("div",{className:"--z--top-bar-inner ".concat(t?"":"z-no-login")},i.a.createElement(W.a,{to:"/",className:"z-logo"},"Zing mp3"),i.a.createElement(ze,{myplaylist:d,isLogin:t,openPopupLogin:o,pathName:s,isVip:c,history:u,createMyPlaylist:l,fetchMyPlaylist:h,createPlaylistByModal:f,uploadedFiles:p,uploadingFiles:m}),i.a.createElement(we,this.props),i.a.createElement(Ie,{profile:n,fetchProfile:r,isLogin:t,setMp3Theme:a,isVip:c,openPopupLogin:o,isFetchingProfile:g})))}}]),n}(r.Component),Ue=Object(k.a)(Object(s.b)((function(e){return{profile:Object(P.y)(e),playingSongId:Object(R.v)(e),isPlaying:Object(R.m)(e),isLogin:Object(P.b)(e),isVip:Object(P.c)(e),zmp3Theme:Object(P.A)(e),playingPlaylistId:Object(R.t)(e),isFetchingProfile:Object(P.l)(e),blockedArtistIds:Object(P.e)(e),blockedSongIds:Object(P.g)(e),myplaylist:Object(P.w)(e),uploadedFiles:Object(G.c)(e),uploadingFiles:Object(G.d)(e)}}),(function(e){return Object(O.b)({playSong:L.J,fetchProfile:C.z,setMp3Theme:C.R,openPopupLogin:C.G,playPlaylist:L.G,toggleQueue:L.Y,setMp3ThemeSucces:C.S,createMyPlaylist:C.f,fetchMyPlaylist:C.w,createPlaylistByModal:C.g},e)}))(Fe)),Be=n(34),He=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;Object(E.a)(this,n),(r=t.call(this,e)).onKeyDown=function(e){var t=e.target.getAttribute("type");if("text"!==t&&"textarea"!==t)return e.preventDefault(),32===e.keyCode?r.togglePlay():void 0},r.countDown=function(){var e=r.props,t=e.remainTime,n=e.onUpdateCountDown;r.timer=setInterval((function(){if(t<0)return clearInterval(r.timer),void(r.timer=null);n()}),1e3)},r.togglePlay=function(){r.props.isPlayingAds?r.pause():r.play()},r.stopAdAndPlaySong=function(){r.props.resetAdsData(),r.props.onAudioAdStopped(),Object(Be.e)()},r.skip=function(){r.trackEvent("skip"),r.stopAdAndPlaySong()},r.onLoadedMetadata=function(){r.props.onLoadedMetadata(Math.floor(r.audio.duration))},r.onPause=function(){r.trackEvent("pause"),r.props.onPauseAd()},r.onPlay=function(){if(!r.props.audioAdStarted){var e=r.props,t=e.onAudioAdStarted,n=e.resetNumPlayedSongs;return Object(Be.d)(),t(),void n()}r.trackEvent("resume"),r.props.onPlayAd()},r.onPlaying=function(){r.countdown||(r.countdown=!0)},r.onTimeUpdate=function(){var e=Object(K.a)(r).completed,t=r.audio,n=t.currentTime,i=t.duration;r.props.onTimeUpdate(Math.floor(n)),e.start||(r.impressionEvents.forEach((function(e){return Object(F.n)(e.uri)})),r.trackEvent("start"),r.trackEvent("creativeView"),r.completed.start=!0),e.firstQuartile||n>i/4&&(r.trackEvent("firstQuartile"),r.completed.firstQuartile=!0),e.midpoint||n>i/2&&(r.trackEvent("midpoint"),r.completed.midpoint=!0),e.thirdQuartile||n>.75*i&&(r.trackEvent("thirdQuartile"),r.completed.thirdQuartile=!0)},r.onVolumeChange=function(){var e=r.audio.volume;return 0!==e&&r.muted?(r.trackEvent("unmute"),void(r.muted=!1)):0!==e||r.muted?void 0:(r.trackEvent("mute"),void(r.muted=!0))},r.onEnded=function(){r.trackEvent("complete"),r.stopAdAndPlaySong()};var i=e.trackingEvents,a=e.impressionEvents,o=e.volume;return r.trackingEvents=i,r.impressionEvents=a,r.completed={},r.muted=0===o,r}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.setVolume(this.props.volume),document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillReceiveProps",value:function(e){var t=e.volume;t!==this.props.volume&&this.setVolume(t)}},{key:"componentWillUnmount",value:function(){this.props.onAudioAdStopped(),clearInterval(this.timer),document.removeEventListener("keydown",this.onKeyDown)}},{key:"trackEvent",value:function(e){this.trackingEvents.filter((function(t){return t.event===e})).forEach((function(e){return Object(F.n)(e.uri)}))}},{key:"start",value:function(){this.play()}},{key:"pause",value:function(){this.audio.pause()}},{key:"play",value:function(){this.audio.play()}},{key:"setVolume",value:function(e){this.audio.volume=e}},{key:"onLoadStart",value:function(){}},{key:"onError",value:function(){this.props.onAdError()}},{key:"render",value:function(){var e=this,t=this.props.mediaFile;return i.a.createElement("audio",{id:"audio_ads",ref:function(t){return e.audio=t},onEnded:this.onEnded,onLoadedMetadata:this.onLoadedMetadata,onLoadStart:this.onLoadStart,onPause:this.onPause,onPlay:this.onPlay,onPlaying:this.onPlaying,onTimeUpdate:this.onTimeUpdate,onVolumeChange:this.onVolumeChange,autoPlay:!0,src:t.uri,onError:this.onError})}}]),n}(i.a.Component);n(241);var Ve=document.createElement("audio"),Ge=n(33),We=n(175),qe=n.n(We),Ye=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={isLoadingAds:!1},e.resetAdsData=function(){e.setState({adData:null,mediaFile:null,trackingEvents:null})},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=!1;this.timer=setTimeout((function(){t=!0}),2e3),this.loadAdData().then((function(){return e.canPlay()})).then((function(){return e.checkBanner()})).then((function(){if(t)return Promise.reject("timeout");clearTimeout(e.timer),e.setState({adData:e.adData,mediaFile:e.mediaFile,trackingEvents:e.trackingEvents,impressionEvents:e.impressionEvents,isLoadingAds:!1}),e.props.onAudioAdLoaded(e.companions,e.advertiser)})).catch((function(t){e.props.isLoadingSongInfo||Object(Be.e)(),e.setState({adData:null,isLoadingAds:!1}),e.props.onAdError(),Ge.default.error("audio ads",t)}))}},{key:"componentDidUpdate",value:function(){var e=this.props.audioAdStarted,t=this.state,n=t.isLoadingAds,r=t.adData;n||e||!r||window.audioAds.start()}},{key:"loadAdData",value:function(){var e=this;this.setState({isLoadingAds:!0});var t=this.props.plsRawId,n=void 0===t?"":t;return qe.a.fetch("".concat(I.c,"&uid=").concat(Object(F.z)(),"&vs=playlist_id=").concat(n,"&contentId=web_other_audio"),{resolveWrappers:!0}).then((function(t){Ge.default.info("audio ad loaded",t),e.adData=t.ads[0],e.mediaFile=e.adData.creatives[0].mediaFiles[0],e.trackingEvents=e.adData.creatives[0].trackingEvents,e.impressionEvents=[].concat(e.adData.impressions||[],e.adData.viewableImpressions||[]);var n=e.adData.creatives[0].videoClicks||{},r=e.adData.creatives[0].adInteractions||{};e.companions=e.resolveCompanions(e.adData.creatives[1].companions,n.clickThrough,n.clickTrackings,r),e.advertiser=e.adData.advertiser}))}},{key:"resolveCompanions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=[];t&&i.push(t),r.clickThrough&&i.push(r.clickThrough);var a=[],o=[],s=r.clickTrackings||[];return e.forEach((function(e){e.clickThrough&&i.push(e.clickThrough),e.htmlResource&&a.push(e.htmlResource),e.staticResource&&o.push(e.staticResource)})),{clickThroughs:i,htmlResources:a,staticResources:o,videoClickTrackings:n,clickTrackings:s}}},{key:"checkBanner",value:function(){var e=this;return new Promise((function(t,n){var r=e.companions,i=r.staticResources,a=r.htmlResources;if(!Object(F.B)(i)||!Object(F.B)(a))return t();n(new Error("dont has banner resource"))}))}},{key:"canPlay",value:function(){var e=this;return new Promise((function(t,n){var r=e.mediaFile,i=r.type;if(r.uri&&function(e){switch(Ve.canPlayType(e)){case"probably":return 2;case"maybe":return 1;default:return 0}}(i))return t();n(new Error("cant play audio source"))}))}},{key:"render",value:function(){var e=this.state,t=e.adData,n=e.mediaFile,r=e.trackingEvents,a=e.impressionEvents;return t?i.a.createElement(He,Object.assign({ref:function(e){return window.audioAds=e}},this.props,{trackingEvents:r,impressionEvents:a,mediaFile:n,resetAdsData:this.resetAdsData})):null}}]),n}(r.Component),Ze=n(40),Ke=Object(s.b)((function(e){return{playingSongId:Object(R.v)(e),isPlayingAds:Object(H.f)(e),audioAdStarted:Object(H.i)(e),remainTime:Object(H.g)(e),volume:Object(R.T)(e),plsRawId:Object(R.y)(e),isLoadingSongInfo:Object(R.X)(e)}}),(function(e){return Object(O.b)({onAudioAdLoaded:Ze.d,onAudioAdStarted:Ze.e,onAudioAdStopped:Ze.f,onLoadedMetadata:Ze.g,onTimeUpdate:Ze.j,onPlayAd:Ze.i,onPauseAd:Ze.h,onAdError:Ze.c,resetNumPlayedSongs:L.S,onUpdateCountDown:Ze.k},e)}))(Ye),Xe=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).handleScroll=function(t){window.pageYOffset>(window.hasMasthead?280:0)?e.setState({disabledToTop:!1}):e.setState({disabledToTop:!0})},e.goToTop=function(){Object(Me.e)(),e.setState({disabledToTop:!0})},e.state={isOpenHelp:!1,disabledToTop:!0,initialOpenHelp:se.a.get("HELP_SECTION_KEY")||!1},e.openHelpSection=e.openHelpSection.bind(Object(K.a)(e)),e.afterOpenHelpSection=e.afterOpenHelpSection.bind(Object(K.a)(e)),e.closeHelpSection=e.closeHelpSection.bind(Object(K.a)(e)),e.toggleHelpSection=e.toggleHelpSection.bind(Object(K.a)(e)),e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.disabledToTop!==t.disabledToTop){var n=document.getElementsByClassName("z-top-bar")[0],r=document.getElementById("z-dropdown");if(r&&r.childNodes.length>0)return;if(this.state.disabledToTop)return void n.classList.remove("z-shadow");n.classList.add("z-shadow")}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"openHelpSection",value:function(){se.a.set("HELP_SECTION_KEY",!0),this.setState({isOpenHelp:!0,initialOpenHelp:!0})}},{key:"afterOpenHelpSection",value:function(){}},{key:"closeHelpSection",value:function(){this.setState({isOpenHelp:!1})}},{key:"toggleHelpSection",value:function(){this.setState({isOpenHelp:!this.state.toggleSetting})}},{key:"render",value:function(){var e=this,t=this.state,n=t.disabledToTop,r=t.isOpenHelp,a=t.initialOpenHelp,o=this.props,s=o.location,c=o.history,l=o.toggleQueue,u=o.playPlaylist,d=o.playingSongUid,h=o.toggleKaraoke;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"z-beta-container"},i.a.createElement("div",{className:"z-beta-sub-container"},i.a.createElement("div",{className:"z-beta-inner"},i.a.createElement("ul",{className:"z-beta-list"},i.a.createElement("li",null,i.a.createElement("a",{id:"back-to-top",onClick:this.goToTop,className:"z-back-to-top ".concat(n?"z-disabled":""),title:"L\xean \u0111\u1ea7u trang"},i.a.createElement("i",{className:"icon ic-go-up"}))),i.a.createElement("li",{className:r?"z-help-open":""},i.a.createElement("a",{className:"z-help-btn",title:"G\xf3p \xfd",onClick:r?function(){return e.closeHelpSection()}:function(){return e.openHelpSection()}},i.a.createElement("i",{className:"icon ic-".concat(r?"close":"idea")}),!a&&i.a.createElement("span",{className:"z-red-tick"})),i.a.createElement("div",{id:"z-help-menu"},r&&i.a.createElement(Qe,{isOpenHelp:r,location:s,history:c,toggleQueue:l,playPlaylist:u,playingSongUid:d,toggleKaraoke:h,toggleHelpSection:this.toggleHelpSection,openHelpSection:this.openHelpSection,closeHelpSection:this.closeHelpSection}))))))))}}]),n}(r.Component),Qe=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).handleMouseEnter=function(){e.setState({isHovering:!0})},e.handleMouseLeave=function(){e.setState({isHovering:!1})},e.onClick=function(t){var n=e.props,r=n.toggleHelpSection,i=n.closeHelpSection,a=n.openHelpSection;if(e.scrollNode){var o=!e.scrollNode.contains(t.target),s=document.getElementsByClassName("ReactModalPortal");s&&s[0]&&s[0].contains(t.target)||(o?o?i():a():r())}},e.handleWheel=function(t){var n=t.wheelDelta||-t.detail||0,r=e.scrollNode.scrollTop,i=e.scrollNode.scrollHeight,a=e.scrollNode.offsetHeight,o=n>0;(!o&&a+r>=i||o&&r<=0)&&(t.preventDefault(),t.stopPropagation())},e.state={isHovering:!1},e.actionNowPlaying=e.actionNowPlaying.bind(Object(K.a)(e)),e.actionKaraoke=e.actionKaraoke.bind(Object(K.a)(e)),e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.scrollNode.addEventListener("wheel",this.handleWheel),document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){this.scrollNode.removeEventListener("wheel",this.handleWheel),document.removeEventListener("click",this.onClick)}},{key:"actionNowPlaying",value:function(e){e.preventDefault();var t=this.props,n=t.playPlaylist,r=t.toggleQueue;t.playingSongUid?r():(r(),n(I.Kc,[],{playMode:I.Mc.NORMAL,trackingSource:"HELP_CHART",playlist:I.h}))}},{key:"actionKaraoke",value:function(e){var t=this.props,n=t.playPlaylist,r=t.toggleKaraoke,i=t.playingSongUid;e.preventDefault(),i?r():n(I.Kc,[],{playMode:I.Mc.NORMAL,trackingSource:"HELP_CHART",playlist:I.h,isToggleKaraoke:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"z-help-section"},i.a.createElement("div",{className:"z-help-body",ref:function(t){return e.scrollNode=t}},i.a.createElement("div",{className:"z-help-header"},i.a.createElement("div",{className:"z-float-header"},i.a.createElement("div",{className:"z-box-title"},"C\xf3 g\xec m\u1edbi"))),i.a.createElement("ul",{className:"z-help-list"},i.a.createElement("li",{className:"z-help-item"},i.a.createElement("i",{className:"icon ic-add-trans"}),i.a.createElement("div",{className:"z-help-info"},i.a.createElement("div",{className:"z-help-title"},"G\xf3p \xfd"),i.a.createElement("div",{className:"z-help-content"},"B\u1ea1n c\xf3 \u0111i\u1ec1u mu\u1ed1n n\xf3i v\u1edbi Zing MP3? H\xe3y chia s\u1ebb b\u1ea5t c\u1ee9 \u0111i\u1ec1u g\xec b\u1ea1n \u0111ang b\u0103n kho\u0103n nh\xe9!"),i.a.createElement("a",{href:I.v,className:"z-btn",title:"G\xf3p \xfd",target:"_blank"},i.a.createElement("span",null,"\u0110\xf3ng g\xf3p"),i.a.createElement("i",{className:"icon ic-go-right"})))),i.a.createElement("li",{className:"z-help-item"},i.a.createElement("i",{className:"icon ic-list-music"}),i.a.createElement("div",{className:"z-help-info"},i.a.createElement("div",{className:"z-help-title"},"Danh s\xe1ch ph\xe1t m\u1edbi"),i.a.createElement("div",{className:"z-help-content"},"Giao di\u1ec7n danh s\xe1ch ph\xe1t m\u1edbi nh\u1ecf g\u1ecdn v\xe0 ti\u1ec7n l\u1ee3i h\u01a1n, gi\xfap b\u1ea1n nhanh ch\xf3ng xem v\xe0 s\u1eafp x\u1ebfp c\xe1c b\xe0i h\xe1t \u0111ang ph\xe1t."),i.a.createElement("a",{onClick:this.actionNowPlaying},"Th\u1eed ngay"))),i.a.createElement("li",{className:"z-help-item"},i.a.createElement("i",{className:"icon ic-beat"}),i.a.createElement("div",{className:"z-help-info"},i.a.createElement("div",{className:"z-help-title"},"Karaoke"),i.a.createElement("div",{className:"z-help-content"},"V\u1eeba nghe nh\u1ea1c v\u1eeba h\xe1t theo l\u1eddi b\xe0i h\xe1t v\u1edbi ch\u1ebf \u0111\u1ed9 karaoke to\xe0n m\xe0n h\xecnh m\u1edbi k\xe8m nhi\u1ec1u hi\u1ec7u \u1ee9ng."),i.a.createElement("a",{onClick:this.actionKaraoke},"Th\u1eed ngay"))),i.a.createElement("li",{className:"z-help-item"},i.a.createElement("i",{className:"icon ic-radio"}),i.a.createElement("div",{className:"z-help-info"},i.a.createElement("div",{className:"z-help-title"},"Radio b\xe0i h\xe1t"),i.a.createElement("div",{className:"z-help-content"},"\u0110ang nghe m\u1ed9t b\xe0i h\xe1t y\xeau th\xedch? B\u1ea1n c\xf3 th\u1ec3 b\u1eaft \u0111\u1ea7u m\u1ed9t danh s\xe1ch ph\xe1t g\u1ed3m nh\u1eefng b\xe0i t\u01b0\u01a1ng t\u1ef1 b\u1eb1ng c\xe1ch ch\u1ecdn ph\xe1t Radio b\xe0i h\xe1t."))),i.a.createElement("li",{className:"z-help-item"},i.a.createElement("i",{className:"icon ic-upload"}),i.a.createElement("div",{className:"z-help-info"},i.a.createElement("div",{className:"z-help-title"},"Upload nh\u1ea1c"),i.a.createElement("div",{className:"z-help-content"},"Upload b\xe0i h\xe1t c\xe1 nh\xe2n l\xean Zing MP3 \u0111\u1ec3 c\xf3 th\u1ec3 th\u01b0\u1edfng th\u1ee9c \u1edf m\u1ecdi n\u01a1i v\xe0 chia s\u1ebb cho m\u1ecdi ng\u01b0\u1eddi c\xf9ng nghe."),i.a.createElement(W.a,{to:"/mymusic/upload-song"},"B\u1eaft \u0111\u1ea7u upload"))))))}}]),n}(r.Component),Je=Xe,$e=Object(s.b)((function(e){return{playingSongUid:Object(R.w)(e)}}),(function(e){return Object(O.b)({toggleKaraoke:L.V,togglePlay:Be.h,toggleQueue:L.Y,playPlaylist:L.G},e)}))(Je),et=function(e){e.index;var t=e.item;e.removeItemDownload;return t?i.a.createElement("li",{className:"z-download-item"},i.a.createElement("div",{className:"z-indicator z-pie-progress-size"},0===t.status?i.a.createElement("div",{className:"z-pie-wrapper z-progress-".concat(t.percent)},i.a.createElement("span",{className:"z-label"},t.percent,"%"),i.a.createElement("div",{className:"z-pie"},i.a.createElement("div",{className:"z-left-side z-half-circle"}),i.a.createElement("div",{className:"z-right-side z-half-circle"})),i.a.createElement("div",{className:"z-shadow"})):i.a.createElement("i",{className:"icon ic-check-circle"})),i.a.createElement("div",{className:"z-download-info"},i.a.createElement("div",{className:"z-zip-file-name"},t.name," Zip"),i.a.createElement("div",{className:"z-message"},0===t.status?"\u0110ang n\xe9n":"\u0110\xe3 xong"))):null},tt=function(e){var t=e.downloads,n=e.removeItemDownload,r=e.toggleContentDownload,a=e.closeBoxDownload;if(Object(F.B)(t.items)||!t.showBox)return null;for(var o=[],s=1,c=0,l=Object.values(t.items);c<l.length;c++){var u=l[c];o.push(i.a.createElement(et,{index:s++,item:u,removeItemDownload:n}))}var d={};return t.showContent||(d={bottom:"0px"}),i.a.createElement("div",{className:"z-download-board-container"},i.a.createElement("div",{className:"z-sub-container"},i.a.createElement("div",{className:"z-inner"},i.a.createElement("div",{className:"z-wrapper"},i.a.createElement("div",{className:"z-header clearfix",style:d},i.a.createElement("div",{className:"z-title"},"Danh s\xe1ch download"),i.a.createElement("div",{className:"z-handle-actions"},i.a.createElement("a",{onClick:r,className:"z-minimize-btn"},i.a.createElement("i",{className:"icon ic-go-".concat(t.showContent?"down":"up")})),i.a.createElement("a",{onClick:a,className:"z-close-btn"},i.a.createElement("i",{className:"icon ic-close"})))),i.a.createElement("div",{className:"z-body-scroll ".concat(t.showContent?"z-show":"z-hide")},i.a.createElement("ul",{className:"z-download-list"},o)))),i.a.createElement("div",{className:"z-exceed-warning-wrap z-hide"},i.a.createElement("div",{className:"z-download-list"},i.a.createElement("div",{className:"z-download-item"},i.a.createElement("div",{className:"z-indicator"},i.a.createElement("i",{className:"icon ic-warning"})),i.a.createElement("div",{className:"z-download-info"},"B\u1ea1n \u0111\xe3 v\u01b0\u1ee3t m\u1ee9c gi\u1edbi h\u1ea1n download m\u1ed9t ng\xe0y. Vui l\xf2ng tr\u1edf l\u1ea1i v\xe0o ng\xe0y mai."),i.a.createElement("div",{className:"z-actions"},i.a.createElement("a",{className:"z-close-btn"},i.a.createElement("i",{className:"icon ic-close"}))))))))},nt=Object(s.b)((function(e){return{isLogin:Object(P.b)(e),downloads:Object(P.h)(e)}}),(function(e){return Object(O.b)({removeItemDownload:C.K,closeBoxDownload:C.c,toggleContentDownload:C.T},e)}))(tt),rt=function(e){var t=e.label,n=e.isOpenModal,r=e.closePopupLogin;return n?i.a.createElement(Te.a,{isOpen:n,onRequestClose:r,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-dl-require-login-modal z-show",contentLabel:"Chia s\u1ebb"},i.a.createElement("a",{onClick:r,className:"z-modal-close-fixed",title:"\u0110\xf3ng"},i.a.createElement("i",{className:"icon ic-close"})),i.a.createElement("div",{className:"z-modal-content"},i.a.createElement("div",{className:"z-buy-download-zone"},i.a.createElement("div",{className:"z-bell-logo"}),i.a.createElement("div",{className:"z-title"},t),i.a.createElement("div",{className:"z-copyright-content"},"Vui l\xf2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y"),i.a.createElement(_e.a,{openZaloPopupFirst:!0,className:"z-login-btn z-zalo-login-btn",text:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Zalo",closePopupLogin:r})))):null},it=Object(s.b)((function(e){return{isLogin:Object(P.b)(e),isOpenModal:Object(P.x)(e),label:Object(P.n)(e)}}),(function(e){return Object(O.b)({openPopupLogin:C.G,closePopupLogin:C.d,fetchProfile:C.z},e)}))(rt),at=n(69),ot=Object(s.b)((function(e){var t=Object(P.D)(e),n=t.title,r=t.detail,i=t.type,a=t.link,o=t.bannerType,s=t.btnText,c=t.confirmAction;return{isLogin:Object(P.b)(e),isOpen:Object(P.m)(e),detail:r,type:i,link:a,bannerType:o,title:n,btnText:s,confirmAction:c}}),(function(e){return Object(O.b)({closeModal:C.e},e)}))(at.a),st=n(4),ct=n(132),lt=Object(s.b)((function(e){return Object(st.a)({isOpen:Object(R.l)(e)},Object(R.g)(e))}),(function(e){return Object(O.b)({closeModal:L.d,confirm:L.g},e)}))(ct.a),ut=n(32),dt=function(e){return e.modal},ht=n(3),ft=function(){return function(e){e({type:ht.z})}},pt=n(29),mt=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).createPlaylist=function(){var e=Object(D.a)(j.a.mark((function e(t){var n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=Object(pt.b)(t.target.title.value),Object(pt.j)(n)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,r.props.createMyPlaylist(n,r.props.songId,r.props.songIds);case 6:(i=e.sent)&&(r.props.closeModal(),Hv.push(i.link));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onChange=function(e){r.setState({value:e.target.value})},r.state={value:e.defaultValue},r}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeModal,a=t.titleModal,o=this.state.value,s=!(void 0===o?"":o).trim();return i.a.createElement(r.Fragment,null,i.a.createElement("a",{onClick:n,className:"z-modal-close-fixed"},i.a.createElement("i",{className:"icon ic-close"})),i.a.createElement("div",{className:"z-modal-content"},i.a.createElement("div",{className:"new-playlist"},i.a.createElement("div",{className:"z-title"},a),i.a.createElement("form",{onSubmit:this.createPlaylist},i.a.createElement("input",{type:"text",value:this.state.value,onChange:this.onChange,name:"title",placeholder:"Nh\u1eadp t\xean playlist",autocomplete:"off",ref:function(t){return e.input=t}}),i.a.createElement("button",{type:"submit",className:"z-btn z-btn-shadow ".concat(s?"z-disabled":"")},"L\u01b0u")))))}}]),n}(r.Component),gt=Object(s.b)((function(e){return{}}),(function(e){return Object(O.b)({createMyPlaylist:C.f},e)}))((function(e){var t=e.closeModal,n=e.titleModal,r=void 0===n?"T\u1ea1o playlist m\u1edbi":n,a=e.defaultValue,o=e.createMyPlaylist,s=e.songId,c=e.songIds;return i.a.createElement(Te.a,{isOpen:!0,onRequestClose:t,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-create-playlist-modal z-show",contentLabel:"Chia s\u1ebb"},i.a.createElement(mt,{closeModal:t,titleModal:r,defaultValue:a,createMyPlaylist:o,songId:s,songIds:c}))})),vt=Object(ut.a)({},I.n,gt),yt=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.currentModal,n=e.closeModal;if(Object(F.B)(t))return null;var r=t.modalType,a=t.modalProps,o=vt[r];return i.a.createElement(o,Object.assign({},a,{closeModal:n}))}}]),n}(r.Component),bt=Object(s.b)((function(e){return{currentModal:dt(e)}}),(function(e){return Object(O.b)({closeModal:ft},e)}))(yt);function wt(e){return{__html:e||'<span>B\xe0i h\xe1t <span className="noti-content-bold">\u201c\u0110\u1eebng Xin L\u1ed7i N\u1eefa\u201d</span> \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam v\xe0o danh s\xe1ch ph\xe1t th\xe0nh c\xf4ng.</span>'}}var _t=function(e){var t=e.status,n=void 0===t?"":t,a=e.text,o=void 0===a?"":a,s=e.thumbnail,c=void 0===s?"":s,l=e.displayTime,u=e.actionType,d=void 0===u?"":u,h=Object(r.useRef)();Object(r.useEffect)((function(){h.current.classList.add("z-notify-show");var t=null;return l&&(t=setTimeout((function(){h.current.classList.add("z-notify-hide"),e.onFinish&&e.onFinish(e)}),l)),function(){t&&clearTimeout(t)}}),[]);var f=null;switch(n){case I.jd:f=i.a.createElement("div",{className:"z-notify-container",ref:h},c?i.a.createElement("div",{className:"noti-image"},i.a.createElement("img",{src:c,alt:"thumbnail"}),d&&i.a.createElement("div",{className:"noti-icon-type ".concat(d)},i.a.createElement("i",{className:"icon ic-".concat(d)}))):i.a.createElement("div",{className:"noti-icon success"},i.a.createElement("i",{className:"icon ic-check"})),i.a.createElement("div",{className:"noti-content",dangerouslySetInnerHTML:wt(o)}));break;case I.gd:f=i.a.createElement("div",{className:"z-notify-container",ref:h},i.a.createElement("div",{className:"noti-icon warning"},i.a.createElement("i",{className:"icon ic-info"})),i.a.createElement("div",{className:"noti-content",dangerouslySetInnerHTML:wt(o)}));break;default:f=i.a.createElement("div",{ref:h})}return f};_t.defaultProps={status:I.fd,displayTime:5e3};var Et=i.a.memo(_t,(function(e,t){})),St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:props,t=e.toasts,n=e.removeToast;if(Object(F.B)(t))return null;var r=function(e){setTimeout((function(){n(e.id)}),[600])};return i.a.createElement("ul",{className:"z-notify-list"},t.map((function(e){return i.a.createElement("li",{key:e.id},i.a.createElement(Et,Object.assign({},e,{onFinish:r})))})))},xt=n(17),Tt=Object(s.b)((function(e){return{toasts:e.toasts}}),(function(e){return Object(O.b)({addToast:xt.a,removeToast:xt.b},e)}))(St),Ot=n(109),kt=n.n(Ot),Mt=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={},e.onPlay=function(){e.handleBuffering(),e.props.onPlay()},e.onPause=function(){e.props.onPause(),e.clearBuffering()},e.onProgress=function(){var t=e.audio.buffered;if(t.length){for(var n=[],r=0,i=0;i<t.length;i++)n=[].concat(Object(Y.a)(n),[{start:t.start(i),end:t.end(i)}]),e.audio.currentTime>=n[i].start&&e.audio.currentTime<=n[i].end&&(r=i);n[r].start;var a=n[r].end,o=e.audio.duration;e.props.onProgress(a/o)}},e.handleBuffering=function(){e.clearBuffering();var t=e.audio,n=0,r=0,i=!1;e.bufferInterval=setInterval(function(){var e=this;r=t.currentTime;var a=t.readyState>=t.HAVE_FUTURE_DATA;!i&&r<n+.03&&!t.paused&&!a&&(i=!0,this.bufferingTimer=setTimeout((function(){e.props.onBuffering(!0)}),300));i&&r>n+.03&&!t.paused&&a&&(i=!1,clearTimeout(this.bufferingTimer),this.props.onBuffering(!1));n=r}.bind(Object(K.a)(e)),400)},e.clearBuffering=function(){clearInterval(e.bufferInterval),clearTimeout(e.bufferingTimer),e.props.onBuffering(!1)},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.props.onKeyDown)}},{key:"componentWillUnmount",value:function(){this.clearBuffering(),document.removeEventListener("keydown",this.props.onKeyDown)}},{key:"getElement",value:function(){return this.audio}},{key:"getProperty",value:function(e){return this.audio?this.audio[e]:null}},{key:"setProperty",value:function(e,t){if(this.audio)return this.audio[e]=t}},{key:"play",value:function(){return this.audio.play()}},{key:"pause",value:function(){return this.audio.pause()}},{key:"render",value:function(){var e=this,t=this.props,n=t.streamingUrl,r=t.onLoadedMetadata,a=t.onLoadStart,o=t.onTimeUpdate,s=t.onEnded,c=t.onVolumeChange,l=t.onError,u=t.onPlaying;return i.a.createElement("audio",{id:"audio",onEnded:s,onLoadedMetadata:r,onLoadStart:a,onPause:this.onPause,onPlay:this.onPlay,onTimeUpdate:o,onVolumeChange:c,ref:function(t){e.audio=t},src:n,onError:l,onPlaying:u,onProgress:this.onProgress})}}]),n}(r.PureComponent),At={hlsOptions:{}},Ct=function(e){var t=function(t){Object(x.a)(r,t);var n=Object(T.a)(r);function r(){var e;return Object(E.a)(this,r),(e=n.call(this)).initHls=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.hls&&e.hls.destroy();var n=e.props.streamingUrl,r=new kt.a;r.loadSource(n),r.attachMedia(e.media.getElement()),r.on(kt.a.Events.MANIFEST_PARSED,(function(n,r){t&&e.media.play()})),r.on(kt.a.Events.ERROR,(function(e,t){console.log("ERROR",t)})),e.hls=r},e.onKeyDown=function(t){var n=t.target;if((32===t.keyCode||78===t.keyCode||80===t.keyCode)&&!(window.location.pathname.indexOf("/video-clip/")>=0)){var r=n.getAttribute("type");if("text"!==r&&"textarea"!==r)return t.preventDefault(),78===t.keyCode&&t.shiftKey?e.props.playNextSong(!0):80===t.keyCode&&t.shiftKey?e.props.playPrevSong():32===t.keyCode?e.togglePlay():void 0}},e.onPlaying=function(){Object(ce.a)(e.props.playingSongId)},e.hls=null,e.audioElement=null,e.onEnded=e.onEnded.bind(Object(K.a)(e)),e.onLoadedMetadata=e.onLoadedMetadata.bind(Object(K.a)(e)),e.onLoadStart=e.onLoadStart.bind(Object(K.a)(e)),e.onPause=e.onPause.bind(Object(K.a)(e)),e.onPlay=e.onPlay.bind(Object(K.a)(e)),e.onTimeUpdate=e.onTimeUpdate.bind(Object(K.a)(e)),e.onVolumeChange=e.onVolumeChange.bind(Object(K.a)(e)),e.changeCurrentTime=e.changeCurrentTime.bind(Object(K.a)(e)),e.changeVolume=e.changeVolume.bind(Object(K.a)(e)),e.toggleMuted=e.toggleMuted.bind(Object(K.a)(e)),e.togglePlay=e.togglePlay.bind(Object(K.a)(e)),e.onError=e.onError.bind(Object(K.a)(e)),e.onKeyDown=e.onKeyDown.bind(Object(K.a)(e)),e.state={},e}return Object(S.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.media;if(t){this.props.fetchStreaming();var n=this.props.player.volume;t.setProperty("volume",n);var r=0;this.currentTime=0,this.interval=setInterval((function(){if(e.currentTime!==r){var t={currentTime:r=e.currentTime,id:e.props.playingSongUid};se.a.set("CURRENT_TIME_KEY",JSON.stringify(t))}}),3e3)}}},{key:"componentDidUpdate",value:function(e){var t=this.media,n=this.props;if(t){var r=n.streamingUrl,i=n.player,a=i.volume,o=i.isRemove;if(r){if(e.playingSongUid!==n.playingSongUid){if(t.setProperty("volume",a),e.playingSongId===n.playingSongId&&(t.setProperty("currentTime",0),Object(ce.j)(n.playingSongId,"duration",this.duration)),o||n.isAvailableAds||n.adStarted)return;return r.indexOf(".m3u8")>-1?this.initHls():t.play()}Object(ce.j)(n.playingSongId,"duration",this.duration),e.streamingUrl!==r&&(r.indexOf(".m3u8")>-1&&this.initHls(!1),t.setProperty("currentTime",e.player.currentTime),e.player.isPlaying&&t.play())}}}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.buffering!==this.props.buffering&&(e.buffering?this.bufferTimeout=setTimeout((function(){return t.props.playNextSongAndClearStreaming()}),1e4):clearTimeout(this.bufferTimeout))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"onEnded",value:function(){var e=this.props,t=e.playNextSong,n=e.onEnded;n(),t()}},{key:"onLoadedMetadata",value:function(){var e=this.media,t=this.props,n=t.onLoadedMetadata,r=t.playingSongId,i=t.playingSongUid,a=Math.round(e.getProperty("duration"));n(a),this.duration=a,Object(ce.j)(r,"duration",a);var o=JSON.parse(se.a.get("CURRENT_TIME_KEY"))||{},s=o.id,c=o.currentTime;s===i&&e.setProperty("currentTime",c)}},{key:"onLoadStart",value:function(){var e=this.props.onLoadStart;e(),this.playerLoaded=!0}},{key:"onPlay",value:function(){var e=this.props,t=e.onPlay,n=e.playingSong;t(),n&&Object(B.a)(n.title,n.artists_names)}},{key:"onPause",value:function(){this.props.onPause(),Object(B.p)(),Object(ce.a)(this.props.playingSongId,"pause")}},{key:"onTimeUpdate",value:function(){var e=this.media,t=this.props.onTimeUpdate;this.currentTime=e.getProperty("currentTime"),t(this.currentTime)}},{key:"onVolumeChange",value:function(){var e=this.media,t=this.props,n=e.getProperty("muted"),r=e.getProperty("volume"),i=t.onVolumeChange;i(n,r),0===r&&(e.muted=!0)}},{key:"onError",value:function(e){Ge.default.error("media errors",e.target),this.props.streamingUrl&&this.props.playNextSongAndClearStreaming()}},{key:"changeCurrentTime",value:function(e){this.media.setProperty("currentTime",e),this.props.onTimeUpdate(e)}},{key:"changeVolume",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.media;n.setProperty("muted",t),n.setProperty("volume",e)}},{key:"toggleMuted",value:function(){var e=this.audioElement,t=e.muted;e.muted=!t}},{key:"togglePlay",value:function(){if(!this.props.adStarted){var e=this.media;if(e.getProperty("paused"))e.play().catch((function(e){return console.log(e)}));else e.pause()}}},{key:"render",value:function(){var t=this,n=this.props,r=n.streamingUrl,a=void 0===r?"/":r,o=n.onProgress,s=n.onBuffering;return i.a.createElement(i.a.Fragment,null,i.a.createElement(e,Object.assign({},this.state,this.props,{changeCurrentTime:this.changeCurrentTime,changeVolume:this.changeVolume,toggleMuted:this.toggleMuted,togglePlay:this.togglePlay}),i.a.createElement(Mt,{onEnded:this.onEnded,onLoadedMetadata:this.onLoadedMetadata,onLoadStart:this.onLoadStart,onPause:this.onPause,onPlay:this.onPlay,onTimeUpdate:this.onTimeUpdate,onVolumeChange:this.onVolumeChange,ref:function(e){return t.media=e},streamingUrl:a,onError:this.onError,onPlaying:this.onPlaying,onProgress:o,onBuffering:s,onKeyDown:this.onKeyDown})))}}]),r}(r.Component);return t.defaultProps=At,t},Lt=n(67),Pt=n(41),Rt=n(99),It={overflow:"initial",maxWidth:"initial"},Nt=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={copy:!1,transforming:!1},e.checkSongInfoWidth=function(){if(!e.state.copy&&e.inFoNode){var t=e.inFoNode.getBoundingClientRect().width;if(t>220){var n=220-(e.nameNode.getBoundingClientRect().width+10);e.setState({copy:!0,infoWidth:t,artistsMaxWidth:n})}}},e.triggerAnimation=function(){if(e.inFoNode&&e.state.copy&&!e.state.transforming){clearTimeout(e.timeOut);var t=e.state.infoWidth,n=5*t/230;e.inFoNode.style.transform="translateX(-".concat(t,"px)"),e.inFoNode.style.transition="transform ".concat(n,"s linear"),e.setState({transforming:!0}),e.timeOut=setTimeout((function(){e.clearAnimation()}),1e3*n)}},e.handleMouseEnter=function(){e.setState({mouseIn:!0}),e.triggerAnimation()},e.handleMouseLeave=function(){e.setState({mouseIn:!1})},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.checkSongInfoWidth()}),500)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.playingSongId!==e.playingSongId)return this.clearAnimation(),this.setState({copy:!1,transforming:!1,artistsMaxWidth:void 0}),void setTimeout((function(){t.triggerAnimation()}),500);this.props.isPlaying||!e.isPlaying||this.state.transforming||setTimeout((function(){t.triggerAnimation()}),500)}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.playingSongId!==e.playingSongId&&this.checkSongInfoWidth(),this.state.copy&&!this.state.transforming&&(clearTimeout(this.timer),this.state.mouseIn&&(this.timer=setTimeout((function(){t.triggerAnimation()}),500)),this.props.isPlaying&&(this.timer=setTimeout((function(){t.triggerAnimation()}),5e3)))}},{key:"clearAnimation",value:function(){this.inFoNode&&(this.inFoNode.style.transform="",this.inFoNode.style.transition="",this.setState({transforming:!1}),clearTimeout(this.timeOut))}},{key:"render",value:function(){var e=this,t=this.props,n=t.song,a=t.adStarted,o=t.advertiser,s=t.hasZma,c=this.state.copy;if(!n)return i.a.createElement("div",{className:"z-song-info-wrapper"},i.a.createElement("div",{className:"z-song-info z-text-elip"},i.a.createElement("span",{className:"z-song-name"},i.a.createElement("a",null," ")),i.a.createElement("span",{className:"z-artists"},i.a.createElement("a",null," "))));var l=!n.isOffical&&!n.isNativeAd,u=Object(F.h)(n.privacy),d=n.artists_names||!Object(F.B)(n.artists),h=n.sourcePlaylist.link||n.link,f=i.a.createElement(r.Fragment,null,i.a.createElement("span",{className:"z-song-name mr-5",ref:function(t){return e.nameNode=t}},i.a.createElement(Lt.a,{link:h,title:n.title,text:n.title}),s&&i.a.createElement(Rt.a,null),l&&i.a.createElement("i",{className:"icon privacy-icon ic-".concat(u?"public":"private","-solid"),title:u?n.user_name?"Upload b\u1edfi ".concat(n.user_name):"":"B\xe0i h\xe1t ri\xeang t\u01b0"})),d&&i.a.createElement("span",{className:"z-artists"},"- ",Object(F.B)(n.artists)?n.artists_names:i.a.createElement(Pt.a,{items:n.artists})));return i.a.createElement("div",{className:"z-song-info-wrapper"},a&&i.a.createElement(jt,{text:"Qu\u1ea3ng c\xe1o: ".concat(o.title)}),i.a.createElement("div",{className:"z-song-info z-text-elip ".concat(a?"z-hide":""),style:It,ref:function(t){return e.inFoNode=t},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},f,c&&i.a.createElement("span",{className:"z-song-info-copy",style:{maxHeight:26}},f)))}}]),n}(r.PureComponent),jt=function(e){var t=e.text;return i.a.createElement("div",{className:"z-song-info z-text-elip",style:{maxWidth:"100%"}},i.a.createElement("span",{className:"z-song-name mr-5",style:{display:"inline-block",marginTop:"8px",overflow:"hidden",textOverflow:"ellipsis",width:"100%"}},t))},Dt=Nt,zt=function(e){var t=e.song,n=e.adStarted,r=e.advertiser.title,a=e.companions,o=a.htmlResources,s=a.staticResources,c=a.clickThroughs,l=void 0===c?[]:c;if(!t)return i.a.createElement("div",{className:"z-card"},i.a.createElement("a",{className:"thumb-40"}));var u=null;n&&(u=Object(F.B)(o)?i.a.createElement("img",{src:s[0],alt:r}):i.a.createElement("div",{dangerouslySetInnerHTML:{__html:o[0]}}));var d=t.sourcePlaylist.link||t.link;return i.a.createElement("div",{className:"z-card"},n?i.a.createElement("a",{className:"thumb-40",href:l[0],target:"_blank"},u):i.a.createElement(W.a,{className:"thumb-40",to:d},i.a.createElement("img",{src:t.thumbnail_medium,alt:t.title})))},Ft=n(135),Ut=n(27),Bt=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).playNextSong=function(){if(e.props.adStarted&&window.audioAds)return window.audioAds.skip();e.props.playNextSong(!0)},e.togglePlay=function(){var t=e.props,n=t.togglePlay;t.audioAdStarted&&window&&window.audioAds?window.audioAds.togglePlay():n()},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.hasControl=!0;var t=this.props.playPrevSong;navigator.mediaSession&&(navigator.mediaSession.setActionHandler("previoustrack",(function(){window.hasControl&&t()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){window.hasControl&&e.playNextSong(!0)})),navigator.mediaSession.setActionHandler("play",(function(){window.hasControl&&e.togglePlay()})),navigator.mediaSession.setActionHandler("pause",(function(){window.hasControl&&e.togglePlay()})))}},{key:"componentWillUnmount",value:function(){window.hasControl=!1}},{key:"render",value:function(){var e=this.props,t=e.toggleShuffle,n=e.isPlaying,r=e.playPrevSong,a=e.toggleRepeat,o=e.repeat,s=e.shuffle,c=e.isPlayingAds,l=e.adStarted,u=e.isAdLoading,d=e.buffering,h=e.nextSong,f=l?c:n;return i.a.createElement("div",{className:"z-miniplayer-controls"},i.a.createElement(Ut.c,{className:"z-btn-previous ".concat(l&&"z-disabled"),onClick:r,title:"Previous",classNameIcon:"pre",tooltipId:"tt-pre"}),d?i.a.createElement("a",{className:"z-btn-play",title:"Play",onClick:this.togglePlay},i.a.createElement("i",{role:"button",className:"icon buffering-btn",style:{backgroundImage:"url('".concat(I.cd,"images/spinner.svg')")}})):i.a.createElement(Ft.a,{onClick:this.togglePlay,className:"z-btn-play ".concat(u?"z-disabled":""),title:"".concat(f?"Pause":"Play"),classNameIcon:"icon ic-".concat(f?"pause":"play","-circle-outline")}),i.a.createElement(Ut.b,{className:"z-btn-next ".concat(l&&"z-disabled"),onClick:this.playNextSong,title:"Next",classNameIcon:"next",tooltipId:"tt-next",nextSong:h}),i.a.createElement(Ut.c,{onClick:t,className:"z-btn-shuffle ".concat(s?"active":"","  ").concat(l&&"z-disabled"),title:"Nghe ng\u1eabu nhi\xean",classNameIcon:"icon ic-shuffle",tooltipId:"z-shuffle"}),i.a.createElement(Ut.c,{onClick:a,className:"z-btn-repeat ".concat(o?"active":"","  ").concat(l&&"z-disabled"),classNameIcon:"icon ic-repeat".concat(2===o?"-one":""),title:Object(Be.b)(o),tooltipId:"z-repeat"}))}}]),n}(r.PureComponent),Ht=n(76),Vt=n(87),Gt=n(70),Wt=function(e){var t=e.link,n=e.adStarted,r=e.closeKaraoke,a=e.closeQueue,o=e.tooltipId,s=e.text,c=void 0===s?"":s,l=e.toggleExpand,u=function(){if(t){var e=Hv.location.pathname;if(l&&l(),e===t)return a(),r(),void Object(Me.j)(window,0);Hv.push(t)}};return c?i.a.createElement("a",{onClick:u,className:"".concat(t&&!n?"":"z-disabled"),title:"Xem MV"},i.a.createElement("i",{role:"button",className:"icon ic-mv"})," ".concat(c)):i.a.createElement(Ut.c,{className:"z-like-btn ".concat(t&&!n?"":"z-disabled"),title:"Xem MV",classNameIcon:"mv",onClick:u,tooltipId:o})},qt=(n(323),function(e){e.preventDefault(),e.stopPropagation()}),Yt=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).onClick=e.onClick.bind(Object(K.a)(e)),e.onMouseDown=e.onMouseDown.bind(Object(K.a)(e)),e.onMouseMove=e.onMouseMove.bind(Object(K.a)(e)),e.onMouseUp=e.onMouseUp.bind(Object(K.a)(e)),e.domNode=null,e}return Object(S.a)(n,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"onClick",value:function(e){var t=this.props,n=t.max;(0,t.onChange)((1-(e.clientY-Object(F.H)(e.currentTarget))/e.currentTarget.offsetHeight)*n)}},{key:"onMouseDown",value:function(){(0,this.props.enableVolumeOutSide)(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}},{key:"onMouseMove",value:function(e){var t=this.domNode,n=this.props,r=n.max,i=n.onChange,a=e.clientY-Object(F.H)(t);i((1-Math.min(Math.max(a/t.offsetHeight,0),1))*r)}},{key:"onMouseUp",value:function(){(0,this.props.disableVolumeOutSide)(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.max,a=t.value,o="".concat(100-a/r*100,"%");return i.a.createElement("div",{className:"slider ".concat(n),onClick:this.onClick,ref:function(t){e.domNode=t},tabIndex:"0"},i.a.createElement("div",{className:"vslider__bar"},r>0?i.a.createElement("div",{className:"vslider__bar__fill",style:{height:o}},i.a.createElement("div",{className:"vslider__handle",onClick:qt,onMouseDown:this.onMouseDown,tabIndex:"0"})):null))}}]),n}(r.Component);Yt.defaultProps={className:""};var Zt=Yt,Kt=(n(324),function(e){e.preventDefault(),e.stopPropagation()}),Xt=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).onClick=e.onClick.bind(Object(K.a)(e)),e.onMouseDown=e.onMouseDown.bind(Object(K.a)(e)),e.onMouseMove=e.onMouseMove.bind(Object(K.a)(e)),e.onMouseUp=e.onMouseUp.bind(Object(K.a)(e)),e.domNode=null,e}return Object(S.a)(n,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"onClick",value:function(e){var t=this.props,n=t.max;(0,t.onChange)((e.clientX-Object(F.G)(e.currentTarget))/e.currentTarget.offsetWidth*n)}},{key:"onMouseDown",value:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}},{key:"onMouseMove",value:function(e){var t=this.domNode,n=this.props,r=n.max,i=n.onChange;t.classList.add("seek_time_mousedown");var a=e.clientX-Object(F.G)(t);i(Math.min(Math.max(a/t.offsetWidth,0),1)*r)}},{key:"onMouseUp",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.domNode.classList.remove("seek_time_mousedown")}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.max,a=t.value,o=t.buffered,s="".concat(a/r*100,"%"),c="".concat(100*o,"%");return i.a.createElement("div",{role:"button",className:"slider ".concat(n),onClick:this.onClick,ref:function(t){e.domNode=t},tabIndex:"0"},i.a.createElement("div",{className:"slider__bar"},r>0?i.a.createElement("div",{className:"slider__bar__fill",style:{width:s}},i.a.createElement("div",{className:"slider__handle",onClick:Kt,onMouseDown:this.onMouseDown,tabIndex:"0"})):null,i.a.createElement("div",{className:"slider__bar__buffer",style:{width:c}})))}}]),n}(r.Component);Xt.defaultProps={className:""};var Qt=Xt,Jt=n(98),$t=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).openVipModal=function(){r.setState({VipModalIsOpen:!0})},r.closeVipModal=function(){r.setState({VipModalIsOpen:!1})},r.getParent=function(){return document.getElementById(r.props.parentId)||document.body},r.onClick=r.onClick.bind(Object(K.a)(r)),r.state={VipModalIsOpen:!1},r}return Object(S.a)(n,[{key:"onClick",value:function(){var e=this.props,t=e.quality;(0,e.onQualityChange)(t)||this.openVipModal()}},{key:"render",value:function(){var e=this.props,t=e.isLogin,n=e.className,r=e.text,a=e.quality,o=e.isVip,s=this.state.VipModalIsOpen;return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement("a",{role:"button",onClick:this.onClick,className:n,style:{fontSize:14}},i.a.createElement("i",{role:"button",className:"icon ic-check"}),i.a.createElement("span",{role:"button"},r," ",!o&&Object(Be.c)(a)?"(VIP)":""))),s?i.a.createElement(Te.a,{parentSelector:this.getParent,isOpen:s,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeVipModal,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal",contentLabel:"Chia s\u1ebb"},i.a.createElement(Jt.a,{type:"BANNER",bannerType:"listen",isLogin:t,closeModal:this.closeVipModal,title:"Xem MV ch\u1ea5t l\u01b0\u1ee3ng cao",detail:"B\u1ea1n c\u1ea7n t\xe0i kho\u1ea3n VIP \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y"})):null)}}]),n}(r.Component);$t.defaultProps={className:""};var en=$t,tn=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={showChild:!1,isLeftChild:!1},e.onMouseEnter=function(){e.state.showChild||(e.appearTimer=setTimeout((function(){var t=!1;e.node.getBoundingClientRect().right+240>window.innerWidth&&(t=!0),e.setState({showChild:!0,isLeftChild:t})}),300))},e.onMouseLeave=function(){clearTimeout(e.appearTimer)},e.onMouseMouse=function(t){e.dropdown||(e.dropdown=document.getElementById("z-mini-action-expand")),e.dropdown.contains(t.target)&&!e.node.contains(t.target)&&e.setState({showChild:!1})},e.removeChild=function(){e.setState({showChild:!1}),e.props.closePortal&&e.props.closePortal()},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=(t.text,t.qualities),r=t.onQualityChange,a=t.isLogin,o=t.isVip,s=t.activeQuality,c=t.activeQualityText,l=this.state,u=l.showChild,d=l.isLeftChild;return i.a.createElement("div",{className:"z-volume-set clearfix",ref:function(t){return e.node=t},onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i.a.createElement("i",{className:"icon ic-quality"}),i.a.createElement("span",{className:"z-text"},"Ch\u1ea5t l\u01b0\u1ee3ng"),i.a.createElement("span",{className:"pull-right"},i.a.createElement("span",{className:"z-quality"},c,i.a.createElement("i",{className:"icon ic-go-right"}))),u&&i.a.createElement(nn,{qualities:n,onQualityChange:r,isLogin:a,isVip:o,activeQuality:s,removeChild:this.removeChild,onMouseMouse:this.onMouseMouse,isLeftChild:d}))}}]),n}(r.Component),nn=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).handleClick=function(t){e.props.inSongDetail&&(e.node.contains(t.target)||e.props.removeChild())},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.props.onMouseMouse),document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.props.onMouseMouse),document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLeft,r=t.qualities,a=t.onQualityChange,o=t.isLogin,s=t.isVip,c=t.activeQuality,l=n?{right:"calc(100% - 10px)",left:"initial"}:{left:"calc(100% - 10px)"};return i.a.createElement("div",{className:"z-quality-group z-show",ref:function(t){return e.node=t},style:Object(st.a)({},l,{position:"absolute"})},i.a.createElement("ul",{className:"z-quality-list",style:{width:160}},r.map((function(e,t){return i.a.createElement(en,{key:t,className:"z-quality ".concat(c===e?"active":""),text:"".concat(e," Kbps"),quality:e,isLogin:o,isVip:s,onQualityChange:a})}))))}}]),n}(r.Component),rn=n(68),an=n(108),on=n(105),sn=n(106),cn=function(e){var t=e.showKaraoke,n=e.toggleKaraoke,r=e.tooltipId,a=e.text,o=void 0===a?"":a,s=e.toggleExpand,c=function(){s&&s(),n()};return o?i.a.createElement("a",{onClick:c,title:"Xem l\u1eddi b\xe0i h\xe1t"},i.a.createElement("i",{role:"button",className:"icon ic-karaoke"})," ".concat(o)):i.a.createElement(Ut.c,{className:"z-expand-btn ".concat(t?"active":""),title:"Xem l\u1eddi b\xe0i h\xe1t",classNameIcon:"karaoke",onClick:c,tooltipId:r})},ln=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).onClick=function(t){if(e.nodeList&&e.nodeButtonExpand){var n=!e.nodeButtonExpand.contains(t.target),r=!e.nodeList.contains(t.target),i=document.getElementsByClassName("ReactModalPortal");i&&i[0]&&i[0].contains(t.target)||(n?n&&r?e.setState({showExpand:!1,showQuality:!1}):e.setState({showExpand:!0}):e.toggleExpand())}},e.toggleExpand=function(){e.setState((function(e){return{showExpand:!e.showExpand}}))},e.toggleQualityChoices=function(){e.setState((function(e){return{showQuality:!e.showQuality}}))},e.toggleMute=function(){var t=e.props,n=t.changeVolume,r=t.volume,i=t.preVolume;return n(0===r?i:0)},e.onMouseLeave=function(){e.state.mouseDownVolume||e.setState({showVolume:!1})},e.enableVolumeOutSide=function(){e.setState({mouseDownVolume:!0})},e.disableVolumeOutSide=function(){e.setState({showVolume:!1,mouseDownVolume:!1})},e.toggleMiniStyle=function(){var t=e.props,n=t.toggleMiniStyle,r=t.isMiniStyle;n();var i=r?"off":"on";Object(ce.c)("Now Playing","np_clickMiniMV",i)},e.state={showExpand:!1,showQuality:!1,showVolume:!1,mouseDownVolume:!1},e}return Object(S.a)(n,[{key:"componentWillMount",value:function(){document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.addToast,r=t.isLogin,a=t.isVip,o=t.song,s=t.numberSongsInQueue,c=t.likeAction,l=t.likedSongIds,u=t.quality,d=t.showQueue,h=t.toggleKaraoke,f=t.showKaraoke,p=t.toggleQueue,m=t.onQualityChange,g=t.volume,v=t.changeVolume,y=t.listQuality,b=t.isMiniStyle,w=t.activeQualityText,_=t.effectPlayer,E=t.hideEffectPlayer,S=t.isBlock,x=t.isUserVn,T=t.openPopupLogin,O=t.zmp3Theme,k=t.adStarted,M=t.closeKaraoke,A=t.closeQueue,C=t.playRadio;if(!o)return i.a.createElement("div",{className:"z-features-wrapper"},i.a.createElement("ul",{className:"z-miniplayer-actions"},i.a.createElement("li",{className:"--z--like-item"},i.a.createElement("a",{className:"z-like-btn"},i.a.createElement("i",{className:"icon ic-like"}))),i.a.createElement("li",{className:"--z--mv-item"},i.a.createElement("a",{className:"z-like-btn"},i.a.createElement("i",{className:"icon ic-mv"}))),i.a.createElement("li",{className:"--z--expand-item"},i.a.createElement("a",{className:"z-expand-btn"},i.a.createElement("i",{className:"icon ic-karaoke"}))),i.a.createElement("li",{className:"z-volumn-container"},i.a.createElement("a",{className:"z-volume-btn"},i.a.createElement("i",{className:"icon ic-volume"}))),i.a.createElement("li",{className:"--z--mini-expand-item"},i.a.createElement("a",{className:"z-btn-mini-act-expand"},i.a.createElement("i",{className:"icon ic-more"}))),i.a.createElement("span",{className:"--z--visible-space --z--top"}),i.a.createElement("span",{className:"--z--visible-space --z--bottom"})),i.a.createElement("div",{className:"z-playlist-wraper"},i.a.createElement("a",{className:"z-btn-playlist-expand ".concat(d?"active":"")},i.a.createElement("i",{className:"icon ic-list-music"}),i.a.createElement("span",{className:"z-playlist-title"},i.a.createElement("span",{className:"z-content",style:{marginRight:2}},"Danh s\xe1ch ph\xe1t"),i.a.createElement("span",{className:"z-item-total"},"(",s,")")))));var L=this.state,P=L.showExpand,R=L.showQuality,N=L.showVolume,j=Object(Be.a)(y,u),D=l.indexOf(o.id)>-1,z=Object(F.h)(o.privacy),U=o.lyric||o.has_lyric;return i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"z-miniplayer-actions"},i.a.createElement("li",{className:"--z--like-item"},i.a.createElement(Ht.a,{className:"z-like-btn ".concat(k&&"z-disabled"),text:"",title:o.title,type:I.V,id:o.id,liked:D,likeAction:c,tooltipId:"like-".concat(o.id),thumbnail:o.thumbnail_medium})),i.a.createElement("li",{className:"--z--mv-item"},i.a.createElement(Wt,{link:o.mv_link,adStarted:k,closeKaraoke:M,closeQueue:A,tooltipId:"mv-".concat(o.id)})),i.a.createElement("li",{className:"--z--expand-item"},i.a.createElement(Ut.c,{className:"z-expand-btn ".concat(f?"active":""," ").concat(U?"":"z-disabled"),title:"Xem l\u1eddi b\xe0i h\xe1t",classNameIcon:"karaoke",onClick:h,tooltipId:"kara-".concat(o.id)})),i.a.createElement("li",{className:"z-volumn-container",onMouseLeave:this.onMouseLeave,onMouseEnter:function(){return e.setState({showVolume:!0})}},i.a.createElement(Ut.c,{classNameIcon:"volume".concat(0===g?"-mute":""),className:"z-volume-btn",onClick:this.toggleMute,tooltipId:"volume-".concat(o.id)}),i.a.createElement("div",{className:"z-volume-wrapper z-".concat(N?"show":"")},i.a.createElement("div",{className:"z-inner"},i.a.createElement(Zt,{className:"player-vslider",max:1,value:g,onChange:v,enableVolumeOutSide:this.enableVolumeOutSide,disableVolumeOutSide:this.disableVolumeOutSide})))),i.a.createElement("li",{className:"--z--mini-expand-item"},i.a.createElement("span",{ref:function(t){return e.nodeButtonExpand=t}},i.a.createElement(Ut.c,{classNameIcon:"more ".concat(P?"active":""),title:"Xem th\xeam",className:"z-btn-mini-act-expand ".concat(P?"active":""," ").concat(k&&"z-disabled"),tooltipId:"more-".concat(o.id)})),i.a.createElement("div",{ref:function(t){e.nodeList=t},className:"z-action-expand-wrapper ".concat(P?"z-show":"z-hide"),id:"z-mini-action-expand",style:"dark"===O?{border:"none"}:{}},P&&i.a.createElement("ul",{className:"z-action-expand-list z-".concat(R?"hide":"show")},i.a.createElement("li",{className:"z-action-like"},i.a.createElement(Ht.a,{className:"z-volume-set",text:"Y\xeau th\xedch",title:o.title,type:I.V,id:o.id,liked:D,likeAction:c,thumbnail:o.thumbnail_medium})),i.a.createElement("li",null,i.a.createElement(an.a,{song:o,text:"Th\xeam v\xe0o playlist",isInPlayer:!0})),i.a.createElement("li",null,i.a.createElement(on.a,{radio:o.radio,playRadio:C})),i.a.createElement("li",null,i.a.createElement(sn.a,{hasComment:o.total_comment>0,id:o.id,type:I.V})),x&&i.a.createElement("li",null,i.a.createElement(Vt.a,{addToast:n,isVip:a,isLogin:r,openPopupLogin:T,type:I.V,id:o.id,title:o.title,artistNames:o.artists_names,thumbnail:o.thumbnail},i.a.createElement("i",{className:"icon ic-download"}),i.a.createElement("span",null,"T\u1ea3i xu\u1ed1ng"))),z&&i.a.createElement("li",null,i.a.createElement(Gt.a,{className:"",type:I.V,id:o.id,link:o.link,text:"Sao ch\xe9p link",icon:"link"})),i.a.createElement("li",null,i.a.createElement(rn.b,{song:o,isBlock:S,showBlockText:!0,isInPlayer:!0})),i.a.createElement("li",{className:"z-action-mini-mv"},i.a.createElement("div",{className:"z-volume-set"},i.a.createElement("i",{className:"icon ic-restore"}),i.a.createElement("span",{className:"z-text"},"Mini MV"),i.a.createElement("span",{className:"pull-right"},i.a.createElement("i",{onClick:this.toggleMiniStyle,className:"icon ic-svg-switch z-switch-".concat(b?"on":"off")})))),i.a.createElement("li",null,i.a.createElement(tn,{qualities:y,show:R,className:"go-left",onQualityChange:m,isLogin:r,isVip:a,activeQuality:j,activeQualityText:w})),i.a.createElement("li",{className:"z-action-volume"},i.a.createElement("div",{className:"z-volume-set"},i.a.createElement("i",{className:"icon ic-volume"}),i.a.createElement("span",{className:"z-text"},"\xc2m l\u01b0\u1ee3ng"),i.a.createElement("div",{className:"pull-right volume-slider"},i.a.createElement(Qt,{max:1,value:g,onChange:v})))),i.a.createElement("li",{className:"z-action-lyrics"},i.a.createElement(cn,{showKaraoke:f,toggleKaraoke:h,toggleExpand:this.toggleExpand,tooltipId:"kara-".concat(o.id),text:f?"\u1ea8n l\u1eddi b\xe0i h\xe1t":"Xem l\u1eddi b\xe0i h\xe1t"})),i.a.createElement("li",{className:"z-action-mv"},i.a.createElement(Wt,{link:o.mv_link,adStarted:k,closeKaraoke:M,closeQueue:A,toggleExpand:this.toggleExpand,text:"Xem MV"}))))),i.a.createElement("span",{className:"--z--visible-space --z--top"}),i.a.createElement("span",{className:"--z--visible-space --z--bottom"})),i.a.createElement("div",{className:"z-playlist-wraper"},i.a.createElement(un,{toggleQueue:p,showQueue:d,effectPlayer:_,hideEffectPlayer:E,numberSongsInQueue:s})))}}]),n}(r.Component),un=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).showNotify=function(){var t=e.props.hideEffectPlayer;e.timeAddEffect=setTimeout((function(){return e.effectButton.classList.add("--z--show-effect")}),0),e.timeRemoveEffect=setTimeout((function(){t(),e.effectButton.classList.remove("--z--show-effect")}),1975)},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.props.effectPlayer&&this.showNotify()}},{key:"componentDidUpdate",value:function(e){this.props.effectPlayer&&!e.effectPlayer&&this.showNotify()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeAddEffect),clearTimeout(this.timeRemoveEffect)}},{key:"render",value:function(){var e=this,t=this.props,n=t.toggleQueue,r=t.showQueue,a=t.numberSongsInQueue;return i.a.createElement("a",{ref:function(t){return e.effectButton=t},onClick:n,className:"z-btn-playlist-expand ".concat(r?"active":"")},i.a.createElement("i",{className:"icon ic-list-music"}),i.a.createElement("span",{className:"z-playlist-title"},i.a.createElement("span",{className:"z-content",style:{marginRight:2}},"Danh s\xe1ch ph\xe1t"),i.a.createElement("span",{className:"z-item-total"},"(",a,")")))}}]),n}(r.PureComponent),dn=ln,hn=function(e){var t=e.max,n=e.value,r="".concat(n/t*100,"%");return i.a.createElement("div",{className:"--z--time-bar-ad"},t>0&&i.a.createElement("div",{className:"--z--time-bar-ad-fill",style:{width:r}}))},fn=function(e){var t=e.currentTime,n=e.duration;return i.a.createElement("div",{className:"z-player-time clearfix"},i.a.createElement("span",{className:"z-time z-playing-time"},Object(F.q)(t)),i.a.createElement("div",{className:"z-duration-bar",style:{cursor:"initial"}},i.a.createElement("div",{className:"player__section player__section--seek",style:{width:"100%",position:"absolute",zIndex:5}},i.a.createElement(hn,{max:n,value:t}))),i.a.createElement("span",{className:"z-time z-duration-time"},Object(F.q)(n)))},pn=Object(s.b)((function(e){return{duration:Object(H.c)(e),currentTime:Object(H.b)(e)}}),(function(e){return Object(O.b)({},e)}))(fn),mn=function(e){var t=e.song,n=e.currentTime,r=e.duration,a=e.changeCurrentTime,o=e.adStarted,s=e.buffered;return t?o?i.a.createElement(pn,null):i.a.createElement("div",{className:"z-player-time clearfix"},i.a.createElement("span",{className:"z-time z-playing-time"},Object(F.q)(n)),i.a.createElement("div",{className:"z-duration-bar"},i.a.createElement("div",{className:"player__section player__section--seek",style:{width:"100%",position:"absolute",zIndex:5}},i.a.createElement(Qt,{max:r,onChange:a,value:n,className:"slider-buffer",buffered:s}))),i.a.createElement("span",{className:"z-time z-duration-time"},Object(F.q)(r))):i.a.createElement("div",{className:"z-player-time clearfix"},i.a.createElement("div",{className:"z-duration-bar"},i.a.createElement("div",{className:"player__section player__section--seek",style:{width:"100%",position:"absolute",zIndex:5}})))},gn=(n(326),function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){if(!this.props.isVip&&window&&window.AdtimaZingMp3)try{window.AdtimaZingMp3.loadOverlayAds(!0)}catch(e){console.log("err ",e)}}},{key:"render",value:function(){var e=this.props,t=e.isVip,n=e.isMiniStyle;return t?null:i.a.createElement("div",{className:"z-miniplayer-ads",style:n?{left:0,margin:"0 calc((100% - 1024px) / 2)"}:{}},i.a.createElement("div",{id:"zmp3_Player_Overlay"}),i.a.createElement("a",{className:"z-close-ads-btn"},i.a.createElement("span",null,"[X] \u0110\xf3ng")))}}]),n}(r.Component)),vn=n(72),yn=n.n(vn),bn=n(53),wn=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.media,n=e.audioAdStarted;return i.a.createElement("div",{role:"button",className:"--z--song-expand-inner ".concat(n&&"z-hide"),id:"mini__player"},i.a.createElement("div",{className:"opac"},t))}}]),n}(r.PureComponent),_n=function(e,t){return(_n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var En=function(){return(En=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Sn(e){var t=e.className,n=e.counterClockwise,i=e.dashRatio,a=e.pathRadius,o=e.strokeWidth,s=e.style;return Object(r.createElement)("path",{className:t,style:Object.assign({},s,Tn({pathRadius:a,dashRatio:i,counterClockwise:n})),d:xn({pathRadius:a,counterClockwise:n}),strokeWidth:o,fillOpacity:0})}function xn(e){var t=e.pathRadius,n=e.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+t+"\n      a "+t+","+t+" "+n+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+n+" 1 1 0,-"+2*t+"\n    "}function Tn(e){var t=e.counterClockwise,n=e.dashRatio,r=e.pathRadius,i=2*Math.PI*r,a=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-a:a)+"px"}}var On=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}_n(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,n=e.minValue,r=e.maxValue;return(Math.min(Math.max(t,n),r)-n)/(r-n)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,n=e.className,i=e.classes,a=e.counterClockwise,o=e.styles,s=e.strokeWidth,c=e.text,l=this.getPathRadius(),u=this.getPathRatio();return Object(r.createElement)("svg",{className:i.root+" "+n,style:o.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?Object(r.createElement)("circle",{className:i.background,style:o.background,cx:50,cy:50,r:50}):null,Object(r.createElement)(Sn,{className:i.trail,counterClockwise:a,dashRatio:t,pathRadius:l,strokeWidth:s,style:o.trail}),Object(r.createElement)(Sn,{className:i.path,counterClockwise:a,dashRatio:u*t,pathRadius:l,strokeWidth:s,style:o.path}),c?Object(r.createElement)("text",{className:i.text,style:o.text,x:50,y:50},c):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(r.Component);function kn(e){e.children;var t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}(e,["children"]);return Object(r.createElement)("div",{"data-test-id":"CircularProgressbarWithChildren"},Object(r.createElement)("div",{style:{position:"relative",width:"100%",height:"100%"}},Object(r.createElement)(On,En({},t)),e.children?Object(r.createElement)("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},e.children):null))}n(327);var Mn=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.lyricContent,n=e.numberLines;if(!t)return null;var r=t.split("<br>"),a=n>2?i.a.createElement("br",null):null;return i.a.createElement("div",{className:"lyric-text-wrapper"},a,r.map((function(e){return i.a.createElement("p",null,e)})),a)}}]),n}(r.PureComponent),An=n(101),Cn=n.n(An),Ln=["mousemove","mousedown","keypress","wheel"],Pn=function(e){return e.replace(/<\/p>/g,"xxx").replace(/<(?:.|\n)*?>/gm," ").replace(/\s+/g," ").replace(/xxx |xxx/g,"\n")},Rn=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).setLyricLines=function(e){var t=window.innerHeight-160-30,n=Math.floor(t/e);n%2===0&&n--,r.setState({numberLines:n})},r.getLyricKaraoke=function(){var e=Object(D.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(D.a)(j.a.mark((function e(i){var a,o,s,c,l,u,d,h,f;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.g)("/song/get-lyric",{id:t});case 2:if(a=e.sent,o=a.resp,s=[],120,120,!o||Object(F.B)(o.data)){e.next=13;break}s=o.data,c=Object(Z.a)(s);try{for(c.s();!(l=c.n()).done;){(u=l.value).startTime=u.startTime-120,u.endTime=u.endTime-120,d=Object(Z.a)(u.words);try{for(d.s();!(h=d.n()).done;)(f=h.value).startTime=f.startTime-120,f.endTime=f.endTime-120}catch(p){d.e(p)}finally{d.f()}}}catch(p){c.e(p)}finally{c.f()}return i(s),e.abrupt("return");case 13:return e.next=15,r.getLyricBackup(n);case 15:s=e.sent,i(s);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.getLyricBackup=function(){var e=Object(D.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if(!t)return e([]);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE&&200===n.status&&n.responseText){var t=Cn()(n.responseText);return e("object"===typeof t?r.normalizeLyric(t.lrcArray):[])}},n.open("GET",t,!0),n.send()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={sentences:[],sentenceIndex:-1,numberLines:5,progressHidden:!0},r.i=-1,r.j=-1,r}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=Object(D.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.songId&&this.getLyric(this.props.songId,this.props.lyricUrl),this.setLyricLines(this.props.lyricHeight),this.fixedContent=document.getElementById("fixed-lyric");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(D.a)(j.a.mark((function e(t){var n,r,i,a,o,s,c,l,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.songId!==t.songId&&this.getLyric(t.songId,t.lyricUrl),this.props.lyricHeight!==t.lyricHeight&&this.setLyricLines(t.lyricHeight),n=this.state.sentences,this.props.currentTime===t.currentTime){e.next=39;break}if(this.content&&this.content.children){e.next=6;break}return e.abrupt("return");case 6:r=1e3*t.currentTime,i=1e3*this.props.currentTime,a=r-i<500&&r-i>10?Math.floor(r-i):1,o=n.length,s=o-1;case 12:if(!(s>=-1)){e.next=39;break}if(!(s<0)){e.next=17;break}return this.content.children[this.i+1].children[this.j].style="",this.setState({sentenceIndex:-1}),e.abrupt("break",39);case 17:if(c=n[s],!(r>c.startTime)){e.next=36;break}if(this.setState({sentenceIndex:s}),!(l=n[s].words)){e.next=35;break}u=0;case 23:if(!(a>0)){e.next=35;break}case 24:if(!(u<l.length)){e.next=32;break}if(!(r>=l[u].startTime&&r<l[u].endTime)){e.next=29;break}return this.j===u&&this.i===s||(this.content.children[this.i+1].children[this.j].style="",this.fixedContent&&this.fixedContent.children[this.j]&&(this.fixedContent.children[this.j].style=""),this.i=s,this.j=u,this.content.children[s+1].children[u].style="border-bottom: 3px solid;",this.fixedContent&&this.fixedContent.children[u]&&(this.fixedContent.children[u].style="border-bottom: 3px solid;")),u++,e.abrupt("break",32);case 29:u++,e.next=24;break;case 32:a--,e.next=23;break;case 35:return e.abrupt("break",39);case 36:s--,e.next=12;break;case 39:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){if(t.songId!==this.state.songId){if(this.i=0,this.j=0,this.content=document.getElementById("content"),!this.content)return void(this.props.lyricText&&this.props.setCopyLyric(Pn(this.props.lyricText.content).trim()));this.props.setCopyLyric(Pn(this.content.innerHTML).trim())}t.sentenceIndex!==this.state.sentenceIndex&&(this.fixedContent=document.getElementById("fixed-lyric"))}},{key:"getLyric",value:function(){var e=Object(D.a)(j.a.mark((function e(t,n){var r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.getLyricKaraoke(t,n);case 3:r=e.sent,i=!r[0]||r[0].startTime<=0||!r[0].words,this.setState({sentences:r,songId:t,loading:!1,progressHidden:i});case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"normalizeLyric",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=Object(Z.a)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,a={data:i.lyric,startTime:1e3*i.timestamp};n.push(a)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.lyricHeight,r=e.lyricText,a=this.state,o=a.sentences,s=a.sentenceIndex,c=a.numberLines,l=a.loading,u=a.progressHidden;if(l)return null;if(Object(F.B)(o))return r?i.a.createElement("div",{className:t,style:{height:n*c}},i.a.createElement("div",{className:"fixed-lyric"},i.a.createElement("span",null,"L\u1eddi b\xe0i h\xe1t")),i.a.createElement(jn,{style:{height:n*c,overflowY:"scroll"},className:"lyric-wrapper",ref:"lyricContent",onScroll:this.handleScroll},i.a.createElement(Mn,{lyricContent:r.content,numberLines:c}))):i.a.createElement("p",{style:{color:"#fff",fontSize:48}},"L\u1eddi b\xe0i h\xe1t \u0111ang \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt");var d=Math.min(1e3*this.props.currentTime/o[0].startTime*100,100);return i.a.createElement("div",{className:t,style:{height:n*c}},i.a.createElement(In,{sentences:o,sentenceIndex:s,lyricHeight:n,numberLines:c,percent:d,progressHidden:u}))}}]),n}(r.PureComponent),In=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={},e.handleScroll=function(){var t=document.getElementById("z-lyric-actived");Object(Me.c)(e.contentNode,t)?e.setState({showFixedLyric:!0}):e.setState({showFixedLyric:!1})},e.scrollToActiveLyric=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.props.lyricHeight*Math.floor(e.props.numberLines/2),r=document.getElementById("z-lyric-actived");if(e.contentNode&&r){var i=Object(Me.c)(e.contentNode,r);if(!i||t){if(!t){var a=Math.abs(r.offsetTop-e.contentNode.scrollTop);a!==n&&Object(Me.a)(e.contentNode,r.offsetTop-n,400)}}else Object(Me.j)(e.contentNode,r.offsetTop-n)}},e.handleClickFixedLyric=function(){return e.scrollToActiveLyric()},e.resetTimer=function(){clearTimeout(e.inactiveTimer),e.inactiveTimer=setTimeout((function(){return e.scrollToActiveLyric()}),5e3)},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=this;Ln.forEach((function(t){return document.addEventListener(t,e.resetTimer,!1)}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.numberLines!==e.numberLines)return clearTimeout(this.scrollTimeout),void(this.scrollTimeout=setTimeout((function(){return t.scrollToActiveLyric()}),500));e.sentenceIndex===this.props.sentenceIndex||this.scrollToActiveLyric(this.state.showFixedLyric)}},{key:"componentWillUnmount",value:function(){var e=this;Ln.forEach((function(t){return document.removeEventListener(t,e.resetTimer,!1)})),clearTimeout(this.inactiveTimer)}},{key:"render",value:function(){var e=this,t=this.props,n=t.sentences,r=t.sentenceIndex,a=t.lyricHeight,s=t.numberLines,c=t.percent,l=t.progressHidden,u=this.state.showFixedLyric,d=r>=0&&u,h=n.map((function(e,t){var n=r===t;return i.a.createElement(Nn,{key:t,actived:n,sentence:e,id:n?"z-lyric-actived":""})}));return i.a.createElement("div",null,i.a.createElement("div",{className:"fixed-lyric"},i.a.createElement(Nn,{actived:!0,className:d?"z-show":"z-hide",sentence:n[r],onClick:this.handleClickFixedLyric,id:"fixed-lyric"}),!d&&i.a.createElement("span",null,"L\u1eddi b\xe0i h\xe1t")),i.a.createElement(jn,{style:{height:a*s,overflowY:"scroll"},className:"lyric-wrapper",ref:function(t){return e.contentNode=o.a.findDOMNode(t)},id:"content",onScroll:this.handleScroll},i.a.createElement("div",{className:"lyric-progess ".concat(l?"z-hide":""),id:c<99?"z-lyric-actived":""},i.a.createElement(kn,{strokeWidth:5,value:c},i.a.createElement("i",{className:"icon ic-karaoke"}))),h))}}]),n}(r.PureComponent),Nn=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sentence,r=t.actived,a=t.onClick,o=t.id,s=void 0===o?"":o,c=t.className;if(!n)return null;var l=n.words,u=r?"z-highlight":"";return i.a.createElement("p",{className:"".concat(u," ").concat(c),id:s,ref:function(t){return e.sentence=t},onClick:a},n.data&&i.a.createElement("span",null,n.data),l&&l.map((function(e,t){return i.a.createElement("span",{key:t},e.data)})))}}]),n}(r.PureComponent),jn=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).handleWheel=function(t){var n=t.wheelDelta||-t.detail||0,r=e.scrollNode.scrollTop,i=e.scrollNode.scrollHeight,a=e.scrollNode.offsetHeight,o=n>0;!o&&-n>i-a-r?(Object(Me.j)(e.scrollNode,i),t.preventDefault(),t.stopPropagation()):o&&n>r&&(Object(Me.j)(e.scrollNode,0),t.preventDefault(),t.stopPropagation())},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.scrollNode.addEventListener("wheel",this.handleWheel)}},{key:"componentWillUnmount",value:function(){this.scrollNode.removeEventListener("wheel",this.handleWheel)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=Object(q.a)(t,["children"]);return i.a.createElement("div",Object.assign({},r,{ref:function(t){return e.scrollNode=t}}),n)}}]),n}(r.PureComponent);Rn.defaultProps={};var Dn=Rn,zn=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(t){e.skipBtn.contains(t.target)?t.preventDefault():e.clickTracking()},e.clickTracking=function(){e.props.companions.clickThroughs.forEach((function(e,t){0!==t&&Object(F.n)(e)})),e.props.companions.videoClickTrackings.forEach((function(e,t){Object(F.n)(e)})),e.props.companions.clickTrackings.forEach((function(e,t){Object(F.n)(e)}))},e.renderSkipButton=function(){var t=e.props.remainTime,n=t<0;return i.a.createElement("div",{ref:function(t){return e.skipBtn=t},onClick:function(t){return n?e.skipAds():{}},className:"--z--audio-ad-banner-skip"},n?"B\u1ecf qua":"B\u1ecf qua sau ".concat(t,"s"))},e}return Object(S.a)(n,[{key:"skipAds",value:function(){window&&window.audioAds&&window.audioAds.skip()}},{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.companions,a=r.clickThroughs,o=r.htmlResources,s=r.staticResources,c=e.advertiser,l=c.title,u=void 0===l?"":l,d=c.description,h=void 0===d?"":d,f=Object(F.B)(o)?i.a.createElement("img",{src:s[0],alt:u}):i.a.createElement("div",{dangerouslySetInnerHTML:{__html:o[0]}});return i.a.createElement("div",{className:"--z--audio-ad-banner ".concat(n)},i.a.createElement("div",{className:"--z--ad-body"},i.a.createElement("p",{className:"--z--ad-headline"},"QU\u1ea2NG C\xc1O"),i.a.createElement("a",{href:a[0],target:"_blank",onClick:this.handleClick},i.a.createElement("div",{className:"--z--ad-banner-image"},f))),i.a.createElement("div",{className:"--z--audio-ad-info"},i.a.createElement("p",{className:"--z--ad-title"},u),i.a.createElement("a",{href:a[0],onClick:this.clickTracking,target:"_blank",className:"--z--ad-info"},h)))}}]),n}(r.Component),Fn=Object(s.b)((function(e){return{companions:Object(H.e)(e),remainTime:Object(H.g)(e),advertiser:Object(H.d)(e)}}),(function(e){return Object(O.b)({},e)}))(zn),Un=n(66);function Bn(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(Bn.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});var Hn,Vn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Vn.DEG2RAD},radToDeg:function(e){return e*Vn.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Gn(e,t){this.x=e||0,this.y=t||0}function Wn(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function qn(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function Yn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Gn.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Gn.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new Gn,t=new Gn;return function(n,r){return e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}}),Object.assign(Wn,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,a,o){var s=n[r+0],c=n[r+1],l=n[r+2],u=n[r+3],d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(u!==p||s!==d||c!==h||l!==f){var m=1-o,g=s*d+c*h+l*f+u*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,g*v);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var _=o*v;if(s=s*m+d*_,c=c*m+h*_,l=l*m+f*_,u=u*m+p*_,m===1-o){var E=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=E,c*=E,l*=E,u*=E}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=u}}),Object.defineProperties(Wn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(Wn.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e.order,o=Math.cos,s=Math.sin,c=o(n/2),l=o(r/2),u=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);return"XYZ"===a?(this._x=d*l*u+c*h*f,this._y=c*h*u-d*l*f,this._z=c*l*f+d*h*u,this._w=c*l*u-d*h*f):"YXZ"===a?(this._x=d*l*u+c*h*f,this._y=c*h*u-d*l*f,this._z=c*l*f-d*h*u,this._w=c*l*u+d*h*f):"ZXY"===a?(this._x=d*l*u-c*h*f,this._y=c*h*u+d*l*f,this._z=c*l*f+d*h*u,this._w=c*l*u-d*h*f):"ZYX"===a?(this._x=d*l*u-c*h*f,this._y=c*h*u+d*l*f,this._z=c*l*f-d*h*u,this._w=c*l*u+d*h*f):"YZX"===a?(this._x=d*l*u+c*h*f,this._y=c*h*u+d*l*f,this._z=c*l*f-d*h*u,this._w=c*l*u-d*h*f):"XZY"===a&&(this._x=d*l*u-c*h*f,this._y=c*h*u-d*l*f,this._z=c*l*f+d*h*u,this._w=c*l*u+d*h*f),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],c=n[9],l=n[2],u=n[6],d=n[10],h=r+s+d;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(u-c)*t,this._y=(a-l)*t,this._z=(o-i)*t):r>s&&r>d?(t=2*Math.sqrt(1+r-s-d),this._w=(u-c)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(a+l)/t):s>d?(t=2*Math.sqrt(1+s-r-d),this._w=(a-l)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(c+u)/t):(t=2*Math.sqrt(1+d-r-s),this._w=(o-i)/t,this._x=(a+l)/t,this._y=(c+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Vn.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,c=t._z,l=t._w;return this._x=n*l+a*o+r*c-i*s,this._y=r*l+a*s+i*o-n*c,this._z=i*l+a*c+n*s-r*o,this._w=a*l-n*o-r*s-i*c,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var c=1-t;return this._w=c*a+t*this._w,this._x=c*n+t*this._x,this._y=c*r+t*this._y,this._z=c*i+t*this._z,this.normalize()}var l=Math.sqrt(s),u=Math.atan2(l,o),d=Math.sin((1-t)*u)/l,h=Math.sin(t*u)/l;return this._w=a*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=i*d+this._z*h,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(qn.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new Wn;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new Wn;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,c=s*t+a*r-o*n,l=s*n+o*t-i*r,u=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=c*s+d*-i+l*-o-u*-a,this.y=l*s+d*-a+u*-i-c*-o,this.z=u*s+d*-o+c*-a-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new qn,t=new qn;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new qn;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new qn;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Vn.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(Yn.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,a,o,s,c){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new qn;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],c=n[1],l=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],w=r[2],_=r[5],E=r[8];return i[0]=a*p+o*v+s*w,i[3]=a*m+o*y+s*_,i[6]=a*g+o*b+s*E,i[1]=c*p+l*v+u*w,i[4]=c*m+l*y+u*_,i[7]=c*g+l*b+u*E,i[2]=d*p+h*v+f*w,i[5]=d*m+h*y+f*_,i[8]=d*g+h*b+f*E,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8];return t*a*l-t*o*c-n*i*l+n*o*s+r*i*c-r*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],l=n[5],u=n[6],d=n[7],h=n[8],f=h*c-l*d,p=l*u-h*s,m=d*s-c*u,g=i*f+a*p+o*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=f*y,r[1]=(o*d-h*a)*y,r[2]=(l*a-o*c)*y,r[3]=p*y,r[4]=(h*i-o*u)*y,r[5]=(o*s-l*i)*y,r[6]=m*y,r[7]=(a*u-d*i)*y,r[8]=(c*i-a*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,a,o){var s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*a+c*o)+a+e,-r*c,r*s,-r*(-c*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],c=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*c,r[6]=t*o+n*l,r[1]=-n*i+t*s,r[4]=-n*a+t*c,r[7]=-n*o+t*l,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Zn={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Hn&&(Hn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Hn.width=e.width,Hn.height=e.height;var n=Hn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Hn}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Kn=0;function Xn(e,t,n,r,i,a,o,s,c,l){Object.defineProperty(this,"id",{value:Kn++}),this.uuid=Vn.generateUUID(),this.name="",this.image=void 0!==e?e:Xn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Xn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:1001,this.wrapT=void 0!==r?r:1001,this.magFilter=void 0!==i?i:1006,this.minFilter=void 0!==a?a:1008,this.anisotropy=void 0!==c?c:1,this.format=void 0!==o?o:1023,this.type=void 0!==s?s:1009,this.offset=new Gn(0,0),this.repeat=new Gn(1,1),this.center=new Gn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:3e3,this.version=0,this.onUpdate=null}function Qn(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function Jn(e,t,n){this.width=e,this.height=t,this.scissor=new Qn(0,0,e,t),this.scissorTest=!1,this.viewport=new Qn(0,0,e,t),n=n||{},this.texture=new Xn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function $n(e,t,n){Jn.call(this,e,t,n),this.samples=4}function er(e,t,n){Jn.call(this,e,t,n)}function tr(e,t,n,r,i,a,o,s,c,l,u,d){Xn.call(this,null,a,o,s,c,l,r,i,u,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==c?c:1003,this.minFilter=void 0!==l?l:1003,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function nr(e,t){this.min=void 0!==e?e:new qn(1/0,1/0,1/0),this.max=void 0!==t?t:new qn(-1/0,-1/0,-1/0)}function rr(e,t){this.center=void 0!==e?e:new qn,this.radius=void 0!==t?t:0}function ir(e,t){this.normal=void 0!==e?e:new qn(1,0,0),this.constant=void 0!==t?t:0}function ar(e,t,n,r,i,a){this.planes=[void 0!==e?e:new ir,void 0!==t?t:new ir,void 0!==n?n:new ir,void 0!==r?r:new ir,void 0!==i?i:new ir,void 0!==a?a:new ir]}function or(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Xn.DEFAULT_IMAGE=void 0,Xn.DEFAULT_MAPPING=300,Xn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Xn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Vn.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(Zn.getDataURL(r[a]))}else i=Zn.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Xn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Qn.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,a=e.elements,o=a[0],s=a[4],c=a[8],l=a[1],u=a[5],d=a[9],h=a[2],f=a[6],p=a[10];if(Math.abs(s-l)<.01&&Math.abs(c-h)<.01&&Math.abs(d-f)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+h)<.1&&Math.abs(d+f)<.1&&Math.abs(o+u+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(o+1)/2,g=(u+1)/2,v=(p+1)/2,y=(s+l)/4,b=(c+h)/4,w=(d+f)/4;return m>g&&m>v?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=b/n):g>v?g<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(g)),i=w/r):v<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(v)),r=w/i),this.set(n,r,i,t),this}var _=Math.sqrt((f-d)*(f-d)+(c-h)*(c-h)+(l-s)*(l-s));return Math.abs(_)<.001&&(_=1),this.x=(f-d)/_,this.y=(c-h)/_,this.z=(l-s)/_,this.w=Math.acos((o+u+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new Qn,t=new Qn),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Jn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Jn,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),$n.prototype=Object.assign(Object.create(Jn.prototype),{constructor:$n,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Jn.prototype.copy.call(this,e),this.samples=e.samples,this}}),er.prototype=Object.create(Jn.prototype),er.prototype.constructor=er,er.prototype.isWebGLRenderTargetCube=!0,tr.prototype=Object.create(Xn.prototype),tr.prototype.constructor=tr,tr.prototype.isDataTexture=!0,Object.assign(nr.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,c=e.length;s<c;s+=3){var l=e[s],u=e[s+1],d=e[s+2];l<t&&(t=l),u<n&&(n=u),d<r&&(r=d),l>i&&(i=l),u>a&&(a=u),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,c=e.count;s<c;s++){var l=e.getX(s),u=e.getY(s),d=e.getZ(s);l<t&&(t=l),u<n&&(n=u),d<r&&(r=d),l>i&&(i=l),u>a&&(a=u),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new qn;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new qn),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new qn),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,r=new qn;function i(i){var a=i.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(t=0,n=o.length;t<n;t++)r.copy(o[t]),r.applyMatrix4(i.matrixWorld),e.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(t=0,n=s.count;t<n;t++)r.fromBufferAttribute(s,t).applyMatrix4(i.matrixWorld),e.expandByPoint(r)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(i),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new qn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new qn;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new qn,t=new qn,n=new qn,r=new qn,i=new qn,a=new qn,o=new qn,s=new qn,c=new qn,l=new qn;function u(r){var i,a;for(i=0,a=r.length-3;i<=a;i+=3){o.fromArray(r,i);var s=c.x*Math.abs(o.x)+c.y*Math.abs(o.y)+c.z*Math.abs(o.z),l=e.dot(o),u=t.dot(o),d=n.dot(o);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),c.subVectors(this.max,s),e.subVectors(o.a,s),t.subVectors(o.b,s),n.subVectors(o.c,s),r.subVectors(t,e),i.subVectors(n,t),a.subVectors(e,n);var d=[0,-r.z,r.y,0,-i.z,i.y,0,-a.z,a.y,r.z,0,-r.x,i.z,0,-i.x,a.z,0,-a.x,-r.y,r.x,0,-i.y,i.x,0,-a.y,a.x,0];return!!u(d)&&(!!u(d=[1,0,0,0,1,0,0,0,1])&&(l.crossVectors(r,i),u(d=[l.x,l.y,l.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new qn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new qn;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new qn;return function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new qn,new qn,new qn,new qn,new qn,new qn,new qn,new qn];return function(t){return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(rr.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new nr;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=0,a=0,o=t.length;a<o;a++)i=Math.max(i,r.distanceToSquared(t[a]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new qn),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new nr),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(ir.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new qn,t=new qn;return function(n,r,i){var a=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new qn),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new qn;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new qn);var r=t.delta(e),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/i;return a<0||a>1?void 0:n.copy(r).multiplyScalar(a).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new qn),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new qn,t=new Yn;return function(n,r){var i=r||t.getNormalMatrix(n),a=this.coplanarPoint(e).applyMatrix4(n),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(ar.prototype,{set:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=n[5],l=n[6],u=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(o-r,u-s,p-d,y-m).normalize(),t[1].setComponents(o+r,u+s,p+d,y+m).normalize(),t[2].setComponents(o+i,u+c,p+h,y+g).normalize(),t[3].setComponents(o-i,u-c,p-h,y-g).normalize(),t[4].setComponents(o-a,u-l,p-f,y-v).normalize(),t[5].setComponents(o+a,u+l,p+f,y+v).normalize(),this},intersectsObject:function(){var e=new rr;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new rr;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var e=new qn;return function(t){for(var n=this.planes,r=0;r<6;r++){var i=n[r];if(e.x=i.normal.x>0?t.max.x:t.min.x,e.y=i.normal.y>0?t.max.y:t.min.y,e.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(e)<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),Object.assign(or.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,a,o,s,c,l,u,d,h,f,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=c,g[6]=l,g[10]=u,g[14]=d,g[3]=h,g[7]=f,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new or).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new qn;return function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),a=1/e.setFromMatrixColumn(t,1).length(),o=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),c=Math.sin(r),l=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var d=a*l,h=a*u,f=o*l,p=o*u;t[0]=s*l,t[4]=-s*u,t[8]=c,t[1]=h+f*c,t[5]=d-p*c,t[9]=-o*s,t[2]=p-d*c,t[6]=f+h*c,t[10]=a*s}else if("YXZ"===e.order){var m=s*l,g=s*u,v=c*l,y=c*u;t[0]=m+y*o,t[4]=v*o-g,t[8]=a*c,t[1]=a*u,t[5]=a*l,t[9]=-o,t[2]=g*o-v,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){m=s*l,g=s*u,v=c*l,y=c*u;t[0]=m-y*o,t[4]=-a*u,t[8]=v+g*o,t[1]=g+v*o,t[5]=a*l,t[9]=y-m*o,t[2]=-a*c,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){d=a*l,h=a*u,f=o*l,p=o*u;t[0]=s*l,t[4]=f*c-h,t[8]=d*c+p,t[1]=s*u,t[5]=p*c+d,t[9]=h*c-f,t[2]=-c,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var b=a*s,w=a*c,_=o*s,E=o*c;t[0]=s*l,t[4]=E-b*u,t[8]=_*u+w,t[1]=u,t[5]=a*l,t[9]=-o*l,t[2]=-c*l,t[6]=w*u+_,t[10]=b-E*u}else if("XZY"===e.order){b=a*s,w=a*c,_=o*s,E=o*c;t[0]=s*l,t[4]=-u,t[8]=c*l,t[1]=b*u+E,t[5]=a*l,t[9]=w*u-_,t[2]=_*u-w,t[6]=o*l,t[10]=E*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(){var e=new qn(0,0,0),t=new qn(1,1,1);return function(n){return this.compose(e,n,t)}}(),lookAt:function(){var e=new qn,t=new qn,n=new qn;return function(r,i,a){var o=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(a,n),0===e.lengthSq()&&(1===Math.abs(a.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(a,n)),e.normalize(),t.crossVectors(n,e),o[0]=e.x,o[4]=t.x,o[8]=n.x,o[1]=e.y,o[5]=t.y,o[9]=n.y,o[2]=e.z,o[6]=t.z,o[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],c=n[12],l=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],_=r[0],E=r[4],S=r[8],x=r[12],T=r[1],O=r[5],k=r[9],M=r[13],A=r[2],C=r[6],L=r[10],P=r[14],R=r[3],I=r[7],N=r[11],j=r[15];return i[0]=a*_+o*T+s*A+c*R,i[4]=a*E+o*O+s*C+c*I,i[8]=a*S+o*k+s*L+c*N,i[12]=a*x+o*M+s*P+c*j,i[1]=l*_+u*T+d*A+h*R,i[5]=l*E+u*O+d*C+h*I,i[9]=l*S+u*k+d*L+h*N,i[13]=l*x+u*M+d*P+h*j,i[2]=f*_+p*T+m*A+g*R,i[6]=f*E+p*O+m*C+g*I,i[10]=f*S+p*k+m*L+g*N,i[14]=f*x+p*M+m*P+g*j,i[3]=v*_+y*T+b*A+w*R,i[7]=v*E+y*O+b*C+w*I,i[11]=v*S+y*k+b*L+w*N,i[15]=v*x+y*M+b*P+w*j,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new qn;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],c=e[13],l=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*c*u-i*o*d+n*c*d+r*o*h-n*s*h)+e[7]*(+t*s*h-t*c*d+i*a*d-r*a*h+r*c*l-i*s*l)+e[11]*(+t*c*u-t*o*h-i*a*u+n*a*h+i*o*l-n*c*l)+e[15]*(-r*o*l-t*s*u+t*o*d+r*a*u-n*a*d+n*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],c=r[4],l=r[5],u=r[6],d=r[7],h=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],w=f*y*d-v*p*d+v*u*m-l*y*m-f*u*b+l*p*b,_=g*p*d-h*y*d-g*u*m+c*y*m+h*u*b-c*p*b,E=h*v*d-g*f*d+g*l*m-c*v*m-h*l*b+c*f*b,S=g*f*u-h*v*u-g*l*p+c*v*p+h*l*y-c*f*y,x=i*w+a*_+o*E+s*S;if(0===x){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(T);return console.warn(T),this.identity()}var O=1/x;return n[0]=w*O,n[1]=(v*p*s-f*y*s-v*o*m+a*y*m+f*o*b-a*p*b)*O,n[2]=(l*y*s-v*u*s+v*o*d-a*y*d-l*o*b+a*u*b)*O,n[3]=(f*u*s-l*p*s-f*o*d+a*p*d+l*o*m-a*u*m)*O,n[4]=_*O,n[5]=(h*y*s-g*p*s+g*o*m-i*y*m-h*o*b+i*p*b)*O,n[6]=(g*u*s-c*y*s-g*o*d+i*y*d+c*o*b-i*u*b)*O,n[7]=(c*p*s-h*u*s+h*o*d-i*p*d-c*o*m+i*u*m)*O,n[8]=E*O,n[9]=(g*f*s-h*v*s-g*a*m+i*v*m+h*a*b-i*f*b)*O,n[10]=(c*v*s-g*l*s+g*a*d-i*v*d-c*a*b+i*l*b)*O,n[11]=(h*l*s-c*f*s-h*a*d+i*f*d+c*a*m-i*l*m)*O,n[12]=S*O,n[13]=(h*v*o-g*f*o+g*a*p-i*v*p-h*a*y+i*f*y)*O,n[14]=(g*l*o-c*v*o-g*a*u+i*v*u+c*a*y-i*l*y)*O,n[15]=(c*f*o-h*l*o+h*a*u-i*f*u-c*a*p+i*l*p)*O,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,c=i*a,l=i*o;return this.set(c*a+n,c*o-r*s,c*s+r*o,0,c*o+r*s,l*o+n,l*s-r*a,0,c*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,c=i+i,l=a+a,u=o+o,d=i*c,h=i*l,f=i*u,p=a*l,m=a*u,g=o*u,v=s*c,y=s*l,b=s*u,w=n.x,_=n.y,E=n.z;return r[0]=(1-(p+g))*w,r[1]=(h+b)*w,r[2]=(f-y)*w,r[3]=0,r[4]=(h-b)*_,r[5]=(1-(d+g))*_,r[6]=(m+v)*_,r[7]=0,r[8]=(f+y)*E,r[9]=(m-v)*E,r[10]=(1-(d+p))*E,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(){var e=new qn,t=new or;return function(n,r,i){var a=this.elements,o=e.set(a[0],a[1],a[2]).length(),s=e.set(a[4],a[5],a[6]).length(),c=e.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],t.copy(this);var l=1/o,u=1/s,d=1/c;return t.elements[0]*=l,t.elements[1]*=l,t.elements[2]*=l,t.elements[4]*=u,t.elements[5]*=u,t.elements[6]*=u,t.elements[8]*=d,t.elements[9]*=d,t.elements[10]*=d,r.setFromRotationMatrix(t),i.x=o,i.y=s,i.z=c,this}}(),makePerspective:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),c=2*i/(n-r),l=(t+e)/(t-e),u=(n+r)/(n-r),d=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=c,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),c=1/(n-r),l=1/(a-i),u=(t+e)*s,d=(n+r)*c,h=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var sr={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick( specularColor, dotNV );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor;\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function cr(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function lr(e){for(var t={},n=0;n<e.length;n++){var r=cr(e[n]);for(var i in r)t[i]=r[i]}return t}var ur={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dr(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(dr.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=Vn.euclideanModulo(t,1),n=Vn.clamp(n,0,1),r=Vn.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;this.r=e(a,i,t+1/3),this.g=e(a,i,t),this.b=e(a,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l,u=(l=n[1]).length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(l=ur[e])?this.setHex(l):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),c=(s+o)/2;if(s===o)t=0,n=0;else{var l=o-s;switch(n=c<=.5?l/(o+s):l/(2-o-s),o){case r:t=(i-a)/l+(i<a?6:0);break;case i:t=(a-r)/l+2;break;case a:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var e={};return function(t,n,r){return this.getHSL(e),e.h+=t,e.s+=n,e.l+=r,this.setHSL(e.h,e.s,e.l),this}}(),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(){var e={h:0,s:0,l:0},t={h:0,s:0,l:0};return function(n,r){this.getHSL(e),n.getHSL(t);var i=Vn.lerp(e.h,t.h,r),a=Vn.lerp(e.s,t.s,r),o=Vn.lerp(e.l,t.l,r);return this.setHSL(i,a,o),this}}(),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var hr={common:{diffuse:{value:new dr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Yn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Gn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new dr(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new dr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Yn}},sprite:{diffuse:{value:new dr(15658734)},opacity:{value:1},center:{value:new Gn(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Yn}}},fr={basic:{uniforms:lr([hr.common,hr.specularmap,hr.envmap,hr.aomap,hr.lightmap,hr.fog]),vertexShader:sr.meshbasic_vert,fragmentShader:sr.meshbasic_frag},lambert:{uniforms:lr([hr.common,hr.specularmap,hr.envmap,hr.aomap,hr.lightmap,hr.emissivemap,hr.fog,hr.lights,{emissive:{value:new dr(0)}}]),vertexShader:sr.meshlambert_vert,fragmentShader:sr.meshlambert_frag},phong:{uniforms:lr([hr.common,hr.specularmap,hr.envmap,hr.aomap,hr.lightmap,hr.emissivemap,hr.bumpmap,hr.normalmap,hr.displacementmap,hr.gradientmap,hr.fog,hr.lights,{emissive:{value:new dr(0)},specular:{value:new dr(1118481)},shininess:{value:30}}]),vertexShader:sr.meshphong_vert,fragmentShader:sr.meshphong_frag},standard:{uniforms:lr([hr.common,hr.envmap,hr.aomap,hr.lightmap,hr.emissivemap,hr.bumpmap,hr.normalmap,hr.displacementmap,hr.roughnessmap,hr.metalnessmap,hr.fog,hr.lights,{emissive:{value:new dr(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:sr.meshphysical_vert,fragmentShader:sr.meshphysical_frag},matcap:{uniforms:lr([hr.common,hr.bumpmap,hr.normalmap,hr.displacementmap,hr.fog,{matcap:{value:null}}]),vertexShader:sr.meshmatcap_vert,fragmentShader:sr.meshmatcap_frag},points:{uniforms:lr([hr.points,hr.fog]),vertexShader:sr.points_vert,fragmentShader:sr.points_frag},dashed:{uniforms:lr([hr.common,hr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sr.linedashed_vert,fragmentShader:sr.linedashed_frag},depth:{uniforms:lr([hr.common,hr.displacementmap]),vertexShader:sr.depth_vert,fragmentShader:sr.depth_frag},normal:{uniforms:lr([hr.common,hr.bumpmap,hr.normalmap,hr.displacementmap,{opacity:{value:1}}]),vertexShader:sr.normal_vert,fragmentShader:sr.normal_frag},sprite:{uniforms:lr([hr.sprite,hr.fog]),vertexShader:sr.sprite_vert,fragmentShader:sr.sprite_frag},background:{uniforms:{uvTransform:{value:new Yn},t2D:{value:null}},vertexShader:sr.background_vert,fragmentShader:sr.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:sr.cube_vert,fragmentShader:sr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sr.equirect_vert,fragmentShader:sr.equirect_frag},distanceRGBA:{uniforms:lr([hr.common,hr.displacementmap,{referencePosition:{value:new qn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sr.distanceRGBA_vert,fragmentShader:sr.distanceRGBA_frag},shadow:{uniforms:lr([hr.lights,hr.fog,{color:{value:new dr(0)},opacity:{value:1}}]),vertexShader:sr.shadow_vert,fragmentShader:sr.shadow_frag}};function pr(){var e=null,t=!1,n=null;function r(i,a){!1!==t&&(n(i,a),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function mr(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,a=e.createBuffer();e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(!function(t,n,r){var i=n.array,a=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===a.count?e.bufferSubData(r,0,i):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i.subarray(a.offset,a.offset+a.count)),a.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function gr(e,t,n,r,i,a){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new qn,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new dr,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}function vr(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||vr.DefaultOrder}function yr(){this.mask=1}fr.physical={uniforms:lr([fr.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:sr.meshphysical_vert,fragmentShader:sr.meshphysical_frag},Object.assign(gr.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),vr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],vr.DefaultOrder="XYZ",Object.defineProperties(vr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(vr.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Vn.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],c=i[1],l=i[5],u=i[9],d=i[2],h=i[6],f=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,f),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-d,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(c,a))):"ZYX"===t?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(h,f),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===t?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,f))):"XZY"===t?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new or;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new Wn;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new qn(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(yr.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!==(this.mask&e.mask)}});var br=0;function wr(){Object.defineProperty(this,"id",{value:br++}),this.uuid=Vn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wr.DefaultUp.clone();var e=new qn,t=new vr,n=new Wn,r=new qn(1,1,1);t.onChange((function(){n.setFromEuler(t,!1)})),n.onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new or},normalMatrix:{value:new Yn}}),this.matrix=new or,this.matrixWorld=new or,this.matrixAutoUpdate=wr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new yr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}wr.DefaultUp=new qn(0,1,0),wr.DefaultMatrixAutoUpdate=!0,wr.prototype=Object.assign(Object.create(Bn.prototype),{constructor:wr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new Wn;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new Wn;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new qn(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new qn(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new qn(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new qn;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new qn(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new qn(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new qn(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new or;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new Wn,t=new or,n=new qn,r=new qn;return function(i,a,o){i.isVector3?n.copy(i):n.set(i,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),s&&(t.extractRotation(s.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new qn),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new qn,t=new qn;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new Wn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldScale:function(){var e=new qn,t=new Wn;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new qn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new qn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&0!==this.drawMode&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,c=o.length;s<c;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(s=0,c=this.material.length;s<c;s++)u.push(i(e.materials,this.material[s]));r.material=u}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var d=m(e.geometries),h=m(e.materials),f=m(e.textures),p=m(e.images);o=m(e.shapes);d.length>0&&(n.geometries=d),h.length>0&&(n.materials=h),f.length>0&&(n.textures=f),p.length>0&&(n.images=p),o.length>0&&(n.shapes=o)}return n.object=r,n;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var _r=0;function Er(){Object.defineProperty(this,"id",{value:_r+=2}),this.uuid=Vn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Sr(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function xr(e,t,n){Sr.call(this,new Int8Array(e),t,n)}function Tr(e,t,n){Sr.call(this,new Uint8Array(e),t,n)}function Or(e,t,n){Sr.call(this,new Uint8ClampedArray(e),t,n)}function kr(e,t,n){Sr.call(this,new Int16Array(e),t,n)}function Mr(e,t,n){Sr.call(this,new Uint16Array(e),t,n)}function Ar(e,t,n){Sr.call(this,new Int32Array(e),t,n)}function Cr(e,t,n){Sr.call(this,new Uint32Array(e),t,n)}function Lr(e,t,n){Sr.call(this,new Float32Array(e),t,n)}function Pr(e,t,n){Sr.call(this,new Float64Array(e),t,n)}function Rr(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ir(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Er.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Er,isGeometry:!0,applyMatrix:function(e){for(var t=(new Yn).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new or;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new or;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new or;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new or;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new or;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new wr;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,i=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,c=void 0!==r.uv2?r.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=0,u=0;l<i.length;l+=3,u+=2)t.vertices.push((new qn).fromArray(i,l)),void 0!==o&&t.colors.push((new dr).fromArray(o,l));function d(e,n,r,i){var l=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],u=new gr(e,n,r,void 0===a?[]:[(new qn).fromArray(a,3*e),(new qn).fromArray(a,3*n),(new qn).fromArray(a,3*r)],l,i);t.faces.push(u),void 0!==s&&t.faceVertexUvs[0].push([(new Gn).fromArray(s,2*e),(new Gn).fromArray(s,2*n),(new Gn).fromArray(s,2*r)]),void 0!==c&&t.faceVertexUvs[1].push([(new Gn).fromArray(c,2*e),(new Gn).fromArray(c,2*n),(new Gn).fromArray(c,2*r)])}var h=e.groups;if(h.length>0)for(l=0;l<h.length;l++)for(var f=h[l],p=f.start,m=(u=p,p+f.count);u<m;u+=3)void 0!==n?d(n[u],n[u+1],n[u+2],f.materialIndex):d(u,u+1,u+2,f.materialIndex);else if(void 0!==n)for(l=0;l<n.length;l+=3)d(n[l],n[l+1],n[l+2]);else for(l=0;l<i.length/3;l+=3)d(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){var e=new qn;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new or;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new qn,t=new qn,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new qn;if(e){var s,c,l,u=new qn,d=new qn;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s=this.vertices[a.a],c=this.vertices[a.b],l=this.vertices[a.c],u.subVectors(l,c),d.subVectors(s,c),u.cross(d),o[a.a].add(u),o[a.b].add(u),o[a.c].add(u)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(a=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(o[a.a]),h[1].copy(o[a.b]),h[2].copy(o[a.c])):(h[0]=o[a.a].clone(),h[1]=o[a.b].clone(),h[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var a=new Er;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)c=new qn,l={a:new qn,b:new qn,c:new qn},o.push(c),s.push(l)}var c,l,u=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=u.faceNormals[n],l=u.vertexNormals[n],c.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new nr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new rr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,c=e.faces,l=this.faceVertexUvs[0],u=e.faceVertexUvs[0],d=this.colors,h=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new Yn).getNormalMatrix(t));for(var f=0,p=o.length;f<p;f++){var m=o[f].clone();void 0!==t&&m.applyMatrix4(t),a.push(m)}for(f=0,p=h.length;f<p;f++)d.push(h[f].clone());for(f=0,p=c.length;f<p;f++){var g,v,y,b=c[f],w=b.vertexNormals,_=b.vertexColors;(g=new gr(b.a+i,b.b+i,b.c+i)).normal.copy(b.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var E=0,S=w.length;E<S;E++)v=w[E].clone(),void 0!==r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);g.color.copy(b.color);for(E=0,S=_.length;E<S;E++)y=_[E],g.vertexColors.push(y.clone());g.materialIndex=b.materialIndex+n,s.push(g)}for(f=0,p=u.length;f<p;f++){var x=u[f],T=[];if(void 0!==x){for(E=0,S=x.length;E<S;E++)T.push(x[E].clone());l.push(T)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,a,o,s,c={},l=[],u=[],d=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===c[t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d)]?(c[t]=n,l.push(this.vertices[n]),u[n]=l.length-1):u[n]=u[c[t]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=u[i.a],i.b=u[i.b],i.c=u[i.c],a=[i.a,i.b,i.c];for(var f=0;f<3;f++)if(a[f]===a[(f+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var p=h[n];for(this.faces.splice(p,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(p,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new qn(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),o&&o.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(a[s]),i&&i.push(o[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}var o=[],s=[],c={},l=[],u={},d=[],h={};for(i=0;i<this.faces.length;i++){var f=this.faces[i],p=void 0!==this.faceVertexUvs[0][i],m=f.normal.length()>0,g=f.vertexNormals.length>0,v=1!==f.color.r||1!==f.color.g||1!==f.color.b,y=f.vertexColors.length>0,b=0;if(b=S(b,0,0),b=S(b,1,!0),b=S(b,2,!1),b=S(b,3,p),b=S(b,4,m),b=S(b,5,g),b=S(b,6,v),b=S(b,7,y),o.push(b),o.push(f.a,f.b,f.c),o.push(f.materialIndex),p){var w=this.faceVertexUvs[0][i];o.push(O(w[0]),O(w[1]),O(w[2]))}if(m&&o.push(x(f.normal)),g){var _=f.vertexNormals;o.push(x(_[0]),x(_[1]),x(_[2]))}if(v&&o.push(T(f.color)),y){var E=f.vertexColors;o.push(T(E[0]),T(E[1]),T(E[2]))}}function S(e,t,n){return n?e|1<<t:e&~(1<<t)}function x(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]||(c[t]=s.length/3,s.push(e.x,e.y,e.z)),c[t]}function T(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]||(u[t]=l.length,l.push(e.getHex())),u[t]}function O(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]||(h[t]=d.length/2,d.push(e.x,e.y)),h[t]}return e.data={},e.data.vertices=r,e.data.normals=s,l.length>0&&(e.data.colors=l),d.length>0&&(e.data.uvs=[d]),e.data.faces=o,e},clone:function(){return(new Er).copy(this)},copy:function(e){var t,n,r,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,n=c.length;t<n;t++)this.colors.push(c[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=u.length;r<i;r++){var d=u[r],h=[];for(a=0,o=d.length;a<o;a++){var f=d[a];h.push(f.clone())}this.faceVertexUvs[t].push(h)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,i=p[t].vertices.length;r<i;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,i=p[t].normals.length;r<i;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var y=g[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)v.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(v)}var w=e.skinWeights;for(t=0,n=w.length;t<n;t++)this.skinWeights.push(w[t].clone());var _=e.skinIndices;for(t=0,n=_.length;t<n;t++)this.skinIndices.push(_[t].clone());var E=e.lineDistances;for(t=0,n=E.length;t<n;t++)this.lineDistances.push(E[t]);var S=e.boundingBox;null!==S&&(this.boundingBox=S.clone());var x=e.boundingSphere;return null!==x&&(this.boundingSphere=x.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Sr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Sr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new dr),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new Gn),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new qn),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new Qn),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),xr.prototype=Object.create(Sr.prototype),xr.prototype.constructor=xr,Tr.prototype=Object.create(Sr.prototype),Tr.prototype.constructor=Tr,Or.prototype=Object.create(Sr.prototype),Or.prototype.constructor=Or,kr.prototype=Object.create(Sr.prototype),kr.prototype.constructor=kr,Mr.prototype=Object.create(Sr.prototype),Mr.prototype.constructor=Mr,Ar.prototype=Object.create(Sr.prototype),Ar.prototype.constructor=Ar,Cr.prototype=Object.create(Sr.prototype),Cr.prototype.constructor=Cr,Lr.prototype=Object.create(Sr.prototype),Lr.prototype.constructor=Lr,Pr.prototype=Object.create(Sr.prototype),Pr.prototype.constructor=Pr,Object.assign(Rr.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:r})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,c=s.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var u,d=e.morphNormals,h=d.length;if(h>0){u=[];for(l=0;l<h;l++)u[l]={name:d[l].name,data:[]};this.morphTargets.normal=u}var f=e.skinIndices,p=e.skinWeights,m=f.length===r.length,g=p.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<n.length;l++){var v=n[l];this.vertices.push(r[v.a],r[v.b],r[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var w,_=v.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var E=v.color;this.colors.push(E,E,E)}if(!0===a)void 0!==(w=i[0][l])?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new Gn,new Gn,new Gn));if(!0===o)void 0!==(w=i[1][l])?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new Gn,new Gn,new Gn));for(var S=0;S<c;S++){var x=s[S].vertices;t[S].data.push(x[v.a],x[v.b],x[v.c])}for(S=0;S<h;S++){var T=d[S].vertexNormals[l];u[S].data.push(T.a,T.b,T.c)}m&&this.skinIndices.push(f[v.a],f[v.b],f[v.c]),g&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Nr=1;function jr(){Object.defineProperty(this,"id",{value:Nr+=2}),this.uuid=Vn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Dr(e,t,n,r,i,a){Er.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new zr(e,t,n,r,i,a)),this.mergeVertices()}function zr(e,t,n,r,i,a){jr.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var o=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,a=Math.floor(a)||1;var s=[],c=[],l=[],u=[],d=0,h=0;function f(e,t,n,r,i,a,f,p,m,g,v){var y,b,w=a/m,_=f/g,E=a/2,S=f/2,x=p/2,T=m+1,O=g+1,k=0,M=0,A=new qn;for(b=0;b<O;b++){var C=b*_-S;for(y=0;y<T;y++){var L=y*w-E;A[e]=L*r,A[t]=C*i,A[n]=x,c.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=p>0?1:-1,l.push(A.x,A.y,A.z),u.push(y/m),u.push(1-b/g),k+=1}}for(b=0;b<g;b++)for(y=0;y<m;y++){var P=d+y+T*b,R=d+y+T*(b+1),I=d+(y+1)+T*(b+1),N=d+(y+1)+T*b;s.push(P,R,N),s.push(R,I,N),M+=6}o.addGroup(h,M,v),h+=M,d+=k}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new Lr(c,3)),this.addAttribute("normal",new Lr(l,3)),this.addAttribute("uv",new Lr(u,2))}function Fr(e,t,n,r){Er.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Ur(e,t,n,r)),this.mergeVertices()}function Ur(e,t,n,r){jr.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,a,o=(e=e||1)/2,s=(t=t||1)/2,c=Math.floor(n)||1,l=Math.floor(r)||1,u=c+1,d=l+1,h=e/c,f=t/l,p=[],m=[],g=[],v=[];for(a=0;a<d;a++){var y=a*f-s;for(i=0;i<u;i++){var b=i*h-o;m.push(b,-y,0),g.push(0,0,1),v.push(i/c),v.push(1-a/l)}}for(a=0;a<l;a++)for(i=0;i<c;i++){var w=i+u*a,_=i+u*(a+1),E=i+1+u*(a+1),S=i+1+u*a;p.push(w,_,S),p.push(_,E,S)}this.setIndex(p),this.addAttribute("position",new Lr(m,3)),this.addAttribute("normal",new Lr(g,3)),this.addAttribute("uv",new Lr(v,2))}jr.prototype=Object.assign(Object.create(Bn.prototype),{constructor:jr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Ir(e)>65535?Cr:Mr)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new Sr(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new Yn).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);var r=this.attributes.tangent;void 0!==r&&((new Yn).getNormalMatrix(e).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new or;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new or;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new or;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new or;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new or;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new wr;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new qn;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Lr(3*t.vertices.length,3),r=new Lr(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Lr(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Lr(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Rr).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Sr(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Sr(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new Sr(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Sr(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Sr(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],c=e.morphTargets[o],l=0,u=c.length;l<u;l++){var d=c[l],h=new Lr(3*d.data.length,3);h.name=d.name,s.push(h.copyVector3sArray(d.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var f=new Lr(4*e.skinIndices.length,4);this.addAttribute("skinIndex",f.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new Lr(4*e.skinWeights.length,4);this.addAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){var e=new nr;return function(){null===this.boundingBox&&(this.boundingBox=new nr);var t=this.attributes.position,n=this.morphAttributes.position;if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),n)for(var r=0,i=n.length;r<i;r++){var a=n[r];e.setFromBufferAttribute(a),this.boundingBox.expandByPoint(e.min),this.boundingBox.expandByPoint(e.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var e=new nr,t=new nr,n=new qn;return function(){null===this.boundingSphere&&(this.boundingSphere=new rr);var r=this.attributes.position,i=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(e.setFromBufferAttribute(r),i)for(var o=0,s=i.length;o<s;o++){var c=i[o];t.setFromBufferAttribute(c),e.expandByPoint(t.min),e.expandByPoint(t.max)}e.getCenter(a);var l=0;for(o=0,s=r.count;o<s;o++)n.fromBufferAttribute(r,o),l=Math.max(l,a.distanceToSquared(n));if(i)for(o=0,s=i.length;o<s;o++)for(var u=0,d=(c=i[o]).count;u<d;u++)n.fromBufferAttribute(c,o),l=Math.max(l,a.distanceToSquared(n));this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Sr(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,a=r.length;i<a;i++)r[i]=0;var o,s,c,l=t.normal.array,u=new qn,d=new qn,h=new qn,f=new qn,p=new qn;if(e){var m=e.array;for(i=0,a=e.count;i<a;i+=3)o=3*m[i+0],s=3*m[i+1],c=3*m[i+2],u.fromArray(n,o),d.fromArray(n,s),h.fromArray(n,c),f.subVectors(h,d),p.subVectors(u,d),f.cross(p),l[o]+=f.x,l[o+1]+=f.y,l[o+2]+=f.z,l[s]+=f.x,l[s+1]+=f.y,l[s+2]+=f.z,l[c]+=f.x,l[c+1]+=f.y,l[c+2]+=f.z}else for(i=0,a=n.length;i<a;i+=9)u.fromArray(n,i),d.fromArray(n,i+3),h.fromArray(n,i+6),f.subVectors(h,d),p.subVectors(u,d),f.cross(p),l[i]=f.x,l[i+1]=f.y,l[i+2]=f.z,l[i+3]=f.x,l[i+4]=f.y,l[i+5]=f.z,l[i+6]=f.x,l[i+7]=f.y,l[i+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=0,c=a.itemSize*t;s<o.length;s++,c++)i[c]=o[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new qn;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),a=0,o=0,s=0,c=t.length;s<c;s++){a=t[s]*r;for(var l=0;l<r;l++)i[o++]=n[a++]}return new Sr(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new jr,n=this.index.array,r=this.attributes;for(var i in r){var a=e(r[i],n);t.addAttribute(i,a)}var o=this.morphAttributes;for(i in o){for(var s=[],c=o[i],l=0,u=c.length;l<u;l++){a=e(c[l],n);s.push(a)}t.morphAttributes[i]=s}for(var d=this.groups,h=(l=0,d.length);l<h;l++){var f=d[l];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var a={itemSize:(h=i[n]).itemSize,type:h.array.constructor.name,array:Array.prototype.slice.call(h.array),normalized:h.normalized};""!==h.name&&(a.name=h.name),e.data.attributes[n]=a}var o={},s=!1;for(var n in this.morphAttributes){for(var c=this.morphAttributes[n],l=[],u=0,d=c.length;u<d;u++){var h;a={itemSize:(h=c[u]).itemSize,type:h.array.constructor.name,array:Array.prototype.slice.call(h.array),normalized:h.normalized};""!==h.name&&(a.name=h.name),l.push(a)}l.length>0&&(o[n]=l,s=!0)}s&&(e.data.morphAttributes=o);var f=this.groups;f.length>0&&(e.data.groups=JSON.parse(JSON.stringify(f)));var p=this.boundingSphere;return null!==p&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e},clone:function(){return(new jr).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var c=[],l=s[t];for(n=0,r=l.length;n<r;n++)c.push(l[n].clone());this.morphAttributes[t]=c}var u=e.groups;for(n=0,r=u.length;n<r;n++){var d=u[n];this.addGroup(d.start,d.count,d.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var f=e.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Dr.prototype=Object.create(Er.prototype),Dr.prototype.constructor=Dr,zr.prototype=Object.create(jr.prototype),zr.prototype.constructor=zr,Fr.prototype=Object.create(Er.prototype),Fr.prototype.constructor=Fr,Ur.prototype=Object.create(jr.prototype),Ur.prototype.constructor=Ur;var Br=0;function Hr(){Object.defineProperty(this,"id",{value:Br++}),this.uuid=Vn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}Hr.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Hr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Vr(e){Hr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Gr(e,t){this.origin=void 0!==e?e:new qn,this.direction=void 0!==t?t:new qn}function Wr(e,t,n){this.a=void 0!==e?e:new qn,this.b=void 0!==t?t:new qn,this.c=void 0!==n?n:new qn}function qr(e){Hr.call(this),this.type="MeshBasicMaterial",this.color=new dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Yr(e,t){wr.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new jr,this.material=void 0!==t?t:new qr({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function Zr(e,t,n,r){var i,a,o=new dr(0),s=0,c=null,l=0;function u(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),u(o,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){u(o,s=e)},render:function(t,r,d,h){var f=r.background,p=e.vr,m=p.getSession&&p.getSession();if(m&&"additive"===m.environmentBlendMode&&(f=null),null===f?(u(o,s),c=null,l=0):f&&f.isColor&&(u(f,1),h=!0,c=null,l=0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),f&&(f.isCubeTexture||f.isWebGLRenderTargetCube)){void 0===a&&((a=new Yr(new zr(1,1,1),new Vr({type:"BackgroundCubeMaterial",uniforms:cr(fr.cube.uniforms),vertexShader:fr.cube.vertexShader,fragmentShader:fr.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var g=f.isWebGLRenderTargetCube?f.texture:f;a.material.uniforms.tCube.value=g,a.material.uniforms.tFlip.value=f.isWebGLRenderTargetCube?1:-1,c===f&&l===g.version||(a.material.needsUpdate=!0,c=f,l=g.version),t.unshift(a,a.geometry,a.material,0,0,null)}else f&&f.isTexture&&(void 0===i&&((i=new Yr(new Ur(2,2),new Vr({type:"BackgroundMaterial",uniforms:cr(fr.background.uniforms),vertexShader:fr.background.vertexShader,fragmentShader:fr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),i.material.uniforms.uvTransform.value.copy(f.matrix),c===f&&l===f.version||(i.material.needsUpdate=!0,c=f,l=f.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Kr(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(a,o,s){var c;if(r.isWebGL2)c=e;else if(null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,o,s,a.maxInstancedCount),n.update(s,i,a.maxInstancedCount)}}function Xr(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var c=!0===n.logarithmicDepthBuffer,l=e.getParameter(34930),u=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),f=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=u>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:h,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:a?e.getParameter(36183):0}}function Qr(){var e=this,t=null,n=0,r=!1,i=!1,a=new ir,o=new Yn,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function l(t,n,r,i){var c=null!==t?t.length:0,l=null;if(0!==c){if(l=s.value,!0!==i||null===l){var u=r+4*c,d=n.matrixWorldInverse;o.getNormalMatrix(d),(null===l||l.length<u)&&(l=new Float32Array(u));for(var h=0,f=r;h!==c;++h,f+=4)a.copy(t[h]).applyMatrix4(d,o),a.normal.toArray(l,f),l[f+3]=a.constant}s.value=l,s.needsUpdate=!0}return e.numPlanes=c,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,a){var o=0!==e.length||i||0!==n||r;return r=i,t=l(e,a,0),n=e.length,o},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(e,a,o,u,d,h){if(!r||null===e||0===e.length||i&&!o)i?l(null):c();else{var f=i?0:n,p=4*f,m=d.clippingState||null;s.value=m,m=l(e,u,p,h);for(var g=0;g!==p;++g)m[g]=t[g];d.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=f}}}function Jr(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function $r(e,t,n){var r={},i={};function a(e){var o=e.target,s=r[o.id];for(var c in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[c]);o.removeEventListener("dispose",a),delete r[o.id];var l=i[s.id];l&&(t.remove(l),delete i[s.id]),n.memory.geometries--}return{get:function(e,t){var i=r[t.id];return i||(t.addEventListener("dispose",a),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new jr).setFromObject(e)),i=t._bufferGeometry),r[t.id]=i,n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,c=o.length;s<c;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var n=i[e.id];if(n)return n;var r,a=[],o=e.index,s=e.attributes;if(null!==o)for(var c=0,l=(r=o.array).length;c<l;c+=3){var u=r[c+0],d=r[c+1],h=r[c+2];a.push(u,d,d,h,h,u)}else for(c=0,l=(r=s.position.array).length/3-1;c<l;c+=3){u=c+0,d=c+1,h=c+2;a.push(u,d,d,h,h,u)}return n=new(Ir(a)>65535?Cr:Mr)(a,1),t.update(n,34963),i[e.id]=n,n}}}function ei(e,t,n,r){var i,a,o;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i)},this.renderInstances=function(s,c,l){var u;if(r.isWebGL2)u=e;else if(null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,l,a,c*o,s.maxInstancedCount),n.update(l,i,s.maxInstancedCount)}}function ti(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function ni(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ri(e){var t={},n=new Float32Array(8);return{update:function(r,i,a,o){var s=r.morphTargetInfluences,c=s.length,l=t[i.id];if(void 0===l){l=[];for(var u=0;u<c;u++)l[u]=[u,0];t[i.id]=l}var d=a.morphTargets&&i.morphAttributes.position,h=a.morphNormals&&i.morphAttributes.normal;for(u=0;u<c;u++){0!==(f=l[u])[1]&&(d&&i.removeAttribute("morphTarget"+u),h&&i.removeAttribute("morphNormal"+u))}for(u=0;u<c;u++){(f=l[u])[0]=u,f[1]=s[u]}for(l.sort(ni),u=0;u<8;u++){var f;if(f=l[u]){var p=f[0],m=f[1];if(m){d&&i.addAttribute("morphTarget"+u,d[p]),h&&i.addAttribute("morphNormal"+u,h[p]),n[u]=m;continue}}n[u]=0}o.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function ii(e,t){var n={};return{update:function(r){var i=t.render.frame,a=r.geometry,o=e.get(r,a);return n[o.id]!==i&&(a.isGeometry&&o.updateFromObject(r),e.update(o),n[o.id]=i),o},dispose:function(){n={}}}}function ai(e,t,n,r,i,a,o,s,c,l){e=void 0!==e?e:[],t=void 0!==t?t:301,o=void 0!==o?o:1022,Xn.call(this,e,t,n,r,i,a,o,s,c,l),this.flipY=!1}function oi(e,t,n,r){Xn.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1}function si(e,t,n,r){Xn.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1}Vr.prototype=Object.create(Hr.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isShaderMaterial=!0,Vr.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cr(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Vr.prototype.toJSON=function(e){var t=Hr.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Object.assign(Gr.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new qn),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new qn;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new qn),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new qn;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new qn,t=new qn,n=new qn;return function(r,i,a,o){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,c,l,u,d=.5*r.distanceTo(i),h=-this.direction.dot(t),f=n.dot(this.direction),p=-n.dot(t),m=n.lengthSq(),g=Math.abs(1-h*h);if(g>0)if(c=h*f-p,u=d*g,(s=h*p-f)>=0)if(c>=-u)if(c<=u){var v=1/g;l=(s*=v)*(s+h*(c*=v)+2*f)+c*(h*s+c+2*p)+m}else c=d,l=-(s=Math.max(0,-(h*c+f)))*s+c*(c+2*p)+m;else c=-d,l=-(s=Math.max(0,-(h*c+f)))*s+c*(c+2*p)+m;else c<=-u?l=-(s=Math.max(0,-(-h*d+f)))*s+(c=s>0?-d:Math.min(Math.max(-d,-p),d))*(c+2*p)+m:c<=u?(s=0,l=(c=Math.min(Math.max(-d,-p),d))*(c+2*p)+m):l=-(s=Math.max(0,-(h*d+f)))*s+(c=s>0?d:Math.min(Math.max(-d,-p),d))*(c+2*p)+m;else c=h>0?-d:d,l=-(s=Math.max(0,-(h*c+f)))*s+c*(c+2*p)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(t).multiplyScalar(c).add(e),l}}(),intersectSphere:function(){var e=new qn;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,a=t.radius*t.radius;if(i>a)return null;var o=Math.sqrt(a-i),s=r-o,c=r+o;return s<0&&c<0?null:s<0?this.at(c,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,a,o,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,d=this.origin;return c>=0?(n=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(n=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),l>=0?(i=(e.min.y-d.y)*l,a=(e.max.y-d.y)*l):(i=(e.max.y-d.y)*l,a=(e.min.y-d.y)*l),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(){var e=new qn;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new qn,t=new qn,n=new qn,r=new qn;return function(i,a,o,s,c){t.subVectors(a,i),n.subVectors(o,i),r.crossVectors(t,n);var l,u=this.direction.dot(r);if(u>0){if(s)return null;l=1}else{if(!(u<0))return null;l=-1,u=-u}e.subVectors(this.origin,i);var d=l*this.direction.dot(n.crossVectors(e,n));if(d<0)return null;var h=l*this.direction.dot(t.cross(e));if(h<0)return null;if(d+h>u)return null;var f=-l*e.dot(r);return f<0?null:this.at(f/u,c)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Wr,{getNormal:function(){var e=new qn;return function(t,n,r,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new qn),i.subVectors(r,n),e.subVectors(t,n),i.cross(e);var a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}}(),getBarycoord:function(){var e=new qn,t=new qn,n=new qn;return function(r,i,a,o,s){e.subVectors(o,i),t.subVectors(a,i),n.subVectors(r,i);var c=e.dot(e),l=e.dot(t),u=e.dot(n),d=t.dot(t),h=t.dot(n),f=c*d-l*l;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new qn),0===f)return s.set(-2,-1,-1);var p=1/f,m=(d*u-l*h)*p,g=(c*h-l*u)*p;return s.set(1-m-g,g,m)}}(),containsPoint:function(){var e=new qn;return function(t,n,r,i){return Wr.getBarycoord(t,n,r,i,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:function(){var e=new qn;return function(t,n,r,i,a,o,s,c){return this.getBarycoord(t,n,r,i,e),c.set(0,0),c.addScaledVector(a,e.x),c.addScaledVector(o,e.y),c.addScaledVector(s,e.z),c}}()}),Object.assign(Wr.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new qn,t=new qn;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new qn),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Wr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new qn),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Wr.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Wr.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return Wr.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new qn,t=new qn,n=new qn,r=new qn,i=new qn,a=new qn;return function(o,s){void 0===s&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),s=new qn);var c,l,u=this.a,d=this.b,h=this.c;e.subVectors(d,u),t.subVectors(h,u),r.subVectors(o,u);var f=e.dot(r),p=t.dot(r);if(f<=0&&p<=0)return s.copy(u);i.subVectors(o,d);var m=e.dot(i),g=t.dot(i);if(m>=0&&g<=m)return s.copy(d);var v=f*g-m*p;if(v<=0&&f>=0&&m<=0)return c=f/(f-m),s.copy(u).addScaledVector(e,c);a.subVectors(o,h);var y=e.dot(a),b=t.dot(a);if(b>=0&&y<=b)return s.copy(h);var w=y*p-f*b;if(w<=0&&p>=0&&b<=0)return l=p/(p-b),s.copy(u).addScaledVector(t,l);var _=m*b-y*g;if(_<=0&&g-m>=0&&y-b>=0)return n.subVectors(h,d),l=(g-m)/(g-m+(y-b)),s.copy(d).addScaledVector(n,l);var E=1/(_+w+v);return c=w*E,l=v*E,s.copy(u).addScaledVector(e,c).addScaledVector(t,l)}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),qr.prototype=Object.create(Hr.prototype),qr.prototype.constructor=qr,qr.prototype.isMeshBasicMaterial=!0,qr.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Yr.prototype=Object.assign(Object.create(wr.prototype),{constructor:Yr,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return wr.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new or,t=new Gr,n=new rr,r=new qn,i=new qn,a=new qn,o=new qn,s=new qn,c=new qn,l=new qn,u=new qn,d=new qn,h=new Gn,f=new Gn,p=new Gn,m=new qn,g=new qn;function v(e,t,n,r,i,a,o,s){if(null===(1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,2!==t.side,s)))return null;g.copy(s),g.applyMatrix4(e.matrixWorld);var c=n.ray.origin.distanceTo(g);return c<n.near||c>n.far?null:{distance:c,point:g.clone(),object:e}}function y(e,t,n,g,y,b,w,_,E,S){r.fromBufferAttribute(y,_),i.fromBufferAttribute(y,E),a.fromBufferAttribute(y,S);var x=e.morphTargetInfluences;if(t.morphTargets&&b&&x){l.set(0,0,0),u.set(0,0,0),d.set(0,0,0);for(var T=0,O=b.length;T<O;T++){var k=x[T],M=b[T];0!==k&&(o.fromBufferAttribute(M,_),s.fromBufferAttribute(M,E),c.fromBufferAttribute(M,S),l.addScaledVector(o.sub(r),k),u.addScaledVector(s.sub(i),k),d.addScaledVector(c.sub(a),k))}r.add(l),i.add(u),a.add(d)}var A=v(e,t,n,g,r,i,a,m);if(A){w&&(h.fromBufferAttribute(w,_),f.fromBufferAttribute(w,E),p.fromBufferAttribute(w,S),A.uv=Wr.getUV(m,r,i,a,h,f,p,new Gn));var C=new gr(_,E,S);Wr.getNormal(r,i,a,C.normal),A.face=C}return A}return function(r,i){var a,o=this.geometry,s=this.material,c=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(c),!1!==r.ray.intersectsSphere(n)&&(e.getInverse(c),t.copy(r.ray).applyMatrix4(e),null===o.boundingBox||!1!==t.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var l,u,d,g,b,w,_,E,S,x=o.index,T=o.attributes.position,O=o.morphAttributes.position,k=o.attributes.uv,M=o.groups,A=o.drawRange;if(null!==x)if(Array.isArray(s))for(g=0,w=M.length;g<w;g++)for(S=s[(E=M[g]).materialIndex],b=Math.max(E.start,A.start),_=Math.min(E.start+E.count,A.start+A.count);b<_;b+=3)l=x.getX(b),u=x.getX(b+1),d=x.getX(b+2),(a=y(this,S,r,t,T,O,k,l,u,d))&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=E.materialIndex,i.push(a));else for(g=Math.max(0,A.start),w=Math.min(x.count,A.start+A.count);g<w;g+=3)l=x.getX(g),u=x.getX(g+1),d=x.getX(g+2),(a=y(this,s,r,t,T,O,k,l,u,d))&&(a.faceIndex=Math.floor(g/3),i.push(a));else if(void 0!==T)if(Array.isArray(s))for(g=0,w=M.length;g<w;g++)for(S=s[(E=M[g]).materialIndex],b=Math.max(E.start,A.start),_=Math.min(E.start+E.count,A.start+A.count);b<_;b+=3)(a=y(this,S,r,t,T,O,k,l=b,u=b+1,d=b+2))&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=E.materialIndex,i.push(a));else for(g=Math.max(0,A.start),w=Math.min(T.count,A.start+A.count);g<w;g+=3)(a=y(this,s,r,t,T,O,k,l=g,u=g+1,d=g+2))&&(a.faceIndex=Math.floor(g/3),i.push(a))}else if(o.isGeometry){var C,L,P,R,I=Array.isArray(s),N=o.vertices,j=o.faces,D=o.faceVertexUvs[0];D.length>0&&(R=D);for(var z=0,F=j.length;z<F;z++){var U=j[z],B=I?s[U.materialIndex]:s;if(void 0!==B&&(C=N[U.a],L=N[U.b],P=N[U.c],a=v(this,B,r,t,C,L,P,m))){if(R&&R[z]){var H=R[z];h.copy(H[0]),f.copy(H[1]),p.copy(H[2]),a.uv=Wr.getUV(m,C,L,P,h,f,p,new Gn)}a.face=U,a.faceIndex=z,i.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ai.prototype=Object.create(Xn.prototype),ai.prototype.constructor=ai,ai.prototype.isCubeTexture=!0,Object.defineProperty(ai.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),oi.prototype=Object.create(Xn.prototype),oi.prototype.constructor=oi,oi.prototype.isDataTexture2DArray=!0,si.prototype=Object.create(Xn.prototype),si.prototype.constructor=si,si.prototype.isDataTexture3D=!0;var ci=new Xn,li=new oi,ui=new si,di=new ai,hi=[],fi=[],pi=new Float32Array(16),mi=new Float32Array(9),gi=new Float32Array(4);function vi(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=hi[i];if(void 0===a&&(a=new Float32Array(i),hi[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function yi(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function bi(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function wi(e,t){var n=fi[t];void 0===n&&(n=new Int32Array(t),fi[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function _i(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ei(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Si(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(yi(n,t))return;e.uniform2fv(this.addr,t),bi(n,t)}}function xi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(yi(n,t))return;e.uniform3fv(this.addr,t),bi(n,t)}}function Ti(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(yi(n,t))return;e.uniform4fv(this.addr,t),bi(n,t)}}function Oi(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(yi(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),bi(n,t)}else{if(yi(n,r))return;gi.set(r),e.uniformMatrix2fv(this.addr,!1,gi),bi(n,r)}}function ki(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(yi(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),bi(n,t)}else{if(yi(n,r))return;mi.set(r),e.uniformMatrix3fv(this.addr,!1,mi),bi(n,r)}}function Mi(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(yi(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),bi(n,t)}else{if(yi(n,r))return;pi.set(r),e.uniformMatrix4fv(this.addr,!1,pi),bi(n,r)}}function Ai(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||ci,i)}function Ci(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||li,i)}function Li(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ui,i)}function Pi(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||di,i)}function Ri(e,t){var n=this.cache;yi(n,t)||(e.uniform2iv(this.addr,t),bi(n,t))}function Ii(e,t){var n=this.cache;yi(n,t)||(e.uniform3iv(this.addr,t),bi(n,t))}function Ni(e,t){var n=this.cache;yi(n,t)||(e.uniform4iv(this.addr,t),bi(n,t))}function ji(e,t){var n=this.cache;yi(n,t)||(e.uniform1fv(this.addr,t),bi(n,t))}function Di(e,t){var n=this.cache;yi(n,t)||(e.uniform1iv(this.addr,t),bi(n,t))}function zi(e,t){var n=this.cache,r=vi(t,this.size,2);yi(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function Fi(e,t){var n=this.cache,r=vi(t,this.size,3);yi(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function Ui(e,t){var n=this.cache,r=vi(t,this.size,4);yi(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function Bi(e,t){var n=this.cache,r=vi(t,this.size,4);yi(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function Hi(e,t){var n=this.cache,r=vi(t,this.size,9);yi(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function Vi(e,t){var n=this.cache,r=vi(t,this.size,16);yi(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function Gi(e,t,n){var r=this.cache,i=t.length,a=wi(n,i);!1===yi(r,a)&&(e.uniform1iv(this.addr,a),bi(r,a));for(var o=0;o!==i;++o)n.safeSetTexture2D(t[o]||ci,a[o])}function Wi(e,t,n){var r=this.cache,i=t.length,a=wi(n,i);!1===yi(r,a)&&(e.uniform1iv(this.addr,a),bi(r,a));for(var o=0;o!==i;++o)n.safeSetTextureCube(t[o]||di,a[o])}function qi(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return _i;case 35664:return Si;case 35665:return xi;case 35666:return Ti;case 35674:return Oi;case 35675:return ki;case 35676:return Mi;case 35678:case 36198:return Ai;case 35679:return Li;case 35680:return Pi;case 36289:return Ci;case 5124:case 35670:return Ei;case 35667:case 35671:return Ri;case 35668:case 35672:return Ii;case 35669:case 35673:return Ni}}(t.type)}function Yi(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return ji;case 35664:return zi;case 35665:return Fi;case 35666:return Ui;case 35674:return Bi;case 35675:return Hi;case 35676:return Vi;case 35678:return Gi;case 35680:return Wi;case 5124:case 35670:return Di;case 35667:case 35671:return Ri;case 35668:case 35672:return Ii;case 35669:case 35673:return Ni}}(t.type)}function Zi(e){this.id=e,this.seq=[],this.map={}}Yi.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),bi(t,e)},Zi.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var Ki=/([\w\d_]+)(\])?(\[|\.)?/g;function Xi(e,t){e.seq.push(t),e.map[t.id]=t}function Qi(e,t,n){var r=e.name,i=r.length;for(Ki.lastIndex=0;;){var a=Ki.exec(r),o=Ki.lastIndex,s=a[1],c="]"===a[2],l=a[3];if(c&&(s|=0),void 0===l||"["===l&&o+2===i){Xi(n,void 0===l?new qi(s,e,t):new Yi(s,e,t));break}var u=n.map[s];void 0===u&&Xi(n,u=new Zi(s)),n=u}}function Ji(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);Qi(i,e.getUniformLocation(t,i.name),this)}}function $i(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}Ji.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},Ji.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Ji.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},Ji.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var ea=0;function ta(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function na(e,t){var n=ta(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function ra(e,t){var n=ta(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ia(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function aa(e){return""!==e}function oa(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function sa(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function ca(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=sr[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ca(n)}))}function la(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]");return i}))}function ua(e,t,n,r,i,a,o,s){var c=e.context,l=r.defines,u=i.vertexShader,d=i.fragmentShader,h="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?h="SHADOWMAP_TYPE_PCF":2===a.shadowMapType&&(h="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",m="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case 301:case 302:f="ENVMAP_TYPE_CUBE";break;case 306:case 307:f="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:f="ENVMAP_TYPE_EQUIREC";break;case 305:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case 302:case 304:p="ENVMAP_MODE_REFRACTION"}switch(r.combine){case 0:m="ENVMAP_BLENDING_MULTIPLY";break;case 1:m="ENVMAP_BLENDING_MIX";break;case 2:m="ENVMAP_BLENDING_ADD"}}var g,v,y=e.gammaFactor>0?e.gammaFactor:1,b=o.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(aa).join("\n")}(r.extensions,a,t),w=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(l),_=c.createProgram();if(r.isRawShaderMaterial?((g=[w].filter(aa).join("\n")).length>0&&(g+="\n"),(v=[b,w].filter(aa).join("\n")).length>0&&(v+="\n")):(g=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,w,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+h:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(aa).join("\n"),v=[b,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,w,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.envMap?"#define "+p:"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+h:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==a.toneMapping?"#define TONE_MAPPING":"",0!==a.toneMapping?sr.tonemapping_pars_fragment:"",0!==a.toneMapping?ia("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?sr.encodings_pars_fragment:"",a.mapEncoding?na("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?na("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?na("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?na("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?ra("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(aa).join("\n")),u=sa(u=oa(u=ca(u),a),a),d=sa(d=oa(d=ca(d),a),a),u=la(u),d=la(d),o.isWebGL2&&!r.isRawShaderMaterial){var E=!1,S=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==u.match(S)&&null!==d.match(S)&&(E=!0,u=u.replace(S,""),d=d.replace(S,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#version 300 es\n","#define varying in",E?"":"out highp vec4 pc_fragColor;",E?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v}var x=v+d,T=$i(c,35633,g+u),O=$i(c,35632,x);c.attachShader(_,T),c.attachShader(_,O),void 0!==r.index0AttributeName?c.bindAttribLocation(_,0,r.index0AttributeName):!0===a.morphTargets&&c.bindAttribLocation(_,0,"position"),c.linkProgram(_);var k,M,A=c.getProgramInfoLog(_).trim(),C=c.getShaderInfoLog(T).trim(),L=c.getShaderInfoLog(O).trim(),P=!0,R=!0;return!1===c.getProgramParameter(_,35714)?(P=!1,console.error("THREE.WebGLProgram: shader error: ",c.getError(),"35715",c.getProgramParameter(_,35715),"gl.getProgramInfoLog",A,C,L)):""!==A?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A):""!==C&&""!==L||(R=!1),R&&(this.diagnostics={runnable:P,material:r,programLog:A,vertexShader:{log:C,prefix:g},fragmentShader:{log:L,prefix:v}}),c.deleteShader(T),c.deleteShader(O),this.getUniforms=function(){return void 0===k&&(k=new Ji(c,_,s)),k},this.getAttributes=function(){return void 0===M&&(M=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(c,_)),M},this.destroy=function(){c.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=ea++,this.code=n,this.usedTimes=1,this.program=_,this.vertexShader=T,this.fragmentShader=O,this}function da(e,t,n,r){var i=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=3e3,3e3===n&&t&&(n=3007),n}this.getParameters=function(t,r,i,o,c,l,u){var d=a[t.type],h=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),a=Math.min(i,t.length);return a<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+a+"."),0):a}(u):0,f=n.precision;null!==t.precision&&(f=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",f,"instead.");var p=e.getRenderTarget();return{shaderID:d,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:s(p?p.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:s(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:s(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:s(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(306===t.envMap.mapping||307===t.envMap.mapping),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:s(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:1===t.normalMapType,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,fog:!!o,useFog:t.fog,fogExp:o&&o.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&h>0,maxBones:h,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:c,numClipIntersection:l,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&i.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var a=0;a<o.length;a++)r.push(n[o[a]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(a,o,s,c){for(var l,u=0,d=i.length;u<d;u++){var h=i[u];if(h.code===c){++(l=h).usedTimes;break}}return void 0===l&&(l=new ua(e,t,c,a,o,s,n,r),i.push(l)),l},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function ha(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function fa(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function pa(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ma(){var e=[],t=0,n=[],r=[],i={id:-1};function a(n,r,a,o,s,c){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:a,program:a.program||i,groupOrder:o,renderOrder:n.renderOrder,z:s,group:c},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=a,l.program=a.program||i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=c),t++,l}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,i,o,s,c){var l=a(e,t,i,o,s,c);(!0===i.transparent?r:n).push(l)},unshift:function(e,t,i,o,s,c){var l=a(e,t,i,o,s,c);(!0===i.transparent?r:n).unshift(l)},sort:function(){n.length>1&&n.sort(fa),r.length>1&&r.sort(pa)}}}function ga(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i,a=e[n.id];return void 0===a?(i=new ma,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===(i=a[r.id])&&(i=new ma,a[r.id]=i),i},dispose:function(){e={}}}}function va(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new qn,color:new dr,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Gn};break;case"SpotLight":n={position:new qn,direction:new qn,color:new dr,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Gn};break;case"PointLight":n={position:new qn,color:new dr,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Gn,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new qn,skyColor:new dr,groundColor:new dr};break;case"RectAreaLight":n={color:new dr,position:new qn,halfWidth:new qn,halfHeight:new qn}}return e[t.id]=n,n}}}var ya=0;function ba(){var e=new va,t={id:ya++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new qn,r=new or,i=new or;return{setup:function(a,o,s){for(var c=0,l=0,u=0,d=0,h=0,f=0,p=0,m=0,g=s.matrixWorldInverse,v=0,y=a.length;v<y;v++){var b=a[v],w=b.color,_=b.intensity,E=b.distance,S=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)c+=w.r*_,l+=w.g*_,u+=w.b*_;else if(b.isDirectionalLight){if((T=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),T.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(g),T.shadow=b.castShadow,b.castShadow){var x=b.shadow;T.shadowBias=x.bias,T.shadowRadius=x.radius,T.shadowMapSize=x.mapSize}t.directionalShadowMap[d]=S,t.directionalShadowMatrix[d]=b.shadow.matrix,t.directional[d]=T,d++}else if(b.isSpotLight){if((T=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),T.color.copy(w).multiplyScalar(_),T.distance=E,T.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(g),T.coneCos=Math.cos(b.angle),T.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),T.decay=b.decay,T.shadow=b.castShadow,b.castShadow){x=b.shadow;T.shadowBias=x.bias,T.shadowRadius=x.radius,T.shadowMapSize=x.mapSize}t.spotShadowMap[f]=S,t.spotShadowMatrix[f]=b.shadow.matrix,t.spot[f]=T,f++}else if(b.isRectAreaLight){(T=e.get(b)).color.copy(w).multiplyScalar(_),T.position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),i.identity(),r.copy(b.matrixWorld),r.premultiply(g),i.extractRotation(r),T.halfWidth.set(.5*b.width,0,0),T.halfHeight.set(0,.5*b.height,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),t.rectArea[p]=T,p++}else if(b.isPointLight){if((T=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b.color).multiplyScalar(b.intensity),T.distance=b.distance,T.decay=b.decay,T.shadow=b.castShadow,b.castShadow){x=b.shadow;T.shadowBias=x.bias,T.shadowRadius=x.radius,T.shadowMapSize=x.mapSize,T.shadowCameraNear=x.camera.near,T.shadowCameraFar=x.camera.far}t.pointShadowMap[h]=S,t.pointShadowMatrix[h]=b.shadow.matrix,t.point[h]=T,h++}else if(b.isHemisphereLight){var T;(T=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(b.color).multiplyScalar(_),T.groundColor.copy(b.groundColor).multiplyScalar(_),t.hemi[m]=T,m++}}t.ambient[0]=c,t.ambient[1]=l,t.ambient[2]=u,t.directional.length=d,t.spot.length=f,t.rectArea.length=p,t.point.length=h,t.hemi.length=m,t.hash.stateID=t.id,t.hash.directionalLength=d,t.hash.pointLength=h,t.hash.spotLength=f,t.hash.rectAreaLength=p,t.hash.hemiLength=m,t.hash.shadowsLength=o.length},state:t}}function wa(){var e=new ba,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function _a(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i;return void 0===e[n.id]?(i=new wa,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===e[n.id][r.id]?(i=new wa,e[n.id][r.id]=i):i=e[n.id][r.id],i},dispose:function(){e={}}}}function Ea(e){Hr.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function Sa(e){Hr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new qn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function xa(e,t,n){for(var r=new ar,i=new or,a=new Gn,o=new Gn(n,n),s=new qn,c=new qn,l=new Array(4),u=new Array(4),d={},h={0:1,1:0,2:2},f=[new qn(1,0,0),new qn(-1,0,0),new qn(0,0,1),new qn(0,0,-1),new qn(0,1,0),new qn(0,-1,0)],p=[new qn(0,1,0),new qn(0,1,0),new qn(0,1,0),new qn(0,1,0),new qn(0,0,1),new qn(0,0,-1)],m=[new Qn,new Qn,new Qn,new Qn,new Qn,new Qn],g=0;4!==g;++g){var v=0!==(1&g),y=0!==(2&g),b=new Ea({depthPacking:3201,morphTargets:v,skinning:y});l[g]=b;var w=new Sa({morphTargets:v,skinning:y});u[g]=w}var _=this;function E(t,n,r,i,a,o){var s=t.geometry,c=null,f=l,p=t.customDepthMaterial;if(r&&(f=u,p=t.customDistanceMaterial),p)c=p;else{var m=!1;n.morphTargets&&(s&&s.isBufferGeometry?m=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(m=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var g=0;m&&(g|=1),t.isSkinnedMesh&&n.skinning&&(g|=2),c=f[g]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var v=c.uuid,y=n.uuid,b=d[v];void 0===b&&(b={},d[v]=b);var w=b[y];void 0===w&&(w=c.clone(),b[y]=w),c=w}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=null!=n.shadowSide?n.shadowSide:h[n.side],c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,r&&c.isMeshDistanceMaterial&&(c.referencePosition.copy(i),c.nearDistance=a,c.farDistance=o),c}function S(n,i,a,o){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=t.update(n),l=n.material;if(Array.isArray(l))for(var u=s.groups,d=0,h=u.length;d<h;d++){var f=u[d],p=l[f.materialIndex];if(p&&p.visible){var m=E(n,p,o,c,a.near,a.far);e.renderBufferDirect(a,null,s,m,n,f)}}else if(l.visible){m=E(n,l,o,c,a.near,a.far);e.renderBufferDirect(a,null,s,m,n,null)}}for(var g=n.children,v=0,y=g.length;v<y;v++)S(g[v],i,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,l){if(!1!==_.enabled&&(!1!==_.autoUpdate||!1!==_.needsUpdate)&&0!==t.length){var u,d=e.getRenderTarget(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var g=0,v=t.length;g<v;g++){var y=t[g],b=y.shadow,w=y&&y.isPointLight;if(void 0!==b){var E=b.camera;if(a.copy(b.mapSize),a.min(o),w){var x=a.x,T=a.y;m[0].set(2*x,T,x,T),m[1].set(0,T,x,T),m[2].set(3*x,T,x,T),m[3].set(x,T,x,T),m[4].set(3*x,0,x,T),m[5].set(x,0,x,T),a.x*=4,a.y*=2}if(null===b.map){var O={minFilter:1003,magFilter:1003,format:1023};b.map=new Jn(a.x,a.y,O),b.map.texture.name=y.name+".shadowMap",E.updateProjectionMatrix()}b.isSpotLightShadow&&b.update(y);var k=b.map,M=b.matrix;c.setFromMatrixPosition(y.matrixWorld),E.position.copy(c),w?(u=6,M.makeTranslation(-c.x,-c.y,-c.z)):(u=1,s.setFromMatrixPosition(y.target.matrixWorld),E.lookAt(s),E.updateMatrixWorld(),M.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),M.multiply(E.projectionMatrix),M.multiply(E.matrixWorldInverse)),e.setRenderTarget(k),e.clear();for(var A=0;A<u;A++){if(w){s.copy(E.position),s.add(f[A]),E.up.copy(p[A]),E.lookAt(s),E.updateMatrixWorld();var C=m[A];h.viewport(C)}i.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),r.setFromMatrix(i),S(n,l,E,w)}}else console.warn("THREE.WebGLShadowMap:",y,"has no shadow.")}_.needsUpdate=!1,e.setRenderTarget(d)}}}function Ta(e,t,n,r){var i=new function(){var t=!1,n=new Qn,r=null,i=new Qn(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?F(2929):U(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},o=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,c=null,l=null;return{setTest:function(e){e?F(2960):U(2960)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&c===r||(e.stencilOp(t,n,r),o=t,s=n,c=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,c=null,l=null}}},s=e.getParameter(34921),c=new Uint8Array(s),l=new Uint8Array(s),u=new Uint8Array(s),d={},h=null,f=null,p=null,m=null,g=null,v=null,y=null,b=null,w=null,_=null,E=!1,S=null,x=null,T=null,O=null,k=null,M=e.getParameter(35661),A=!1,C=0,L=e.getParameter(7938);-1!==L.indexOf("WebGL")?(C=parseFloat(/^WebGL\ ([0-9])/.exec(L)[1]),A=C>=1):-1!==L.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(L)[1]),A=C>=2);var P=null,R={},I=new Qn,N=new Qn;function j(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var D={};function z(n,i){(c[n]=1,0===l[n]&&(e.enableVertexAttribArray(n),l[n]=1),u[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),u[n]=i)}function F(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function U(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}function B(t,r,i,a,o,s,c,l){if(0!==t){if(p||(F(3042),p=!0),5===t)o=o||r,s=s||i,c=c||a,r===g&&o===b||(e.blendEquationSeparate(n.convert(r),n.convert(o)),g=r,b=o),i===v&&a===y&&s===w&&c===_||(e.blendFuncSeparate(n.convert(i),n.convert(a),n.convert(s),n.convert(c)),v=i,y=a,w=s,_=c),m=t,E=null;else if(t!==m||l!==E){if(100===g&&100===b||(e.blendEquation(32774),g=100,b=100),l)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,y=null,w=null,_=null,m=t,E=l}}else p&&(U(3042),p=!1)}function H(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function V(t){0!==t?(F(2884),t!==x&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):U(2884),x=t}function G(t,n,r){t?(F(32823),O===n&&k===r||(e.polygonOffset(n,r),O=n,k=r)):U(32823)}function W(t){void 0===t&&(t=33984+M-1),P!==t&&(e.activeTexture(t),P=t)}return D[3553]=j(3553,3553,1),D[34067]=j(34067,34069,6),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),F(2929),a.setFunc(3),H(!1),V(1),F(2884),B(0),{buffers:{color:i,depth:a,stencil:o},initAttributes:function(){for(var e=0,t=c.length;e<t;e++)c[e]=0},enableAttribute:function(e){z(e,0)},enableAttributeAndDivisor:z,disableUnusedAttributes:function(){for(var t=0,n=l.length;t!==n;++t)l[t]!==c[t]&&(e.disableVertexAttribArray(t),l[t]=0)},enable:F,disable:U,getCompressedTextureFormats:function(){if(null===h&&(h=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)h.push(n[r]);return h},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:B,setMaterial:function(e,t){2===e.side?U(2884):F(2884);var n=1===e.side;t&&(n=!n),H(n),1===e.blending&&!1===e.transparent?B(0):B(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite),G(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:H,setCullFace:V,setLineWidth:function(t){t!==T&&(A&&e.lineWidth(t),T=t)},setPolygonOffset:G,setScissorTest:function(e){e?F(3089):U(3089)},activeTexture:W,bindTexture:function(t,n){null===P&&W();var r=R[P];void 0===r&&(r={type:void 0,texture:void 0},R[P]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||D[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===I.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),I.copy(t))},viewport:function(t){!1===N.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),N.copy(t))},reset:function(){for(var t=0;t<l.length;t++)1===l[t]&&(e.disableVertexAttribArray(t),l[t]=0);d={},h=null,P=null,R={},f=null,m=null,S=null,x=null,i.reset(),a.reset(),o.reset()}}}function Oa(e,t,n,r,i,a,o){var s,c={},l="undefined"!==typeof OffscreenCanvas;function u(e,t){return l?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function d(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Vn.floorPowerOfTwo:Math.floor,o=a(i*e.width),c=a(i*e.height);void 0===s&&(s=u(o,c));var l=n?u(o,c):s;return l.width=o,l.height=c,l.getContext("2d").drawImage(e,0,0,o,c),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+c+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function h(e){return Vn.isPowerOfTwo(e.width)&&Vn.isPowerOfTwo(e.height)}function f(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function p(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function m(e,n){if(!i.isWebGL2)return e;var r=e;return 6403===e&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===e&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===e&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function g(e){return 1003===e||1004===e||1005===e?9728:9729}function v(t){var n=t.target;n.removeEventListener("dispose",v),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&delete c[n.id],o.memory.textures--}function y(t){var n=t.target;n.removeEventListener("dispose",y),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(n),o.memory.textures--}var b=0;function w(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=e.id,n=o.render.frame;c[t]!==n&&(c[t]=n,e.update())}(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void T(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function _(t,o){var s=r.get(t);if(6===t.image.length)if(t.version>0&&s.__version!==t.version){x(s,t),n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture),e.pixelStorei(37440,t.flipY);for(var c=t&&t.isCompressedTexture,l=t.image[0]&&t.image[0].isDataTexture,u=[],g=0;g<6;g++)u[g]=c||l?l?t.image[g].image:t.image[g]:d(t.image[g],!1,!0,i.maxCubemapSize);var v=u[0],y=h(v)||i.isWebGL2,b=a.convert(t.format),w=a.convert(t.type),_=m(b,w);S(34067,t,y);for(g=0;g<6;g++)if(c)for(var E,T=u[g].mipmaps,O=0,k=T.length;O<k;O++)E=T[O],1023!==t.format&&1022!==t.format?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(34069+g,O,_,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+g,O,_,E.width,E.height,0,b,w,E.data);else l?n.texImage2D(34069+g,0,_,u[g].width,u[g].height,0,b,w,u[g].data):n.texImage2D(34069+g,0,_,b,w,u[g]);s.__maxMipLevel=c?T.length-1:0,f(t,y)&&p(34067,t,v.width,v.height),s.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture)}function E(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}function S(n,o,s){var c;if(s?(e.texParameteri(n,10242,a.convert(o.wrapS)),e.texParameteri(n,10243,a.convert(o.wrapT)),32879!==n&&35866!==n||e.texParameteri(n,32882,a.convert(o.wrapR)),e.texParameteri(n,10240,a.convert(o.magFilter)),e.texParameteri(n,10241,a.convert(o.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),1001===o.wrapS&&1001===o.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,g(o.magFilter)),e.texParameteri(n,10241,g(o.minFilter)),1003!==o.minFilter&&1006!==o.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),c=t.get("EXT_texture_filter_anisotropic")){if(1015===o.type&&null===t.get("OES_texture_float_linear"))return;if(1016===o.type&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function x(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",v),t.__webglTexture=e.createTexture(),o.memory.textures++)}function T(t,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),x(t,r),n.activeTexture(33984+o),n.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var c=function(e){return!i.isWebGL2&&(1001!==e.wrapS||1001!==e.wrapT||1003!==e.minFilter&&1006!==e.minFilter)}(r)&&!1===h(r.image),l=d(r.image,c,!1,i.maxTextureSize),u=h(l)||i.isWebGL2,g=a.convert(r.format),v=a.convert(r.type),y=m(g,v);S(s,r,u);var b,w=r.mipmaps;if(r.isDepthTexture){if(y=6402,1015===r.type){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else i.isWebGL2&&(y=33189);1026===r.format&&6402===y&&1012!==r.type&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=1012,v=a.convert(r.type)),1027===r.format&&(y=34041,1020!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=1020,v=a.convert(r.type))),n.texImage2D(3553,0,y,l.width,l.height,0,g,v,null)}else if(r.isDataTexture)if(w.length>0&&u){for(var _=0,E=w.length;_<E;_++)b=w[_],n.texImage2D(3553,_,y,b.width,b.height,0,g,v,b.data);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,y,l.width,l.height,0,g,v,l.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(_=0,E=w.length;_<E;_++)b=w[_],1023!==r.format&&1022!==r.format?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(3553,_,y,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,_,y,b.width,b.height,0,g,v,b.data);t.__maxMipLevel=w.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,y,l.width,l.height,l.depth,0,g,v,l.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,y,l.width,l.height,l.depth,0,g,v,l.data),t.__maxMipLevel=0;else if(w.length>0&&u){for(_=0,E=w.length;_<E;_++)b=w[_],n.texImage2D(3553,_,y,g,v,b);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,y,g,v,l),t.__maxMipLevel=0;f(r,u)&&p(3553,r,l.width,l.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function O(t,i,o,s){var c=a.convert(i.texture.format),l=a.convert(i.texture.type),u=m(c,l);n.texImage2D(s,0,u,i.width,i.height,0,c,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function k(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=A(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=A(n);e.renderbufferStorageMultisample(36161,i,34041,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var o=m(a.convert(n.texture.format),a.convert(n.texture.type));if(r){i=A(n);e.renderbufferStorageMultisample(36161,i,o,n.width,n.height)}else e.renderbufferStorage(36161,o,n.width,n.height)}e.bindRenderbuffer(36161,null)}function M(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),w(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(1026===n.depthTexture.format)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),k(n.__webglDepthbuffer[a],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),k(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function A(e){return i.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,e.samples):0}var C=!1,L=!1;this.allocateTextureUnit=function(){var e=b;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),b+=1,e},this.resetTextureUnits=function(){b=0},this.setTexture2D=w,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?T(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?T(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=_,this.setTextureCubeDynamic=E,this.setupRenderTarget=function(t){var s=r.get(t),c=r.get(t.texture);t.addEventListener("dispose",y),c.__webglTexture=e.createTexture(),o.memory.textures++;var l=!0===t.isWebGLRenderTargetCube,u=!0===t.isWebGLMultisampleRenderTarget,d=h(t)||i.isWebGL2;if(l){s.__webglFramebuffer=[];for(var g=0;g<6;g++)s.__webglFramebuffer[g]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),u)if(i.isWebGL2){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var v=m(a.convert(t.texture.format),a.convert(t.texture.type)),b=A(t);e.renderbufferStorageMultisample(36161,b,v,t.width,t.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),k(s.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,c.__webglTexture),S(34067,t.texture,d);for(g=0;g<6;g++)O(s.__webglFramebuffer[g],t,36064,34069+g);f(t.texture,d)&&p(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,c.__webglTexture),S(3553,t.texture,d),O(s.__webglFramebuffer,t,36064,3553),f(t.texture,d)&&p(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&M(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(f(t,h(e)||i.isWebGL2)){var a=e.isWebGLRenderTargetCube?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(a,o),p(a,t,e.width,e.height),n.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var a=t.width,o=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===C&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),C=!0),e=e.texture),w(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===L&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),L=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?_(e,t):E(e,t)}}function ka(e,t,n){return{convert:function(e){var r;if(1e3===e)return 10497;if(1001===e)return 33071;if(1002===e)return 33648;if(1003===e)return 9728;if(1004===e)return 9984;if(1005===e)return 9986;if(1006===e)return 9729;if(1007===e)return 9985;if(1008===e)return 9987;if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e){if(n.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(1021===e)return 6406;if(1022===e)return 6407;if(1023===e)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(100===e)return 32774;if(101===e)return 32778;if(102===e)return 32779;if(200===e)return 0;if(201===e)return 1;if(202===e)return 768;if(203===e)return 769;if(204===e)return 770;if(205===e)return 771;if(206===e)return 772;if(207===e)return 773;if(208===e)return 774;if(209===e)return 775;if(210===e)return 776;if((33776===e||33777===e||33778===e||33779===e)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((35840===e||35841===e||35842===e||35843===e)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(103===e||104===e){if(n.isWebGL2){if(103===e)return 32775;if(104===e)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(103===e)return r.MIN_EXT;if(104===e)return r.MAX_EXT}}if(1020===e){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Ma(){wr.call(this),this.type="Group"}function Aa(){wr.call(this),this.type="Camera",this.matrixWorldInverse=new or,this.projectionMatrix=new or,this.projectionMatrixInverse=new or}function Ca(e,t,n,r){Aa.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function La(e){Ca.call(this),this.cameras=e||[]}Ea.prototype=Object.create(Hr.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isMeshDepthMaterial=!0,Ea.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Sa.prototype=Object.create(Hr.prototype),Sa.prototype.constructor=Sa,Sa.prototype.isMeshDistanceMaterial=!0,Sa.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Ma.prototype=Object.assign(Object.create(wr.prototype),{constructor:Ma,isGroup:!0}),Aa.prototype=Object.assign(Object.create(wr.prototype),{constructor:Aa,isCamera:!0,copy:function(e,t){return wr.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new qn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){wr.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Ca.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Ca,isPerspectiveCamera:!0,copy:function(e,t){return Aa.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Vn.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Vn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Vn.RAD2DEG*Math.atan(Math.tan(.5*Vn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Vn.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var c=this.filmOffset;0!==c&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=wr.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),La.prototype=Object.assign(Object.create(Ca.prototype),{constructor:La,isArrayCamera:!0});var Pa,Ra=new qn,Ia=new qn;function Na(e,t,n){Ra.setFromMatrixPosition(t.matrixWorld),Ia.setFromMatrixPosition(n.matrixWorld);var r=Ra.distanceTo(Ia),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*u,f=o*d,p=r/(-u+d),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=o+p,v=s+p,y=h-m,b=f+(r-m),w=c*s/v*g,_=l*s/v*g;e.projectionMatrix.makePerspective(y,b,w,_,g,v)}function ja(e){var t=this,n=null,r=null,i=null,a=[],o=new or,s=new or,c=1,l="stage";"undefined"!==typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var u=new or,d=new Wn,h=new qn,f=new Ca;f.bounds=new Qn(0,0,.5,1),f.layers.enable(1);var p=new Ca;p.bounds=new Qn(.5,0,.5,1),p.layers.enable(2);var m=new La([f,p]);function g(){return null!==n&&!0===n.isPresenting}m.layers.enable(1),m.layers.enable(2);var v,y=new Gn;function b(){if(g()){var r=n.getEyeParameters("left"),i=r.renderWidth*c,a=r.renderHeight*c;v=e.getPixelRatio(),e.getSize(y),e.setDrawingBufferSize(2*i,a,1),E.start()}else t.enabled&&e.setDrawingBufferSize(y.width,y.height,v),E.stop()}var w=[];function _(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var a=t[n];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===e)return a;r++}}}this.enabled=!1,this.getController=function(e){var t=a[e];return void 0===t&&((t=new Ma).matrixAutoUpdate=!1,t.visible=!1,a[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),E.setContext(e)},this.setFramebufferScaleFactor=function(e){c=e},this.setFrameOfReferenceType=function(e){l=e},this.setPoseTarget=function(e){void 0!==e&&(i=e)},this.getCamera=function(e){var t="stage"===l?1.6:0;if(!1===g())return e.position.set(0,t,0),e.rotation.set(0,0,0),e;if(n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(r),"stage"===l){var c=n.stageParameters;c?o.fromArray(c.sittingToStandingTransform):o.makeTranslation(0,t,0)}var v=r.pose,y=null!==i?i:e;y.matrix.copy(o),y.matrix.decompose(y.position,y.quaternion,y.scale),null!==v.orientation&&(d.fromArray(v.orientation),y.quaternion.multiply(d)),null!==v.position&&(d.setFromRotationMatrix(o),h.fromArray(v.position),h.applyQuaternion(d),y.position.add(h)),y.updateMatrixWorld(),f.near=e.near,p.near=e.near,f.far=e.far,p.far=e.far,f.matrixWorldInverse.fromArray(r.leftViewMatrix),p.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(o),"stage"===l&&(f.matrixWorldInverse.multiply(s),p.matrixWorldInverse.multiply(s));var b=y.parent;null!==b&&(u.getInverse(b.matrixWorld),f.matrixWorldInverse.multiply(u),p.matrixWorldInverse.multiply(u)),f.matrixWorld.getInverse(f.matrixWorldInverse),p.matrixWorld.getInverse(p.matrixWorldInverse),f.projectionMatrix.fromArray(r.leftProjectionMatrix),p.projectionMatrix.fromArray(r.rightProjectionMatrix),Na(m,f,p);var E=n.getLayers();if(E.length){var S=E[0];null!==S.leftBounds&&4===S.leftBounds.length&&f.bounds.fromArray(S.leftBounds),null!==S.rightBounds&&4===S.rightBounds.length&&p.bounds.fromArray(S.rightBounds)}return function(){for(var e=0;e<a.length;e++){var t=a[e],n=_(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(o),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;w[e]!==n.buttons[i].pressed&&(w[e]=n.buttons[i].pressed,!0===w[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),m},this.getStandingMatrix=function(){return o},this.isPresenting=g;var E=new pr;this.setAnimationLoop=function(e){E.setAnimationLoop(e),g()&&E.start()},this.submitFrame=function(){g()&&n.submitFrame()},this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",b)}}function Da(e){var t=e.context,n=null,r=null,i=1,a=null,o="stage",s=null,c=[],l=[];function u(){return null!==r&&null!==a}var d=new Ca;d.layers.enable(1),d.viewport=new Qn;var h=new Ca;h.layers.enable(2),h.viewport=new Qn;var f=new La([d,h]);function p(e){var t=c[l.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function m(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),y.stop()}function g(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}f.layers.enable(1),f.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=c[e];return void 0===t&&((t=new Ma).matrixAutoUpdate=!1,t.visible=!1,c[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){i=e},this.setFrameOfReferenceType=function(e){o=e},this.setSession=function(n){null!==(r=n)&&(r.addEventListener("select",p),r.addEventListener("selectstart",p),r.addEventListener("selectend",p),r.addEventListener("end",m),r.baseLayer=new XRWebGLLayer(r,t,{framebufferScaleFactor:i}),r.requestFrameOfReference(o).then((function(t){a=t,e.setFramebuffer(r.baseLayer.framebuffer),y.setContext(r),y.start()})),l=r.getInputSources(),r.addEventListener("inputsourceschange",(function(){l=r.getInputSources(),console.log(l);for(var e=0;e<c.length;e++){c[e].userData.inputSource=l[e]}})))},this.getCamera=function(e){if(u()){var t=e.parent,n=f.cameras;g(f,t);for(var r=0;r<n.length;r++)g(n[r],t);e.matrixWorld.copy(f.matrixWorld);for(var i=e.children,a=(r=0,i.length);r<a;r++)i[r].updateMatrixWorld(!0);return Na(f,d,h),f}return e},this.isPresenting=u;var v=null;var y=new pr;y.setAnimationLoop((function(e,t){if(null!==(s=t.getDevicePose(a)))for(var n=r.baseLayer,i=t.views,o=0;o<i.length;o++){var u=i[o],d=n.getViewport(u),h=s.getViewMatrix(u),p=f.cameras[o];p.matrix.fromArray(h).getInverse(p.matrix),p.projectionMatrix.fromArray(u.projectionMatrix),p.viewport.set(d.x,d.y,d.width,d.height),0===o&&f.matrix.copy(p.matrix)}for(o=0;o<c.length;o++){var m=c[o],g=l[o];if(g){var y=t.getInputPose(g,a);if(null!==y){"targetRay"in y?m.matrix.elements=y.targetRay.transformMatrix:"pointerMatrix"in y&&(m.matrix.elements=y.pointerMatrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}v&&v(e)})),this.setAnimationLoop=function(e){v=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new or},this.submitFrame=function(){}}function za(e){console.log("THREE.WebGLRenderer","103");var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",u=null,d=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var h,f,p,m,g,v,y,b,w,_,E,S,x,T,O,k,M,A,C=this,L=!1,P=null,R=null,I=null,N=-1,j={geometry:null,program:null,wireframe:!1},D=null,z=null,F=new Qn,U=new Qn,B=null,H=t.width,V=t.height,G=1,W=new Qn(0,0,H,V),q=new Qn(0,0,H,V),Y=!1,Z=new ar,K=new Qr,X=!1,Q=!1,J=new or,$=new qn;function ee(){return null===R?G:1}try{var te={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:l};if(t.addEventListener("webglcontextlost",ae,!1),t.addEventListener("webglcontextrestored",oe,!1),null===(h=n||t.getContext("webgl",te)||t.getContext("experimental-webgl",te)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===h.getShaderPrecisionFormat&&(h.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(be){throw console.error("THREE.WebGLRenderer: "+be.message),be}function ne(){f=new Jr(h),(p=new Xr(h,f,e)).isWebGL2||(f.get("WEBGL_depth_texture"),f.get("OES_texture_float"),f.get("OES_texture_half_float"),f.get("OES_texture_half_float_linear"),f.get("OES_standard_derivatives"),f.get("OES_element_index_uint"),f.get("ANGLE_instanced_arrays")),f.get("OES_texture_float_linear"),A=new ka(h,f,p),(m=new Ta(h,f,A,p)).scissor(U.copy(q).multiplyScalar(G)),m.viewport(F.copy(W).multiplyScalar(G)),g=new ti(h),v=new ha,y=new Oa(h,f,m,v,p,A,g),b=new mr(h),w=new $r(h,b,g),_=new ii(w,g),O=new ri(h),E=new da(C,f,p,y),S=new ga,x=new _a,T=new Zr(C,m,_,s),k=new Kr(h,f,g,p),M=new ei(h,f,g,p),g.programs=E.programs,C.context=h,C.capabilities=p,C.extensions=f,C.properties=v,C.renderLists=S,C.state=m,C.info=g}ne();var re=null;"undefined"!==typeof navigator&&(re="xr"in navigator?new Da(C):new ja(C)),this.vr=re;var ie=new xa(C,_,p.maxTextureSize);function ae(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1,ne()}function se(e){var t=e.target;t.removeEventListener("dispose",se),function(e){ce(e),v.remove(e)}(t)}function ce(e){var t=v.get(e).program;e.program=void 0,void 0!==t&&E.releaseProgram(t)}this.shadowMap=ie,this.getContext=function(){return h},this.getContextAttributes=function(){return h.getContextAttributes()},this.forceContextLoss=function(){var e=f.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=f.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(e){void 0!==e&&(G=e,this.setSize(H,V,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Gn),e.set(H,V)},this.setSize=function(e,n,r){re.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(H=e,V=n,t.width=e*G,t.height=n*G,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Gn),e.set(H*G,V*G)},this.setDrawingBufferSize=function(e,n,r){H=e,V=n,G=r,t.width=e*r,t.height=n*r,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new Qn),e.copy(F)},this.getViewport=function(e){return e.copy(W)},this.setViewport=function(e,t,n,r){e.isVector4?W.set(e.x,e.y,e.z,e.w):W.set(e,t,n,r),m.viewport(F.copy(W).multiplyScalar(G))},this.getScissor=function(e){return e.copy(q)},this.setScissor=function(e,t,n,r){e.isVector4?q.set(e.x,e.y,e.z,e.w):q.set(e,t,n,r),m.scissor(U.copy(q).multiplyScalar(G))},this.getScissorTest=function(){return Y},this.setScissorTest=function(e){m.setScissorTest(Y=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),h.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ae,!1),t.removeEventListener("webglcontextrestored",oe,!1),S.dispose(),x.dispose(),v.dispose(),_.dispose(),re.dispose(),ue.stop()},this.renderBufferImmediate=function(e,t){m.initAttributes();var n=v.get(e);e.hasPositions&&!n.position&&(n.position=h.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=h.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=h.createBuffer()),e.hasColors&&!n.color&&(n.color=h.createBuffer());var r=t.getAttributes();e.hasPositions&&(h.bindBuffer(34962,n.position),h.bufferData(34962,e.positionArray,35048),m.enableAttribute(r.position),h.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(h.bindBuffer(34962,n.normal),h.bufferData(34962,e.normalArray,35048),m.enableAttribute(r.normal),h.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(h.bindBuffer(34962,n.uv),h.bufferData(34962,e.uvArray,35048),m.enableAttribute(r.uv),h.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(h.bindBuffer(34962,n.color),h.bufferData(34962,e.colorArray,35048),m.enableAttribute(r.color),h.vertexAttribPointer(r.color,3,5126,!1,0,0)),m.disableUnusedAttributes(),h.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){var o=i.isMesh&&i.matrixWorld.determinant()<0;m.setMaterial(r,o);var s=me(e,t,r,i),c=!1;j.geometry===n.id&&j.program===s.id&&j.wireframe===(!0===r.wireframe)||(j.geometry=n.id,j.program=s.id,j.wireframe=!0===r.wireframe,c=!0),i.morphTargetInfluences&&(O.update(i,n,r,s),c=!0);var l,u=n.index,d=n.attributes.position,g=1;!0===r.wireframe&&(u=w.getWireframeAttribute(n),g=2);var v=k;null!==u&&(l=b.get(u),(v=M).setIndex(l)),c&&(!function(e,t,n){if(n&&n.isInstancedBufferGeometry&&!p.isWebGL2&&null===f.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m.initAttributes();var r=n.attributes,i=t.getAttributes(),a=e.defaultAttributeValues;for(var o in i){var s=i[o];if(s>=0){var c=r[o];if(void 0!==c){var l=c.normalized,u=c.itemSize,d=b.get(c);if(void 0===d)continue;var g=d.buffer,v=d.type,y=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var w=c.data,_=w.stride,E=c.offset;w&&w.isInstancedInterleavedBuffer?(m.enableAttributeAndDivisor(s,w.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=w.meshPerAttribute*w.count)):m.enableAttribute(s),h.bindBuffer(34962,g),h.vertexAttribPointer(s,u,v,l,_*y,E*y)}else c.isInstancedBufferAttribute?(m.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):m.enableAttribute(s),h.bindBuffer(34962,g),h.vertexAttribPointer(s,u,v,l,0,0)}else if(void 0!==a){var S=a[o];if(void 0!==S)switch(S.length){case 2:h.vertexAttrib2fv(s,S);break;case 3:h.vertexAttrib3fv(s,S);break;case 4:h.vertexAttrib4fv(s,S);break;default:h.vertexAttrib1fv(s,S)}}}}m.disableUnusedAttributes()}(r,s,n),null!==u&&h.bindBuffer(34963,l.buffer));var y=1/0;null!==u?y=u.count:void 0!==d&&(y=d.count);var _=n.drawRange.start*g,E=n.drawRange.count*g,S=null!==a?a.start*g:0,x=null!==a?a.count*g:1/0,T=Math.max(_,S),A=Math.min(y,_+E,S+x)-1,C=Math.max(0,A-T+1);if(0!==C){if(i.isMesh)if(!0===r.wireframe)m.setLineWidth(r.wireframeLinewidth*ee()),v.setMode(1);else switch(i.drawMode){case 0:v.setMode(4);break;case 1:v.setMode(5);break;case 2:v.setMode(6)}else if(i.isLine){var L=r.linewidth;void 0===L&&(L=1),m.setLineWidth(L*ee()),i.isLineSegments?v.setMode(1):i.isLineLoop?v.setMode(2):v.setMode(3)}else i.isPoints?v.setMode(0):i.isSprite&&v.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&v.renderInstances(n,T,C):v.render(T,C)}},this.compile=function(e,t){(d=x.get(e,t)).init(),e.traverse((function(e){e.isLight&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)pe(t.material[n],e.fog,t);else pe(t.material,e.fog,t)}))};var le=null;var ue=new pr;function de(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Z.intersectsSprite(e)){r&&$.setFromMatrixPosition(e.matrixWorld).applyMatrix4(J);var i=_.update(e);(a=e.material).visible&&u.push(e,i,a,n,$.z,null)}}else if(e.isImmediateRenderObject)r&&$.setFromMatrixPosition(e.matrixWorld).applyMatrix4(J),u.push(e,null,e.material,n,$.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||Z.intersectsObject(e))){r&&$.setFromMatrixPosition(e.matrixWorld).applyMatrix4(J);i=_.update(e);var a=e.material;if(Array.isArray(a))for(var o=i.groups,s=0,c=o.length;s<c;s++){var l=o[s],h=a[l.materialIndex];h&&h.visible&&u.push(e,i,h,n,$.z,l)}else a.visible&&u.push(e,i,a,n,$.z,null)}var f=e.children;for(s=0,c=f.length;s<c;s++)de(f[s],t,n,r)}}function he(e,t,n,r){for(var i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,c=o.geometry,l=void 0===r?o.material:r,u=o.group;if(n.isArrayCamera){z=n;for(var h=n.cameras,f=0,p=h.length;f<p;f++){var g=h[f];if(s.layers.test(g.layers)){if("viewport"in g)m.viewport(F.copy(g.viewport));else{var v=g.bounds,y=v.x*H,b=v.y*V,w=v.z*H,_=v.w*V;m.viewport(F.set(y,b,w,_).multiplyScalar(G))}d.setupLights(g),fe(s,t,g,c,l,u)}}}else z=null,fe(s,t,n,c,l,u)}}function fe(e,t,n,r,i,a){if(e.onBeforeRender(C,t,n,r,i,a),d=x.get(t,z||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){m.setMaterial(i);var o=me(n,t.fog,i,e);j.geometry=null,j.program=null,j.wireframe=!1,function(e,t){e.render((function(e){C.renderBufferImmediate(e,t)}))}(e,o)}else C.renderBufferDirect(n,t.fog,r,i,e,a);e.onAfterRender(C,t,n,r,i,a),d=x.get(t,z||n)}function pe(e,t,n){var r=v.get(e),i=d.state.lights,a=d.state.shadowsArray,o=r.lightsHash,s=i.state.hash,c=E.getParameters(e,i.state,a,t,K.numPlanes,K.numIntersection,n),l=E.getProgramCode(e,c),u=r.program,h=!0;if(void 0===u)e.addEventListener("dispose",se);else if(u.code!==l)ce(e);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,h=!1;else{if(void 0!==c.shaderID)return;h=!1}if(h){if(c.shaderID){var f=fr[c.shaderID];r.shader={name:e.type,uniforms:cr(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,C),l=E.getProgramCode(e,c),u=E.acquireProgram(e,r.shader,c,l),r.program=u,e.program=u}var p=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<C.maxMorphTargets;m++)p["morphTarget"+m]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(m=0;m<C.maxMorphNormals;m++)p["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var g=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=K.numPlanes,r.numIntersection=K.numIntersection,g.clippingPlanes=K.uniform),r.fog=t,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,e.lights&&(g.ambientLightColor.value=i.state.ambient,g.directionalLights.value=i.state.directional,g.spotLights.value=i.state.spot,g.rectAreaLights.value=i.state.rectArea,g.pointLights.value=i.state.point,g.hemisphereLights.value=i.state.hemi,g.directionalShadowMap.value=i.state.directionalShadowMap,g.directionalShadowMatrix.value=i.state.directionalShadowMatrix,g.spotShadowMap.value=i.state.spotShadowMap,g.spotShadowMatrix.value=i.state.spotShadowMatrix,g.pointShadowMap.value=i.state.pointShadowMap,g.pointShadowMatrix.value=i.state.pointShadowMatrix);var y=r.program.getUniforms(),b=Ji.seqWithValue(y.seq,g);r.uniformsList=b}function me(e,t,n,r){y.resetTextureUnits();var i=v.get(n),a=d.state.lights,o=i.lightsHash,s=a.state.hash;if(X&&(Q||e!==D)){var c=e===D&&n.id===N;K.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,c)}!1===n.needsUpdate&&(void 0===i.program||n.fog&&i.fog!==t?n.needsUpdate=!0:(!n.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===K.numPlanes&&i.numIntersection===K.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(pe(n,t,r),n.needsUpdate=!1);var l,u,f=!1,g=!1,b=!1,w=i.program,_=w.getUniforms(),E=i.shader.uniforms;if(m.useProgram(w.program)&&(f=!0,g=!0,b=!0),n.id!==N&&(N=n.id,g=!0),f||D!==e){if(_.setValue(h,"projectionMatrix",e.projectionMatrix),p.logarithmicDepthBuffer&&_.setValue(h,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),D!==e&&(D=e,g=!0,b=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var S=_.map.cameraPosition;void 0!==S&&S.setValue(h,$.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&_.setValue(h,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){_.setOptional(h,r,"bindMatrix"),_.setOptional(h,r,"bindMatrixInverse");var x=r.skeleton;if(x){var T=x.bones;if(p.floatVertexTextures){if(void 0===x.boneTexture){var O=Math.sqrt(4*T.length);O=Vn.ceilPowerOfTwo(O),O=Math.max(O,4);var k=new Float32Array(O*O*4);k.set(x.boneMatrices);var M=new tr(k,O,O,1023,1015);M.needsUpdate=!0,x.boneMatrices=k,x.boneTexture=M,x.boneTextureSize=O}_.setValue(h,"boneTexture",x.boneTexture,y),_.setValue(h,"boneTextureSize",x.boneTextureSize)}else _.setOptional(h,x,"boneMatrices")}}return g&&(_.setValue(h,"toneMappingExposure",C.toneMappingExposure),_.setValue(h,"toneMappingWhitePoint",C.toneMappingWhitePoint),n.lights&&(u=b,(l=E).ambientLightColor.needsUpdate=u,l.directionalLights.needsUpdate=u,l.pointLights.needsUpdate=u,l.spotLights.needsUpdate=u,l.rectAreaLights.needsUpdate=u,l.hemisphereLights.needsUpdate=u),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(E,t),n.isMeshBasicMaterial?ge(E,n):n.isMeshLambertMaterial?(ge(E,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(E,n)):n.isMeshPhongMaterial?(ge(E,n),n.isMeshToonMaterial?function(e,t){ve(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(E,n):ve(E,n)):n.isMeshStandardMaterial?(ge(E,n),n.isMeshPhysicalMaterial?function(e,t){ye(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(E,n):ye(E,n)):n.isMeshMatcapMaterial?(ge(E,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isMeshDepthMaterial?(ge(E,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isMeshDistanceMaterial?(ge(E,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(E,n)):n.isMeshNormalMaterial?(ge(E,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(E,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(E,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*G,e.scale.value=.5*V,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(E,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(E,n):n.isShadowMaterial&&(E.color.value=n.color,E.opacity.value=n.opacity),void 0!==E.ltc_1&&(E.ltc_1.value=hr.LTC_1),void 0!==E.ltc_2&&(E.ltc_2.value=hr.LTC_2),Ji.upload(h,i.uniformsList,E,y)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ji.upload(h,i.uniformsList,E,y),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&_.setValue(h,"center",r.center),_.setValue(h,"modelViewMatrix",r.modelViewMatrix),_.setValue(h,"normalMatrix",r.normalMatrix),_.setValue(h,"modelMatrix",r.matrixWorld),w}function ge(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=v.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function ve(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function ye(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}ue.setAnimationLoop((function(e){re.isPresenting()||le&&le(e)})),"undefined"!==typeof window&&ue.setContext(window),this.setAnimationLoop=function(e){le=e,re.setAnimationLoop(e),ue.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),t&&t.isCamera){if(!L){j.geometry=null,j.program=null,j.wireframe=!1,N=-1,D=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),re.enabled&&(t=re.getCamera(t)),(d=x.get(e,t)).init(),e.onBeforeRender(C,e,t,n||R),J.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Z.setFromMatrix(J),Q=this.localClippingEnabled,X=K.init(this.clippingPlanes,Q,t),(u=S.get(e,t)).init(),de(e,t,0,C.sortObjects),!0===C.sortObjects&&u.sort(),X&&K.beginShadows();var i=d.state.shadowsArray;ie.render(i,e,t),d.setupLights(t),X&&K.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),T.render(u,e,t,r);var a=u.opaque,o=u.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&he(a,e,t,s),o.length&&he(o,e,t,s)}else a.length&&he(a,e,t),o.length&&he(o,e,t);e.onAfterRender(C,e,t),null!==R&&(y.updateRenderTargetMipmap(R),y.updateMultisampleRenderTarget(R)),m.buffers.depth.setTest(!0),m.buffers.depth.setMask(!0),m.buffers.color.setMask(!0),m.setPolygonOffset(!1),re.enabled&&re.submitFrame(),u=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){P=e},this.getRenderTarget=function(){return R},this.setRenderTarget=function(e,t,n){R=e,e&&void 0===v.get(e).__webglFramebuffer&&y.setupRenderTarget(e);var r=P,i=!1;if(e){var a=v.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(r=a[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?v.get(e).__webglMultisampledFramebuffer:a,F.copy(e.viewport),U.copy(e.scissor),B=e.scissorTest}else F.copy(W).multiplyScalar(G),U.copy(q).multiplyScalar(G),B=Y;if(I!==r&&(h.bindFramebuffer(36160,r),I=r),m.viewport(F),m.scissor(U),m.setScissorTest(B),i){var o=v.get(e.texture);h.framebufferTexture2D(36160,36064,34069+(t||0),o.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,a){if(e&&e.isWebGLRenderTarget){var o=v.get(e).__webglFramebuffer;if(o){var s=!1;o!==I&&(h.bindFramebuffer(36160,o),s=!0);try{var c=e.texture,l=c.format,u=c.type;if(1023!==l&&A.convert(l)!==h.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(1009!==u&&A.convert(u)!==h.getParameter(35738)&&(1015!==u||!(p.isWebGL2||f.get("OES_texture_float")||f.get("WEBGL_color_buffer_float")))&&(1016!==u||!(p.isWebGL2?f.get("EXT_color_buffer_float"):f.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===h.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&h.readPixels(t,n,r,i,A.convert(l),A.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&h.bindFramebuffer(36160,I)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,a=A.convert(t.format);y.setTexture2D(t,0),h.copyTexImage2D(3553,n||0,a,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,a=t.image.height,o=A.convert(n.format),s=A.convert(n.type);y.setTexture2D(n,0),t.isDataTexture?h.texSubImage2D(3553,r||0,e.x,e.y,i,a,o,s,t.image.data):h.texSubImage2D(3553,r||0,e.x,e.y,o,s,t.image)}}function Fa(e,t){this.name="",this.color=new dr(e),this.density=void 0!==t?t:25e-5}function Ua(e,t,n){this.name="",this.color=new dr(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Ba(){wr.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ha(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Va(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Ga(e){Hr.call(this),this.type="SpriteMaterial",this.color=new dr(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function Wa(e){if(wr.call(this),this.type="Sprite",void 0===Pa){Pa=new jr;var t=new Ha(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Pa.setIndex([0,1,2,0,2,3]),Pa.addAttribute("position",new Va(t,3,0,!1)),Pa.addAttribute("uv",new Va(t,2,3,!1))}this.geometry=Pa,this.material=void 0!==e?e:new Ga,this.center=new Gn(.5,.5)}function qa(){wr.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Ya(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Yr.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new or,this.bindMatrixInverse=new or}function Za(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new or)}}function Ka(){wr.call(this),this.type="Bone"}function Xa(e){Hr.call(this),this.type="LineBasicMaterial",this.color=new dr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Qa(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),wr.call(this),this.type="Line",this.geometry=void 0!==e?e:new jr,this.material=void 0!==t?t:new Xa({color:16777215*Math.random()})}function Ja(e,t){Qa.call(this,e,t),this.type="LineSegments"}function $a(e,t){Qa.call(this,e,t),this.type="LineLoop"}function eo(e){Hr.call(this),this.type="PointsMaterial",this.color=new dr(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function to(e,t){wr.call(this),this.type="Points",this.geometry=void 0!==e?e:new jr,this.material=void 0!==t?t:new eo({color:16777215*Math.random()})}function no(e,t,n,r,i,a,o,s,c){Xn.call(this,e,t,n,r,i,a,o,s,c),this.format=void 0!==o?o:1022,this.minFilter=void 0!==a?a:1006,this.magFilter=void 0!==i?i:1006,this.generateMipmaps=!1}function ro(e,t,n,r,i,a,o,s,c,l,u,d){Xn.call(this,null,a,o,s,c,l,r,i,u,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function io(e,t,n,r,i,a,o,s,c){Xn.call(this,e,t,n,r,i,a,o,s,c),this.needsUpdate=!0}function ao(e,t,n,r,i,a,o,s,c,l){if(1026!==(l=void 0!==l?l:1026)&&1027!==l)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===l&&(n=1012),void 0===n&&1027===l&&(n=1020),Xn.call(this,null,r,i,a,o,s,l,n,c),this.image={width:e,height:t},this.magFilter=void 0!==o?o:1003,this.minFilter=void 0!==s?s:1003,this.flipY=!1,this.generateMipmaps=!1}function oo(e){jr.call(this),this.type="WireframeGeometry";var t,n,r,i,a,o,s,c,l,u,d=[],h=[0,0],f={},p=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var g=m[t];for(n=0;n<3;n++)s=g[p[n]],c=g[p[(n+1)%3]],h[0]=Math.min(s,c),h[1]=Math.max(s,c),void 0===f[l=h[0]+","+h[1]]&&(f[l]={index1:h[0],index2:h[1]})}for(l in f)o=f[l],u=e.vertices[o.index1],d.push(u.x,u.y,u.z),u=e.vertices[o.index2],d.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var v,y,b,w,_,E,S;if(u=new qn,null!==e.index){for(v=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,a=b.length;i<a;++i)for(t=_=(w=b[i]).start,r=_+w.count;t<r;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),c=y.getX(t+(n+1)%3),h[0]=Math.min(s,c),h[1]=Math.max(s,c),void 0===f[l=h[0]+","+h[1]]&&(f[l]={index1:h[0],index2:h[1]});for(l in f)o=f[l],u.fromBufferAttribute(v,o.index1),d.push(u.x,u.y,u.z),u.fromBufferAttribute(v,o.index2),d.push(u.x,u.y,u.z)}else for(t=0,r=(v=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)E=3*t+n,u.fromBufferAttribute(v,E),d.push(u.x,u.y,u.z),S=3*t+(n+1)%3,u.fromBufferAttribute(v,S),d.push(u.x,u.y,u.z)}this.addAttribute("position",new Lr(d,3))}function so(e,t,n){Er.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new co(e,t,n)),this.mergeVertices()}function co(e,t,n){jr.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,a=[],o=[],s=[],c=[],l=1e-5,u=new qn,d=new qn,h=new qn,f=new qn,p=new qn;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=t+1;for(r=0;r<=n;r++){var g=r/n;for(i=0;i<=t;i++){var v=i/t;e(v,g,d),o.push(d.x,d.y,d.z),v-l>=0?(e(v-l,g,h),f.subVectors(d,h)):(e(v+l,g,h),f.subVectors(h,d)),g-l>=0?(e(v,g-l,h),p.subVectors(d,h)):(e(v,g+l,h),p.subVectors(h,d)),u.crossVectors(f,p).normalize(),s.push(u.x,u.y,u.z),c.push(v,g)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var y=r*m+i,b=r*m+i+1,w=(r+1)*m+i+1,_=(r+1)*m+i;a.push(y,b,_),a.push(b,w,_)}this.setIndex(a),this.addAttribute("position",new Lr(o,3)),this.addAttribute("normal",new Lr(s,3)),this.addAttribute("uv",new Lr(c,2))}function lo(e,t,n,r){Er.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new uo(e,t,n,r)),this.mergeVertices()}function uo(e,t,n,r){jr.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],a=[];function o(e,t,n,r){var i,a,o=Math.pow(2,r),c=[];for(i=0;i<=o;i++){c[i]=[];var l=e.clone().lerp(n,i/o),u=t.clone().lerp(n,i/o),d=o-i;for(a=0;a<=d;a++)c[i][a]=0===a&&i===o?l:l.clone().lerp(u,a/d)}for(i=0;i<o;i++)for(a=0;a<2*(o-i)-1;a++){var h=Math.floor(a/2);a%2===0?(s(c[i][h+1]),s(c[i+1][h]),s(c[i][h])):(s(c[i][h+1]),s(c[i+1][h+1]),s(c[i+1][h]))}}function s(e){i.push(e.x,e.y,e.z)}function c(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function l(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new qn,r=new qn,i=new qn,a=0;a<t.length;a+=3)c(t[a+0],n),c(t[a+1],r),c(t[a+2],i),o(n,r,i,e)}(r=r||0),function(e){for(var t=new qn,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new qn,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=u(e)/2/Math.PI+.5,r=(o=e,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);a.push(n,1-r)}var o;(function(){for(var e=new qn,t=new qn,n=new qn,r=new qn,o=new Gn,s=new Gn,c=new Gn,d=0,h=0;d<i.length;d+=9,h+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),c.set(a[h+4],a[h+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=u(r);l(o,h+0,e,f),l(s,h+2,t,f),l(c,h+4,n,f)}})(),function(){for(var e=0;e<a.length;e+=6){var t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.addAttribute("position",new Lr(i,3)),this.addAttribute("normal",new Lr(i.slice(),3)),this.addAttribute("uv",new Lr(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function ho(e,t){Er.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new fo(e,t)),this.mergeVertices()}function fo(e,t){uo.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function po(e,t){Er.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new mo(e,t)),this.mergeVertices()}function mo(e,t){uo.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function go(e,t){Er.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new vo(e,t)),this.mergeVertices()}function vo(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];uo.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function yo(e,t){Er.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new bo(e,t)),this.mergeVertices()}function bo(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];uo.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function wo(e,t,n,r,i,a){Er.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new _o(e,t,n,r,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function _o(e,t,n,r,i){jr.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,c=new qn,l=new qn,u=new Gn,d=new qn,h=[],f=[],p=[],m=[];function g(i){d=e.getPointAt(i/t,d);var o=a.normals[i],u=a.binormals[i];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),g=-Math.cos(p);l.x=g*o.x+m*u.x,l.y=g*o.y+m*u.y,l.z=g*o.z+m*u.z,l.normalize(),f.push(l.x,l.y,l.z),c.x=d.x+n*l.x,c.y=d.y+n*l.y,c.z=d.z+n*l.z,h.push(c.x,c.y,c.z)}}!function(){for(o=0;o<t;o++)g(o);g(!1===i?t:0),function(){for(o=0;o<=t;o++)for(s=0;s<=r;s++)u.x=o/t,u.y=s/r,p.push(u.x,u.y)}(),function(){for(s=1;s<=t;s++)for(o=1;o<=r;o++){var e=(r+1)*(s-1)+(o-1),n=(r+1)*s+(o-1),i=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(e,n,a),m.push(n,i,a)}}()}(),this.setIndex(m),this.addAttribute("position",new Lr(h,3)),this.addAttribute("normal",new Lr(f,3)),this.addAttribute("uv",new Lr(p,2))}function Eo(e,t,n,r,i,a,o){Er.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new So(e,t,n,r,i,a)),this.mergeVertices()}function So(e,t,n,r,i,a){jr.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;var o,s,c=[],l=[],u=[],d=[],h=new qn,f=new qn,p=new qn,m=new qn,g=new qn,v=new qn,y=new qn;for(o=0;o<=n;++o){var b=o/n*i*Math.PI*2;for(k(b,i,a,e,p),k(b+.01,i,a,e,m),v.subVectors(m,p),y.addVectors(m,p),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=r;++s){var w=s/r*Math.PI*2,_=-t*Math.cos(w),E=t*Math.sin(w);h.x=p.x+(_*y.x+E*g.x),h.y=p.y+(_*y.y+E*g.y),h.z=p.z+(_*y.z+E*g.z),l.push(h.x,h.y,h.z),f.subVectors(h,p).normalize(),u.push(f.x,f.y,f.z),d.push(o/n),d.push(s/r)}}for(s=1;s<=n;s++)for(o=1;o<=r;o++){var S=(r+1)*(s-1)+(o-1),x=(r+1)*s+(o-1),T=(r+1)*s+o,O=(r+1)*(s-1)+o;c.push(S,x,O),c.push(x,T,O)}function k(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,c=Math.cos(s);i.x=r*(2+c)*.5*a,i.y=r*(2+c)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(c),this.addAttribute("position",new Lr(l,3)),this.addAttribute("normal",new Lr(u,3)),this.addAttribute("uv",new Lr(d,2))}function xo(e,t,n,r,i){Er.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new To(e,t,n,r,i)),this.mergeVertices()}function To(e,t,n,r,i){jr.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=[],c=[],l=[],u=[],d=new qn,h=new qn,f=new qn;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var p=o/r*i,m=a/n*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(p),h.y=(e+t*Math.cos(m))*Math.sin(p),h.z=t*Math.sin(m),c.push(h.x,h.y,h.z),d.x=e*Math.cos(p),d.y=e*Math.sin(p),f.subVectors(h,d).normalize(),l.push(f.x,f.y,f.z),u.push(o/r),u.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=r;o++){var g=(r+1)*a+o-1,v=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,b=(r+1)*a+o;s.push(g,v,b),s.push(v,y,b)}this.setIndex(s),this.addAttribute("position",new Lr(c,3)),this.addAttribute("normal",new Lr(l,3)),this.addAttribute("uv",new Lr(u,2))}Object.assign(Fa.prototype,{isFogExp2:!0,clone:function(){return new Fa(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Ua.prototype,{isFog:!0,clone:function(){return new Ua(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Ba.prototype=Object.assign(Object.create(wr.prototype),{constructor:Ba,isScene:!0,copy:function(e,t){return wr.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=wr.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ha.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ha.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Va.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Va.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),Ga.prototype=Object.create(Hr.prototype),Ga.prototype.constructor=Ga,Ga.prototype.isSpriteMaterial=!0,Ga.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},Wa.prototype=Object.assign(Object.create(wr.prototype),{constructor:Wa,isSprite:!0,raycast:function(){var e=new qn,t=new qn,n=new qn,r=new Gn,i=new Gn,a=new or,o=new qn,s=new qn,c=new qn,l=new Gn,u=new Gn,d=new Gn;function h(e,t,n,o,s,c){r.subVectors(e,n).addScalar(.5).multiply(o),void 0!==s?(i.x=c*r.x-s*r.y,i.y=s*r.x+c*r.y):i.copy(r),e.copy(t),e.x+=i.x,e.y+=i.y,e.applyMatrix4(a)}return function(r,i){t.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var f,p,m=this.material.rotation;0!==m&&(p=Math.cos(m),f=Math.sin(m));var g=this.center;h(o.set(-.5,-.5,0),n,g,t,f,p),h(s.set(.5,-.5,0),n,g,t,f,p),h(c.set(.5,.5,0),n,g,t,f,p),l.set(0,0),u.set(1,0),d.set(1,1);var v=r.ray.intersectTriangle(o,s,c,!1,e);if(null!==v||(h(s.set(-.5,.5,0),n,g,t,f,p),u.set(0,1),null!==(v=r.ray.intersectTriangle(o,c,s,!1,e)))){var y=r.ray.origin.distanceTo(e);y<r.near||y>r.far||i.push({distance:y,point:e.clone(),uv:Wr.getUV(e,o,s,c,l,u,d,new Gn),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return wr.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),qa.prototype=Object.assign(Object.create(wr.prototype),{constructor:qa,copy:function(e){wr.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new qn;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new qn,t=new qn;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&i>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(e){var t=wr.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Ya.prototype=Object.assign(Object.create(Yr.prototype),{constructor:Ya,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Qn,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Yr.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(Za.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new or;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new or,t=new or;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,a=this.boneTexture,o=0,s=n.length;o<s;o++){var c=n[o]?n[o].matrixWorld:t;e.multiplyMatrices(c,r[o]),e.toArray(i,16*o)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new Za(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),Ka.prototype=Object.assign(Object.create(wr.prototype),{constructor:Ka,isBone:!0}),Xa.prototype=Object.create(Hr.prototype),Xa.prototype.constructor=Xa,Xa.prototype.isLineBasicMaterial=!0,Xa.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Qa.prototype=Object.assign(Object.create(wr.prototype),{constructor:Qa,isLine:!0,computeLineDistances:function(){var e=new qn,t=new qn;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[0],a=1,o=r.count;a<o;a++)e.fromBufferAttribute(r,a-1),t.fromBufferAttribute(r,a),i[a]=i[a-1],i[a]+=e.distanceTo(t);n.addAttribute("lineDistance",new Lr(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;(i=n.lineDistances)[0]=0;for(a=1,o=s.length;a<o;a++)i[a]=i[a-1],i[a]+=s[a-1].distanceTo(s[a])}return this}}(),raycast:function(){var e=new or,t=new Gr,n=new rr;return function(r,i){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=a,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var c=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,u=new qn,d=new qn,h=new qn,f=new qn,p=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,g=o.attributes.position.array;if(null!==m)for(var v=m.array,y=0,b=v.length-1;y<b;y+=p){var w=v[y],_=v[y+1];if(u.fromArray(g,3*w),d.fromArray(g,3*_),!(t.distanceSqToSegment(u,d,f,h)>l))f.applyMatrix4(this.matrixWorld),(x=r.ray.origin.distanceTo(f))<r.near||x>r.far||i.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(y=0,b=g.length/3-1;y<b;y+=p){if(u.fromArray(g,3*y),d.fromArray(g,3*y+3),!(t.distanceSqToSegment(u,d,f,h)>l))f.applyMatrix4(this.matrixWorld),(x=r.ray.origin.distanceTo(f))<r.near||x>r.far||i.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(o.isGeometry){var E=o.vertices,S=E.length;for(y=0;y<S-1;y+=p){var x;if(!(t.distanceSqToSegment(E[y],E[y+1],f,h)>l))f.applyMatrix4(this.matrixWorld),(x=r.ray.origin.distanceTo(f))<r.near||x>r.far||i.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ja.prototype=Object.assign(Object.create(Qa.prototype),{constructor:Ja,isLineSegments:!0,computeLineDistances:function(){var e=new qn,t=new qn;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],a=0,o=r.count;a<o;a+=2)e.fromBufferAttribute(r,a),t.fromBufferAttribute(r,a+1),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+e.distanceTo(t);n.addAttribute("lineDistance",new Lr(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,a=0,o=s.length;a<o;a+=2)e.copy(s[a]),t.copy(s[a+1]),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+e.distanceTo(t)}return this}}()}),$a.prototype=Object.assign(Object.create(Qa.prototype),{constructor:$a,isLineLoop:!0}),eo.prototype=Object.create(Hr.prototype),eo.prototype.constructor=eo,eo.prototype.isPointsMaterial=!0,eo.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},to.prototype=Object.assign(Object.create(wr.prototype),{constructor:to,isPoints:!0,raycast:function(){var e=new or,t=new Gr,n=new rr;return function(r,i){var a=this,o=this.geometry,s=this.matrixWorld,c=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=c,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var l=c/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,d=new qn,h=new qn;if(o.isBufferGeometry){var f=o.index,p=o.attributes.position.array;if(null!==f)for(var m=f.array,g=0,v=m.length;g<v;g++){var y=m[g];d.fromArray(p,3*y),_(d,y)}else{g=0;for(var b=p.length/3;g<b;g++)d.fromArray(p,3*g),_(d,g)}}else{var w=o.vertices;for(g=0,b=w.length;g<b;g++)_(w[g],g)}}function _(e,n){var o=t.distanceSqToPoint(e);if(o<u){t.closestPointToPoint(e,h),h.applyMatrix4(s);var c=r.ray.origin.distanceTo(h);if(c<r.near||c>r.far)return;i.push({distance:c,distanceToRay:Math.sqrt(o),point:h.clone(),index:n,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),no.prototype=Object.assign(Object.create(Xn.prototype),{constructor:no,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ro.prototype=Object.create(Xn.prototype),ro.prototype.constructor=ro,ro.prototype.isCompressedTexture=!0,io.prototype=Object.create(Xn.prototype),io.prototype.constructor=io,io.prototype.isCanvasTexture=!0,ao.prototype=Object.create(Xn.prototype),ao.prototype.constructor=ao,ao.prototype.isDepthTexture=!0,oo.prototype=Object.create(jr.prototype),oo.prototype.constructor=oo,so.prototype=Object.create(Er.prototype),so.prototype.constructor=so,co.prototype=Object.create(jr.prototype),co.prototype.constructor=co,lo.prototype=Object.create(Er.prototype),lo.prototype.constructor=lo,uo.prototype=Object.create(jr.prototype),uo.prototype.constructor=uo,ho.prototype=Object.create(Er.prototype),ho.prototype.constructor=ho,fo.prototype=Object.create(uo.prototype),fo.prototype.constructor=fo,po.prototype=Object.create(Er.prototype),po.prototype.constructor=po,mo.prototype=Object.create(uo.prototype),mo.prototype.constructor=mo,go.prototype=Object.create(Er.prototype),go.prototype.constructor=go,vo.prototype=Object.create(uo.prototype),vo.prototype.constructor=vo,yo.prototype=Object.create(Er.prototype),yo.prototype.constructor=yo,bo.prototype=Object.create(uo.prototype),bo.prototype.constructor=bo,wo.prototype=Object.create(Er.prototype),wo.prototype.constructor=wo,_o.prototype=Object.create(jr.prototype),_o.prototype.constructor=_o,_o.prototype.toJSON=function(){var e=jr.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},Eo.prototype=Object.create(Er.prototype),Eo.prototype.constructor=Eo,So.prototype=Object.create(jr.prototype),So.prototype.constructor=So,xo.prototype=Object.create(Er.prototype),xo.prototype.constructor=xo,To.prototype=Object.create(jr.prototype),To.prototype.constructor=To;var Oo=function(e,t,n){n=n||2;var r,i,a,o,s,c,l,u=t&&t.length,d=u?t[0]*n:e.length,h=ko(e,0,d,n,!0),f=[];if(!h)return f;if(u&&(h=function(e,t,n,r){var i,a,o,s,c,l=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,(c=ko(e,o,s,r,!1))===c.next&&(c.steiner=!0),l.push(Do(c));for(l.sort(Io),i=0;i<l.length;i++)No(l[i],n),n=Mo(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<d;p+=n)(s=e[p])<r&&(r=s),(c=e[p+1])<i&&(i=c),s>a&&(a=s),c>o&&(o=c);l=0!==(l=Math.max(a-r,o-i))?1/l:0}return Ao(h,f,n,r,i,l),f};function ko(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Wo(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Wo(a,e[a],e[a+1],o);return o&&Bo(o,o.next)&&(qo(o),o=o.next),o}function Mo(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Bo(r,r.next)&&0!==Uo(r.prev,r,r.next))r=r.next;else{if(qo(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Ao(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=jo(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,c,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(c=l;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,c,l=e;e.prev!==e.next;)if(s=e.prev,c=e.next,a?Lo(e,r,i,a):Co(e))t.push(s.i/n),t.push(e.i/n),t.push(c.i/n),qo(e),e=c.next,l=c.next;else if((e=c)===l){o?1===o?Ao(e=Po(e,t,n),t,n,r,i,a,2):2===o&&Ro(e,t,n,r,i,a):Ao(Mo(e),t,n,r,i,a,1);break}}}function Co(e){var t=e.prev,n=e,r=e.next;if(Uo(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(zo(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Uo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Lo(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Uo(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,c=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=jo(s,c,t,n,r),h=jo(l,u,t,n,r),f=e.nextZ;f&&f.z<=h;){if(f!==e.prev&&f!==e.next&&zo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Uo(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=e.prevZ;f&&f.z>=d;){if(f!==e.prev&&f!==e.next&&zo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Uo(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}function Po(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Bo(i,a)&&Ho(i,r,r.next,a)&&Vo(i,a)&&Vo(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),qo(r),qo(r.next),r=e=a),r=r.next}while(r!==e);return r}function Ro(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Fo(o,s)){var c=Go(o,s);return o=Mo(o,o.next),c=Mo(c,c.next),Ao(o,t,n,r,i,a),void Ao(c,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function Io(e,t){return e.x-t.x}function No(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var c,l=n,u=n.x,d=n.y,h=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=u&&i!==r.x&&zo(a<d?i:o,a,u,d,a<d?o:i,a,r.x,r.y)&&((c=Math.abs(a-r.y)/(i-r.x))<h||c===h&&r.x>n.x)&&Vo(r,e)&&(n=r,h=c),r=r.next;return n}(e,t)){var n=Go(t,e);Mo(n,n.next)}}function jo(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Do(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function zo(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Fo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ho(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&Vo(e,t)&&Vo(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function Uo(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Bo(e,t){return e.x===t.x&&e.y===t.y}function Ho(e,t,n,r){return!!(Bo(e,t)&&Bo(n,r)||Bo(e,r)&&Bo(n,t))||Uo(e,t,n)>0!==Uo(e,t,r)>0&&Uo(n,r,e)>0!==Uo(n,r,t)>0}function Vo(e,t){return Uo(e.prev,e,e.next)<0?Uo(e,t,e.next)>=0&&Uo(e,e.prev,t)>=0:Uo(e,t,e.prev)<0||Uo(e,e.next,t)<0}function Go(e,t){var n=new Yo(e.i,e.x,e.y),r=new Yo(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Wo(e,t,n,r){var i=new Yo(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Yo(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Zo={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Zo.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Ko(e),Xo(n,e);var a=e.length;t.forEach(Ko);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Xo(n,t[o]);var s=Oo(n,r);for(o=0;o<s.length;o+=3)i.push(s.slice(o,o+3));return i}};function Ko(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Xo(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Qo(e,t){Er.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Jo(e,t)),this.mergeVertices()}function Jo(e,t){jr.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],a=0,o=e.length;a<o;a++){s(e[a])}function s(e){var a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,c=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,d=void 0!==t.bevelSize?t.bevelSize:u-2,h=void 0!==t.bevelSegments?t.bevelSegments:3,f=t.extrudePath,p=void 0!==t.UVGenerator?t.UVGenerator:$o;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);var m,g,v,y,b,w,_,E,S=!1;f&&(m=f.getSpacedPoints(s),S=!0,l=!1,g=f.computeFrenetFrames(s,!1),v=new qn,y=new qn,b=new qn),l||(h=0,u=0,d=0);var x=e.extractPoints(o),T=x.shape,O=x.holes;if(!Zo.isClockWise(T))for(T=T.reverse(),_=0,E=O.length;_<E;_++)w=O[_],Zo.isClockWise(w)&&(O[_]=w.reverse());var k=Zo.triangulateShape(T,O),M=T;for(_=0,E=O.length;_<E;_++)w=O[_],T=T.concat(w);function A(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var C,L,P,R,I,N,j=T.length,D=k.length;function z(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,c=n.x-e.x,l=n.y-e.y,u=o*o+s*s,d=o*l-s*c;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(u),f=Math.sqrt(c*c+l*l),p=t.x-s/h,m=t.y+o/h,g=((n.x-l/f-p)*l-(n.y+c/f-m)*c)/(o*l-s*c),v=(r=p+o*g-e.x)*r+(i=m+s*g-e.y)*i;if(v<=2)return new Gn(r,i);a=Math.sqrt(v/2)}else{var y=!1;o>Number.EPSILON?c>Number.EPSILON&&(y=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(u)):(r=o,i=s,a=Math.sqrt(u/2))}return new Gn(r/a,i/a)}for(var F=[],U=0,B=M.length,H=B-1,V=U+1;U<B;U++,H++,V++)H===B&&(H=0),V===B&&(V=0),F[U]=z(M[U],M[H],M[V]);var G,W,q=[],Y=F.concat();for(_=0,E=O.length;_<E;_++){for(w=O[_],G=[],U=0,H=(B=w.length)-1,V=U+1;U<B;U++,H++,V++)H===B&&(H=0),V===B&&(V=0),G[U]=z(w[U],w[H],w[V]);q.push(G),Y=Y.concat(G)}for(C=0;C<h;C++){for(P=C/h,R=u*Math.cos(P*Math.PI/2),L=d*Math.sin(P*Math.PI/2),U=0,B=M.length;U<B;U++)K((I=A(M[U],F[U],L)).x,I.y,-R);for(_=0,E=O.length;_<E;_++)for(w=O[_],G=q[_],U=0,B=w.length;U<B;U++)K((I=A(w[U],G[U],L)).x,I.y,-R)}for(L=d,U=0;U<j;U++)I=l?A(T[U],Y[U],L):T[U],S?(y.copy(g.normals[0]).multiplyScalar(I.x),v.copy(g.binormals[0]).multiplyScalar(I.y),b.copy(m[0]).add(y).add(v),K(b.x,b.y,b.z)):K(I.x,I.y,0);for(W=1;W<=s;W++)for(U=0;U<j;U++)I=l?A(T[U],Y[U],L):T[U],S?(y.copy(g.normals[W]).multiplyScalar(I.x),v.copy(g.binormals[W]).multiplyScalar(I.y),b.copy(m[W]).add(y).add(v),K(b.x,b.y,b.z)):K(I.x,I.y,c/s*W);for(C=h-1;C>=0;C--){for(P=C/h,R=u*Math.cos(P*Math.PI/2),L=d*Math.sin(P*Math.PI/2),U=0,B=M.length;U<B;U++)K((I=A(M[U],F[U],L)).x,I.y,c+R);for(_=0,E=O.length;_<E;_++)for(w=O[_],G=q[_],U=0,B=w.length;U<B;U++)I=A(w[U],G[U],L),S?K(I.x,I.y+m[s-1].y,m[s-1].x+R):K(I.x,I.y,c+R)}function Z(e,t){var n,r;for(U=e.length;--U>=0;){n=U,(r=U-1)<0&&(r=e.length-1);var i=0,a=s+2*h;for(i=0;i<a;i++){var o=j*i,c=j*(i+1);Q(t+n+o,t+r+o,t+r+c,t+n+c)}}}function K(e,t,n){a.push(e),a.push(t),a.push(n)}function X(e,t,i){J(e),J(t),J(i);var a=r.length/3,o=p.generateTopUV(n,r,a-3,a-2,a-1);$(o[0]),$(o[1]),$(o[2])}function Q(e,t,i,a){J(e),J(t),J(a),J(t),J(i),J(a);var o=r.length/3,s=p.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);$(s[0]),$(s[1]),$(s[3]),$(s[1]),$(s[2]),$(s[3])}function J(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function $(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(l){var t=0,i=j*t;for(U=0;U<D;U++)X((N=k[U])[2]+i,N[1]+i,N[0]+i);for(i=j*(t=s+2*h),U=0;U<D;U++)X((N=k[U])[0]+i,N[1]+i,N[2]+i)}else{for(U=0;U<D;U++)X((N=k[U])[2],N[1],N[0]);for(U=0;U<D;U++)X((N=k[U])[0]+j*s,N[1]+j*s,N[2]+j*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(Z(M,t),t+=M.length,_=0,E=O.length;_<E;_++)Z(w=O[_],t),t+=w.length;n.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new Lr(r,3)),this.addAttribute("uv",new Lr(i,2)),this.computeVertexNormals()}Qo.prototype=Object.create(Er.prototype),Qo.prototype.constructor=Qo,Qo.prototype.toJSON=function(){var e=Er.prototype.toJSON.call(this);return es(this.parameters.shapes,this.parameters.options,e)},Jo.prototype=Object.create(jr.prototype),Jo.prototype.constructor=Jo,Jo.prototype.toJSON=function(){var e=jr.prototype.toJSON.call(this);return es(this.parameters.shapes,this.parameters.options,e)};var $o={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],c=t[3*r+1],l=t[3*i],u=t[3*i+1];return[new Gn(a,o),new Gn(s,c),new Gn(l,u)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],c=t[3*n+2],l=t[3*r],u=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(s-u)<.01?[new Gn(o,1-c),new Gn(l,1-d),new Gn(h,1-p),new Gn(m,1-v)]:[new Gn(s,1-c),new Gn(u,1-d),new Gn(f,1-p),new Gn(g,1-v)]}};function es(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function ts(e,t){Er.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new ns(e,t)),this.mergeVertices()}function ns(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Er;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Jo.call(this,r,t),this.type="TextBufferGeometry"}function rs(e,t,n,r,i,a,o){Er.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new is(e,t,n,r,i,a,o)),this.mergeVertices()}function is(e,t,n,r,i,a,o){jr.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,c,l=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),u=0,d=[],h=new qn,f=new qn,p=[],m=[],g=[],v=[];for(c=0;c<=n;c++){var y=[],b=c/n,w=0==c?.5/t:c==n?-.5/t:0;for(s=0;s<=t;s++){var _=s/t;h.x=-e*Math.cos(r+_*i)*Math.sin(a+b*o),h.y=e*Math.cos(a+b*o),h.z=e*Math.sin(r+_*i)*Math.sin(a+b*o),m.push(h.x,h.y,h.z),f.copy(h).normalize(),g.push(f.x,f.y,f.z),v.push(_+w,1-b),y.push(u++)}d.push(y)}for(c=0;c<n;c++)for(s=0;s<t;s++){var E=d[c][s+1],S=d[c][s],x=d[c+1][s],T=d[c+1][s+1];(0!==c||a>0)&&p.push(E,S,T),(c!==n-1||l<Math.PI)&&p.push(S,x,T)}this.setIndex(p),this.addAttribute("position",new Lr(m,3)),this.addAttribute("normal",new Lr(g,3)),this.addAttribute("uv",new Lr(v,2))}function as(e,t,n,r,i,a){Er.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new os(e,t,n,r,i,a)),this.mergeVertices()}function os(e,t,n,r,i,a){jr.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},e=e||.5,t=t||1,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,c,l=[],u=[],d=[],h=[],f=e,p=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new qn,g=new Gn;for(s=0;s<=r;s++){for(c=0;c<=n;c++)o=i+c/n*a,m.x=f*Math.cos(o),m.y=f*Math.sin(o),u.push(m.x,m.y,m.z),d.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,h.push(g.x,g.y);f+=p}for(s=0;s<r;s++){var v=s*(n+1);for(c=0;c<n;c++){var y=o=c+v,b=o+n+1,w=o+n+2,_=o+1;l.push(y,b,_),l.push(b,w,_)}}this.setIndex(l),this.addAttribute("position",new Lr(u,3)),this.addAttribute("normal",new Lr(d,3)),this.addAttribute("uv",new Lr(h,2))}function ss(e,t,n,r){Er.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new cs(e,t,n,r)),this.mergeVertices()}function cs(e,t,n,r){jr.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=Vn.clamp(r,0,2*Math.PI);var i,a,o,s=[],c=[],l=[],u=1/t,d=new qn,h=new Gn;for(a=0;a<=t;a++){var f=n+a*u*r,p=Math.sin(f),m=Math.cos(f);for(o=0;o<=e.length-1;o++)d.x=e[o].x*p,d.y=e[o].y,d.z=e[o].x*m,c.push(d.x,d.y,d.z),h.x=a/t,h.y=o/(e.length-1),l.push(h.x,h.y)}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++){var g=i=o+a*e.length,v=i+e.length,y=i+e.length+1,b=i+1;s.push(g,v,b),s.push(v,y,b)}if(this.setIndex(s),this.addAttribute("position",new Lr(c,3)),this.addAttribute("uv",new Lr(l,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,_=new qn,E=new qn,S=new qn;for(i=t*e.length*3,a=0,o=0;a<e.length;a++,o+=3)_.x=w[o+0],_.y=w[o+1],_.z=w[o+2],E.x=w[i+o+0],E.y=w[i+o+1],E.z=w[i+o+2],S.addVectors(_,E).normalize(),w[o+0]=w[i+o+0]=S.x,w[o+1]=w[i+o+1]=S.y,w[o+2]=w[i+o+2]=S.z}}function ls(e,t){Er.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new us(e,t)),this.mergeVertices()}function us(e,t){jr.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],a=[],o=0,s=0;if(!1===Array.isArray(e))l(e);else for(var c=0;c<e.length;c++)l(e[c]),this.addGroup(o,s,c),o+=s,s=0;function l(e){var o,c,l,u=r.length/3,d=e.extractPoints(t),h=d.shape,f=d.holes;for(!1===Zo.isClockWise(h)&&(h=h.reverse()),o=0,c=f.length;o<c;o++)l=f[o],!0===Zo.isClockWise(l)&&(f[o]=l.reverse());var p=Zo.triangulateShape(h,f);for(o=0,c=f.length;o<c;o++)l=f[o],h=h.concat(l);for(o=0,c=h.length;o<c;o++){var m=h[o];r.push(m.x,m.y,0),i.push(0,0,1),a.push(m.x,m.y)}for(o=0,c=p.length;o<c;o++){var g=p[o],v=g[0]+u,y=g[1]+u,b=g[2]+u;n.push(v,y,b),s+=3}}this.setIndex(n),this.addAttribute("position",new Lr(r,3)),this.addAttribute("normal",new Lr(i,3)),this.addAttribute("uv",new Lr(a,2))}function ds(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function hs(e,t){jr.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,a,o=[],s=Math.cos(Vn.DEG2RAD*t),c=[0,0],l={},u=["a","b","c"];e.isBufferGeometry?(a=new Er).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var d=a.vertices,h=a.faces,f=0,p=h.length;f<p;f++)for(var m=h[f],g=0;g<3;g++)n=m[u[g]],r=m[u[(g+1)%3]],c[0]=Math.min(n,r),c[1]=Math.max(n,r),void 0===l[i=c[0]+","+c[1]]?l[i]={index1:c[0],index2:c[1],face1:f,face2:void 0}:l[i].face2=f;for(i in l){var v=l[i];if(void 0===v.face2||h[v.face1].normal.dot(h[v.face2].normal)<=s){var y=d[v.index1];o.push(y.x,y.y,y.z),y=d[v.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new Lr(o,3))}function fs(e,t,n,r,i,a,o,s){Er.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new ps(e,t,n,r,i,a,o,s)),this.mergeVertices()}function ps(e,t,n,r,i,a,o,s){jr.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],u=[],d=[],h=[],f=0,p=[],m=n/2,g=0;function v(n){var i,a,p,v=new Gn,y=new qn,b=0,w=!0===n?e:t,_=!0===n?1:-1;for(a=f,i=1;i<=r;i++)u.push(0,m*_,0),d.push(0,_,0),h.push(.5,.5),f++;for(p=f,i=0;i<=r;i++){var E=i/r*s+o,S=Math.cos(E),x=Math.sin(E);y.x=w*x,y.y=m*_,y.z=w*S,u.push(y.x,y.y,y.z),d.push(0,_,0),v.x=.5*S+.5,v.y=.5*x*_+.5,h.push(v.x,v.y),f++}for(i=0;i<r;i++){var T=a+i,O=p+i;!0===n?l.push(O,O+1,T):l.push(O+1,O,T),b+=3}c.addGroup(g,b,!0===n?1:2),g+=b}!function(){var a,v,y=new qn,b=new qn,w=0,_=(t-e)/n;for(v=0;v<=i;v++){var E=[],S=v/i,x=S*(t-e)+e;for(a=0;a<=r;a++){var T=a/r,O=T*s+o,k=Math.sin(O),M=Math.cos(O);b.x=x*k,b.y=-S*n+m,b.z=x*M,u.push(b.x,b.y,b.z),y.set(k,_,M).normalize(),d.push(y.x,y.y,y.z),h.push(T,1-S),E.push(f++)}p.push(E)}for(a=0;a<r;a++)for(v=0;v<i;v++){var A=p[v][a],C=p[v+1][a],L=p[v+1][a+1],P=p[v][a+1];l.push(A,C,P),l.push(C,L,P),w+=6}c.addGroup(g,w,0),g+=w}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(l),this.addAttribute("position",new Lr(u,3)),this.addAttribute("normal",new Lr(d,3)),this.addAttribute("uv",new Lr(h,2))}function ms(e,t,n,r,i,a,o){fs.call(this,0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function gs(e,t,n,r,i,a,o){ps.call(this,0,e,t,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function vs(e,t,n,r){Er.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new ys(e,t,n,r)),this.mergeVertices()}function ys(e,t,n,r){jr.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,a,o=[],s=[],c=[],l=[],u=new qn,d=new Gn;for(s.push(0,0,0),c.push(0,0,1),l.push(.5,.5),a=0,i=3;a<=t;a++,i+=3){var h=n+a/t*r;u.x=e*Math.cos(h),u.y=e*Math.sin(h),s.push(u.x,u.y,u.z),c.push(0,0,1),d.x=(s[i]/e+1)/2,d.y=(s[i+1]/e+1)/2,l.push(d.x,d.y)}for(i=1;i<=t;i++)o.push(i,i+1,0);this.setIndex(o),this.addAttribute("position",new Lr(s,3)),this.addAttribute("normal",new Lr(c,3)),this.addAttribute("uv",new Lr(l,2))}ts.prototype=Object.create(Er.prototype),ts.prototype.constructor=ts,ns.prototype=Object.create(Jo.prototype),ns.prototype.constructor=ns,rs.prototype=Object.create(Er.prototype),rs.prototype.constructor=rs,is.prototype=Object.create(jr.prototype),is.prototype.constructor=is,as.prototype=Object.create(Er.prototype),as.prototype.constructor=as,os.prototype=Object.create(jr.prototype),os.prototype.constructor=os,ss.prototype=Object.create(Er.prototype),ss.prototype.constructor=ss,cs.prototype=Object.create(jr.prototype),cs.prototype.constructor=cs,ls.prototype=Object.create(Er.prototype),ls.prototype.constructor=ls,ls.prototype.toJSON=function(){var e=Er.prototype.toJSON.call(this);return ds(this.parameters.shapes,e)},us.prototype=Object.create(jr.prototype),us.prototype.constructor=us,us.prototype.toJSON=function(){var e=jr.prototype.toJSON.call(this);return ds(this.parameters.shapes,e)},hs.prototype=Object.create(jr.prototype),hs.prototype.constructor=hs,fs.prototype=Object.create(Er.prototype),fs.prototype.constructor=fs,ps.prototype=Object.create(jr.prototype),ps.prototype.constructor=ps,ms.prototype=Object.create(fs.prototype),ms.prototype.constructor=ms,gs.prototype=Object.create(ps.prototype),gs.prototype.constructor=gs,vs.prototype=Object.create(Er.prototype),vs.prototype.constructor=vs,ys.prototype=Object.create(jr.prototype),ys.prototype.constructor=ys;var bs=Object.freeze({WireframeGeometry:oo,ParametricGeometry:so,ParametricBufferGeometry:co,TetrahedronGeometry:ho,TetrahedronBufferGeometry:fo,OctahedronGeometry:po,OctahedronBufferGeometry:mo,IcosahedronGeometry:go,IcosahedronBufferGeometry:vo,DodecahedronGeometry:yo,DodecahedronBufferGeometry:bo,PolyhedronGeometry:lo,PolyhedronBufferGeometry:uo,TubeGeometry:wo,TubeBufferGeometry:_o,TorusKnotGeometry:Eo,TorusKnotBufferGeometry:So,TorusGeometry:xo,TorusBufferGeometry:To,TextGeometry:ts,TextBufferGeometry:ns,SphereGeometry:rs,SphereBufferGeometry:is,RingGeometry:as,RingBufferGeometry:os,PlaneGeometry:Fr,PlaneBufferGeometry:Ur,LatheGeometry:ss,LatheBufferGeometry:cs,ShapeGeometry:ls,ShapeBufferGeometry:us,ExtrudeGeometry:Qo,ExtrudeBufferGeometry:Jo,EdgesGeometry:hs,ConeGeometry:ms,ConeBufferGeometry:gs,CylinderGeometry:fs,CylinderBufferGeometry:ps,CircleGeometry:vs,CircleBufferGeometry:ys,BoxGeometry:Dr,BoxBufferGeometry:zr});function ws(e){Hr.call(this),this.type="ShadowMaterial",this.color=new dr(0),this.transparent=!0,this.setValues(e)}function _s(e){Vr.call(this,e),this.type="RawShaderMaterial"}function Es(e){Hr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new dr(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ss(e){Es.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function xs(e){Hr.call(this),this.type="MeshPhongMaterial",this.color=new dr(16777215),this.specular=new dr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ts(e){xs.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Os(e){Hr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ks(e){Hr.call(this),this.type="MeshLambertMaterial",this.color=new dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ms(e){Hr.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new dr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function As(e){Xa.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}ws.prototype=Object.create(Hr.prototype),ws.prototype.constructor=ws,ws.prototype.isShadowMaterial=!0,ws.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this},_s.prototype=Object.create(Vr.prototype),_s.prototype.constructor=_s,_s.prototype.isRawShaderMaterial=!0,Es.prototype=Object.create(Hr.prototype),Es.prototype.constructor=Es,Es.prototype.isMeshStandardMaterial=!0,Es.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ss.prototype=Object.create(Es.prototype),Ss.prototype.constructor=Ss,Ss.prototype.isMeshPhysicalMaterial=!0,Ss.prototype.copy=function(e){return Es.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},xs.prototype=Object.create(Hr.prototype),xs.prototype.constructor=xs,xs.prototype.isMeshPhongMaterial=!0,xs.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ts.prototype=Object.create(xs.prototype),Ts.prototype.constructor=Ts,Ts.prototype.isMeshToonMaterial=!0,Ts.prototype.copy=function(e){return xs.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Os.prototype=Object.create(Hr.prototype),Os.prototype.constructor=Os,Os.prototype.isMeshNormalMaterial=!0,Os.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ks.prototype=Object.create(Hr.prototype),ks.prototype.constructor=ks,ks.prototype.isMeshLambertMaterial=!0,ks.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ms.prototype=Object.create(Hr.prototype),Ms.prototype.constructor=Ms,Ms.prototype.isMeshMatcapMaterial=!0,Ms.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},As.prototype=Object.create(Xa.prototype),As.prototype.constructor=As,As.prototype.isLineDashedMaterial=!0,As.prototype.copy=function(e){return Xa.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Cs=Object.freeze({ShadowMaterial:ws,SpriteMaterial:Ga,RawShaderMaterial:_s,ShaderMaterial:Vr,PointsMaterial:eo,MeshPhysicalMaterial:Ss,MeshStandardMaterial:Es,MeshPhongMaterial:xs,MeshToonMaterial:Ts,MeshNormalMaterial:Os,MeshLambertMaterial:ks,MeshDepthMaterial:Ea,MeshDistanceMaterial:Sa,MeshBasicMaterial:qr,MeshMatcapMaterial:Ms,LineDashedMaterial:As,LineBasicMaterial:Xa,Material:Hr}),Ls={arraySlice:function(e,t,n){return Ls.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,c=0;c!==t;++c)i[o++]=e[s+c];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}};function Ps(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Rs(e,t,n,r){Ps.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Is(e,t,n,r){Ps.call(this,e,t,n,r)}function Ns(e,t,n,r){Ps.call(this,e,t,n,r)}function js(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ls.convertArray(t,this.TimeBufferType),this.values=Ls.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Ds(e,t,n){js.call(this,e,t,n)}function zs(e,t,n,r){js.call(this,e,t,n,r)}function Fs(e,t,n,r){js.call(this,e,t,n,r)}function Us(e,t,n,r){Ps.call(this,e,t,n,r)}function Bs(e,t,n,r){js.call(this,e,t,n,r)}function Hs(e,t,n,r){js.call(this,e,t,n,r)}function Vs(e,t,n,r){js.call(this,e,t,n,r)}function Gs(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Vn.generateUUID(),this.duration<0&&this.resetDuration()}function Ws(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Fs;case"vector":case"vector2":case"vector3":case"vector4":return Vs;case"color":return zs;case"quaternion":return Bs;case"bool":case"boolean":return Ds;case"string":return Hs}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Ls.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Ps.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===o)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var c=n+a>>>1;e<t[c]?a=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ps.prototype,{beforeStart_:Ps.prototype.copySampleValue_,afterEnd_:Ps.prototype.copySampleValue_}),Rs.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Rs,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=e,o=2*t-n;break;case 2402:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var c=.5*(n-t),l=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-d*m+2*d*p-d*f,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p,w=0;w!==o;++w)i[w]=g*a[l+w]+v*a[c+w]+y*a[s+w]+b*a[u+w];return i}}),Is.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Is,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=(n-t)/(r-t),u=1-l,d=0;d!==o;++d)i[d]=a[c+d]*u+a[s+d]*l;return i}}),Ns.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Ns,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(js,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Ls.convertArray(e.times,Array),values:Ls.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(js.prototype,{constructor:js,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Ns(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Is(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Rs(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Ls.arraySlice(n,i,a),this.values=Ls.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Ls.isTypedArray(r)){o=0;for(var c=r.length;o!==c;++o){var l=r[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,a=e.length-1,o=1;o<a;++o){var s=!1,c=e[o];if(c!==e[o+1]&&(1!==o||c!==c[0]))if(r)s=!0;else for(var l=o*n,u=l-n,d=l+n,h=0;h!==n;++h){var f=t[l+h];if(f!==t[u+h]||f!==t[d+h]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];var p=o*n,m=i*n;for(h=0;h!==n;++h)t[m+h]=t[p+h]}++i}}if(a>0){e[i]=e[a];for(p=a*n,m=i*n,h=0;h!==n;++h)t[m+h]=t[p+h];++i}return i!==e.length&&(this.times=Ls.arraySlice(e,0,i),this.values=Ls.arraySlice(t,0,i*n)),this},clone:function(){var e=Ls.arraySlice(this.times,0),t=Ls.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Ds.prototype=Object.assign(Object.create(js.prototype),{constructor:Ds,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),zs.prototype=Object.assign(Object.create(js.prototype),{constructor:zs,ValueTypeName:"color"}),Fs.prototype=Object.assign(Object.create(js.prototype),{constructor:Fs,ValueTypeName:"number"}),Us.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Us,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=(n-t)/(r-t),l=s+o;s!==l;s+=4)Wn.slerpFlat(i,0,a,s-o,a,s,c);return i}}),Bs.prototype=Object.assign(Object.create(js.prototype),{constructor:Bs,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new Us(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Hs.prototype=Object.assign(Object.create(js.prototype),{constructor:Hs,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Vs.prototype=Object.assign(Object.create(js.prototype),{constructor:Vs,ValueTypeName:"vector"}),Object.assign(Gs,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Ws(n[i]).scale(r));return new Gs(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,a=n.length;i!==a;++i)t.push(js.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],c=[];s.push((o+i-1)%i,o,(o+1)%i),c.push(0,1,0);var l=Ls.getKeyframeOrder(s);s=Ls.sortedArray(s,1,l),c=Ls.sortedArray(c,1,l),r||0!==s[0]||(s.push(i),c.push(c[0])),a.push(new Fs(".morphTargetInfluences["+t[o].name+"]",s,c).scale(1/n))}return new Gs(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],c=s.name.match(i);if(c&&c.length>1){var l=r[d=c[1]];l||(r[d]=l=[]),l.push(s)}}var u=[];for(var d in r)u.push(Gs.CreateFromMorphTargetSequence(d,r[d],t,n));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Ls.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],c=0;c<s.length;c++){var l=s[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var u={},d=0;d<l.length;d++)if(l[d].morphTargets)for(var h=0;h<l[d].morphTargets.length;h++)u[l[d].morphTargets[h]]=-1;for(var f in u){var p=[],m=[];for(h=0;h!==l[d].morphTargets.length;++h){var g=l[d];p.push(g.time),m.push(g.morphTarget===f?1:0)}r.push(new Fs(".morphTargetInfluence["+f+"]",p,m))}a=u.length*(o||1)}else{var v=".bones["+t[c].name+"]";n(Vs,v+".position",l,"pos",r),n(Bs,v+".quaternion",l,"rot",r),n(Vs,v+".scale",l,"scl",r)}}return 0===r.length?null:new Gs(i,a,r)}}),Object.assign(Gs.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Gs(this.name,this.duration,e)}});var qs={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Ys(e,t,n){var r=this,i=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var Zs=new Ys,Ks={};function Xs(e){this.manager=void 0!==e?e:Zs}function Qs(e){this.manager=void 0!==e?e:Zs,this._parser=null}function Js(e){this.manager=void 0!==e?e:Zs}function $s(e){this.manager=void 0!==e?e:Zs}function ec(e){this.manager=void 0!==e?e:Zs}function tc(){this.type="Curve",this.arcLengthDivisions=200}function nc(e,t,n,r,i,a,o,s){tc.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function rc(e,t,n,r,i,a){nc.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}function ic(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var c=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,c*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}Object.assign(Xs.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=qs.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Ks[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],c=!!o[2],l=o[3];l=decodeURIComponent(l),c&&(l=atob(l));try{var u,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),f=0;f<l.length;f++)h[f]=l.charCodeAt(f);u="blob"===d?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var p=new DOMParser;u=p.parseFromString(l,s);break;case"json":u=JSON.parse(l);break;default:u=l}setTimeout((function(){t&&t(u),i.manager.itemEnd(e)}),0)}catch(v){setTimeout((function(){r&&r(v),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{Ks[e]=[],Ks[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var g in m.open("GET",e,!0),m.addEventListener("load",(function(t){var n=this.response;qs.add(e,n);var r=Ks[e];if(delete Ks[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var a=0,o=r.length;a<o;a++){(s=r[a]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener("progress",(function(t){for(var n=Ks[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}}),!1),m.addEventListener("error",(function(t){var n=Ks[e];delete Ks[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener("abort",(function(t){var n=Ks[e];delete Ks[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(e),m}Ks[e].push({onLoad:t,onProgress:n,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:Zs}.prototype,{load:function(e,t,n,r){var i=this,a=new Xs(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=Gs.parse(e[n]);t.push(r)}return t},setPath:function(e){return this.path=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:Zs,this._parser=null}.prototype,{load:function(e,t,n,r){var i=this,a=[],o=new ro;o.image=a;var s=new Xs(this.manager);function c(c){s.load(e[c],(function(e){var n=i._parser(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=1006),o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,u=0,d=e.length;u<d;++u)c(u);else s.load(e,(function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=1006),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o},setPath:function(e){return this.path=e,this}}),Object.assign(Qs.prototype,{load:function(e,t,n,r){var i=this,a=new tr,o=new Xs(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(e,(function(e){var n=i._parser(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:1001,a.wrapT=void 0!==n.wrapT?n.wrapT:1001,a.magFilter=void 0!==n.magFilter?n.magFilter:1006,a.minFilter=void 0!==n.minFilter?n.minFilter:1008,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=1006),a.needsUpdate=!0,t&&t(a,n))}),n,r),a},setPath:function(e){return this.path=e,this}}),Object.assign(Js.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=qs.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",c,!1),qs.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",c,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign($s.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new ai,a=new Js(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var c=0;c<e.length;++c)s(c);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(ec.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new Xn,a=new Js(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?1022:1023,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(tc.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=e;n++)a+=(t=this.getPoint(n/e)).distanceTo(i),r.push(a),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,c=a-1;s<=c;)if((o=r[i=Math.floor(s+(c-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){c=i;break}c=i-1}if(r[i=c]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,a=new qn,o=[],s=[],c=[],l=new qn,u=new or;for(n=0;n<=e;n++)r=n/e,o[n]=this.getTangentAt(r),o[n].normalize();s[0]=new qn,c[0]=new qn;var d=Number.MAX_VALUE,h=Math.abs(o[0].x),f=Math.abs(o[0].y),p=Math.abs(o[0].z);for(h<=d&&(d=h,a.set(1,0,0)),f<=d&&(d=f,a.set(0,1,0)),p<=d&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),c[0].crossVectors(o[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),c[n]=c[n-1].clone(),l.crossVectors(o[n-1],o[n]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(Vn.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(u.makeRotationAxis(l,i))),c[n].crossVectors(o[n],s[n]);if(!0===t)for(i=Math.acos(Vn.clamp(s[0].dot(s[e]),-1,1)),i/=e,o[0].dot(l.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(u.makeRotationAxis(o[n],i*n)),c[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),nc.prototype=Object.create(tc.prototype),nc.prototype.constructor=nc,nc.prototype.isEllipseCurve=!0,nc.prototype.getPoint=function(e,t){for(var n=t||new Gn,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,h=c-this.aY;s=d*l-h*u+this.aX,c=d*u+h*l+this.aY}return n.set(s,c)},nc.prototype.copy=function(e){return tc.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},nc.prototype.toJSON=function(){var e=tc.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},nc.prototype.fromJSON=function(e){return tc.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},rc.prototype=Object.create(nc.prototype),rc.prototype.constructor=rc,rc.prototype.isArcCurve=!0;var ac=new qn,oc=new ic,sc=new ic,cc=new ic;function lc(e,t,n,r){tc.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function uc(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function dc(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function hc(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function fc(e,t,n,r){tc.call(this),this.type="CubicBezierCurve",this.v0=e||new Gn,this.v1=t||new Gn,this.v2=n||new Gn,this.v3=r||new Gn}function pc(e,t,n,r){tc.call(this),this.type="CubicBezierCurve3",this.v0=e||new qn,this.v1=t||new qn,this.v2=n||new qn,this.v3=r||new qn}function mc(e,t){tc.call(this),this.type="LineCurve",this.v1=e||new Gn,this.v2=t||new Gn}function gc(e,t){tc.call(this),this.type="LineCurve3",this.v1=e||new qn,this.v2=t||new qn}function vc(e,t,n){tc.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Gn,this.v1=t||new Gn,this.v2=n||new Gn}function yc(e,t,n){tc.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new qn,this.v1=t||new qn,this.v2=n||new qn}function bc(e){tc.call(this),this.type="SplineCurve",this.points=e||[]}lc.prototype=Object.create(tc.prototype),lc.prototype.constructor=lc,lc.prototype.isCatmullRomCurve3=!0,lc.prototype.getPoint=function(e,t){var n,r,i,a,o=t||new qn,s=this.points,c=s.length,l=(c-(this.closed?0:1))*e,u=Math.floor(l),d=l-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/c)+1)*c:0===d&&u===c-1&&(u=c-2,d=1),this.closed||u>0?n=s[(u-1)%c]:(ac.subVectors(s[0],s[1]).add(s[0]),n=ac),r=s[u%c],i=s[(u+1)%c],this.closed||u+2<c?a=s[(u+2)%c]:(ac.subVectors(s[c-1],s[c-2]).add(s[c-1]),a=ac),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,f=Math.pow(n.distanceToSquared(r),h),p=Math.pow(r.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(a),h);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),oc.initNonuniformCatmullRom(n.x,r.x,i.x,a.x,f,p,m),sc.initNonuniformCatmullRom(n.y,r.y,i.y,a.y,f,p,m),cc.initNonuniformCatmullRom(n.z,r.z,i.z,a.z,f,p,m)}else"catmullrom"===this.curveType&&(oc.initCatmullRom(n.x,r.x,i.x,a.x,this.tension),sc.initCatmullRom(n.y,r.y,i.y,a.y,this.tension),cc.initCatmullRom(n.z,r.z,i.z,a.z,this.tension));return o.set(oc.calc(d),sc.calc(d),cc.calc(d)),o},lc.prototype.copy=function(e){tc.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},lc.prototype.toJSON=function(){var e=tc.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},lc.prototype.fromJSON=function(e){tc.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new qn).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},fc.prototype=Object.create(tc.prototype),fc.prototype.constructor=fc,fc.prototype.isCubicBezierCurve=!0,fc.prototype.getPoint=function(e,t){var n=t||new Gn,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(hc(e,r.x,i.x,a.x,o.x),hc(e,r.y,i.y,a.y,o.y)),n},fc.prototype.copy=function(e){return tc.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},fc.prototype.toJSON=function(){var e=tc.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},fc.prototype.fromJSON=function(e){return tc.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},pc.prototype=Object.create(tc.prototype),pc.prototype.constructor=pc,pc.prototype.isCubicBezierCurve3=!0,pc.prototype.getPoint=function(e,t){var n=t||new qn,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(hc(e,r.x,i.x,a.x,o.x),hc(e,r.y,i.y,a.y,o.y),hc(e,r.z,i.z,a.z,o.z)),n},pc.prototype.copy=function(e){return tc.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},pc.prototype.toJSON=function(){var e=tc.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},pc.prototype.fromJSON=function(e){return tc.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},mc.prototype=Object.create(tc.prototype),mc.prototype.constructor=mc,mc.prototype.isLineCurve=!0,mc.prototype.getPoint=function(e,t){var n=t||new Gn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},mc.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},mc.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},mc.prototype.copy=function(e){return tc.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},mc.prototype.toJSON=function(){var e=tc.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},mc.prototype.fromJSON=function(e){return tc.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},gc.prototype=Object.create(tc.prototype),gc.prototype.constructor=gc,gc.prototype.isLineCurve3=!0,gc.prototype.getPoint=function(e,t){var n=t||new qn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},gc.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},gc.prototype.copy=function(e){return tc.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},gc.prototype.toJSON=function(){var e=tc.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},gc.prototype.fromJSON=function(e){return tc.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},vc.prototype=Object.create(tc.prototype),vc.prototype.constructor=vc,vc.prototype.isQuadraticBezierCurve=!0,vc.prototype.getPoint=function(e,t){var n=t||new Gn,r=this.v0,i=this.v1,a=this.v2;return n.set(dc(e,r.x,i.x,a.x),dc(e,r.y,i.y,a.y)),n},vc.prototype.copy=function(e){return tc.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},vc.prototype.toJSON=function(){var e=tc.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},vc.prototype.fromJSON=function(e){return tc.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},yc.prototype=Object.create(tc.prototype),yc.prototype.constructor=yc,yc.prototype.isQuadraticBezierCurve3=!0,yc.prototype.getPoint=function(e,t){var n=t||new qn,r=this.v0,i=this.v1,a=this.v2;return n.set(dc(e,r.x,i.x,a.x),dc(e,r.y,i.y,a.y),dc(e,r.z,i.z,a.z)),n},yc.prototype.copy=function(e){return tc.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},yc.prototype.toJSON=function(){var e=tc.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},yc.prototype.fromJSON=function(e){return tc.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},bc.prototype=Object.create(tc.prototype),bc.prototype.constructor=bc,bc.prototype.isSplineCurve=!0,bc.prototype.getPoint=function(e,t){var n=t||new Gn,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],c=r[a],l=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return n.set(uc(o,s.x,c.x,l.x,u.x),uc(o,s.y,c.y,l.y,u.y)),n},bc.prototype.copy=function(e){tc.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},bc.prototype.toJSON=function(){var e=tc.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},bc.prototype.fromJSON=function(e){tc.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new Gn).fromArray(r))}return this};var wc=Object.freeze({ArcCurve:rc,CatmullRomCurve3:lc,CubicBezierCurve:fc,CubicBezierCurve3:pc,EllipseCurve:nc,LineCurve:mc,LineCurve3:gc,QuadraticBezierCurve:vc,QuadraticBezierCurve3:yc,SplineCurve:bc});function _c(){tc.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Ec(e){_c.call(this),this.type="Path",this.currentPoint=new Gn,e&&this.setFromPoints(e)}function Sc(e){Ec.call(this,e),this.uuid=Vn.generateUUID(),this.type="Shape",this.holes=[]}function xc(e,t){wr.call(this),this.type="Light",this.color=new dr(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Tc(e,t,n){xc.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(wr.DefaultUp),this.updateMatrix(),this.groundColor=new dr(t)}function Oc(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Gn(512,512),this.map=null,this.matrix=new or}function kc(){Oc.call(this,new Ca(50,1,.5,500))}function Mc(e,t,n,r,i,a){xc.call(this,e,t),this.type="SpotLight",this.position.copy(wr.DefaultUp),this.updateMatrix(),this.target=new wr,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new kc}function Ac(e,t,n,r){xc.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Oc(new Ca(90,1,.5,500))}function Cc(e,t,n,r,i,a){Aa.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Lc(){Oc.call(this,new Cc(-5,5,5,-5,.5,500))}function Pc(e,t){xc.call(this,e,t),this.type="DirectionalLight",this.position.copy(wr.DefaultUp),this.updateMatrix(),this.target=new wr,this.shadow=new Lc}function Rc(e,t){xc.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Ic(e,t,n,r){xc.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Nc(e){this.manager=void 0!==e?e:Zs,this.textures={}}_c.prototype=Object.assign(Object.create(tc.prototype),{constructor:_c,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new mc(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),c=0;c<s.length;c++){var l=s[c];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){tc.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=tc.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){tc.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new wc[r.type]).fromJSON(r))}return this}}),Ec.prototype=Object.assign(Object.create(_c.prototype),{constructor:Ec,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new mc(this.currentPoint.clone(),new Gn(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new vc(this.currentPoint.clone(),new Gn(e,t),new Gn(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,a){var o=new fc(this.currentPoint.clone(),new Gn(e,t),new Gn(n,r),new Gn(i,a));this.curves.push(o),this.currentPoint.set(i,a)},splineThru:function(e){var t=new bc([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,n,r,i,a)},absarc:function(e,t,n,r,i,a){this.absellipse(e,t,n,n,r,i,a)},ellipse:function(e,t,n,r,i,a,o,s){var c=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(e+c,t+l,n,r,i,a,o,s)},absellipse:function(e,t,n,r,i,a,o,s){var c=new nc(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var u=c.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return _c.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=_c.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return _c.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Sc.prototype=Object.assign(Object.create(Ec.prototype),{constructor:Sc,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ec.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Ec.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Ec.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new Ec).fromJSON(r))}return this}}),xc.prototype=Object.assign(Object.create(wr.prototype),{constructor:xc,isLight:!0,copy:function(e){return wr.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=wr.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Tc.prototype=Object.assign(Object.create(xc.prototype),{constructor:Tc,isHemisphereLight:!0,copy:function(e){return xc.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Oc.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),kc.prototype=Object.assign(Object.create(Oc.prototype),{constructor:kc,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Vn.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),Mc.prototype=Object.assign(Object.create(xc.prototype),{constructor:Mc,isSpotLight:!0,copy:function(e){return xc.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ac.prototype=Object.assign(Object.create(xc.prototype),{constructor:Ac,isPointLight:!0,copy:function(e){return xc.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Cc.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Cc,isOrthographicCamera:!0,copy:function(e,t){return Aa.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;a=(i+=u*(this.view.offsetX/c))+u*(this.view.width/c),s=(o-=d*(this.view.offsetY/l))-d*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=wr.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Lc.prototype=Object.assign(Object.create(Oc.prototype),{constructor:Lc}),Pc.prototype=Object.assign(Object.create(xc.prototype),{constructor:Pc,isDirectionalLight:!0,copy:function(e){return xc.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Rc.prototype=Object.assign(Object.create(xc.prototype),{constructor:Rc,isAmbientLight:!0}),Ic.prototype=Object.assign(Object.create(xc.prototype),{constructor:Ic,isRectAreaLight:!0,copy:function(e){return xc.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=xc.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(Nc.prototype,{load:function(e,t,n,r){var i=this,a=new Xs(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new Cs[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new dr).setHex(a.value);break;case"v2":r.uniforms[i].value=(new Gn).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new qn).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new Qn).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new Yn).fromArray(a.value);case"m4":r.uniforms[i].value=(new or).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Gn).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var jc=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function Dc(e){this.manager=void 0!==e?e:Zs}Object.assign(Dc.prototype,{load:function(e,t,n,r){var i=this,a=new Xs(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=new jr,n=e.data.index;if(void 0!==n){var r=new zc[n.type](n.array);t.setIndex(new Sr(r,1))}var i=e.data.attributes;for(var a in i){var o=i[a],s=new Sr(r=new zc[o.type](o.array),o.itemSize,o.normalized);void 0!==o.name&&(s.name=o.name),t.addAttribute(a,s)}var c=e.data.morphAttributes;if(c)for(var a in c){for(var l=c[a],u=[],d=0,h=l.length;d<h;d++){o=l[d],s=new Sr(r=new zc[o.type](o.array),o.itemSize,o.normalized);void 0!==o.name&&(s.name=o.name),u.push(s)}t.morphAttributes[a]=u}var f=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==f){d=0;for(var p=f.length;d!==p;++d){var m=f[d];t.addGroup(m.start,m.count,m.materialIndex)}}var g=e.data.boundingSphere;if(void 0!==g){var v=new qn;void 0!==g.center&&v.fromArray(g.center),t.boundingSphere=new rr(v,g.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var zc={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Fc(e){this.manager=void 0!==e?e:Zs,this.resourcePath=""}Object.assign(Fc.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,a=void 0===this.path?jc(e):this.path;this.resourcePath=this.resourcePath||a;var o=new Xs(i.manager);o.setPath(this.path),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Sc).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new Dc,i=0,a=e.length;i<a;i++){var o,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new bs[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new bs[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new bs[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new bs[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new bs[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new bs[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new bs[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new bs[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new bs[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new bs[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new bs[s.type]((new wc[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new bs[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new bs[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],l=0,u=s.shapes.length;l<u;l++){var d=t[s.shapes[l]];c.push(d)}o=new bs[s.type](c,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],l=0,u=s.shapes.length;l<u;l++){d=t[s.shapes[l]];c.push(d)}var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new wc[h.type]).fromJSON(h)),o=new bs[s.type](c,s.options);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new Nc;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var c=[],l=0;l<s.materials.length;l++){var u=s.materials[l];void 0===n[u.uuid]&&(n[u.uuid]=i.parse(u)),c.push(n[u.uuid])}r[s.uuid]=c}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Gs.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),a.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var a=new Js(new Ys(t));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var c=e[o],l=c.url;if(Array.isArray(l)){r[c.uuid]=[];for(var u=0,d=l.length;u<d;u++){var h=l[u],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;r[c.uuid].push(i(f))}}else{f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;r[c.uuid]=i(f)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(o=Array.isArray(t[s.image])?new ai(t[s.image]):new Xn(t[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,Bc)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],Hc),o.wrapT=n(s.wrap[1],Hc)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,Vc)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,Vc)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new Ba,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new dr(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new Ua(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Fa(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Ca(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Cc(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Rc(e.color,e.intensity);break;case"DirectionalLight":r=new Pc(e.color,e.intensity);break;case"PointLight":r=new Ac(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Ic(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Mc(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Tc(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=i(e.geometry),s=a(e.material);r=o.bones&&o.bones.length>0?new Ya(o,s):new Yr(o,s),void 0!==e.drawMode&&r.setDrawMode(e.drawMode);break;case"LOD":r=new qa;break;case"Line":r=new Qa(i(e.geometry),a(e.material),e.mode);break;case"LineLoop":r=new $a(i(e.geometry),a(e.material));break;case"LineSegments":r=new Ja(i(e.geometry),a(e.material));break;case"PointCloud":case"Points":r=new to(i(e.geometry),a(e.material));break;case"Sprite":r=new Wa(a(e.material));break;case"Group":r=new Ma;break;default:r=new wr}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var c=e.children,l=0;l<c.length;l++)r.add(this.parseObject(c[l],t,n));if("LOD"===e.type)for(var u=e.levels,d=0;d<u.length;d++){var h=u[d],f=r.getObjectByProperty("uuid",h.object);void 0!==f&&r.addLevel(f,h.distance)}return r}});var Uc,Bc={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Hc={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Vc={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};function Gc(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Zs,this.options=void 0}function Wc(){this.type="ShapePath",this.color=new dr,this.subPaths=[],this.currentPath=null}function qc(e){this.type="Font",this.data=e}function Yc(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,c,l,u,d,h,f,p=new Wc;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),g=0,v=m.length;g<v;){switch(m[g++]){case"m":o=m[g++]*t+n,s=m[g++]*t+r,p.moveTo(o,s);break;case"l":o=m[g++]*t+n,s=m[g++]*t+r,p.lineTo(o,s);break;case"q":c=m[g++]*t+n,l=m[g++]*t+r,u=m[g++]*t+n,d=m[g++]*t+r,p.quadraticCurveTo(u,d,c,l);break;case"b":c=m[g++]*t+n,l=m[g++]*t+r,u=m[g++]*t+n,d=m[g++]*t+r,h=m[g++]*t+n,f=m[g++]*t+r,p.bezierCurveTo(u,d,h,f,c,l)}}return{offsetX:a.ha*t,path:p}}}function Zc(){}Gc.prototype={constructor:Gc,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=qs.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)})).then((function(n){qs.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(Wc.prototype,{moveTo:function(e,t){this.currentPath=new Ec,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,a){this.currentPath.bezierCurveTo(e,t,n,r,i,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Sc;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],c=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],c=-c,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var u=l*(e.x-o.x)-c*(e.y-o.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i=Zo.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);var o,s,c,l=[];if(1===a.length)return s=a[0],(c=new Sc).curves=s.curves,l.push(c),l;var u=!i(a[0].getPoints());u=e?!u:u;var d,h,f=[],p=[],m=[],g=0;p[g]=void 0,m[g]=[];for(var v=0,y=a.length;v<y;v++)o=i(d=(s=a[v]).getPoints()),(o=e?!o:o)?(!u&&p[g]&&g++,p[g]={s:new Sc,p:d},p[g].s.curves=s.curves,u&&g++,m[g]=[]):m[g].push({h:s,p:d[0]});if(!p[0])return n(a);if(p.length>1){for(var b=!1,w=[],_=0,E=p.length;_<E;_++)f[_]=[];for(_=0,E=p.length;_<E;_++)for(var S=m[_],x=0;x<S.length;x++){for(var T=S[x],O=!0,k=0;k<p.length;k++)r(T.p,p[k].p)&&(_!==k&&w.push({froms:_,tos:k,hole:x}),O?(O=!1,f[k].push(T)):b=!0);O&&f[_].push(T)}w.length>0&&(b||(m=f))}v=0;for(var M=p.length;v<M;v++){c=p[v].s,l.push(c);for(var A=0,C=(h=m[v]).length;A<C;A++)c.holes.push(h[A].h)}return l}}),Object.assign(qc.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,c=0,l=0;l<r.length;l++){var u=r[l];if("\n"===u)s=0,c-=a;else{var d=Yc(u,i,s,c,n);s+=d.offsetX,o.push(d.path)}}return o}(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(function(e){this.manager=void 0!==e?e:Zs}.prototype,{load:function(e,t,n,r){var i=this,a=new Xs(this.manager);a.setPath(this.path),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new qc(e)},setPath:function(e){return this.path=e,this}}),Zc.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],a=t[n+1];if(i.test(e))return a}return null}},Object.assign(Zc.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},t=new dr,n=new ec,r=new Nc;return function(i,a,o){var s={};function c(e,t,r,i,c){var l,u=a+e,d=Zc.Handlers.get(u);null!==d?l=d.load(u):(n.setCrossOrigin(o),l=n.load(u)),void 0!==t&&(l.repeat.fromArray(t),1!==t[0]&&(l.wrapS=1e3),1!==t[1]&&(l.wrapT=1e3)),void 0!==r&&l.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(l.wrapS=1e3),"mirror"===i[0]&&(l.wrapS=1002),"repeat"===i[1]&&(l.wrapT=1e3),"mirror"===i[1]&&(l.wrapT=1002)),void 0!==c&&(l.anisotropy=c);var h=Vn.generateUUID();return s[h]=l,h}var l={uuid:Vn.generateUUID(),type:"MeshLambertMaterial"};for(var u in i){var d=i[u];switch(u){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":l.name=d;break;case"blending":l.blending=e[d];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",u,"is no longer supported.");break;case"colorDiffuse":l.color=t.fromArray(d).getHex();break;case"colorSpecular":l.specular=t.fromArray(d).getHex();break;case"colorEmissive":l.emissive=t.fromArray(d).getHex();break;case"specularCoef":l.shininess=d;break;case"shading":"basic"===d.toLowerCase()&&(l.type="MeshBasicMaterial"),"phong"===d.toLowerCase()&&(l.type="MeshPhongMaterial"),"standard"===d.toLowerCase()&&(l.type="MeshStandardMaterial");break;case"mapDiffuse":l.map=c(d,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":l.emissiveMap=c(d,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":l.lightMap=c(d,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":l.aoMap=c(d,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":l.bumpMap=c(d,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":l.bumpScale=d;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":l.normalMap=c(d,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":l.normalScale=d;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":l.specularMap=c(d,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":l.metalnessMap=c(d,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":l.roughnessMap=c(d,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":l.alphaMap=c(d,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":l.side=1;break;case"doubleSided":l.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),l.opacity=d;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":l[u]=d;break;case"vertexColors":!0===d&&(l.vertexColors=2),"face"===d&&(l.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",u,d)}}return"MeshBasicMaterial"===l.type&&delete l.emissive,"MeshPhongMaterial"!==l.type&&delete l.specular,l.opacity<1&&(l.transparent=!0),r.setTextures(s),r.parse(l)}}()});var Kc=function(){return void 0===Uc&&(Uc=new(window.AudioContext||window.webkitAudioContext)),Uc};function Xc(e){this.manager=void 0!==e?e:Zs}function Qc(e,t,n,r){wr.call(this),this.type="CubeCamera";var i=new Ca(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new qn(1,0,0)),this.add(i);var a=new Ca(90,1,e,t);a.up.set(0,-1,0),a.lookAt(new qn(-1,0,0)),this.add(a);var o=new Ca(90,1,e,t);o.up.set(0,0,1),o.lookAt(new qn(0,1,0)),this.add(o);var s=new Ca(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new qn(0,-1,0)),this.add(s);var c=new Ca(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new qn(0,0,1)),this.add(c);var l=new Ca(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new qn(0,0,-1)),this.add(l),r=r||{format:1022,magFilter:1006,minFilter:1006},this.renderTarget=new er(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,u=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,s),e.setRenderTarget(r,4),e.render(t,c),r.texture.generateMipmaps=u,e.setRenderTarget(r,5),e.render(t,l),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)e.setRenderTarget(a,o),e.clear(t,n,r);e.setRenderTarget(i)}}function Jc(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function $c(){wr.call(this),this.type="AudioListener",this.context=Kc(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function el(e){wr.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function tl(e){el.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function nl(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function rl(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(Xc.prototype,{load:function(e,t,n,r){var i=new Xs(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);Kc().decodeAudioData(n,(function(e){t(e)}))}),n,r)},setPath:function(e){return this.path=e,this}}),Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ca,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ca,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}.prototype,{update:function(){var e,t,n,r,i,a,o,s,c=new or,l=new or;return function(u){if(e!==this||t!==u.focus||n!==u.fov||r!==u.aspect*this.aspect||i!==u.near||a!==u.far||o!==u.zoom||s!==this.eyeSep){e=this,t=u.focus,n=u.fov,r=u.aspect*this.aspect,i=u.near,a=u.far,o=u.zoom;var d,h,f=u.projectionMatrix.clone(),p=(s=this.eyeSep/2)*i/t,m=i*Math.tan(Vn.DEG2RAD*n*.5)/o;l.elements[12]=-s,c.elements[12]=s,d=-m*r+p,h=m*r+p,f.elements[0]=2*i/(h-d),f.elements[8]=(h+d)/(h-d),this.cameraL.projectionMatrix.copy(f),d=-m*r-p,h=m*r-p,f.elements[0]=2*i/(h-d),f.elements[8]=(h+d)/(h-d),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(c)}}()}),Qc.prototype=Object.create(wr.prototype),Qc.prototype.constructor=Qc,Object.assign(Jc.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),$c.prototype=Object.assign(Object.create(wr.prototype),{constructor:$c,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new qn,t=new Wn,n=new qn,r=new qn,i=new Jc;return function(a){wr.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX){var c=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(e.x,c),o.positionY.linearRampToValueAtTime(e.y,c),o.positionZ.linearRampToValueAtTime(e.z,c),o.forwardX.linearRampToValueAtTime(r.x,c),o.forwardY.linearRampToValueAtTime(r.y,c),o.forwardZ.linearRampToValueAtTime(r.z,c),o.upX.linearRampToValueAtTime(s.x,c),o.upY.linearRampToValueAtTime(s.y,c),o.upZ.linearRampToValueAtTime(s.z,c)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),el.prototype=Object.assign(Object.create(wr.prototype),{constructor:el,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),tl.prototype=Object.assign(Object.create(el.prototype),{constructor:tl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new qn,t=new Wn,n=new qn,r=new qn;return function(i){if(wr.prototype.updateMatrixWorld.call(this,i),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(e.x,o),a.positionY.linearRampToValueAtTime(e.y,o),a.positionZ.linearRampToValueAtTime(e.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z)}}}()}),Object.assign(nl.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(rl.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*t;this._mixBufferRegion(n,r,o,1-i,t)}for(var s=t,c=t+t;s!==c;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){Wn.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}});var il,al;function ol(e,t,n){var r=n||sl.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function sl(e,t,n){this.path=t,this.parsedPath=n||sl.parseTrackName(t),this.node=sl.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function cl(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,a=new Array(i),o={endingStart:2400,endingEnd:2400},s=0;s!==i;++s){var c=r[s].createInterpolant(null);a[s]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function ll(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ul(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function dl(){jr.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function hl(e,t,n){Ha.call(this,e,t),this.meshPerAttribute=n||1}function fl(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Sr.call(this,e,t,n),this.meshPerAttribute=r||1}function pl(e,t){return e.distance-t.distance}function ml(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,a=0,o=i.length;a<o;a++)ml(i[a],t,n,!0)}function gl(e,t){this.min=void 0!==e?e:new Gn(1/0,1/0),this.max=void 0!==t?t:new Gn(-1/0,-1/0)}function vl(e,t){this.start=void 0!==e?e:new qn,this.end=void 0!==t?t:new qn}function yl(e){wr.call(this),this.material=e,this.render=function(){}}function bl(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var c=new jr,l=new Lr(2*o*3,3);c.addAttribute("position",l),Ja.call(this,c,new Xa({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function wl(e,t){wr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new jr,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1;i<32;i++,a++){var o=i/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Lr(r,3));var c=new Xa({fog:!1});this.cone=new Ja(n,c),this.add(this.cone),this.update()}function _l(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new jr,r=[],i=[],a=new dr(0,0,1),o=new dr(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.addAttribute("position",new Lr(r,3)),n.addAttribute("color",new Lr(i,3));var l=new Xa({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});Ja.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function El(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new is(t,4,2),i=new qr({wireframe:!0,fog:!1});Yr.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Sl(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new jr;n.addAttribute("position",new Lr([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new Xa({fog:!1});Qa.call(this,n,r);var i=new jr;i.addAttribute("position",new Lr([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Yr(i,new qr({side:1,fog:!1}))),this.update()}function xl(e,t,n){wr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new mo(t);r.rotateY(.5*Math.PI),this.material=new qr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.addAttribute("color",new Sr(a,3)),this.add(new Yr(r,this.material)),this.update()}function Tl(e,t,n,r){e=e||10,t=t||10,n=new dr(void 0!==n?n:4473924),r=new dr(void 0!==r?r:8947848);for(var i=t/2,a=e/t,o=e/2,s=[],c=[],l=0,u=0,d=-o;l<=t;l++,d+=a){s.push(-o,0,d,o,0,d),s.push(d,0,-o,d,0,o);var h=l===i?n:r;h.toArray(c,u),u+=3,h.toArray(c,u),u+=3,h.toArray(c,u),u+=3,h.toArray(c,u),u+=3}var f=new jr;f.addAttribute("position",new Lr(s,3)),f.addAttribute("color",new Lr(c,3));var p=new Xa({vertexColors:2});Ja.call(this,f,p)}function Ol(e,t,n,r,i,a){e=e||10,t=t||16,n=n||8,r=r||64,i=new dr(void 0!==i?i:4473924),a=new dr(void 0!==a?a:8947848);var o,s,c,l,u,d,h,f=[],p=[];for(l=0;l<=t;l++)c=l/t*(2*Math.PI),o=Math.sin(c)*e,s=Math.cos(c)*e,f.push(0,0,0),f.push(o,0,s),h=1&l?i:a,p.push(h.r,h.g,h.b),p.push(h.r,h.g,h.b);for(l=0;l<=n;l++)for(h=1&l?i:a,d=e-e/n*l,u=0;u<r;u++)c=u/r*(2*Math.PI),o=Math.sin(c)*d,s=Math.cos(c)*d,f.push(o,0,s),p.push(h.r,h.g,h.b),c=(u+1)/r*(2*Math.PI),o=Math.sin(c)*d,s=Math.cos(c)*d,f.push(o,0,s),p.push(h.r,h.g,h.b);var m=new jr;m.addAttribute("position",new Lr(f,3)),m.addAttribute("color",new Lr(p,3));var g=new Xa({vertexColors:2});Ja.call(this,m,g)}function kl(e,t,n,r){this.audio=e,this.range=t||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=r||2;var i=new jr,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));i.addAttribute("position",new Sr(o,3));var s=new Xa({color:65280}),c=new Xa({color:16776960});Qa.call(this,i,[c,s]),this.update()}function Ml(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new jr,l=new Lr(2*o*3,3);c.addAttribute("position",l),Ja.call(this,c,new Xa({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Al(e,t,n){wr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new jr;r.addAttribute("position",new Lr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Xa({fog:!1});this.lightPlane=new Qa(r,i),this.add(this.lightPlane),(r=new jr).addAttribute("position",new Lr([0,0,0,0,0,1],3)),this.targetLine=new Qa(r,i),this.add(this.targetLine),this.update()}function Cl(e){var t=new jr,n=new Xa({color:16777215,vertexColors:1}),r=[],i=[],a={},o=new dr(16755200),s=new dr(16711680),c=new dr(43775),l=new dr(16777215),u=new dr(3355443);function d(e,t,n){h(e,n),h(t,n)}function h(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}d("n1","n2",o),d("n2","n4",o),d("n4","n3",o),d("n3","n1",o),d("f1","f2",o),d("f2","f4",o),d("f4","f3",o),d("f3","f1",o),d("n1","f1",o),d("n2","f2",o),d("n3","f3",o),d("n4","f4",o),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",c),d("u2","u3",c),d("u3","u1",c),d("c","t",l),d("p","c",u),d("cn1","cn2",u),d("cn3","cn4",u),d("cf1","cf2",u),d("cf3","cf4",u),t.addAttribute("position",new Lr(r,3)),t.addAttribute("color",new Lr(i,3)),Ja.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Ll(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new jr;i.setIndex(new Sr(n,1)),i.addAttribute("position",new Sr(r,3)),Ja.call(this,i,new Xa({color:t})),this.matrixAutoUpdate=!1,this.update()}function Pl(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new jr;i.setIndex(new Sr(r,1)),i.addAttribute("position",new Lr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ja.call(this,i,new Xa({color:n})),this.geometry.computeBoundingSphere()}function Rl(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new jr;i.addAttribute("position",new Lr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Qa.call(this,i,new Xa({color:r}));var a=new jr;a.addAttribute("position",new Lr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Yr(a,new qr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Il(e,t,n,r,i,a){wr.call(this),void 0===e&&(e=new qn(0,0,1)),void 0===t&&(t=new qn(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===il&&((il=new jr).addAttribute("position",new Lr([0,0,0,0,1,0],3)),(al=new ps(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Qa(il,new Xa({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yr(al,new qr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}function Nl(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new jr;n.addAttribute("position",new Lr(t,3)),n.addAttribute("color",new Lr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Xa({vertexColors:2});Ja.call(this,n,r)}Object.assign(ol.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(sl,{Composite:ol,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new sl.Composite(e,t,n):new sl(e,t,n)},sanitizeNodeName:function(){var e=new RegExp("[\\[\\]\\.:\\/]","g");return function(t){return t.replace(/\s/g,"_").replace(e,"")}}(),parseTrackName:function(){var e="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",t=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),n=/(WCOD+)?/.source.replace("WCOD",e),r=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),i=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),a=new RegExp("^"+t+n+r+i+"$"),o=["material","materials","bones"];return function(e){var t=a.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==o.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}),Object.assign(sl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=sl.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[r];if(void 0!==s){var c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===i){i=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===i){i=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(sl.prototype,{_getValue_unbound:sl.prototype.getValue,_setValue_unbound:sl.prototype.setValue}),Object.assign(function(){this.uuid=Vn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,c=void 0,l=0,u=arguments.length;l!==u;++l){var d=arguments[l],h=d.uuid,f=r[h];if(void 0===f){f=t++,r[h]=f,e.push(d);for(var p=0,m=s;p!==m;++p)o[p].push(new sl(d,i[p],a[p]))}else if(f<n){c=e[f];var g=--n,v=e[g];r[v.uuid]=f,e[f]=v,r[h]=g,e[g]=d;for(p=0,m=s;p!==m;++p){var y=o[p],b=y[g],w=y[f];y[f]=b,void 0===w&&(w=new sl(d,i[p],a[p])),y[g]=w}}else e[f]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],c=s.uuid,l=n[c];if(void 0!==l&&l>=t){var u=t++,d=e[u];n[d.uuid]=l,e[l]=d,n[c]=u,e[u]=s;for(var h=0,f=i;h!==f;++h){var p=r[h],m=p[u],g=p[l];p[l]=m,p[u]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o],l=c.uuid,u=r[l];if(void 0!==u)if(delete r[l],u<n){var d=--n,h=e[d],f=e[y=--t];r[h.uuid]=u,e[u]=h,r[f.uuid]=d,e[d]=f,e.pop();for(var p=0,m=a;p!==m;++p){var g=(b=i[p])[d],v=b[y];b[u]=g,b[d]=v,b.pop()}}else{var y;r[(f=e[y=--t]).uuid]=u,e[u]=f,e.pop();for(p=0,m=a;p!==m;++p){var b;(b=i[p])[u]=b[y],b.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(u);for(var d=l,h=s.length;d!==h;++d){var f=s[d];u[d]=new sl(f,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}),Object.assign(cl.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=i,s[1]=i+n,c[0]=e/o,c[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var c=this._interpolants,l=this._propertyBindings,u=0,d=c.length;u!==d;++u)c[u].evaluate(o),l[u].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,a=2202===r;if(0===e)return-1===i?t:a&&1===(1&i)?n-t:t;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1===(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}),ll.prototype=Object.assign(Object.create(Bn.prototype),{constructor:ll,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==i;++u){var d=r[u],h=d.name,f=l[h];if(void 0!==f)a[u]=f;else{if(void 0!==(f=a[u])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,h));continue}var p=t&&t._propertyBindings[u].binding.parsedPath;++(f=new rl(sl.create(n,h,p),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(f,s,h),a[u]=f}o[u].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,c=s[s.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],a=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete o[i];e:{for(var l in o)break e;delete a[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Is(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Gs.findByName(n,e):e,a=null!==i?i.uuid:e,o=this._actionsByClip[a],s=null;if(void 0!==o){var c=o.actionByRoot[r];if(void 0!==c)return c;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new cl(this,i,t);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Gs.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}var s=this._bindings,c=this._nActiveBindings;for(o=0;o!==c;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var l=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,t[l]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),ul.prototype.clone=function(){return new ul(void 0===this.value.clone?this.value:this.value.clone())},dl.prototype=Object.assign(Object.create(jr.prototype),{constructor:dl,isInstancedBufferGeometry:!0,copy:function(e){return jr.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),hl.prototype=Object.assign(Object.create(Ha.prototype),{constructor:hl,isInstancedInterleavedBuffer:!0,copy:function(e){return Ha.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),fl.prototype=Object.assign(Object.create(Sr.prototype),{constructor:fl,isInstancedBufferAttribute:!0,copy:function(e){return Sr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(function(e,t,n,r){this.ray=new Gr(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return ml(e,this,r,t),r.sort(pl),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=e.length;i<a;i++)ml(e[i],this,r,t);return r.sort(pl),r}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Vn.clamp(t/this.radius,-1,1))),this}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(gl.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Gn;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Gn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Gn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Gn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Gn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Gn;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(vl.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new qn),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new qn),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new qn),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new qn,t=new qn;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),a=t.dot(e)/i;return r&&(a=Vn.clamp(a,0,1)),a}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new qn),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),yl.prototype=Object.create(wr.prototype),yl.prototype.constructor=yl,yl.prototype.isImmediateRenderObject=!0,bl.prototype=Object.create(Ja.prototype),bl.prototype.constructor=bl,bl.prototype.update=function(){var e=new qn,t=new qn,n=new Yn;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,c=o.faces,l=0,u=0,d=c.length;u<d;u++)for(var h=c[u],f=0,p=h.vertexNormals.length;f<p;f++){var m=s[h[r[f]]],g=h.vertexNormals[f];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(l,e.x,e.y,e.z),l+=1,a.setXYZ(l,t.x,t.y,t.z),l+=1}else if(o&&o.isBufferGeometry){var v=o.attributes.position,y=o.attributes.normal;for(l=0,f=0,p=v.count;f<p;f++)e.set(v.getX(f),v.getY(f),v.getZ(f)).applyMatrix4(i),t.set(y.getX(f),y.getY(f),y.getZ(f)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(l,e.x,e.y,e.z),l+=1,a.setXYZ(l,t.x,t.y,t.z),l+=1}a.needsUpdate=!0}}(),wl.prototype=Object.create(wr.prototype),wl.prototype.constructor=wl,wl.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},wl.prototype.update=function(){var e=new qn;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),_l.prototype=Object.create(Ja.prototype),_l.prototype.constructor=_l,_l.prototype.updateMatrixWorld=function(){var e=new qn,t=new or,n=new or;return function(r){var i=this.bones,a=this.geometry,o=a.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,c=0;s<i.length;s++){var l=i[s];l.parent&&l.parent.isBone&&(t.multiplyMatrices(n,l.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(c,e.x,e.y,e.z),t.multiplyMatrices(n,l.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(c+1,e.x,e.y,e.z),c+=2)}a.getAttribute("position").needsUpdate=!0,wr.prototype.updateMatrixWorld.call(this,r)}}(),El.prototype=Object.create(Yr.prototype),El.prototype.constructor=El,El.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},El.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Sl.prototype=Object.create(Qa.prototype),Sl.prototype.constructor=Sl,Sl.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},Sl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},xl.prototype=Object.create(wr.prototype),xl.prototype.constructor=xl,xl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},xl.prototype.update=function(){var e=new qn,t=new dr,n=new dr;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,o=i.count;a<o;a++){var s=a<o/2?t:n;i.setXYZ(a,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Tl.prototype=Object.assign(Object.create(Ja.prototype),{constructor:Tl,copy:function(e){return Ja.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Ol.prototype=Object.create(Ja.prototype),Ol.prototype.constructor=Ol,kl.prototype=Object.create(Qa.prototype),kl.prototype.constructor=kl,kl.prototype.update=function(){var e,t,n=this.audio,r=this.range,i=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=Vn.degToRad(n.panner.coneInnerAngle),s=Vn.degToRad(n.panner.coneOuterAngle),c=o/2,l=s/2,u=0,d=0,h=this.geometry,f=h.attributes.position;function p(n,i,a,o){var s=(i-n)/a;for(f.setXYZ(u,0,0,0),d++,e=n;e<i;e+=s)t=u+d,f.setXYZ(t,Math.sin(e)*r,0,Math.cos(e)*r),f.setXYZ(t+1,Math.sin(Math.min(e+s,i))*r,0,Math.cos(Math.min(e+s,i))*r),f.setXYZ(t+2,0,0,0),d+=3;h.addGroup(u,d,o),u+=d,d=0}h.clearGroups(),p(-l,-c,a,0),p(-c,c,i,1),p(c,l,a,0),f.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},kl.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},Ml.prototype=Object.create(Ja.prototype),Ml.prototype.constructor=Ml,Ml.prototype.update=function(){var e=new qn,t=new qn,n=new Yn;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,c=0,l=0,u=s.length;l<u;l++){var d=s[l],h=d.normal;e.copy(o[d.a]).add(o[d.b]).add(o[d.c]).divideScalar(3).applyMatrix4(r),t.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(c,e.x,e.y,e.z),c+=1,i.setXYZ(c,t.x,t.y,t.z),c+=1}i.needsUpdate=!0}}(),Al.prototype=Object.create(wr.prototype),Al.prototype.constructor=Al,Al.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Al.prototype.update=function(){var e=new qn,t=new qn,n=new qn;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}(),Cl.prototype=Object.create(Ja.prototype),Cl.prototype.constructor=Cl,Cl.prototype.update=function(){var e,t,n=new qn,r=new Aa;function i(i,a,o,s){n.set(a,o,s).unproject(r);var c=t[i];if(void 0!==c)for(var l=e.getAttribute("position"),u=0,d=c.length;u<d;u++)l.setXYZ(c[u],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap;r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),Ll.prototype=Object.create(Ja.prototype),Ll.prototype.constructor=Ll,Ll.prototype.update=function(){var e=new nr;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Ll.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Ll.prototype.copy=function(e){return Ja.prototype.copy.call(this,e),this.object=e.object,this},Ll.prototype.clone=function(){return(new this.constructor).copy(this)},Pl.prototype=Object.create(Ja.prototype),Pl.prototype.constructor=Pl,Pl.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),wr.prototype.updateMatrixWorld.call(this,e))},Rl.prototype=Object.create(Qa.prototype),Rl.prototype.constructor=Rl,Rl.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),wr.prototype.updateMatrixWorld.call(this,e)},Il.prototype=Object.create(wr.prototype),Il.prototype.constructor=Il,Il.prototype.setDirection=function(){var e,t=new qn;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),Il.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Il.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Il.prototype.copy=function(e){return wr.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Il.prototype.clone=function(){return(new this.constructor).copy(this)},Nl.prototype=Object.create(Ja.prototype),Nl.prototype.constructor=Nl;function jl(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),lc.call(this,e),this.type="catmullrom"}tc.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(tc.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(_c.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Er,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new qn(i.x,i.y,i.z||0))}return t}}),Object.assign(Ec.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(lc.prototype),Object.create(lc.prototype),jl.prototype=Object.create(lc.prototype),Object.assign(jl.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Tl.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},_l.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Zc.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),jc(e)}}),Object.assign(Fc.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(gl.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(nr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),vl.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Vn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Vn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Vn.ceilPowerOfTwo(e)}}),Object.assign(Yn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(or.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new qn),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)}}),ir.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Wn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Gr.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Wr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Wr,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Wr.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Wr.getNormal(e,t,n,r)}}),Object.assign(Sc.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Qo(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ls(this,e)}}),Object.assign(Gn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(qn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Qn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Er.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(wr.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(wr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(qa.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Za.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Ya.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(tc.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Ca.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(xc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Sr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(jr.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(jr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Jo.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(ul.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Hr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new dr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(xs.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Vr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(za.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")}}),Object.defineProperties(za.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(xa.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(er.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(Jn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(ja.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),el.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Xc).load(e,(function(e){t.setBuffer(e)})),this},nl.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Qc.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Zn.crossOrigin=void 0,Zn.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ec;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},Zn.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new $s;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},Zn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Zn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function Dl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zl(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Fl,Ul,Bl,Hl,Vl,Gl,Wl,ql,Yl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Zl={duration:.5,overwrite:!1,delay:0},Kl=1e8,Xl=2*Math.PI,Ql=Xl/4,Jl=0,$l=Math.sqrt,eu=Math.cos,tu=Math.sin,nu=function(e){return"string"===typeof e},ru=function(e){return"function"===typeof e},iu=function(e){return"number"===typeof e},au=function(e){return"undefined"===typeof e},ou=function(e){return"object"===typeof e},su=function(e){return!1!==e},cu=function(){return"undefined"!==typeof window},lu=function(e){return ru(e)||nu(e)},uu=Array.isArray,du=/(?:-?\.?\d|\.)+/gi,hu=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,fu=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,pu=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,mu=/\(([^()]+)\)/i,gu=/[+-]=-?[\.\d]+/,vu=/[#\-+.]*\b[a-z\d-=+%.]+/gi,yu={},bu={},wu=function(e){return(bu=qu(e,yu))&&Th},_u=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Eu=function(e,t){return!t&&console.warn(e)},Su=function(e,t){return e&&(yu[e]=t)&&bu&&(bu[e]=t)||yu},xu=function(){return 0},Tu={},Ou=[],ku={},Mu={},Au={},Cu=30,Lu=[],Pu="",Ru=function(e){var t,n,r=e[0];if(ou(r)||ru(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Lu.length;n--&&!Lu[n].targetTest(r););t=Lu[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Xd(e[n],t)))||e.splice(n,1);return e},Iu=function(e){return e._gsap||Ru(vd(e))[0]._gsap},Nu=function(e,t){var n=e[t];return ru(n)?e[t]():au(n)&&e.getAttribute(t)||n},ju=function(e,t){return(e=e.split(",")).forEach(t)||e},Du=function(e){return Math.round(1e5*e)/1e5||0},zu=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Fu=function(e,t,n){var r,i=iu(e[1]),a=(i?2:1)+(t<2?0:1),o=e[a];if(i&&(o.duration=e[1]),o.parent=n,t){for(r=o;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=su(n.vars.inherit)&&n.parent;o.immediateRender=su(r.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return o},Uu=function(){var e,t,n=Ou.length,r=Ou.slice(0);for(ku={},Ou.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Bu=function(e,t,n,r){Ou.length&&Uu(),e.render(t,n,r),Ou.length&&Uu()},Hu=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(vu).length<2?t:e},Vu=function(e){return e},Gu=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Wu=function(e,t){for(var n in t)n in e||"duration"===n||"ease"===n||(e[n]=t[n])},qu=function(e,t){for(var n in t)e[n]=t[n];return e},Yu=function e(t,n){for(var r in n)t[r]=ou(n[r])?e(t[r]||(t[r]={}),n[r]):n[r];return t},Zu=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Ku=function(e){var t=e.parent||Fl,n=e.keyframes?Wu:Gu;if(su(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent;return e},Xu=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Qu=function(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0},Ju=function(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e},$u=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},ed=function(e){return e._repeat?td(e._tTime,e=e.duration()+e._rDelay)*e:0},td=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},nd=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},rd=function(e){return e._end=Du(e._start+(e._tDur/Math.abs(e._ts||e._rts||1e-8)||0))},id=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=nd(e.rawTime(),t),(!t._dur||hd(0,t.totalDuration(),n)-t._tTime>1e-8)&&t.render(n,!0)),Ju(e)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},ad=function(e,t,n,r){return t.parent&&Qu(t),t._start=Du(n+t._delay),t._end=Du(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,r||id(e,t),e},od=function(e,t,n,r){return rh(e,t),e._initted?!n&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&Gl!==zd.frame?(Ou.push(e),e._lazy=[t,r],1):void 0:1},sd=function(e,t,n){var r=e._repeat,i=Du(t)||0;return e._dur=i,e._tDur=r?r<0?1e12:Du(i*(r+1)+e._rDelay*r):i,e._time>i&&(e._time=i,e._tTime=Math.min(e._tTime,e._tDur)),!n&&Ju(e.parent),e.parent&&rd(e),e},cd=function(e){return e instanceof Jd?Ju(e):sd(e,e._dur)},ld={_start:0,endTime:xu},ud=function e(t,n){var r,i,a=t.labels,o=t._recent||ld,s=t.duration()>=Kl?o.endTime(!1):t._dur;return nu(n)&&(isNaN(n)||n in a)?"<"===(r=n.charAt(0))||">"===r?("<"===r?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in a||(a[n]=s),a[n]):(i=+(n.charAt(r-1)+n.substr(r+1)),r>1?e(t,n.substr(0,r-1))+i:s+i):null==n?s:+n},dd=function(e,t){return e||0===e?t(e):t},hd=function(e,t,n){return n<e?e:n>t?t:n},fd=function(e){return(e+"").substr((parseFloat(e)+"").length)},pd=[].slice,md=function(e,t){return e&&ou(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ou(e[0]))&&!e.nodeType&&e!==Ul},gd=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return nu(e)&&!t||md(e,1)?(r=n).push.apply(r,vd(e)):n.push(e)}))||n},vd=function(e,t){return!nu(e)||t||!Bl&&Fd()?uu(e)?gd(e,t):md(e)?pd.call(e,0):e?[e]:[]:pd.call(Hl.querySelectorAll(e),0)},yd=function(e){return e.sort((function(){return.5-Math.random()}))},bd=function(e){if(ru(e))return e;var t=ou(e)?e:{each:e},n=Wd(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,c=t.axis,l=r,u=r;return nu(r)?l=u={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(l=r[0],u=r[1]),function(e,o,d){var h,f,p,m,g,v,y,b,w,_=(d||t).length,E=a[_];if(!E){if(!(w="auto"===t.grid?0:(t.grid||[1,Kl])[1])){for(y=-Kl;y<(y=d[w++].getBoundingClientRect().left)&&w<_;);w--}for(E=a[_]=[],h=s?Math.min(w,_)*l-.5:r%w,f=s?_*u/w-.5:r/w|0,y=0,b=Kl,v=0;v<_;v++)p=v%w-h,m=f-(v/w|0),E[v]=g=c?Math.abs("y"===c?m:p):$l(p*p+m*m),g>y&&(y=g),g<b&&(b=g);"random"===r&&yd(E),E.max=y-b,E.min=b,E.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(w>_?_-1:c?"y"===c?_/w:w:Math.max(w,_/w))||0)*("edges"===r?-1:1),E.b=_<0?i-_:i,E.u=fd(t.amount||t.each)||0,n=n&&_<0?Gd(n):n}return _=(E[e]-E.min)/E.max||0,Du(E.b+(n?n(_):_)*E.v)+E.u}},wd=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(n){return~~(Math.round(parseFloat(n)/e)*e*t)/t+(iu(n)?0:fd(n))}},_d=function(e,t){var n,r,i=uu(e);return!i&&ou(e)&&(n=i=e.radius||Kl,e.values?(e=vd(e.values),(r=!iu(e[0]))&&(n*=n)):e=wd(e.increment)),dd(t,i?ru(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,o=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),c=Kl,l=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(a=e[u].y-s)*a:Math.abs(e[u]-o))<c&&(c=i,l=u);return l=!n||c<=n?e[l]:t,r||l===t||iu(t)?l:l+fd(t)}:wd(e))},Ed=function(e,t,n,r){return dd(uu(e)?!t:!0===n?!!(n=0):!r,(function(){return uu(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&~~(Math.round((e+Math.random()*(t-e))/n)*n*r)/r}))},Sd=function(e,t,n){return dd(n,(function(n){return e[~~t(n)]}))},xd=function(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?vu:du),o+=e.substr(a,t-a)+Ed(i?n:+n[0],+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)},Td=function(e,t,n,r,i){var a=t-e,o=r-n;return dd(i,(function(t){return n+(t-e)/a*o}))},Od=function(e,t,n){var r,i,a,o=e.labels,s=Kl;for(r in o)(i=o[r]-t)<0===!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},kd=function(e,t,n){var r,i,a=e.vars,o=a[t];if(o)return r=a[t+"Params"],i=a.callbackScope||e,n&&Ou.length&&Uu(),r?o.apply(i,r):o.call(i)},Md=function(e){return Qu(e),e.progress()<1&&kd(e,"onInterrupt"),e},Ad=function(e){var t=(e=!e.name&&e.default||e).name,n=ru(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:xu,render:gh,add:th,kill:yh,modifier:vh,rawVars:0},a={targetTest:0,get:0,getSetter:hh,aliases:{},register:0};if(Fd(),e!==r){if(Mu[t])return;Gu(r,Gu(Zu(e,i),a)),qu(r.prototype,qu(i,Zu(e,a))),Mu[r.prop=t]=r,e.targetTest&&(Lu.push(r),Tu[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Su(t,r),e.register&&e.register(Th,r,_h)},Cd={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Ld=function(e,t,n){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},Pd=function(e,t,n){var r,i,a,o,s,c,l,u,d,h,f=e?iu(e)?[e>>16,e>>8&255,255&e]:0:Cd.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Cd[e])f=Cd[e];else if("#"===e.charAt(0))4===e.length&&(r=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+r+r+i+i+a+a),f=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(f=h=e.match(du),t){if(~e.indexOf("="))return f=e.match(hu),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,s=+f[1]/100,r=2*(c=+f[2]/100)-(i=c<=.5?c*(s+1):c+s-c*s),f.length>3&&(f[3]*=1),f[0]=Ld(o+1/3,r,i),f[1]=Ld(o,r,i),f[2]=Ld(o-1/3,r,i);else f=e.match(du)||Cd.transparent;f=f.map(Number)}return t&&!h&&(r=f[0]/255,i=f[1]/255,a=f[2]/255,c=((l=Math.max(r,i,a))+(u=Math.min(r,i,a)))/2,l===u?o=s=0:(d=l-u,s=c>.5?d/(2-l-u):d/(l+u),o=l===r?(i-a)/d+(i<a?6:0):l===i?(a-r)/d+2:(r-i)/d+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*s+.5),f[2]=~~(100*c+.5)),n&&f.length<4&&(f[3]=1),f},Rd=function(e){var t=[],n=[],r=-1;return e.split(Nd).forEach((function(e){var i=e.match(fu)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},Id=function(e,t,n){var r,i,a,o,s="",c=(e+s).match(Nd),l=t?"hsla(":"rgba(",u=0;if(!c)return e;if(c=c.map((function(e){return(e=Pd(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=Rd(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(Nd,"1").split(fu)).length-1;u<o;u++)s+=i[u]+(~r.indexOf(u)?c.shift()||l+"0,0,0,0)":(a.length?a:c.length?c:n).shift());if(!i)for(o=(i=e.split(Nd)).length-1;u<o;u++)s+=i[u]+c[u];return s+i[o]},Nd=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in Cd)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),jd=/hsl[a]?\(/,Dd=function(e){var t,n=e.join(" ");if(Nd.lastIndex=0,Nd.test(n))return t=jd.test(n),e[1]=Id(e[1],t),e[0]=Id(e[0],t,Rd(e[1])),!0},zd=function(){var e,t,n,r,i=Date.now,a=500,o=33,s=i(),c=s,l=1/240,u=l,d=[],h=function n(h){var f,p,m=i()-c,g=!0===h;m>a&&(s+=m-o),c+=m,r.time=(c-s)/1e3,((f=r.time-u)>0||g)&&(r.frame++,u+=f+(f>=l?.004:l-f),p=1),g||(e=t(n)),p&&d.forEach((function(e){return e(r.time,m,r.frame,h)}))};return r={time:0,frame:0,tick:function(){h(!0)},wake:function(){Vl&&(!Bl&&cu()&&(Ul=Bl=window,Hl=Ul.document||{},yu.gsap=Th,(Ul.gsapVersions||(Ul.gsapVersions=[])).push(Th.version),wu(bu||Ul.GreenSockGlobals||!Ul.gsap&&Ul||{}),n=Ul.requestAnimationFrame),e&&r.sleep(),t=n||function(e){return setTimeout(e,1e3*(u-r.time)+1|0)},ql=1,h(2))},sleep:function(){(n?Ul.cancelAnimationFrame:clearTimeout)(e),ql=0,t=xu},lagSmoothing:function(e,t){a=e||1/1e-8,o=Math.min(t,a,0)},fps:function(e){l=1/(e||240),u=r.time+l},add:function(e){d.indexOf(e)<0&&d.push(e),Fd()},remove:function(e){var t;~(t=d.indexOf(e))&&d.splice(t,1)},_listeners:d}}(),Fd=function(){return!ql&&zd.wake()},Ud={},Bd=/^[\d.\-M][\d.\-,\s]/,Hd=/["']/g,Vd=function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,c=a.length;s<c;s++)n=a[s],t=s!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(Hd,"").trim():+r,o=n.substr(t+1).trim();return i},Gd=function(e){return function(t){return 1-e(1-t)}},Wd=function(e,t){return e&&(ru(e)?e:Ud[e]||function(e){var t=(e+"").split("("),n=Ud[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Vd(t[1])]:mu.exec(e)[1].split(",").map(Hu)):Ud._CE&&Bd.test(e)?Ud._CE("",e):n}(e))||t},qd=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return ju(e,(function(e){for(var t in Ud[e]=yu[e]=a,Ud[i=e.toLowerCase()]=n,a)Ud[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Ud[e+"."+t]=a[t]})),a},Yd=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Zd=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),o=a/Xl*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*tu((e-o)*a)+1},c="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:Yd(s);return a=Xl/a,c.config=function(n,r){return e(t,n,r)},c},Kd=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Yd(r);return i.config=function(n){return e(t,n)},i};ju("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;qd(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),Ud.Linear.easeNone=Ud.none=Ud.Linear.easeIn,qd("Elastic",Zd("in"),Zd("out"),Zd()),function(e,t){var n=1/t,r=function(r){return r<n?e*r*r:r<.7272727272727273?e*Math.pow(r-1.5/t,2)+.75:r<.9090909090909092?e*(r-=2.25/t)*r+.9375:e*Math.pow(r-2.625/t,2)+.984375};qd("Bounce",(function(e){return 1-r(1-e)}),r)}(7.5625,2.75),qd("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),qd("Circ",(function(e){return-($l(1-e*e)-1)})),qd("Sine",(function(e){return 1-eu(e*Ql)})),qd("Back",Kd("in"),Kd("out"),Kd()),Ud.SteppedEase=Ud.steps=yu.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*hd(0,1-1e-8,e)|0)+i)*n}}},Zl.ease=Ud["quad.out"],ju("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return Pu+=e+","+e+"Params,"}));var Xd=function(e,t){this.id=Jl++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Nu,this.set=t?t.getSetter:hh},Qd=function(){function e(e,t){var n=e.parent||Fl;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,sd(this,+e.duration,1),this.data=e.data,ql||zd.wake(),n&&ad(n,this,t||0===t?t:n._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,sd(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Fd(),!arguments.length)return this._tTime;var n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(this._start=Du(n._time-(this._ts>0?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts)),rd(this),n._dirty||Ju(n);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&ad(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&1e-8===Math.abs(this._zTime))&&(this._ts||(this._pTime=e),Bu(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+ed(this))%this._dur||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+ed(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?td(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?nd(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,$u(this.totalTime(hd(0,this._tDur,t),!0))},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Fd(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8)&&1e-8!==Math.abs(this._zTime)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&ad(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(su(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?nd(t.rawTime(e),this):this._tTime:this._tTime},t.repeat=function(e){return arguments.length?(this._repeat=e,cd(this)):this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,cd(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(ud(this,e),su(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,su(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=0,this._zTime=-1e-8,this},t.isActive=function(e){var t,n=this.parent||this._dp,r=this._start;return!(n&&!(this._ts&&(this._initted||!e)&&n.isActive(e)&&(t=n.rawTime(!0))>=r&&t<this.endTime(!0)-1e-8))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=ru(e)?e:Vu,i=function(){var e=t.then;t.then=null,ru(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){Md(this)},e}();Gu(Qd.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Jd=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t,n)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=su(t.sortChildren),r.parent&&id(r.parent,Dl(r)),r}zl(t,e);var n=t.prototype;return n.to=function(e,t,n){return new sh(e,Fu(arguments,0,this),ud(this,iu(t)?arguments[3]:n)),this},n.from=function(e,t,n){return new sh(e,Fu(arguments,1,this),ud(this,iu(t)?arguments[3]:n)),this},n.fromTo=function(e,t,n,r){return new sh(e,Fu(arguments,2,this),ud(this,iu(t)?arguments[4]:r)),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Ku(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new sh(e,t,ud(this,n),1),this},n.call=function(e,t,n){return ad(this,sh.delayedCall(0,e,t),ud(this,n))},n.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new sh(e,n,ud(this,i)),this},n.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,Ku(n).immediateRender=su(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},n.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,Ku(r).immediateRender=su(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},n.render=function(e,t,n){var r,i,a,o,s,c,l,u,d,h,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=this!==Fl&&e>g-1e-8&&e>=0?g:e<1e-8?0:e,b=this._zTime<0!==e<0&&(this._initted||!v);if(y!==this._tTime||n||b){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,d=this._start,c=!(u=this._ts),b&&(v||(m=this._zTime),!e&&t||(this._zTime=e)),this._repeat&&(f=this._yoyo,s=v+this._rDelay,((r=Du(y%s))>v||g===y)&&(r=v),(o=~~(y/s))&&o===y/s&&(r=v,o--),f&&1&o&&(r=v-r,p=1),o!==(h=td(this._tTime,s))&&!this._lock)){var w=f&&1&h,_=w===(f&&1&o);if(o<h&&(w=!w),m=w?0:v,this._lock=1,this.render(m,t,!v)._lock=0,!t&&this.parent&&kd(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),m!==this._time||c!==!this._ts)return this;if(_&&(this._lock=2,m=w?v+1e-4:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!c)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Du(m),Du(r)))&&(y-=r-(r=l._start)),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e),m||!r||t||kd(this,"onStart"),r>=m&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){l=0,a&&(y+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var E=e<0?e:r;i;){if(a=i._prev,(i._act||E<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(E-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(E-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){l=0,a&&(y+=this._zTime=E?-1e-8:1e-8);break}}i=a}}if(l&&!t&&(this.pause(),l.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=d,rd(this),this.render(e,t,n);this._onUpdate&&!t&&kd(this,"onUpdate",!0),(y===g&&g>=this.totalDuration()||!y&&this._ts<0)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(e&&this._ts>0||!y&&this._ts<0)&&Qu(this,1),t||e<0&&!m||(kd(this,y===g?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},n.add=function(e,t){var n=this;if(iu(t)||(t=ud(this,t)),!(e instanceof Qd)){if(uu(e))return e.forEach((function(e){return n.add(e,t)})),Ju(this);if(nu(e))return this.addLabel(e,t);if(!ru(e))return this;e=sh.delayedCall(0,e)}return this!==e?ad(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-Kl);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof sh?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return nu(e)?this.removeLabel(e):ru(e)?this.killTweensOf(e):(Xu(this,e),e===this._recent&&(this._recent=this._last),Ju(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=Du(zd.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=ud(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=sh.delayedCall(0,t||xu,n);return r.data="isPause",this._hasPause=1,ad(this,r,ud(this,e))},n.removePause=function(e){var t=this._first;for(e=ud(this,e);t;)t._start===e&&"isPause"===t.data&&Qu(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)$d!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=vd(e),a=this._first;a;)a instanceof sh?!zu(a._targets,i)||t&&!a.isActive("started"===t)||r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(e,t){t=t||{};var n=this,r=ud(n,e),i=t,a=i.startAt,o=i.onStart,s=i.onStartParams,c=sh.to(n,Gu(t,{ease:"none",lazy:!1,time:r,duration:t.duration||Math.abs((r-(a&&"time"in a?a.time:n._time))/n.timeScale())||1e-8,onStart:function(){n.pause();var e=t.duration||Math.abs((r-n._time)/n.timeScale());c._dur!==e&&sd(c,e).render(c._time,!0,!0),o&&o.apply(c,s||[])}}));return c},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Gu({startAt:{time:ud(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),Od(this,ud(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),Od(this,ud(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return Ju(this)},n.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._time=this._tTime=0,e&&(this.labels={}),Ju(this)},n.totalDuration=function(e){var t,n,r,i,a=0,o=this,s=o._last,c=Kl;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(i=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(r=s._start)>c&&o._sort&&s._ts&&!o._lock?(o._lock=1,ad(o,s,r-s._delay,1)._lock=0):c=r,r<0&&s._ts&&(a-=r,(!i&&!o._dp||i&&i.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-1e20),c=0),(n=rd(s))>a&&s._ts&&(a=n),s=t;sd(o,o===Fl&&o._time>a?o._time:Math.min(Kl,a),1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(Fl._ts&&(Bu(Fl,nd(e,Fl)),Gl=zd.frame),zd.frame>=Cu){Cu+=Yl.autoSleep||120;var t=Fl._first;if((!t||!t._ts)&&Yl.autoSleep&&zd._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||zd.sleep()}}},t}(Qd);Gu(Jd.prototype,{_lock:0,_hasPause:0,_forcing:0});var $d,eh=function(e,t,n,r,i,a,o){var s,c,l,u,d,h,f,p,m=new _h(this._pt,e,t,0,1,mh,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=xd(r)),a&&(a(p=[n,r],e,t),n=p[0],r=p[1]),c=n.match(pu)||[];s=pu.exec(r);)u=s[0],d=r.substring(g,s.index),l?l=(l+1)%5:"rgba("===d.substr(-5)&&(l=1),u!==c[v++]&&(h=parseFloat(c[v-1])||0,m._pt={_next:m._pt,p:d||1===v?d:",",s:h,c:"="===u.charAt(1)?parseFloat(u.substr(2))*("-"===u.charAt(0)?-1:1):parseFloat(u)-h,m:l&&l<4?Math.round:0},g=pu.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=o,(gu.test(r)||f)&&(m.e=0),this._pt=m,m},th=function(e,t,n,r,i,a,o,s,c){ru(r)&&(r=r(i||0,e,a));var l,u=e[t],d="get"!==n?n:ru(u)?c?e[t.indexOf("set")||!ru(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():u,h=ru(u)?c?uh:lh:ch;if(nu(r)&&(~r.indexOf("random(")&&(r=xd(r)),"="===r.charAt(1)&&(r=parseFloat(d)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(fd(d)||0))),d!==r)return isNaN(d+r)?(!u&&!(t in e)&&_u(t,r),eh.call(this,e,t,d,r,h,s||Yl.stringFilter,c)):(l=new _h(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof u?ph:fh,0,h),c&&(l.fp=c),o&&l.modifier(o,this,e),this._pt=l)},nh=function(e,t,n,r,i,a){var o,s,c,l;if(Mu[e]&&!1!==(o=new Mu[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(ru(e)&&(e=ih(e,i,t,n,r)),!ou(e)||e.style&&e.nodeType||uu(e))return nu(e)?ih(e,i,t,n,r):e;var a,o={};for(a in e)o[a]=ih(e[a],i,t,n,r);return o}(t[e],r,i,a,n),n,r,a)&&(n._pt=s=new _h(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==Wl))for(c=n._ptLookup[n._targets.indexOf(i)],l=o._props.length;l--;)c[o._props[l]]=s;return o},rh=function e(t,n){var r,i,a,o,s,c,l,u,d,h,f,p,m=t.vars,g=m.ease,v=m.startAt,y=m.immediateRender,b=m.lazy,w=m.onUpdate,_=m.onUpdateParams,E=m.callbackScope,S=m.runBackwards,x=m.yoyoEase,T=m.keyframes,O=m.autoRevert,k=t._dur,M=t._startAt,A=t._targets,C=t.parent,L=C&&"nested"===C.data?C.parent._targets:A,P="auto"===t._overwrite,R=t.timeline;if(!R||T&&g||(g="none"),t._ease=Wd(g,Zl.ease),t._yEase=x?Gd(Wd(!0===x?g:x,Zl.ease)):0,x&&t._yoyo&&!t._repeat&&(x=t._yEase,t._yEase=t._ease,t._ease=x),!R){if(M&&M.render(-1,!0).kill(),v){if(Qu(t._startAt=sh.set(A,Gu({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:su(b),startAt:null,delay:0,onUpdate:w,onUpdateParams:_,callbackScope:E,stagger:0},v))),y)if(n>0)!O&&(t._startAt=0);else if(k)return}else if(S&&k)if(M)!O&&(t._startAt=0);else if(n&&(y=!1),Qu(t._startAt=sh.set(A,qu(Zu(m,Tu),{overwrite:!1,data:"isFromStart",lazy:y&&su(b),immediateRender:y,stagger:0,parent:C}))),y){if(!n)return}else e(t._startAt,1e-8);for(r=Zu(m,Tu),t._pt=0,p=(u=A[0]?Iu(A[0]).harness:0)&&m[u.prop],b=k&&su(b)||b&&!k,i=0;i<A.length;i++){if(l=(s=A[i])._gsap||Ru(A)[i]._gsap,t._ptLookup[i]=h={},ku[l.id]&&Uu(),f=L===A?i:L.indexOf(s),u&&!1!==(d=new u).init(s,p||r,t,f,L)&&(t._pt=o=new _h(t._pt,s,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){h[e]=o})),d.priority&&(c=1)),!u||p)for(a in r)Mu[a]&&(d=nh(a,r,t,f,s,L))?d.priority&&(c=1):h[a]=o=th.call(t,s,a,"get",r[a],f,L,0,m.stringFilter);t._op&&t._op[i]&&t.kill(s,t._op[i]),P&&t._pt&&($d=t,Fl.killTweensOf(s,h,"started"),$d=0),t._pt&&b&&(ku[l.id]=1)}c&&wh(t),t._onInit&&t._onInit(t)}t._from=!R&&!!m.runBackwards,t._onUpdate=w,t._initted=1},ih=function(e,t,n,r,i){return ru(e)?e.call(t,n,r,i):nu(e)&&~e.indexOf("random(")?xd(e):e},ah=Pu+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",oh=(ah+",id,stagger,delay,duration,paused").split(","),sh=function(e){function t(t,n,r,i){var a;"number"===typeof n&&(r.duration=n,n=r,r=null);var o,s,c,l,u,d,h,f,p=(a=e.call(this,i?n:Ku(n),r)||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,b=p.overwrite,w=p.keyframes,_=p.defaults,E=a.parent,S=(uu(t)?iu(t[0]):"length"in n)?[t]:vd(t);if(a._targets=S.length?Ru(S):Eu("GSAP target "+t+" not found. https://greensock.com",!Yl.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=b,w||y||lu(m)||lu(g)){if(n=a.vars,(o=a.timeline=new Jd({data:"nested",defaults:_||{}})).kill(),o.parent=Dl(a),w)Gu(o.vars.defaults,{ease:"none"}),w.forEach((function(e){return o.to(S,e,">")}));else{if(l=S.length,h=y?bd(y):xu,ou(y))for(u in y)~ah.indexOf(u)&&(f||(f={}),f[u]=y[u]);for(s=0;s<l;s++){for(u in c={},n)oh.indexOf(u)<0&&(c[u]=n[u]);c.stagger=0,f&&qu(c,f),n.yoyoEase&&!n.repeat&&(c.yoyoEase=n.yoyoEase),d=S[s],c.duration=+ih(m,Dl(a),s,d,S),c.delay=(+ih(g,Dl(a),s,d,S)||0)-a._delay,!y&&1===l&&c.delay&&(a._delay=g=c.delay,a._start+=g,c.delay=0),o.to(d,c,h(s,d,S))}m=g=0}m||a.duration(m=o.duration())}else a.timeline=0;return!0===b&&($d=Dl(a),Fl.killTweensOf(S),$d=0),E&&id(E,Dl(a)),(v||!m&&!w&&a._start===E._time&&su(v)&&function e(t){return!t||t._ts&&e(t.parent)}(Dl(a))&&"nested"!==E.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-g))),a}zl(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,a,o,s,c,l,u,d,h=this._time,f=this._tDur,p=this._dur,m=e>f-1e-8&&e>=0?f:e<1e-8?0:e;if(p){if(m!==this._tTime||!e||n||this._startAt&&this._zTime<0!==e<0){if(r=m,u=this.timeline,this._repeat){if(o=p+this._rDelay,((r=Du(m%o))>p||f===m)&&(r=p),(a=~~(m/o))&&a===m/o&&(r=p,a--),(c=this._yoyo&&1&a)&&(d=this._yEase,r=p-r),s=td(this._tTime,o),r===h&&!n&&this._initted)return this;a!==s&&(!this.vars.repeatRefresh||c||this._lock||(this._lock=n=1,this.render(o*a,!0).invalidate()._lock=0))}if(!this._initted){if(od(this,r,n,t))return this._tTime=0,this;if(p!==this._dur)return this.render(e,t,n)}for(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(d||this._ease)(r/p),this._from&&(this.ratio=l=1-l),h||!r||t||kd(this,"onStart"),i=this._pt;i;)i.r(l,i.d),i=i._next;u&&u.render(e<0?e:!r&&c?-1e-8:u._dur*l,t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,n),kd(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&kd(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,n),(e||!p)&&(e&&this._ts>0||!m&&this._ts<0)&&Qu(this,1),t||e<0&&!h||m<f&&this.timeScale()>0||(kd(this,m===f?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(e,t,n,r){var i,a=e._zTime<0?0:1,o=t<0?0:1,s=e._rDelay,c=0;if(s&&e._repeat&&(c=hd(0,e._tDur,t),td(c,s)!==td(e._tTime,s)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),(e._initted||!od(e,t,r,n))&&(o!==a||r||1e-8===e._zTime||!t&&e._zTime)){for(e._zTime=t||(n?1e-8:0),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,n||kd(e,"onStart"),i=e._pt;i;)i.r(o,i.d),i=i._next;!o&&e._startAt&&!e._onUpdate&&e._start&&e._startAt.render(t,!0,r),e._onUpdate&&(n||kd(e,"onUpdate")),c&&e._repeat&&!n&&e.parent&&kd(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(e.ratio&&Qu(e,1),n||(kd(e,e.ratio?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t)&&(this._lazy=0,this.parent))return Md(this);if(this.timeline)return this.timeline.killTweensOf(e,t,$d&&!0!==$d.vars.overwrite),this;var n,r,i,a,o,s,c,l=this._targets,u=e?vd(e):l,d=this._ptLookup,h=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(l,u))return Md(this);for(n=this._op=this._op||[],"all"!==t&&(nu(t)&&(o={},ju(t,(function(e){return o[e]=1})),t=o),t=function(e,t){var n,r,i,a,o=e[0]?Iu(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=qu({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(l,t)),c=l.length;c--;)if(~u.indexOf(l[c]))for(o in r=d[c],"all"===t?(n[c]=t,a=r,i={}):(i=n[c]=n[c]||{},a=t),a)(s=r&&r[o])&&("kill"in s.d&&!0!==s.d.kill(o)||Xu(this,s,"_pt"),delete r[o]),"all"!==i&&(i[o]=1);return this._initted&&!this._pt&&h&&Md(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,n){return new t(e,Fu(arguments,1))},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,n,r){return new t(e,Fu(arguments,2))},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return Fl.killTweensOf(e,t,n)},t}(Qd);Gu(sh.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ju("staggerTo,staggerFrom,staggerFromTo",(function(e){sh[e]=function(){var t=new Jd,n=pd.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var ch=function(e,t,n){return e[t]=n},lh=function(e,t,n){return e[t](n)},uh=function(e,t,n,r){return e[t](r.fp,n)},dh=function(e,t,n){return e.setAttribute(t,n)},hh=function(e,t){return ru(e[t])?lh:au(e[t])&&e.setAttribute?dh:ch},fh=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},ph=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},mh=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},gh=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},vh=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},yh=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Xu(this,r,"_pt"):r.dep||(t=1),r=n;return!t},bh=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},wh=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},_h=function(){function e(e,t,n,r,i,a,o,s,c){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||fh,this.d=o||this,this.set=s||ch,this.pr=c||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=bh,this.m=e,this.mt=n,this.tween=t},e}();ju(Pu+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",(function(e){return Tu[e]=1})),yu.TweenMax=yu.TweenLite=sh,yu.TimelineLite=yu.TimelineMax=Jd,Fl=new Jd({sortChildren:!1,defaults:Zl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Yl.stringFilter=Dd;var Eh={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return Ad(e)}))},timeline:function(e){return new Jd(e)},getTweensOf:function(e,t){return Fl.getTweensOf(e,t)},getProperty:function(e,t,n,r){nu(e)&&(e=vd(e)[0]);var i=Iu(e||{}).get,a=n?Vu:Hu;return"native"===n&&(n=""),e?t?a((Mu[t]&&Mu[t].get||i)(e,t,n,r)):function(t,n,r){return a((Mu[t]&&Mu[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=vd(e)).length>1){var r=e.map((function(e){return Th.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=Mu[t],o=Iu(e),s=a?function(t){var r=new a;Wl._pt=0,r.init(e,n?t+n:t,Wl,0,[e]),r.render(1,r),Wl._pt&&gh(1,Wl)}:o.set(e,t);return a?s:function(r){return s(e,t,n?r+n:r,o,1)}},isTweening:function(e){return Fl.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Wd(e.ease,Zl.ease)),Yu(Zl,e||{})},config:function(e){return Yu(Yl,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!Mu[e]&&!yu[e]&&Eu(t+" effect requires "+e+" plugin.")})),Au[t]=function(e,t,r){return n(vd(e),Gu(t||{},i),r)},a&&(Jd.prototype[t]=function(e,n,r){return this.add(Au[t](e,ou(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Ud[e]=Wd(t)},parseEase:function(e,t){return arguments.length?Wd(e,t):Ud},getById:function(e){return Fl.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Jd(e);for(i.smoothChildTiming=su(e.smoothChildTiming),Fl.remove(i),i._dp=0,i._time=i._tTime=Fl._time,n=Fl._first;n;)r=n._next,!t&&!n._dur&&n instanceof sh&&n.vars.onComplete===n._targets[0]||ad(i,n,n._start-n._delay),n=r;return ad(Fl,i,0),i},utils:{wrap:function e(t,n,r){var i=n-t;return uu(t)?Sd(t,e(0,t.length),n):dd(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return uu(t)?Sd(t,e(0,t.length-1),n):dd(r,(function(e){return t+((e=(a+(e-t)%a)%a)>i?a-e:e)}))},distribute:bd,random:Ed,snap:_d,normalize:function(e,t,n){return Td(e,t,0,1,n)},getUnit:fd,clamp:function(e,t,n){return dd(n,(function(n){return hd(e,t,n)}))},splitColor:Pd,toArray:vd,mapRange:Td,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||fd(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,c,l,u,d=nu(t),h={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(uu(t)&&!uu(n)){for(c=[],l=t.length,u=l-2,s=1;s<l;s++)c.push(e(t[s-1],t[s]));l--,a=function(e){e*=l;var t=Math.min(u,~~e);return c[t](e-t)},r=n}else i||(t=qu(uu(t)?[]:{},t));if(!c){for(o in n)th.call(h,t,o,"get",n[o]);a=function(e){return gh(e,h)||(d?t.p:t)}}}return dd(r,a)},shuffle:yd},install:wu,effects:Au,ticker:zd,updateRoot:Jd.updateRoot,plugins:Mu,globalTimeline:Fl,core:{PropTween:_h,globals:Su,Tween:sh,Timeline:Jd,Animation:Qd,getCache:Iu,_removeLinkedListItem:Xu}};ju("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Eh[e]=sh[e]})),zd.add(Jd.updateRoot),Wl=Eh.to({},{duration:0});var Sh=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},xh=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(nu(n)&&(r={},ju(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=Sh(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},Th=Eh.registerPlugin({name:"attr",init:function(e,t,n,r,i){for(var a in t)this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],r,i,0,0,a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},xh("roundProps",wd),xh("modifiers"),xh("snap",_d))||Eh;sh.version=Jd.version=Th.version="3.2.6",Vl=1,cu()&&Fd();Ud.Power0;var Oh,kh,Mh,Ah,Ch,Lh,Ph,Rh,Ih=Ud.Power1,Nh=(Ud.Power2,Ud.Power3,Ud.Power4,Ud.Linear,Ud.Quad,Ud.Cubic,Ud.Quart,Ud.Quint,Ud.Strong,Ud.Elastic,Ud.Back,Ud.SteppedEase,Ud.Bounce,Ud.Sine,Ud.Expo,Ud.Circ,{}),jh=180/Math.PI,Dh=Math.PI/180,zh=Math.atan2,Fh=/([A-Z])/g,Uh=/(?:left|right|width|margin|padding|x)/i,Bh=/[\s,\(]\S/,Hh={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Vh=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Gh=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Wh=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},qh=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Yh=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Zh=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Kh=function(e,t,n){return e.style[t]=n},Xh=function(e,t,n){return e.style.setProperty(t,n)},Qh=function(e,t,n){return e._gsap[t]=n},Jh=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},$h=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},ef=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},tf="transform",nf=tf+"Origin",rf=function(e,t){var n=kh.createElementNS?kh.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):kh.createElement(e);return n.style?n:kh.createElement(e)},af=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(Fh,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,sf(n)||n,1)||""},of="O,Moz,ms,Ms,Webkit".split(","),sf=function(e,t,n){var r=(t||Ch).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(of[i]+e in r););return i<0?null:(3===i?"ms":i>=0?of[i]:"")+e},cf=function(){"undefined"!==typeof window&&(Oh=window,kh=Oh.document,Mh=kh.documentElement,Ch=rf("div")||{style:{}},Lh=rf("div"),tf=sf(tf),nf=sf(nf),Ch.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Rh=!!sf("perspective"),Ah=1)},lf=function e(t){var n,r=rf("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(Mh.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(s){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),Mh.removeChild(r),this.style.cssText=o,n},uf=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},df=function(e){var t;try{t=e.getBBox()}catch(n){t=lf.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===lf||(t=lf.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+uf(e,["x","cx","x1"])||0,y:+uf(e,["y","cy","y1"])||0,width:0,height:0}},hf=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!df(e))},ff=function(e,t){if(t){var n=e.style;t in Nh&&(t=tf),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(Fh,"-$1").toLowerCase())):n.removeAttribute(t)}},pf=function(e,t,n,r,i,a){var o=new _h(e._pt,t,n,0,1,a?Zh:Yh);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},mf={deg:1,rad:1,turn:1},gf=function e(t,n,r,i){var a,o,s,c,l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",d=Ch.style,h=Uh.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(h?"Width":"Height"),m="px"===i,g="%"===i;return i===u||!l||mf[i]||mf[u]?l:("px"!==u&&!m&&(l=e(t,n,r,"px")),c=t.getCTM&&hf(t),g&&(Nh[n]||~n.indexOf("adius"))?Du(l/(c?t.getBBox()[h?"width":"height"]:t[p])*100):(d[h?"width":"height"]=100+(m?u:i),o=~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,c&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==kh&&o.appendChild||(o=kh.body),(s=o._gsap)&&g&&s.width&&h&&s.time===zd.time?Du(l/s.width*100):((g||"%"===u)&&(d.position=af(t,"position")),o===t&&(d.position="static"),o.appendChild(Ch),a=Ch[p],o.removeChild(Ch),d.position="absolute",h&&g&&((s=Iu(o)).time=zd.time,s.width=o[p]),Du(m?a*l/100:a&&l?100/a*l:0))))},vf=function(e,t,n,r){var i;return Ah||cf(),t in Hh&&"transform"!==t&&~(t=Hh[t]).indexOf(",")&&(t=t.split(",")[0]),Nh[t]&&"transform"!==t?(i=Af(e,r),i="transformOrigin"!==t?i[t]:Cf(af(e,nf))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Ef[t]&&Ef[t](e,t,n)||af(e,t)||Nu(e,t)||("opacity"===t?1:0)),n&&!~(i+"").indexOf(" ")?gf(e,t,i,n)+n:i},yf=function(e,t,n,r){if(!n||"none"===n){var i=sf(t,e,1),a=i&&af(e,i,1);a&&a!==n&&(t=i,n=a)}var o,s,c,l,u,d,h,f,p,m,g,v,y=new _h(this._pt,e.style,t,0,1,mh),b=0,w=0;if(y.b=n,y.e=r,n+="","auto"===(r+="")&&(e.style[t]=r,r=af(e,t)||r,e.style[t]=n),Dd(o=[n,r]),r=o[1],c=(n=o[0]).match(fu)||[],(r.match(fu)||[]).length){for(;s=fu.exec(r);)h=s[0],p=r.substring(b,s.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),h!==(d=c[w++]||"")&&(l=parseFloat(d)||0,g=d.substr((l+"").length),(v="="===h.charAt(1)?+(h.charAt(0)+"1"):0)&&(h=h.substr(2)),f=parseFloat(h),m=h.substr((f+"").length),b=fu.lastIndex-m.length,m||(m=m||Yl.units[t]||g,b===r.length&&(r+=m,y.e+=m)),g!==m&&(l=gf(e,t,d,m)||0),y._pt={_next:y._pt,p:p||1===w?p:",",s:l,c:v?v*f:f-l,m:u&&u<4?Math.round:0});y.c=b<r.length?r.substring(b,r.length):""}else y.r="display"===t&&"none"===r?Zh:Yh;return gu.test(r)&&(y.e=0),this._pt=y,y},bf={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},wf=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=bf[n]||n,t[1]=bf[r]||r,t.join(" ")},_f=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,c=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],Nh[n]&&(r=1,n="transformOrigin"===n?nf:tf),ff(a,n);r&&(ff(a,tf),c&&(c.svg&&a.removeAttribute("transform"),Af(a,1),c.uncache=1))}},Ef={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new _h(e._pt,t,n,0,0,_f);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},Sf=[1,0,0,1,0,0],xf={},Tf=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Of=function(e){var t=af(e,tf);return Tf(t)?Sf:t.substr(7).match(hu).map(Du)},kf=function(e,t){var n,r,i,a,o=e._gsap||Iu(e),s=e.style,c=Of(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Sf:c:(c!==Sf||e.offsetParent||e===Mh||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextSibling,Mh.appendChild(e)),c=Of(e),i?s.display=i:ff(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):Mh.removeChild(e))),t&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Mf=function(e,t,n,r,i,a){var o,s,c,l=e._gsap,u=i||kf(e,!0),d=l.xOrigin||0,h=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],b=u[4],w=u[5],_=t.split(" "),E=parseFloat(_[0])||0,S=parseFloat(_[1])||0;n?u!==Sf&&(s=m*y-g*v)&&(c=E*(-g/s)+S*(m/s)-(m*w-g*b)/s,E=E*(y/s)+S*(-v/s)+(v*w-y*b)/s,S=c):(E=(o=df(e)).x+(~_[0].indexOf("%")?E/100*o.width:E),S=o.y+(~(_[1]||_[0]).indexOf("%")?S/100*o.height:S)),r||!1!==r&&l.smooth?(b=E-d,w=S-h,l.xOffset=f+(b*m+w*v)-b,l.yOffset=p+(b*g+w*y)-w):l.xOffset=l.yOffset=0,l.xOrigin=E,l.yOrigin=S,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[nf]="0px 0px",a&&(pf(a,l,"xOrigin",d,E),pf(a,l,"yOrigin",h,S),pf(a,l,"xOffset",f,l.xOffset),pf(a,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",E+" "+S)},Af=function(e,t){var n=e._gsap||new Xd(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,c,l,u,d,h,f,p,m,g,v,y,b,w,_,E,S,x,T,O,k,M,A,C,L,P,R,I,N=e.style,j=n.scaleX<0,D=af(e,nf)||"0";return r=i=a=c=l=u=d=h=f=0,o=s=1,n.svg=!(!e.getCTM||!hf(e)),g=kf(e,n.svg),n.svg&&(O=!n.uncache&&e.getAttribute("data-svg-origin"),Mf(e,O||D,!!O||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==Sf&&(w=g[0],_=g[1],E=g[2],S=g[3],r=x=g[4],i=T=g[5],6===g.length?(o=Math.sqrt(w*w+_*_),s=Math.sqrt(S*S+E*E),c=w||_?zh(_,w)*jh:0,(d=E||S?zh(E,S)*jh+c:0)&&(s*=Math.cos(d*Dh)),n.svg&&(r-=p-(p*w+m*E),i-=m-(p*_+m*S))):(I=g[6],P=g[7],A=g[8],C=g[9],L=g[10],R=g[11],r=g[12],i=g[13],a=g[14],l=(v=zh(I,L))*jh,v&&(O=x*(y=Math.cos(-v))+A*(b=Math.sin(-v)),k=T*y+C*b,M=I*y+L*b,A=x*-b+A*y,C=T*-b+C*y,L=I*-b+L*y,R=P*-b+R*y,x=O,T=k,I=M),u=(v=zh(-E,L))*jh,v&&(y=Math.cos(-v),R=S*(b=Math.sin(-v))+R*y,w=O=w*y-A*b,_=k=_*y-C*b,E=M=E*y-L*b),c=(v=zh(_,w))*jh,v&&(O=w*(y=Math.cos(v))+_*(b=Math.sin(v)),k=x*y+T*b,_=_*y-w*b,T=T*y-x*b,w=O,x=k),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,u=180-u),o=Du(Math.sqrt(w*w+_*_+E*E)),s=Du(Math.sqrt(T*T+I*I)),v=zh(x,T),d=Math.abs(v)>2e-4?v*jh:0,f=R?1/(R<0?-R:R):0),n.svg&&(g=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Tf(af(e,tf)),g&&e.setAttribute("transform",g))),Math.abs(d)>90&&Math.abs(d)<270&&(j?(o*=-1,d+=c<=0?180:-180,c+=c<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),n.x=((n.xPercent=r&&Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)?0:r)+"px",n.y=((n.yPercent=i&&Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)?0:i)+"px",n.z=a+"px",n.scaleX=Du(o),n.scaleY=Du(s),n.rotation=Du(c)+"deg",n.rotationX=Du(l)+"deg",n.rotationY=Du(u)+"deg",n.skewX=d+"deg",n.skewY=h+"deg",n.transformPerspective=f+"px",(n.zOrigin=parseFloat(D.split(" ")[2])||0)&&(N[nf]=Cf(D)),n.xOffset=n.yOffset=0,n.force3D=Yl.force3D,n.renderTransform=n.svg?If:Rh?Rf:Pf,n.uncache=0,n},Cf=function(e){return(e=e.split(" "))[0]+" "+e[1]},Lf=function(e,t,n){var r=fd(t);return Du(parseFloat(t)+parseFloat(gf(e,"x",n+"px",r)))+r},Pf=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Rf(e,t)},Rf=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,c=n.rotation,l=n.rotationY,u=n.rotationX,d=n.skewX,h=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,b="",w="auto"===g&&e&&1!==e||!0===g;if(y&&("0deg"!==u||"0deg"!==l)){var _,E=parseFloat(l)*Dh,S=Math.sin(E),x=Math.cos(E);E=parseFloat(u)*Dh,_=Math.cos(E),a=Lf(v,a,S*_*-y),o=Lf(v,o,-Math.sin(E)*-y),s=Lf(v,s,x*_*-y+y)}"0px"!==m&&(b+="perspective("+m+") "),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(w||"0px"!==a||"0px"!==o||"0px"!==s)&&(b+="0px"!==s||w?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+") "),"0deg"!==c&&(b+="rotate("+c+") "),"0deg"!==l&&(b+="rotateY("+l+") "),"0deg"!==u&&(b+="rotateX("+u+") "),"0deg"===d&&"0deg"===h||(b+="skew("+d+", "+h+") "),1===f&&1===p||(b+="scale("+f+", "+p+") "),v.style[tf]=b||"translate(0, 0)"},If=function(e,t){var n,r,i,a,o,s=t||this,c=s.xPercent,l=s.yPercent,u=s.x,d=s.y,h=s.rotation,f=s.skewX,p=s.skewY,m=s.scaleX,g=s.scaleY,v=s.target,y=s.xOrigin,b=s.yOrigin,w=s.xOffset,_=s.yOffset,E=s.forceCSS,S=parseFloat(u),x=parseFloat(d);h=parseFloat(h),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),h+=p),h||f?(h*=Dh,f*=Dh,n=Math.cos(h)*m,r=Math.sin(h)*m,i=Math.sin(h-f)*-g,a=Math.cos(h-f)*g,f&&(p*=Dh,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),a*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=Du(n),r=Du(r),i=Du(i),a=Du(a)):(n=m,a=g,r=i=0),(S&&!~(u+"").indexOf("px")||x&&!~(d+"").indexOf("px"))&&(S=gf(v,"x",u,"px"),x=gf(v,"y",d,"px")),(y||b||w||_)&&(S=Du(S+y-(y*n+b*i)+w),x=Du(x+b-(y*r+b*a)+_)),(c||l)&&(o=v.getBBox(),S=Du(S+c/100*o.width),x=Du(x+l/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+S+","+x+")",v.setAttribute("transform",o),E&&(v.style[tf]=o)},Nf=function(e,t,n,r,i,a){var o,s,c=nu(i),l=parseFloat(i)*(c&&~i.indexOf("rad")?jh:1),u=a?l*a:l-r,d=r+u+"deg";return c&&("short"===(o=i.split("_")[1])&&(u%=360)!==u%180&&(u+=u<0?360:-360),"cw"===o&&u<0?u=(u+36e9)%360-360*~~(u/360):"ccw"===o&&u>0&&(u=(u-36e9)%360-360*~~(u/360))),e._pt=s=new _h(e._pt,t,n,r,u,Gh),s.e=d,s.u="deg",e._props.push(n),s},jf=function(e,t,n){var r,i,a,o,s,c,l,u=Lh.style,d=n._gsap;for(i in u.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",u[tf]=t,kh.body.appendChild(Lh),r=Af(Lh,1),Nh)(a=d[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=fd(a)!==(l=fd(o))?gf(n,i,a,l):parseFloat(a),c=parseFloat(o),e._pt=new _h(e._pt,d,i,s,c-s,Vh),e._pt.u=l||0,e._props.push(i));kh.body.removeChild(Lh)};ju("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",a="Left",o=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return t<2?e+n:"border"+n+e}));Ef[t>1?"border"+e:e]=function(e,t,n,r,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return vf(e,t,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var Df={name:"css",register:cf,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,c,l,u,d,h,f,p,m,g,v,y,b,w=this._props,_=e.style;for(d in Ah||cf(),t)if("autoRound"!==d&&(o=t[d],!Mu[d]||!nh(d,t,n,r,e,i)))if(l=typeof o,u=Ef[d],"function"===l&&(l=typeof(o=o.call(n,r,e,i))),"string"===l&&~o.indexOf("random(")&&(o=xd(o)),u)u(this,e,d,o,n)&&(b=1);else if("--"===d.substr(0,2))this.add(_,"setProperty",getComputedStyle(e).getPropertyValue(d)+"",o+"",r,i,0,0,d);else{if(a=vf(e,d),c=parseFloat(a),(p="string"===l&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),s=parseFloat(o),d in Hh&&("autoAlpha"===d&&(1===c&&"hidden"===vf(e,"visibility")&&s&&(c=0),pf(this,_,"visibility",c?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&"transform"!==d&&~(d=Hh[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in Nh)if(g||((v=e._gsap).renderTransform||Af(e),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new _h(this._pt,_,tf,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new _h(this._pt,v,"scaleY",v.scaleY,p?p*s:s-v.scaleY),w.push("scaleY",d),d+="X";else{if("transformOrigin"===d){o=wf(o),v.svg?Mf(e,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&pf(this,v,"zOrigin",v.zOrigin,f),pf(this,_,d,Cf(a),Cf(o)));continue}if("svgOrigin"===d){Mf(e,o,1,y,0,this);continue}if(d in xf){Nf(this,v,d,c,o,p);continue}if("smoothOrigin"===d){pf(this,v,"smooth",v.smooth,o);continue}if("force3D"===d){v[d]=o;continue}if("transform"===d){jf(this,o,e);continue}}else d in _||(d=sf(d)||d);if(m||(s||0===s)&&(c||0===c)&&!Bh.test(o)&&d in _)s||(s=0),(h=(a+"").substr((c+"").length))!==(f=(o+"").substr((s+"").length)||(d in Yl.units?Yl.units[d]:h))&&(c=gf(e,d,a,f)),this._pt=new _h(this._pt,m?v:_,d,c,p?p*s:s-c,"px"!==f||!1===t.autoRound||m?Vh:qh),this._pt.u=f||0,h!==f&&(this._pt.b=a,this._pt.r=Wh);else if(d in _)yf.call(this,e,d,a,o);else{if(!(d in e)){_u(d,o);continue}this.add(e,d,e[d],o,r,i)}w.push(d)}b&&wh(this)},get:vf,aliases:Hh,getSetter:function(e,t,n){var r=Hh[t];return r&&r.indexOf(",")<0&&(t=r),t in Nh&&t!==nf&&(e._gsap.x||vf(e,"x"))?n&&Ph===n?"scale"===t?Jh:Qh:(Ph=n||{})&&("scale"===t?$h:ef):e.style&&!au(e.style[t])?Kh:~t.indexOf("-")?Xh:hh(e,t)},core:{_removeProperty:ff,_getMatrix:kf}};Th.utils.checkPrefix=sf,function(e,t,n,r){var i=ju("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){Nh[e]=1}));ju(t,(function(e){Yl.units[e]="deg",xf[e]=1})),Hh[i[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+t,ju("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");Hh[t[1]]=i[t[0]]}))}(0,"rotation,rotationX,rotationY,skewX,skewY"),ju("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){Yl.units[e]="px"})),Th.registerPlugin(Df);var zf=(Th.registerPlugin(Df)||Th).core.Tween,Ff=function e(t,n,r){var i=this;Object(E.a)(this,e),this.dot2=function(e,t){return i.x*e+i.y*t},this.dot3=function(e,t,n){return i.x*e+i.y*t+i.z*n},this.x=t,this.y=n,this.z=r},Uf=[new Ff(1,1,0),new Ff(-1,1,0),new Ff(1,-1,0),new Ff(-1,-1,0),new Ff(1,0,1),new Ff(-1,0,1),new Ff(1,0,-1),new Ff(-1,0,-1),new Ff(0,1,1),new Ff(0,-1,1),new Ff(0,1,-1),new Ff(0,-1,-1)],Bf=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Hf=new Array(512),Vf=new Array(512);!function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;n=1&t?Bf[t]^255&e:Bf[t]^e>>8&255,Hf[t]=Hf[t+256]=n,Vf[t]=Vf[t+256]=Uf[n%12]}}(0);Math.sqrt(3),Math.sqrt(3);var Gf=1/6,Wf=function(e,t,n){var r,i,a,o,s,c,l=(e+t+n)*(1/3),u=Math.floor(e+l),d=Math.floor(t+l),h=Math.floor(n+l),f=(u+d+h)*Gf,p=e-u+f,m=t-d+f,g=n-h+f;p>=m?m>=g?(r=1,i=0,a=0,o=1,s=1,c=0):p>=g?(r=1,i=0,a=0,o=1,s=0,c=1):(r=0,i=0,a=1,o=1,s=0,c=1):m<g?(r=0,i=0,a=1,o=0,s=1,c=1):p<g?(r=0,i=1,a=0,o=0,s=1,c=1):(r=0,i=1,a=0,o=1,s=1,c=0);var v=p-r+Gf,y=m-i+Gf,b=g-a+Gf,w=p-o+2*Gf,_=m-s+2*Gf,E=g-c+2*Gf,S=p-1+.5,x=m-1+.5,T=g-1+.5,O=Vf[(u&=255)+Hf[(d&=255)+Hf[h&=255]]],k=Vf[u+r+Hf[d+i+Hf[h+a]]],M=Vf[u+o+Hf[d+s+Hf[h+c]]],A=Vf[u+1+Hf[d+1+Hf[h+1]]],C=.6-p*p-m*m-g*g,L=.6-v*v-y*y-b*b,P=.6-w*w-_*_-E*E,R=.6-S*S-x*x-T*T;return 32*((C<0?0:(C*=C)*C*O.dot3(p,m,g))+(L<0?0:(L*=L)*L*k.dot3(v,y,b))+(P<0?0:(P*=P)*P*M.dot3(w,_,E))+(R<0?0:(R*=R)*R*A.dot3(S,x,T)))};var qf=function(){function e(){Object(E.a)(this,e),this.resources=new Set}return Object(S.a)(e,[{key:"track",value:function(e){var t=this;if(!e)return e;if(Array.isArray(e))return e.forEach((function(e){return t.track(e)})),e;if((e.dispose||e instanceof wr)&&this.resources.add(e),e instanceof wr)this.track(e.geometry),this.track(e.material),this.track(e.children);else if(e instanceof Hr){for(var n=0,r=Object.values(e);n<r.length;n++){var i=r[n];i instanceof Xn&&this.track(i)}if(e.uniforms)for(var a=0,o=Object.values(e.uniforms);a<o.length;a++){var s=o[a];if(s){var c=s.value;(c instanceof Xn||Array.isArray(c))&&this.track(c)}}}return e}},{key:"untrack",value:function(e){this.resources.delete(e)}},{key:"dispose",value:function(){var e,t=Object(Z.a)(this.resources);try{for(t.s();!(e=t.n()).done;){var n=e.value;n instanceof wr&&n.parent&&n.parent.remove(n),n.dispose&&n.dispose()}}catch(r){t.e(r)}finally{t.f()}this.resources.clear()}}]),e}(),Yf=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).prepareElements=function(){var e=r.props,t=e.audioId,n=e.audioEle;t||n?(r.audioEle=t?document.getElementById(t):n,r.audioEle.crossOrigin="anonymous"):console.log("target audio not found!")},r.initAudioEvents=function(){var e=r.audioEle;e&&(e.onpause=function(e){r.playStatus="PAUSED"},e.onplay=function(e){r.playStatus="PLAYING",r.chooseAnimation(!0)})},r.prepareAPIs=function(){window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame;try{r.audioContext=new window.AudioContext}catch(e){console.log(e)}},r.setupAudioNode=function(e){return r.analyser||(r.analyser=r.audioContext.createAnalyser(),r.analyser.smoothingTimeConstant=.8,r.analyser.fftSize=2048),r.mediaEleSource||(r.mediaEleSource=r.audioContext.createMediaElementSource(e),r.mediaEleSource.connect(r.analyser),r.mediaEleSource.connect(r.audioContext.destination)),r.analyser},r.sceneSetup=function(){r.width=window.innerWidth,r.height=window.innerHeight-69,r.resTracker||(r.resTracker=new qf),r.track=r.resTracker.track.bind(r.resTracker),r.scene||(r.scene=new Ba),r.camera||(r.camera=new Ca(100,r.width/r.height,.1,1e3)),r.scene.add(r.camera),r.renderer||(r.renderer=r.track(new za({alpha:!0}))),r.renderer.setPixelRatio(window.devicePixelRatio>1?2:1),r.renderer.setSize(r.width,r.height),r.el.appendChild(r.renderer.domElement)},r.chooseAnimation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.props.animationActive;switch(t){case 1:var n=r.setupAudioNode(r.audioEle);e||(r.sceneSetup(),r.addCustomSceneObjects()),r.startAnimationLoop(n);break;case 2:var i=r.setupAudioNode(r.audioEle);e||(r.sceneSetup(),r.addCustomSceneObjects2()),r.startAnimationLoop2(i);break;default:r.startAnimationDefault()}},r.addCustomSceneObjects2=function(){cancelAnimationFrame(r.animationId),r.resTracker.dispose(),r.cube&&(r.cube.length=0),r.camera.position.set(0,0,60);var e=r.track(new Rc(16777215)),t=r.track(new Pc(16777215,.8));t.position.set(-100,20,30),r.camera.add(t),r.scene.add(e,r.camera),r.geometry=r.track(new go(30,5));var n=r.track(new Es({color:"#FF0094",transparent:!0,side:2,alphaTest:.4,opacity:1,roughness:.2})),i=r.track((new ec).load("".concat(I.cd,"images/texture.png")));n.alphaMap=i,n.alphaMap.magFilter=1003,n.alphaMap.wrapT=1e3,n.alphaMap.repeat.y=4,r.cube=r.track(new Yr(r.geometry,n)),r.scene.add(r.cube),r.renderer.setClearColor(6639774),r.renderer.render(r.scene,r.camera)},r.addCustomSceneObjects=function(){clearInterval(r.animationDefault),r.animationDefault=null,r.camera.position.set(0,0,400),r.point=r.track(new Gn(.8,.5));var e=r.track(new Tc(16376574,787821,.4));r.scene.add(e);var t=r.track(new Pc(5836162,.5));t.position.set(200,300,400),r.scene.add(t);var n=t.clone();n.position.set(-200,300,400),r.scene.add(n),r.geometry=r.track(new go(200,5));for(var i=0;i<r.geometry.vertices.length;i++)r.vector=r.geometry.vertices[i],r.vector._o=r.vector.clone();var a=r.track(new xs({emissive:16173041,emissiveIntensity:.4,shininess:0}));r.cube=r.track(new Yr(r.geometry,a)),r.scene.add(r.cube),r.renderer.setClearColor(16173041),r.renderer.render(r.scene,r.camera)},r.getAverage=function(e){var t=0;return e.forEach((function(e){t+=e})),t/e.length},r.animationId=null,r.animationId2=null,r.animationDefault=null,r.audioContext=null,r.audioEle=null,r.playStatus=null,r.mediaEleSource=null,r.analyser=null,r.resizeCanvas=r.resizeCanvas.bind(Object(K.a)(r)),r}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.prepareElements(),this.prepareAPIs(),this.initAudioEvents(),window.addEventListener("resize",this.resizeCanvas,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeCanvas,!1),cancelAnimationFrame(this.animationId),cancelAnimationFrame(this.animationId2),clearInterval(this.animationDefault),this.animationDefault=null,this.animationId=null,this.animationId2=null}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.showKaraoke,r=t.animationActive;n&&n!==e.showKaraoke&&this.chooseAnimation(!0),n||(cancelAnimationFrame(this.animationId),cancelAnimationFrame(this.animationId2),clearInterval(this.animationDefault)),r!==e.animationActive&&this.chooseAnimation()}},{key:"resizeCanvas",value:function(){this.camera&&(this.camera.aspect=window.innerWidth/(window.innerHeight-70),this.camera.updateProjectionMatrix()),this.renderer&&this.renderer.setSize(window.innerWidth,window.innerHeight-70)}},{key:"startAnimationDefault",value:function(){cancelAnimationFrame(this.animationId2),this.resTracker&&this.resTracker.dispose(),this.scene&&this.scene.dispose(),this.cube&&(this.cube.length=0),this.renderer&&(this.renderer.setClearAlpha(0),this.renderer.render(this.scene,this.camera))}},{key:"startAnimationLoop2",value:function(e){var t=this;this.animationId2=requestAnimationFrame((function n(){if("PAUSED"!==t.playStatus){if(e&&e.frequencyBinCount){t.array=new Uint8Array(e.frequencyBinCount),e.getByteFrequencyData(t.array);var r=t.getAverage(t.array);t.cube.rotation.x+=.001,t.cube.rotation.y+=.001;var i=Date.now();t.geometry.vertices.forEach((function(e){var n=t.geometry.parameters.radius,a=r/8;e.normalize();var o=n+Wf(e.x+8e-4*i,e.y+9e-4*i,e.z+7e-4*i)*a;e.multiplyScalar(o)})),t.cube.geometry.verticesNeedUpdate=!0,t.cube.geometry.normalsNeedUpdate=!0,t.cube.geometry.computeVertexNormals(),t.cube.geometry.computeFaceNormals(),t.renderer.render(t.scene,t.camera),t.animationId2=requestAnimationFrame(n)}}else cancelAnimationFrame(t.animationId2)}))}},{key:"startAnimationLoop",value:function(e){var t=this;this.animationId=requestAnimationFrame((function n(){if("PAUSED"!==t.playStatus){if(e&&e.frequencyBinCount){t.array=new Uint8Array(e.frequencyBinCount),e.getByteFrequencyData(t.array);var r=t.getAverage(t.array);zf.to(t.point,.8,{y:10*r/t.height,x:10*r/t.width,ease:Ih.easeOut});for(var i=Date.now(),a=0;a<t.geometry.vertices.length;a++){t.vector=t.geometry.vertices[a],t.vector._o&&t.vector.copy(t.vector._o);var o=Wf(.006*t.vector.x+2e-4*i,.006*t.vector.y+3e-4*i,.006*t.vector.z);t.ratio=.4*o*(t.point.y+.1)+1,t.vector.multiplyScalar(t.ratio)}t.geometry.verticesNeedUpdate=!0,t.renderer.render(t.scene,t.camera),t.animationId=requestAnimationFrame(n)}}else cancelAnimationFrame(t.animationId)}))}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{ref:function(t){return e.el=t},style:{position:"absolute",zIndex:-1,bottom:"0",width:"100%",height:"100%"}}))}}]),n}(r.Component),Zf={large:124,medium:87,small:52},Kf=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={lyricLines:7,mouseIn:!1,showSetting:!1,showLyrics:!0,hideLyricsStart:!0,animationArray:[0,1,2],animationActive:0,style:{},lyricCopy:"",lyricSize:"large",disableKaraoke:!0},e.onClick=function(t){if(e.nodeListSetting&&e.nodeSetting){var n=!e.nodeListSetting.contains(t.target),r=!e.nodeSetting.contains(t.target),i=document.getElementsByClassName("ReactModalPortal");i&&i[0]&&i[0].contains(t.target)||n&&(r?r&&n?e.setState({showSetting:!1}):e.setState({showSetting:!0}):e.toggleSetting())}},e.onKeyDown=function(t){var n=e.props,r=n.showKaraoke,i=n.toggleKaraoke;if(27===t.keyCode&&r)return i()},e.reloadAnimation=function(){var t=e.state,n=t.animationArray,r=t.animationActive,i=Object(F.v)(n,r);se.a.set("ANIMATION_KEY",i),e.setState({animationActive:i}),Object(ce.c)("TReload Animation","np_clickReloadAnimation")},e.handleResizeWindow=function(){if(e.wrapperNode&&e.infoNode){var t=e.wrapperNode.getBoundingClientRect().width;t>431&&t<=745&&e.setState({lyricLines:2})}},e.fetchBeatStreaming=function(){var t=Object(D.a)(j.a.mark((function t(n){var r,i,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,i=r.fetchBeatStreaming,a=r.song,n||!Object(F.B)(a)){t.next=3;break}return t.abrupt("return");case 3:i();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleSetting=function(){var t=e.state.showSetting;e.setState({showSetting:!t})},e.toggleLyrics=function(){var t=e.state.showLyrics;e.setState({showLyrics:!t});var n=t?"off":"on";Object(ce.c)("Toggle Lyrics","np_clickLyricSong",n)},e.toggleBeatSong=function(){var t=e.props,n=t.toggleBeatSong,r=t.isShowBeatSong;n();var i=r?"off":"on";Object(ce.c)("Toggle Karaoke","np_clickBeatSong",i)},e.setCopyLyric=function(t){e.setState({lyricCopy:t})},e.changeLyricSize=function(t){e.setState({lyricSize:t})},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.handleResizeWindow(),window.addEventListener("resize",this.handleResizeWindow),document.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeyDown),this.fetchBeatStreaming();var e=se.a.get("ANIMATION_KEY");e&&this.setState({animationActive:parseInt(e,10)});var t=se.a.get("lr-size")||"large";this.setState({lyricSize:t})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.showKaraoke||e.showKaraoke){if(clearTimeout(this.disableKaraTimeout),e.showKaraoke)return void this.setState({disableKaraoke:!1});this.disableKaraTimeout=setTimeout((function(){t.setState({disableKaraoke:!0})}),3e3)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResizeWindow),document.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeyDown),se.a.set("lr-size",this.state.lyricSize),clearTimeout(this.disableKaraTimeout)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.showQueue,r=t.playingSongUid,i=t.playingSongId;e.showQueue===n&&e.playingSongUid===r||this.handleResizeWindow(),i!==e.playingSongId&&this.fetchBeatStreaming(i)}},{key:"render",value:function(){var e=this,t=this.props,n=t.media,r=t.song,a=t.showKaraoke,o=t.lyric,s=t.fetchLyric,c=t.currentTime,l=t.isPlaying,u=t.toggleKaraoke,d=t.audioAdStarted,h=t.buffering,f=t.isShowBeatSong,p=t.beatSong,m=t.duration,g=r||{},v=g.thumbnail_medium,y=g.id,b=g.lyric,w=g.lyrics,_=void 0===w?[]:w,E=navigator.userAgent,S=E.indexOf("Chrome")>-1,x=E.indexOf("Safari")>-1;S&&x&&(x=!1);var T=this.state,O=T.showSetting,k=T.showLyrics,M=T.animationActive,A=T.lyricSize,C=T.lyricCopy,L=T.disableKaraoke,P=Object(F.B)(p),R=Boolean(_[0]),I=b||R,N=L||d||!k||!m;return i.a.createElement("div",{className:"--z--media-inside-wrap ".concat(a?"--z--expand-full":""," ").concat(d?"--z--media-ad-wrap":""),ref:function(t){return e.wrapperNode=t},onMouseEnter:function(){return e.setState({mouseIn:!0})},onMouseLeave:function(){return e.setState({mouseIn:!1})},onClick:this.handleClick,style:this.state.style},i.a.createElement("a",{onClick:u,className:"z-close-btn"},i.a.createElement("i",{className:"icon ic-close"})),i.a.createElement("div",{className:"--z--info-song-wrap z-hide",ref:function(t){return e.infoNode=t}},i.a.createElement(wn,{media:n,isPlaying:l,thumbnail:v,audioAdStarted:d})),d&&i.a.createElement(Fn,null),!N&&i.a.createElement(Dn,{className:"z-lyric-text-wrap ".concat(d?"z-hide":""," ").concat(A),songId:y,lyric:o,lyricUrl:b,fetchLyric:s,currentTime:c,lyricHeight:Zf[A],lyricText:_[0],showKaraoke:a,setCopyLyric:this.setCopyLyric,fontSize:A}),i.a.createElement(yn.a,{"data-clipboard-text":C,style:{bottom:140},className:"z-buttons-setting",component:"div","data-for":"z-copy-lyric","data-delay-show":0,"data-delay-hide":1e3,"data-event":"click","data-event-off":"mousemove","data-tip":"\u0110\xe3 sao ch\xe9p"},i.a.createElement("span",{className:"z-setting-btn"},i.a.createElement("i",{className:"icon ic-copy-text"}),i.a.createElement(bn.a,{id:"z-copy-lyric",delayShow:1e3,place:"top","aria-haspopup":"true",effect:"solid",style:{lineHeigh:0}}))),i.a.createElement("div",{className:"z-buttons-setting",ref:function(t){e.nodeSetting=t}},i.a.createElement("a",{className:"z-setting-btn"},i.a.createElement("i",{className:"icon ic-settings"})),i.a.createElement("ul",{className:"z-setting-list ".concat(!O&&"z-hide"),style:{backgroundColor:"#fff"},ref:function(t){e.nodeListSetting=t}},!x&&i.a.createElement("li",{className:"z-setting-item"},i.a.createElement("i",{className:"icon ic-visual"}),i.a.createElement("span",null,"Hi\u1ec7u \u1ee9ng"),i.a.createElement("i",{className:"icon ic-reload",style:{marginLeft:"auto"},onClick:function(){return e.reloadAnimation()}})),i.a.createElement("li",{className:"z-setting-item ".concat(I?"":"z-disabled")},i.a.createElement("i",{className:"icon ic-lyric"}),i.a.createElement("span",null,"L\u1eddi b\xe0i h\xe1t"),i.a.createElement("i",{className:"icon ic-svg-switch ".concat(k?"":"z-switch-off"),onClick:function(){return e.toggleLyrics()}})),i.a.createElement("li",{className:"z-setting-item "},i.a.createElement("i",{className:"icon ic-font-size"}),i.a.createElement("span",null,"C\u1ee1 ch\u1eef"),i.a.createElement("span",{className:"z-lyric-sizes"},i.a.createElement(Ut.a,{text:"A",tooltipId:"lr-small",title:"Ch\u1eef nh\u1ecf",className:"small ".concat("small"===this.state.lyricSize?"z-active":""),onClick:function(){return e.changeLyricSize("small")}}),i.a.createElement(Ut.a,{text:"A",tooltipId:"lr-medium",title:"Ch\u1eef v\u1eeba",className:"medium ".concat("medium"===this.state.lyricSize?"z-active":""),onClick:function(){return e.changeLyricSize("medium")}}),i.a.createElement(Ut.a,{text:"A",tooltipId:"lr-large",title:"Ch\u1eef l\u1edbn",className:"".concat("large"===this.state.lyricSize?"z-active":""),onClick:function(){return e.changeLyricSize("large")}}))))),i.a.createElement("div",{className:"z-button-beat ".concat(P?"z-disabled":""," ").concat(f?"z-beat-on":""),onClick:function(){return e.toggleBeatSong()}},i.a.createElement("span",{className:"z-setting-btn"},i.a.createElement("i",{className:"icon ic-beat".concat(f?"-off":"")}))),i.a.createElement(Yf,{audioId:"audio",showKaraoke:a,animationActive:M,onChangeColor:this.handleChangeColor}),h&&i.a.createElement(Un.a,{isLoading:!0,fadeLoader:!0,style:{position:"absolute",top:"50%",transform:"translateY(-50%)"}}))}}]),n}(r.Component),Xf=Ct(function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).disableScrollbar=function(){var t=e.props.showKaraoke,n=document.getElementsByClassName("w-zingmp3")[0];t?(window.offsetY=window.pageYOffset,n.classList.add("--z--hide-scroll"),n.style.top=-window.offsetY+"px"):(n.classList.remove("--z--hide-scroll"),window.offsetY&&Object(Me.j)(window,window.offsetY))},e.toggleQueue=function(t){var n=document.getElementsByClassName("--z--control-container")[0],r=document.getElementById("z-dropdown"),i=document.getElementsByClassName("ReactModalPortal"),a=e.props.playingSong;if(!(i&&i.length>0)&&!(n.contains(t.target)||r.contains(t.target)||Object(F.B)(a))){var o=a.sourcePlaylist.link||a.link;Hv.push(o)}},e.toggleKaraoke=e.toggleKaraoke.bind(Object(K.a)(e)),e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.disableScrollbar()}},{key:"componentDidUpdate",value:function(e){this.props.showKaraoke!==e.showKaraoke&&this.disableScrollbar()}},{key:"toggleKaraoke",value:function(e){var t=this.props,n=t.player,r=t.toggleQueue,i=t.showKaraoke,a=t.toggleKaraoke;a(),n.showQueue&&!i&&r();var o=i?"off":"on";Object(ce.c)("Now Playing","np_clickMiniMV",o)}},{key:"render",value:function(){var e=this.props,t=e.changeCurrentTime,n=e.changeVolume,r=e.onQualityChange,a=e.player,o=e.playingSongId,s=e.playingSongUid,c=e.playingSong,l=e.likeAction,u=e.playNextSong,d=e.playPrevSong,h=e.togglePlay,f=e.queueSongIds,p=e.toggleQueue,m=e.toggleShuffle,g=e.toggleRepeat,v=e.addToast,y=e.isLogin,b=e.isVip,w=e.children,_=e.fetchLyric,E=e.listQuality,S=e.toggleMuted,x=e.shuffle,T=e.quality,O=e.toggleMiniStyle,k=e.adStarted,M=e.audioAdStarted,A=e.isPlayingAds,C=e.adDuration,L=e.adCurrentTime,P=e.activeQualityText,R=e.isAdLoading,I=e.hideEffectPlayer,N=e.isMiniStyle,j=e.blockedAsset,D=e.isUserVn,z=e.buffered,U=e.buffering,B=e.openPopupLogin,H=e.zmp3Theme,G=e.advertiser,W=e.companions,q=e.likedSongIds,Y=e.isShowBeatSong,Z=e.toggleBeatSong,K=e.fetchBeatStreaming,X=e.resetBeatStreaming,Q=e.beatSong,J=e.showKaraoke,$=e.closeKaraoke,ee=e.closeQueue,te=e.playRadio,ne=e.nextSong;if(Object(F.B)(f))return null;var re=a.currentTime,ie=a.duration,ae=a.isPlaying,oe=a.repeat,se=a.muted,ce=a.showQueue,le=a.lyric,ue=a.preVolume,de=a.effectPlayer,he=se?0:a.volume,fe=Math.round(re),pe=Object(F.L)(f),me=c&&Object(V.t)(j.songIds,j.artistIds,c.id,c.artists),ge=c&&c.is_zma;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"--z--media-container-wrapper"},i.a.createElement(Kf,{song:c,playingSongUid:s,showKaraoke:J,showQueue:ce,toggleQueue:p,playingSongId:o,fetchBeatStreaming:K,resetBeatStreaming:X,lyric:le,fetchLyric:_,media:w,currentTime:re,isPlaying:ae,togglePlay:h,playNextSong:u,duration:ie,changeCurrentTime:t,volume:he,preVolume:ue,changeVolume:n,playPrevSong:d,onQualityChange:r,isVip:b,isLogin:y,quality:T,listQuality:E,isMiniStyle:N,toggleMiniStyle:O,toggleKaraoke:this.toggleKaraoke,addToast:v,adStarted:k,audioAdStarted:M,isPlayingAds:A,adDuration:C,adCurrentTime:L,activeQualityText:P,isBlock:me,buffered:z,buffering:U,toggleBeatSong:Z,isShowBeatSong:Y,beatSong:Q})),i.a.createElement("div",{className:"z-miniplayer-container"},i.a.createElement(gn,{isVip:b,isMiniStyle:N}),i.a.createElement("div",{className:"z-miniplayer-inner clearfix ".concat(ge?"z-zma-player":""),onClick:this.toggleQueue},i.a.createElement("div",{className:"--z--control-container"},i.a.createElement(Bt,{toggleShuffle:m,togglePlay:h,isPlaying:ae,playPrevSong:d,playNextSong:u,toggleRepeat:g,repeat:oe,shuffle:x,adStarted:k,audioAdStarted:M,isPlayingAds:A,playingSongId:o,isAdLoading:R,buffering:U,nextSong:ne}),i.a.createElement("div",{className:"z-player-info-detail ".concat(c?"":"mar-left-10")},i.a.createElement(zt,{song:c,adStarted:k,advertiser:G,companions:W}),i.a.createElement(Dt,{playingSongId:o,song:c,adStarted:k,showQueue:ce,advertiser:G,hasZma:ge,isPlaying:ae}),i.a.createElement("div",{className:"z-player-time-number pad-left-15"},i.a.createElement("span",{className:"z-time z-playing-time"},Object(F.q)(k?L:fe)),i.a.createElement("span",{className:"z-time z-duration-time"}," / ",Object(F.q)(k?C:ie))),i.a.createElement(mn,{adStarted:k,showQueue:ce,playingSongId:o,song:c,currentTime:fe,duration:ie,changeCurrentTime:t,buffered:z})),i.a.createElement("div",{className:"z-features-wrapper"},i.a.createElement(dn,{toggleMuted:S,addToast:v,isVip:b,isLogin:y,song:c,listQuality:E,numberSongsInQueue:pe,quality:T,likeAction:l,showQueue:ce,toggleQueue:p,toggleKaraoke:this.toggleKaraoke,showKaraoke:J,lyric:le,fetchLyric:_,media:w,currentTime:re,isPlaying:ae,togglePlay:h,playNextSong:u,duration:ie,changeCurrentTime:t,volume:he,preVolume:ue,changeVolume:n,playPrevSong:d,onQualityChange:r,isMiniStyle:N,toggleMiniStyle:O,activeQualityText:P,effectPlayer:de,hideEffectPlayer:I,isBlock:me,isUserVn:D,openPopupLogin:B,zmp3Theme:H,likedSongIds:q,adStarted:k,closeKaraoke:$,closeQueue:ee,playRadio:te}))))))}}]),n}(r.Component)),Qf=Object(s.b)((function(e){var t=e.player;return{streaming:Object(R.P)(e),streamingUrl:Object(R.R)(e),quality:Object(R.i)(e),playingSongId:Object(R.v)(e),playingSongUid:Object(R.w)(e),playingSong:Object(R.u)(e),queueSongIds:Object(R.B)(e),queueSongMap:Object(R.C)(e),recommendSongs:Object(R.E)(e),player:t,myplaylist:Object(P.w)(e),isLogin:Object(P.b)(e),isVip:Object(P.c)(e),profile:Object(P.y)(e),shuffle:Object(R.N)(e),selectedSongIds:Object(R.H)(e),autoPlayRecommend:Object(R.e)(e),startRecommend:Object(R.Q)(e),listQuality:Object(R.o)(e),suggestSongs:Object(R.S)(e),adStarted:Object(H.h)(e),audioAdStarted:Object(H.i)(e),isPlayingAds:Object(H.f)(e),adDuration:Object(H.c)(e),adCurrentTime:Object(H.b)(e),activeQualityText:Object(R.d)(e),isAdLoading:Object(H.k)(e),isMiniStyle:Object(R.Y)(e),blockedAsset:Object(P.f)(e),isBlockedFetching:Object(P.j)(e),isIpVn:Object(P.E)(e),isUserVn:Object(P.F)(e),buffered:Object(R.h)(e),buffering:Object(R.V)(e),zmp3Theme:Object(P.A)(e),advertiser:Object(H.d)(e),companions:Object(H.e)(e),likedSongIds:Object(R.n)(e),isAvailableAds:Object(H.j)(e),isShowBeatSong:Object(R.I)(e),beatSong:Object(R.f)(e),showKaraoke:Object(R.K)(e),nextSong:Object(R.p)(e).song}}),(function(e){return Object(O.b)({toggleQueue:L.Y,toggleQuality:L.X,toggleRepeat:L.Z,toggleShuffle:L.ab,toggleVolume:L.bb,toggleBeatSong:L.U,playSong:L.J,playNextSong:L.E,playPrevSong:L.H,onLoadStart:L.t,onLoadedMetadata:L.u,onPlay:L.w,onPause:L.v,onTimeUpdate:L.A,onVolumeChange:L.B,onQualityChange:L.y,clearQueue:L.c,removeSongFromQueue:L.O,removeSongsFromQueue:L.Q,addToast:xt.a,likeAction:C.E,likesAction:C.F,fetchSongStreaming:L.k,fetchMyPlaylist:C.w,fetchLyric:L.i,fetchRecommend:L.j,createMyPlaylist:C.f,addSongToQueue:L.a,toggleAutoPlayRecommend:L.T,fetchSuggest:L.m,downloadSongs:C.j,toggleMiniStyle:L.W,toggleKaraoke:L.V,closeKaraoke:L.e,closeQueue:L.f,onEnded:L.r,fetchStreaming:L.l,fetchBeatStreaming:L.h,resetBeatStreaming:L.R,onLevelSwitched:L.s,playNextSongAndClearStreaming:L.F,hideEffectPlayer:L.p,onProgress:L.x,onBuffering:L.q,openPopupLogin:C.G,playRadio:L.I},e)}))(Xf),Jf=n(164),$f=n.n(Jf),ep=n(125),tp=n(126),np=n(136),rp=n(127),ip=n(28),ap=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={isActivePopup:!1},e.removeSongFromQueue=function(){var t=e.props,n=t.removeSongFromQueue,r=t.songUid;n(t.song.id,r)},e.openMoreAction=function(t){e.refs.action&&e.refs.action.openMoreAction&&e.refs.action.openMoreAction(t)},e.onActivePopup=function(t){e.setState({isActivePopup:t}),e.props.onActiveMoreAction(t)},e.playSong=function(t,n){var r=e.props,i=r.song,a=r.songUid;e.props.playSong(i,Object(st.a)({songUid:a},n))},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.song,n=e.isPlaying,r=e.playingSongId,a=e.playSong,o=e.isLogin,s=e.isVip,c=e.trackingSource,l=e.addToast,u=e.isBlock,d=e.likedSongIds,h=e.likeAction,f=e.from,p=e.addSongToQueue,m=e.playingSongUid,g=e.songUid,v=e.isNormalView,y=e.buttonTypes,b=this.state.isActivePopup;if(!t)return null;var w=Object(V.l)(n,t.id,r)&&g===m,_=t.id===r&&g===m&&!window.hasAudioAds,E=d.indexOf(t.id)>-1;return i.a.createElement(ep.a,{className:"media-item ".concat(v?"media-item-normal":""," ").concat(_?"z-active":""," ").concat(b?"z-focus":""),songUid:g,song:t,playSong:a,openMoreAction:this.openMoreAction,trackingSource:c},i.a.createElement("div",{className:"z-card card-40"},i.a.createElement(rp.a,{songUid:g,isPlaying:n,song:t,playingSongId:r,playSong:a,thumbnail:t.thumbnail,playingSongUid:m,trackingSource:c,className:"thumb-40"}),i.a.createElement(tp.a,{song:t}),t.duration&&!v?i.a.createElement("div",{className:"duration"},Object(F.q)(t.duration)):null,i.a.createElement(np.a,{isLogin:o,isVip:s,song:t,trackingSource:c,listen:t.listen,addToast:l,addSongToQueue:p,from:f,btnMores:v?ip.e:[].concat(Object(Y.a)(ip.d),["".concat(w&&n?"":"delete")]),isBlock:u,likeAction:h,likedSongIds:d,onActivePopup:this.onActivePopup,isInPlayer:!0,buttonTypes:y,removeSong:this.removeSongFromQueue,playSong:this.playSong,liked:E,ref:"action"})))}}]),n}(r.Component);function op(e,t,n){var r=e[n];return e[n]=e[t],e[t]=r,e}function sp(e,t,n,r){return e-t>(r?n/2:0)}var cp=null;var lp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"VERTICAL",n=function(n){Object(x.a)(a,n);var r=Object(T.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=r.call.apply(r,[this].concat(i))).state={isChoosen:!1},e.sortEnd=function(t){e.setState({isChoosen:!1}),t.preventDefault(),cp=null;var n=e.props.onSortEnd;n&&n()},e.sortStart=function(t){e.setState({isChoosen:!0});var n=e.props.onSortStart;n&&n(),cp=t.currentTarget.dataset.id;var r=t.dataTransfer;void 0!==r&&(t.dataTransfer.setData("text",t.target.innerHTML),r.setDragImage&&"a"===t.currentTarget.tagName.toLowerCase()&&r.setDragImage(t.target,0,0))},e.dragOver=function(n){n.preventDefault();var r,i=e.props.moveInMiddle,a=n.currentTarget,o=Number(a.dataset.id),s=Number(cp),c=a.getBoundingClientRect().height,l=a.getBoundingClientRect().width,u=n.clientX,d=n.clientY,h=a.getBoundingClientRect().top,f=a.getBoundingClientRect().left,p=e.props.items;"VERTICAL"===t&&(r=sp(d,h,c,i)),"HORIZONTAL"===t&&(r=sp(u,f,l,i)),o!==s&&r&&(p=op(p,s,o),cp=o,e.props.onSortItems(p,o))},e.handleDrop=function(e){e.preventDefault()},e}return Object(S.a)(a,[{key:"render",value:function(){var t=Object.assign({},this.props);delete t.onSortItems;var n=t.sortId,r=Object(q.a)(t,["sortId"]);return i.a.createElement(e,Object.assign({style:{backgroundColor:this.state.isChoosen?"rgba(99,99,99,.24)":""},draggable:!0,onDragOver:this.dragOver,onDragStart:this.sortStart,onDragEnd:this.sortEnd,onTouchStart:this.sortStart,onTouchMove:this.dragOver,onTouchEnd:this.sortEnd,onDrop:this.handleDrop,"data-id":n},r))}}]),a}(i.a.Component);return n.defaultProps={moveInMiddle:!1},n}(function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.items,Object(q.a)(e,["items"]));return i.a.createElement("li",t,this.props.children)}}]),n}(i.a.Component)),up=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={isSorting:!1,items:[]},e.onSortItems=function(t){e.setState({items:t})},e.onSortStart=function(){e.setState({isSorting:!0})},e.onSortEnd=function(){var t=e.state.items;e.setState({isSorting:!1}),Object(F.B)(t)||e.props.onSortItems(t)},e}return Object(S.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.queueId!==e.queueId&&this.setState({items:[]})}},{key:"render",value:function(){var e=this.props,t=e.items,n=void 0===t?[]:t,r=e.queueSongMap,a=e.isPlaying,o=e.playingSongId,s=e.playingSongUid,c=e.playSong,l=e.queueSongStats,u=e.isLogin,d=e.isVip,h=e.addToast,f=e.removeSongFromQueue,p=e.blockedAsset,m=e.likeAction,g=e.likedSongIds,v=e.onActiveMoreAction;if(Object(F.B)(n))return null;var y=this.state.isSorting;return i.a.createElement("div",{className:"z-items ".concat(y?"z-sorting":"")},i.a.createElement("ul",{className:"list-info-mw-300"},i.a.createElement(dp,{items:n,queueSongMap:r,isPlaying:a,playingSongUid:s,playingSongId:o,playSong:c,onSortItems:this.onSortItems,queueSongStats:l,isLogin:u,isVip:d,sortStart:0,addToast:h,removeSongFromQueue:f,blockedAsset:p,likeAction:m,likedSongIds:g,onActiveMoreAction:v,isSorting:y,onSortStart:this.onSortStart,onSortEnd:this.onSortEnd,buttonTypes:["karaoke"]})))}}]),n}(r.Component),dp=function(e){var t=e.items,n=e.queueSongMap,a=e.onSortItems,o=e.queueSongStats,s=(e.sortStart,e.isSorting,e.onSortStart),c=e.onSortEnd,l=Object(q.a)(e,["items","queueSongMap","onSortItems","queueSongStats","sortStart","isSorting","onSortStart","onSortEnd"]);return Object(F.B)(t)?null:t.map((function(e,u){var d=e.songId,h=e.songUid;if(h===l.playingSongUid){var f=t[u+1],p=null;if(f){var m=o[f.songUid];p=i.a.createElement(hp,{playlist:m.sourcePlaylist})}return i.a.createElement(r.Fragment,{key:h},i.a.createElement(lp,{key:h,items:t,sortId:u,onSortItems:a,onSortStart:s,onSortEnd:c},i.a.createElement(ap,Object.assign({songUid:h,song:n[d],isDrapable:!0},l))),p)}return i.a.createElement(lp,{key:h,items:t,sortId:u,onSortItems:a,onSortStart:s,onSortEnd:c},i.a.createElement(ap,Object.assign({songUid:h,song:n[d],isDrapable:!0},l)))}))},hp=function(e){var t=e.playlist,n=void 0===t?{}:t;return n.title?i.a.createElement("div",{className:"z-next-header  mar-top-5 mar-bottom-5"},i.a.createElement("div",{className:"z-title"},"Ti\u1ebfp theo"),i.a.createElement("div",{className:"z-content"},i.a.createElement("span",{className:"z-pre-source"},"T\u1eeb ",n.isalbum?"album":"playlist"),i.a.createElement($f.a,{className:"z-source",to:n.link,title:n.title},n.title))):i.a.createElement("div",{className:"z-next-header  mar-top-5 mar-bottom-5"},i.a.createElement("div",{className:"z-title",style:{opacity:1}},"Ti\u1ebfp theo"))},fp=n(48),pp=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).reloadRecommend=function(){var t=e.props;(0,t.fetchRecommend)(t.songId,t.startRecommend)},e}return Object(S.a)(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.songId;(0,e.fetchRecommend)(t,0)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.songId,r=t.fetchRecommend;n!==e.songId&&e.songId&&r(e.songId,0)}},{key:"render",value:function(){var e=this.props,t=e.songs,n=void 0===t?[]:t,a=e.isPlaying,o=e.playingSongId,s=e.playSong,c=e.isDisableAutoRecommend,l=e.toggleAutoPlayRecommend,u=e.autoPlayRecommend,d=e.isLastSong,h=e.addSongToQueue,f=e.isLogin,p=e.isVip,m=e.likeAction,g=e.likedSongIds,v=e.onActiveMoreAction,y=e.addToast;return c||Object(F.B)(n)?null:i.a.createElement(r.Fragment,null,i.a.createElement("div",{className:"z-suggest-header"},i.a.createElement("span",{className:"z-title"},d&&u?"Ti\u1ebfp theo t\u1eeb G\u1ee3i \xfd":"G\u1ee3i \xfd"),i.a.createElement("div",{className:"z-auto-play-switch pull-right"},"T\u1ef0 \u0110\u1ed8NG PH\xc1T",i.a.createElement("i",{className:"icon ic-svg-switch ".concat(u?"":"z-switch-off"),onClick:l}),i.a.createElement("i",{className:"icon ic-reload",onClick:this.reloadRecommend}))),i.a.createElement("div",{className:"z-items"},i.a.createElement("ul",{className:"list-info-mw-300"},n.map((function(e){return i.a.createElement(ap,{song:e,isPlaying:a,playingSongId:o,playSong:s,isNormalView:!0,addSongToQueue:h,isLogin:f,isVip:p,likeAction:m,likedSongIds:g,onActiveMoreAction:v,trackingSource:fp.I,addToast:y,buttonTypes:["addToQueue"]})})))))}}]),n}(r.Component),mp=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(Object(K.a)(r)),r}return Object(S.a)(n,[{key:"onClick",value:function(){var e=this.props,t=e.downloadSongs,n=e.songIds;t(void 0===n?[]:n)}},{key:"render",value:function(){return i.a.createElement("li",{className:"menu-item",onClick:this.onClick},i.a.createElement("div",{className:"dropdown-item"},i.a.createElement("i",{className:"icon ic-download"}),"T\u1ea3i danh s\xe1ch ph\xe1t"))}}]),n}(r.Component);mp.defaultProps={songIds:[]};var gp=mp,vp=n(16),yp=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={showChild:!1,isLeftChild:!1},e.addSongToPlaylist=function(){var t=Object(D.a)(j.a.mark((function t(n){var r,i,a,o,s,c,l,u;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,i=r.addToast,a=r.songIds,o={method:"GET"},s=I.ec,c={ids:a.join(","),to_id:n,to:"playlist"},t.next=6,Object(F.g)(s,c,o);case 6:if(l=t.sent,u=l.resp,Object(ae.a)(u)){t.next=11;break}return i({text:u?u.msg:vp.L,status:I.gd}),t.abrupt("return");case 11:i(Object(F.f)(u.msg,I.jd)),e.props.closeDropdown();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleClick=function(t){t.stopPropagation();var n=e.props,r=n.isLogin,i=n.openPopupLogin,a=n.fireGAEvent;r||i("Th\xeam V\xe0o Playlist C\xe1 Nh\xe2n"),a&&a()},e.removeChild=function(){e.setState({showChild:!1}),e.props.closePortal&&e.props.closePortal()},e.createPlaylist=function(t){var n=e.props,r=n.song,i=n.addToast,a=n.createMyPlaylist;if(!t)return i({text:NOTIFY_MESSAGE.REQUIRED_INPUT_VALUE}),!1;a(t,r.id)},e.checkSongInPlaylist=function(t){var n=e.props,r=n.songInPlaylist,i=n.song;return!(!r[t]||-1===r[t].songList.indexOf(i.id))},e.onMouseEnter=function(){e.props.isLogin&&!e.state.showChild&&(e.appearTimer=setTimeout((function(){var t=!1;e.node.getBoundingClientRect().right+240>window.innerWidth&&(t=!0),e.setState({showChild:!0,isLeftChild:t})}),300),Object(F.B)(e.props.myplaylist)&&e.props.fetchMyPlaylist())},e.onMouseLeave=function(){clearTimeout(e.appearTimer)},e.onMouseMouse=function(t){e.dropdown||(e.dropdown=document.getElementById("mini-header-dropdown")),e.dropdown.contains(t.target)&&!e.node.contains(t.target)&&e.setState({showChild:!1})},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.isLogin,a=t.inSongDetail,o=t.createPlaylistByModal,s=t.songIds,c=void 0===s?[]:s,l=this.state,u=l.showChild,d=l.isLeftChild;return i.a.createElement("li",{className:"menu-item z-last",ref:function(t){return e.node=t},onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i.a.createElement("div",{className:"dropdown-item"},i.a.createElement("span",{role:"button",className:"z-btn-add  menu-link z-actived ".concat(a?"z-btn-add-detail":""),title:n},i.a.createElement("i",{role:"button",className:"icon ic-add"}),"Th\xeam v\xe0o playlist"),r&&i.a.createElement("i",{className:"icon ic-go-right z-pull-right-center"}),u&&i.a.createElement(bp,Object.assign({},this.props,{isLeft:d,addSongToPlaylist:this.addSongToPlaylist,removeChild:this.removeChild,onMouseMouse:this.onMouseMouse,inSongDetail:a,songIds:c,createPlaylistByModal:o}))))}}]),n}(r.Component),bp=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={keyword:"",isScroll:!1},e.handleClick=function(t){e.props.inSongDetail&&(e.node.contains(t.target)||e.props.removeChild())},e.onScroll=function(t){var n=t.target.scrollTop>0;e.setState({isScroll:n})},e.createPlaylist=function(){var t=e.props,n=t.songIds,r=void 0===n?[]:n,i=t.removeChild;e.props.createPlaylistByModal({songIds:r.join(",")}),i()},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.props.onMouseMouse),document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.props.onMouseMouse),document.removeEventListener("click",this.handleClick)}},{key:"onClick",value:function(e){e.stopPropagation()}},{key:"onChange",value:function(e){this.setState({keyword:e.target.value})}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter((function(e){return t=Object(pt.h)(t.trim()).toUpperCase(),e.isUser&&Object(pt.h)(e.title).toUpperCase().indexOf(t)>-1}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.inPortal,r=t.myplaylist,a=void 0===r?[]:r,o=t.position,s=void 0===o?1:o,c=t.isLeft,l=this.state,u=l.keyword,d=l.isScroll,h=this.filter(a,u),f=c?{right:"calc(100% - 10px)",left:"initial"}:{left:"calc(100% - 10px)"};return i.a.createElement("div",{className:"z-playlist-dropdown  dropdown-mini-player",onClick:this.onClick,style:Object(st.a)({top:n?-37*s-20:-20},f),ref:function(t){return e.node=t}},i.a.createElement("div",{className:"z-header-dropdown"},i.a.createElement("div",{className:"new-playlist-form",role:"button"},i.a.createElement("form",null,i.a.createElement("input",{type:"text",placeholder:"T\xecm playlist",value:u,onChange:this.onChange.bind(this)})))),i.a.createElement("div",{className:"create-playlist-btn ".concat(d?"bottom-shadow":""),role:"button",onClick:this.createPlaylist},i.a.createElement("a",{className:"thumb"}),i.a.createElement("div",{className:"title"},i.a.createElement("span",null,"T\u1ea1o playlist"))),i.a.createElement("div",{className:h.length>0?"z-hide":"no-content"},i.a.createElement("i",{className:"icon ic-svg-dics-music-icon"}),"Kh\xf4ng c\xf3 playlist"),i.a.createElement("ul",{onScroll:this.onScroll,ref:function(t){return e.scrollNode=t},className:h.length>0?"":"z-hide"},h.map((function(t){return i.a.createElement("li",{className:"menu-item",onClick:function(){return e.props.addSongToPlaylist(t.id)}},i.a.createElement("div",{className:"dropdown-item"},i.a.createElement("i",{className:"icon ic-list-music"}),i.a.createElement("div",{className:"title"},i.a.createElement("span",null,t.title))))}))))}}]),n}(r.Component),wp=yp,_p=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={isOpen:!1},e.openDropdown=function(){e.setState({isOpen:!0})},e.closeDropdown=function(){e.setState({isOpen:!1})},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this.state.isOpen;return i.a.createElement("li",{className:"mar-right-20",style:{position:"relative"}},i.a.createElement(Ut.c,{title:"Kh\xe1c",classNameIcon:"more",onClick:this.openDropdown,tooltipId:"t-more-queue"}),e&&i.a.createElement(Ep,Object.assign({closeDropdown:this.closeDropdown},this.props)))}}]),n}(r.Component),Ep=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).handleOusiteClick=function(t){if(!e.node.contains(t.target)){var n=document.getElementsByClassName("ReactModalPortal");n&&n.length>0||e.props.closeDropdown()}},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleOusiteClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleOusiteClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.removeSongsFromQueue,r=t.isLogin,a=t.addToast,o=t.isUserVn,s=t.downloadSongs,c=t.likeSongsInQueue,l=t.myplaylist,u=t.createMyPlaylist,d=t.fetchMyPlaylist,h=t.closeDropdown,f=t.queueSongIds,p=t.createPlaylistByModal,m=t.openPopupLogin,g=f.map((function(e){return e.songId}));return i.a.createElement("div",{className:"dropdown-menu-list z-show",id:"mini-header-dropdown",ref:function(t){return e.node=t}},i.a.createElement("ul",{className:"pad-0"},i.a.createElement("li",{className:"menu-item z-first",onClick:h},i.a.createElement("div",{className:"dropdown-item",onClick:n},i.a.createElement("i",{className:"icon ic-delete"}),i.a.createElement("span",null,"X\xf3a danh s\xe1ch ph\xe1t"))),o&&i.a.createElement(gp,{songIds:g,downloadSongs:s}),i.a.createElement(wp,{likeAction:c,myplaylist:l,createMyPlaylist:u,addToast:a,songIds:g,isLogin:r,fetchMyPlaylist:d,closeDropdown:h,createPlaylistByModal:p,openPopupLogin:m})))}}]),n}(r.Component),Sp=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.node.addEventListener("wheel",this.handleWheel)}},{key:"handleWheel",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,n=t.removeSongsFromQueue,r=t.queueSongIds,a=t.isVip,o=t.isLogin,s=t.addToast,c=t.queueSongMap,l=t.downloadSongs,u=t.myplaylist,d=t.createMyPlaylist,h=t.fetchMyPlaylist,f=t.isUserVn,p=t.closeQueue,m=t.createPlaylistByModal,g=t.openPopupLogin;return i.a.createElement("div",{className:"z-list-header",ref:function(t){return e.node=t}},i.a.createElement("h3",{className:"z-title"},"Danh s\xe1ch ph\xe1t (",r.length,")"),i.a.createElement("ul",{className:"list-button"},i.a.createElement(_p,{removeSongsFromQueue:n,queueSongIds:r,isVip:a,isLogin:o,addToast:s,queueSongMap:c,downloadSongs:l,myplaylist:u,createMyPlaylist:d,fetchMyPlaylist:h,isUserVn:f,createPlaylistByModal:m,openPopupLogin:g}),i.a.createElement("li",null,i.a.createElement(Ut.c,{title:"\u0110\xf3ng",classNameIcon:"go-down",onClick:p,tooltipId:"t-close-queue"}))))}}]),n}(r.Component);var xp=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isHovering:!1},e.handleMouseEnter=function(){e.setState({isHovering:!0})},e.handleMouseLeave=function(){e.setState({isHovering:!1})},e.handleWheel=function(t){e.props.isDisableScroll&&(t.preventDefault(),t.stopPropagation());var n=t.wheelDelta||-t.deltaY||-t.detail||0,r=e.scrollNode.scrollTop,i=e.scrollNode.scrollHeight,a=e.scrollNode.offsetHeight,o=n>0;(!o&&a+r>=i||o&&r<=0)&&(t.preventDefault(),t.stopPropagation())},e.renderThumb=function(t){var n=t.style,r=Object(q.a)(t,["style"]);return i.a.createElement("div",Object.assign({className:"z-thumb-vertical",style:Object(st.a)({},n,{opacity:e.props.isDisableScroll?0:1})},r))},e.renderView=function(e){var t=e.style,n=Object(q.a)(e,["style"]);return i.a.createElement("div",Object.assign({style:t},n,{id:"z-scroll-node"}))},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.scrollNode=document.getElementById("z-scroll-node"),this.scrollNode.addEventListener("wheel",this.handleWheel),this.scrollNode.addEventListener("mouseenter",this.handleMouseEnter),this.scrollNode.addEventListener("mouseleave",this.handleMouseLeave)}},{key:"componentWillUnmount",value:function(){this.scrollNode.removeEventListener("wheel",this.handleWheel),this.scrollNode.removeEventListener("mouseenter",this.handleMouseEnter),this.scrollNode.removeEventListener("mouseleave",this.handleMouseLeave),clearTimeout(this.scrollTimer)}},{key:"componentDidUpdate",value:function(e,t){var n=this;(!this.props.showQueue||e.showQueue)&&(this.props.playingSongUid===e.playingSongUid||this.state.isHovering&&e.playingSongUid)||this.scrollToActivedItem(),this.state.isHovering!==t.isHovering&&(this.state.isHovering||this.props.isDisableScroll?clearTimeout(this.scrollTimer):this.scrollTimer=setTimeout((function(){n.scrollToActivedItem()}),3e3))}},{key:"scrollToActivedItem",value:function(){var e,t,n=document.getElementsByClassName("media-item z-active")[0],r=document.getElementById("z-scroll-node");n&&(t=n,(e=r)&&t&&(e.scrollTop>t.offsetTop||t.offsetTop+t.offsetHeight-e.scrollTop>e.offsetHeight)&&Object(Me.a)(r,n.offsetTop-8,300))}},{key:"render",value:function(){return i.a.createElement(ie.Scrollbars,{renderThumbVertical:this.renderThumb,renderView:this.renderView},this.props.children)}}]),n}(r.Component),Tp=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={},e.onActiveMoreAction=function(t){e.setState({isActiveMoreAction:t})},e}return Object(S.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.queueId!==e.queueId?this.setState({loading:!0}):this.state.loading&&e.queueSongIds.find((function(t){return t.songUid===e.playingSongUid}))&&this.setState({loading:!1})}},{key:"render",value:function(){var e=this.props,t=e.queueSongMap,n=e.queueSongStats,r=e.queueSongIds,a=void 0===r?[]:r,o=e.isPlaying,s=e.playingSongId,c=e.playingSongUid,l=e.playSong,u=e.removeSongFromQueue,d=e.myplaylist,h=e.addToast,f=e.isLogin,p=e.isVip,m=e.blockedAsset,g=e.likeAction,v=e.likedSongIds,y=e.recommendSongs,b=e.fetchRecommend,w=e.addSongToQueue,_=e.toggleAutoPlayRecommend,E=e.autoPlayRecommend,S=e.startRecommend,x=e.isDisableAutoRecommend,T=e.showQueue,O=e.closeQueue,k=e.removeSongsFromQueue,M=e.downloadSongs,A=e.playingSong,C=void 0===A?{}:A,L=e.createMyPlaylist,P=e.fetchMyPlaylist,R=e.isUserVn,I=e.onSortItems,N=e.queueId,j=e.createPlaylistByModal,D=e.openPopupLogin,z=a.findIndex((function(e){return e.songUid===c})),U=z===a.length-1,B={backgroundImage:"url(".concat(C.thumbnail_medium||C.thumbnail,")")};return i.a.createElement("div",{className:"wrapper-z-medias  ".concat(T&&!Object(F.B)(a)?"z-visible":""," ").concat(Object(F.B)(a)&&!T?"z-hide":"")},i.a.createElement("div",{className:"z-list-media"},i.a.createElement("div",{className:"z-blur-bg-wrapper"},i.a.createElement("div",{className:"z-blur-bg",style:B})),i.a.createElement("div",{className:"z-list-wrapper"},i.a.createElement(Sp,{removeSongsFromQueue:k,queueSongIds:a,isVip:p,isLogin:f,addToast:h,queueSongMap:t,downloadSongs:M,myplaylist:d,createMyPlaylist:L,fetchMyPlaylist:P,isUserVn:R,closeQueue:O,createPlaylistByModal:j,openPopupLogin:D}),this.state.loading&&i.a.createElement("i",{role:"button",className:"icon loading-queue-icon"}),i.a.createElement("div",{className:"z-list-content ".concat(this.state.loading?"z-hide":"z-transition")},i.a.createElement(xp,{playingSongUid:c,showQueue:T,isDisableScroll:this.state.isActiveMoreAction},i.a.createElement("div",{className:"z-list-items",style:{marginTop:0===z?"8px":""}},i.a.createElement(up,{queueId:N,queueSongMap:t,queueSongStats:n,items:a,isPlaying:o,playingSongId:s,playingSongUid:c,playSong:l,removeSongFromQueue:u,myplaylist:d,addToast:h,isLogin:f,isVip:p,blockedAsset:m,likeAction:g,likedSongIds:v,onSortItems:I,onActiveMoreAction:this.onActiveMoreAction}),i.a.createElement(pp,{songs:y,fetchRecommend:b,songId:s,playSong:l,isPlaying:o,addSongToQueue:w,toggleAutoPlayRecommend:_,autoPlayRecommend:E,startRecommend:S,isLogin:f,addToast:h,isVip:p,likeAction:g,likedSongIds:v,isLastSong:U,isDisableAutoRecommend:x,onActiveMoreAction:this.onActiveMoreAction})))))))}}]),n}(r.Component),Op=Object(s.b)((function(e){return{showQueue:Object(R.M)(e),isPlaying:Object(R.m)(e),streaming:Object(R.P)(e),streamingUrl:Object(R.R)(e),playingSongId:Object(R.v)(e),playingSongUid:Object(R.w)(e),playingSong:Object(R.u)(e),queueSongIds:Object(R.B)(e),queueSongMap:Object(R.C)(e),queueSongStats:Object(R.D)(e),recommendSongs:Object(R.E)(e),startRecommend:Object(R.Q)(e),autoPlayRecommend:Object(R.e)(e),suggestSongs:Object(R.S)(e),selectedSongIds:Object(R.H)(e),myplaylist:Object(P.w)(e),isLogin:Object(P.b)(e),isVip:Object(P.c)(e),profile:Object(P.y)(e),showMiniPlayer:Object(R.L)(e),repeat:Object(R.F)(e),shuffle:Object(R.N)(e),quality:Object(R.i)(e),qualities:Object(R.o)(e),isMiniStyle:Object(R.Y)(e),showComment:Object(R.J)(e),songInPlaylist:Object(P.z)(e),audioAdStarted:Object(H.i)(e),blockedAsset:Object(P.f)(e),isBlockedFetching:Object(P.j)(e),isIpVn:Object(P.E)(e),isUserVn:Object(P.F)(e),zmp3Theme:Object(P.A)(e),playingPlaylist:Object(R.s)(e),likedSongIds:Object(R.n)(e),isDisableAutoRecommend:Object(R.a)(e),queueId:Object(R.A)(e)}}),(function(e){return Object(O.b)({toggleQueue:L.Y,playSong:L.J,playNextSong:L.E,playPrevSong:L.H,addSongToQueue:L.a,clearQueue:L.c,removeSongFromQueue:L.O,removeSongsFromQueue:L.Q,addToast:xt.a,likeAction:C.E,likesAction:C.F,fetchMyPlaylist:C.w,createMyPlaylist:C.f,addSongToPlaylist:C.a,removeSong:C.M,fetchLyric:L.i,fetchRecommend:L.j,toggleAutoPlayRecommend:L.T,fetchSuggest:L.m,downloadSongs:C.j,toggleRepeat:L.Z,toggleShuffle:L.ab,onQualityChange:L.y,openPopupLogin:C.G,toggleMiniStyle:L.W,closeQueue:L.f,onSortItems:L.z,createPlaylistByModal:C.g},e)}))(Tp),kp=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).renderItem=function(t,n){var r=null;switch(t){case"special":r=i.a.createElement("div",{className:"z-link z-link-special"},n.name);break;case"button":r=i.a.createElement("a",{className:"z-link",title:n.name,onClick:e.openModal},n.name);break;default:r=i.a.createElement("a",{href:n.link,className:"z-link",title:n.name,target:"_blank"},n.name)}return r},e.state={modalIsOpen:!1,disabledToTop:!0},e.openModal=e.openModal.bind(Object(K.a)(e)),e.afterOpenModal=e.afterOpenModal.bind(Object(K.a)(e)),e.closeModal=e.closeModal.bind(Object(K.a)(e)),e.backToTop=null,e}return Object(S.a)(n,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.menus,r=t.style,a=this.state.modalIsOpen;return i.a.createElement(i.a.Fragment,null,i.a.createElement("footer",{id:"footer",className:"bg-footer",style:r},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"sub-container pad-top-50 bor-top "},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 z-center"},i.a.createElement("div",{className:"z-license-logo clearfix"},i.a.createElement("span",{className:"z-logo"}),i.a.createElement("div",{className:"z-license-info"},i.a.createElement("div",{className:"z-copyright"},"M\u1ed9t s\u1ea3n ph\u1ea9m c\u1ee7a Zalo"))),i.a.createElement("ul",{className:"z-nav-footer"},n.map((function(t,n){return i.a.createElement("li",{key:"footer-menu-".concat(n)},e.renderItem(t.type,t))})))))))),a&&i.a.createElement(Te.a,{isOpen:a,onRequestClose:this.closeModal,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal --z--rule-modal z-show"},i.a.createElement("div",{className:"z-modal-content"},i.a.createElement("div",{className:"z-buy-download-zone"},i.a.createElement("span",{className:"--z--zingmp3-logo"}),i.a.createElement("div",{className:"z-copyright-content"},"Gi\u1ea5y ph\xe9p m\u1ea1ng x\xe3 h\u1ed9i: 314/GP-BTTTT do B\u1ed9 Th\xf4ng tin v\xe0 Truy\u1ec1n th\xf4ng c\u1ea5p ng\xe0y 17/7/2015",i.a.createElement("br",null),i.a.createElement("br",null),"Ch\u1ee7 qu\u1ea3n: C\xf4ng Ty C\u1ed5 Ph\u1ea7n VNG",i.a.createElement("br",null),"Z06 \u0110\u01b0\u1eddng s\u1ed1 13, ph\u01b0\u1eddng T\xe2n Thu\u1eadn \u0110\xf4ng, qu\u1eadn 7, th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh, Vi\u1ec7t Nam"),i.a.createElement("a",{onClick:this.closeModal,className:"z-login-btn"},"\u0110\xf3ng")))))}}]),n}(r.Component);kp.defaultProps={menus:[{name:"Gi\u1edbi thi\u1ec7u",type:"button"},{name:"\u2022",link:"",type:"special"},{name:"Li\xean h\u1ec7",link:"https://mp3.zing.vn/huong-dan/contact"},{name:"\u2022",link:"",type:"special"},{name:"Qu\u1ea3ng c\xe1o",link:"https://adtima.vn/lien-he?utm_source=zingmp3&utm_medium=footer"},{name:"\u2022",link:"",type:"special"},{name:"G\xf3p \xfd",link:I.v},{name:"\u2022",link:"",type:"special"},{name:"Th\u1ecfa thu\u1eadn s\u1eed d\u1ee5ng",link:I.Rc}]};var Mp=kp,Ap=n(104);function Cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Pp=function(e){function t(){return Cp(this,t),Lp(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){d()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),d()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,a=void 0;return i.a.Children.forEach(t,(function(t){if(null==r&&i.a.isValidElement(t)){var o=t.props,s=o.path,c=o.exact,l=o.strict,u=o.sensitive,d=o.from,h=s||d;a=t,r=Object(Ap.a)(n.pathname,{path:h,exact:c,strict:l,sensitive:u},e.match)}})),r?i.a.cloneElement(a,{location:n,computedMatch:r}):null},t}(i.a.Component);Pp.contextTypes={router:m.a.shape({route:m.a.object.isRequired}).isRequired},Pp.propTypes={children:m.a.node,location:m.a.object};var Rp=Pp,Ip=n(103).a,Np=i.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4)]).then(n.bind(null,422))})),jp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,428))})),Dp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(19)]).then(n.bind(null,423))})),zp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(28),n.e(9)]).then(n.bind(null,425))})),Fp=i.a.lazy((function(){return n.e(27).then(n.bind(null,419))})),Up=i.a.lazy((function(){return n.e(26).then(n.bind(null,338))})),Bp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,424))})),Hp=i.a.lazy((function(){return n.e(18).then(n.bind(null,430))})),Vp=i.a.lazy((function(){return n.e(15).then(n.bind(null,432))})),Gp=i.a.lazy((function(){return n.e(16).then(n.bind(null,431))})),Wp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,441))})),qp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,438))})),Yp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(2),n.e(17)]).then(n.bind(null,439))})),Zp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,435))})),Kp=i.a.lazy((function(){return n.e(23).then(n.bind(null,434))})),Xp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,437))})),Qp=i.a.lazy((function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,440))})),Jp=i.a.lazy((function(){return n.e(8).then(n.bind(null,429))})),$p=i.a.lazy((function(){return n.e(5).then(n.bind(null,436))})),em=i.a.lazy((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,421))})),tm=i.a.lazy((function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,433))})),nm=i.a.lazy((function(){return Promise.all([n.e(0),n.e(24)]).then(n.bind(null,427))})),rm=i.a.lazy((function(){return Promise.all([n.e(1),n.e(14)]).then(n.bind(null,426))})),im=i.a.lazy((function(){return Promise.all([n.e(1),n.e(6)]).then(n.bind(null,420))})),am=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props.location;return i.a.createElement(r.Suspense,{fallback:i.a.createElement(Un.a,{isLoading:!0})},i.a.createElement(Rp,{key:e.key,location:e},i.a.createElement(Ip,{exact:!0,path:"/",component:Np}),i.a.createElement(Ip,{exact:!0,path:"/bai-hat/:alias/:id.html",component:jp}),i.a.createElement(Ip,{exact:!0,path:"/video-clip/:alias/:id.html",component:Dp}),i.a.createElement(Ip,{exact:!0,path:"/album/:alias/:id.html",component:zp}),i.a.createElement(Ip,{exact:!0,path:"/playlist/:alias/:id.html",component:zp}),i.a.createElement(Ip,{exact:!0,path:"/nghe-si/:alias",component:Bp}),i.a.createElement(Ip,{exact:!0,path:"/nghe-si/:alias/:tab",component:Bp}),i.a.createElement(Ip,{exact:!0,path:"/the-loai-video/:alias/:id.html",component:Hp}),i.a.createElement(Ip,{exact:!0,path:"/the-loai-video.html",component:Hp}),i.a.createElement(Ip,{exact:!0,path:"/the-loai-album/:alias/:id.html",component:Vp}),i.a.createElement(Ip,{exact:!0,path:"/the-loai-album.html",component:Vp}),i.a.createElement(Ip,{exact:!0,path:"/the-loai-nghe-si/:alias/:id.html",component:Gp}),i.a.createElement(Ip,{exact:!0,path:"/the-loai-nghe-si.html",component:Gp}),i.a.createElement(Ip,{exact:!0,path:"/zing-chart/:type.html",component:Yp}),i.a.createElement(Ip,{exact:!0,path:"/top-new-release/:type.html",component:qp}),i.a.createElement(Ip,{exact:!0,path:"/zing-chart-tuan/:alias/:id.html",component:Wp}),i.a.createElement(Ip,{exact:!0,path:"/top100/:alias/:id.html",component:Kp}),i.a.createElement(Ip,{exact:!0,path:"/top100",component:Zp}),i.a.createElement(Ip,{exact:!0,path:"/chu-de",component:Xp}),i.a.createElement(Ip,{exact:!0,path:"/chu-de/:alias/:id.html",component:Qp}),i.a.createElement(Ip,{exact:!0,path:"/tim-kiem/index.html",component:Jp}),i.a.createElement(Ip,{exact:!0,path:"/tim-kiem/:type.html",component:$p}),i.a.createElement(Ip,{exact:!0,path:"/social/callback",component:Fp}),i.a.createElement(Ip,{exact:!0,path:"/mymusic",component:em}),i.a.createElement(Ip,{exact:!0,path:"/mymusic/:type",component:em}),i.a.createElement(Ip,{exact:!0,path:"/mymusic/:type/:id",component:em}),i.a.createElement(Ip,{exact:!0,path:"/m4u",component:tm}),i.a.createElement(Ip,{exact:!0,path:"/family-vip",component:nm}),i.a.createElement(Ip,{exact:!0,path:"/family-vip/:type",component:nm}),i.a.createElement(Ip,{exact:!0,path:"/hub/:alias/:id.html",component:rm}),i.a.createElement(Ip,{exact:!0,path:"/:alias",component:im}),i.a.createElement(Ip,{exact:!0,path:"/:alias/:tab",component:im}),i.a.createElement(Ip,{exact:!0,path:"/:alias/:tab/:id.html",component:im}),i.a.createElement(Ip,{component:Up})))}}]),n}(r.PureComponent),om=n(65),sm=n(47),cm=Object(r.memo)((function(e){var t,n=e.miniMode,r=e.toggleMiniMode,a=e.status,o=Object(s.c)(),c=a.total,l=a.inprogress,u=a.converting,d=a.waiting;return t=l>0?"\u0110ang t\u1ea3i l\xean... (".concat(c-d-l,"/").concat(c,")"):u>0?"\u0110ang chu\u1ea9n b\u1ecb... (".concat(c-u,"/").concat(c,")"):"T\u1ea3i l\xean ".concat(c," file").concat(c>1?"s":""),i.a.createElement("div",{className:"header",onClick:r},i.a.createElement("div",{className:"title"},t),i.a.createElement("div",{className:"action"},i.a.createElement(Ut.c,{className:"mar-right-20",title:n?"M\u1edf r\u1ed9ng":"Thu nh\u1ecf",classNameIcon:"go-".concat(n?"up":"down"),onClick:r,tooltipId:"minimize"}),i.a.createElement(Ut.c,{title:"\u0110\xf3ng",classNameIcon:"close",onClick:function(){return o(Object(sm.c)())},tooltipId:"close"})))})),lm=n(86),um=n(107),dm=function(e){var t=Object(s.c)(),n=function(e,n){e.id&&t(Object(L.a)(e,n))},r=e.actionTypes,a=void 0===r?["addToQueue","addMore","delete"]:r,o=e.onActivePopup,c=e.className,l=e.removeSong,u=e.song,d=void 0===u?{}:u;return i.a.createElement(um.a,{closeOnOutsideClick:!0,closeOnEsc:!0,className:c,onActivePopup:o,size:a.length,offsetHeight:0},(function(e){var t=e.portal,r=e.closePortal,o=e.renderButton;return i.a.createElement(i.a.Fragment,null,o({id:d.id}),t(i.a.createElement(hm,{closePortal:r,actionTypes:a,object:d,addSongToQueue:n,removeSong:l})))}))},hm=function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={totalComment:0},e.setLoading=function(t,n){return e.setState({totalComment:t,radio:n})},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.actionTypes,n=(e.objectType,e.object),r=Object(q.a)(e,["actionTypes","objectType","object"]);return i.a.createElement("div",{onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()}},i.a.createElement("ul",null,t.map((function(e,t){return i.a.createElement(lm.a,Object.assign({key:e,type:e,object:n},r,{position:t}))}))))}}]),n}(r.Component),fm=function(e){var t=e.itemKey,n=e.data,r=Object(s.c)(),a=function(){return r(Object(sm.d)(t))},o=function(){return r(Object(sm.f)(t,ip.h.waiting))},c=n.name,l=n.status,u=n.thumbnail,d=n.song;return i.a.createElement("div",{className:"item z-".concat(l)},i.a.createElement("img",{src:u}),i.a.createElement("div",{className:"title"},c),i.a.createElement("div",{className:"status"},ip.i[l]),i.a.createElement("div",{className:"z-right"},function(e){switch(e){case ip.h.error:return i.a.createElement("i",{className:"icon ic-warning ic-status",style:{color:"#e02020"}});case ip.h.success:return i.a.createElement("i",{className:"icon ic-check-full ic-status",style:{color:"#3fae29"}});case ip.h.waiting:return i.a.createElement("div",{className:"icon ic-status",style:{width:20,height:20}},i.a.createElement(On,{strokeWidth:10,value:0}));case ip.h.inprogress:return i.a.createElement("div",{className:"icon ic-status",style:{width:18,height:18}},i.a.createElement(On,{strokeWidth:12,value:50}));case ip.h.converting:return i.a.createElement("div",{className:"icon ic-status"},i.a.createElement("img",{src:"//static-zmp3.zadn.vn/skins/zmp3-v5.2/images/sm_loading.svg",style:{height:26,width:26,marginRight:-2}}));default:return null}}(l),i.a.createElement("div",{className:"z-action"},function(e){switch(e){case ip.h.error:return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ut.c,{className:"mar-right-10",title:"Th\u1eed l\u1ea1i",classNameIcon:"reload",onClick:o,tooltipId:"reload"}),i.a.createElement(Ut.c,{title:"X\xf3a",classNameIcon:"close",onClick:a,tooltipId:"close"}));case ip.h.success:return i.a.createElement(dm,{song:d,removeSong:a});case ip.h.waiting:case ip.h.inprogress:case ip.h.converting:return i.a.createElement(Ut.c,{title:"X\xf3a",classNameIcon:"close",onClick:a,tooltipId:"close"});default:return null}}(l))))},pm=function(e){var t=e.status,n=Object(s.c)();if(t.inprogress+t.waiting>0||t.success<1)return null;var r="\u0110\xe3 upload th\xe0nh c\xf4ng ".concat(t.success,"/").concat(t.total);return i.a.createElement("div",{className:"progress"},i.a.createElement("div",{className:"title"},r),i.a.createElement("div",{className:"action"},i.a.createElement("a",{onClick:function(){n(Object(L.M)(t.songs))},className:"mar-right-10"},"Ph\xe1t t\u1ea5t c\u1ea3"),i.a.createElement("a",{onClick:function(){n(Object(C.g)({songIds:t.songIds.join(",")}))}},"T\u1ea1o playlist")))},mm=function(e){var t=e.status,n=Object(s.c)(),r=t.error;if(r<1)return null;var a="C\xf3 ".concat(r," file").concat(r>1?"s":""," b\u1ecb l\u1ed7i");return i.a.createElement("div",{className:"progress error"},i.a.createElement("div",{className:"title"},a),i.a.createElement("div",{className:"action"},i.a.createElement("a",{onClick:function(){return n(Object(sm.b)())}},"Th\u1eed l\u1ea1i")))},gm=function(){var e=Object(r.useState)(!1),t=Object(ke.a)(e,2),n=t[0],a=t[1],o=Object(s.d)(om.a),c=Object(s.d)(om.c),l=Object(s.d)(R.W),u=Object(s.c)();return Object(r.useEffect)((function(){c.inprogress<2&&u(Object(sm.a)(2-c.inprogress))}),[c]),Object(F.B)(o.items)?null:o.items?i.a.createElement("div",{className:"z-upload-box ".concat(n?"minimize":""),style:{bottom:l?0:70}},i.a.createElement(cm,{status:c,miniMode:n,toggleMiniMode:function(){a(!n)}}),i.a.createElement("div",{className:"progress-bars"},i.a.createElement(pm,{status:c}),i.a.createElement(mm,{status:c})),i.a.createElement("div",{className:"content",style:{position:"relative"}},Object.entries(o.items).reverse().map((function(e){var t=Object(ke.a)(e,2),n=t[0],r=t[1];return i.a.createElement(fm,{key:n,itemKey:n,data:r})})),i.a.createElement("div",{id:"ul-portal"}))):void 0},vm=(n(97),n(328),function(e){Object(x.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).confirmExit=function(e){(r.props.isPlaying||r.props.hasUnsavedUploadFile||r.props.isPlayingAds)&&(e.preventDefault(),e.returnValue="")},r.isSearchPage=function(){var e=(r.props.location||{}).pathname;return(void 0===e?"/":e).includes("/tim-kiem/")},r.handleLocationChange=function(){r.props.closeQueue(),r.props.closeKaraoke()},r.handleResizeWindow=function(){var e=r.state.miniSize;(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=1060?!e&&r.setState({miniSize:!0}):e&&r.setState({miniSize:!1})},r.handleCloseQueue=function(e){var t=document.getElementsByClassName("ReactModalPortal");if(!(t&&t.length>0)&&!(r.props.queueSongIds.length<1)){var n=document.getElementById("z-notify");if(!n||!n.contains(e.target)){var i=document.getElementById("player_dropdown");if(!i||!i.contains(e.target)){var a=document.getElementById("z-miniplayer"),o=document.getElementsByClassName("--z--media-container-wrapper")[0];a&&a.contains(e.target)&&!o.contains(e.target)||"play"!==e.target.dataset.action&&r.props.closeQueue()}}}},r.state={miniSize:!1,isDelaying:!0},r}return Object(S.a)(n,[{key:"componentWillMount",value:function(){var e=this;Object(F.A)(this.props.fetchProfile),_.a.set({page:window.location.pathname}),_.a.pageview(window.location.pathname);var t=this.props.history;this.unsubscribeFromHistory=t.listen(this.handleLocationChange),["click","contextmenu"].forEach((function(t){return document.addEventListener(t,e.handleCloseQueue)})),this.pageYOffset=0}},{key:"componentDidMount",value:function(){var e=this;Object(B.q)();var t=document.getElementById("header"),n=document.getElementById("main-body"),r=document.querySelectorAll(".z-header-search-wrap input")[0];this.needCollapse=!0,this.listWidth=[],this.listTransformWidth=[],this.section=document.querySelectorAll(".pri > li"),window.addEventListener("scroll",(function(){return e.handleScroll(t,n,r)})),window.addEventListener("beforeunload",this.confirmExit),this.handleResizeWindow(),window.addEventListener("resize",this.handleResizeWindow),window.zmp3CloseAdsFn=this.props.openVipModalByCloseAd,window.unShrinkHeader=this.unShrinkHeader.bind(this),setTimeout((function(){return e.setState({isDelaying:!1})}),200)}},{key:"componentDidUpdate",value:function(e){!e.isLogin&&this.props.isLogin&&Object(V.w)(this.props.fetchBlockedAsset,this.props.fetchProfile)}},{key:"componentWillUnmount",value:function(){var e=this;["click","contextmenu"].forEach((function(t){return document.removeEventListener(t,e.handleCloseQueue)})),window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResizeWindow),window.removeEventListener("beforeunload",this.confirmExit),this.unsubscribeFromHistory&&this.unsubscribeFromHistory()}},{key:"handleScroll",value:function(e,t,n){if(this.isSearchPage())this.unShrinkHeader(e,t,n);else{var r=document.getElementById("main-body"),i=window.pageYOffset+(window.headerShrinked?64:0);if(this.pageYOffset!==i)i>I.Sc+(window.hasMasthead?280:0)&&i>this.pageYOffset?this.shrinkHeader(e,t,n):this.unShrinkHeader(e,t,n),i+window.innerHeight>=r.offsetHeight||i>0&&(this.pageYOffset=i)}}},{key:"shrinkHeader",value:function(e,t,n){if(!window.headerShrinked&&n){if(window.headerShrinked=!0,e.classList.add("--z--header-fixed"),t.classList.add("--z--body-header-fixed"),this.needCollapse){for(var r=0;r<this.section.length;r++){this.listWidth.push("--z--shrink"===this.section[r].className?this.section[r].getBoundingClientRect().width:0),this.listTransformWidth.push(0);for(var i=0;i<r;i++)"--z--shrink"===this.section[i].className&&(this.listTransformWidth[r]+=this.listWidth[i]);this.section[r].style.transform="translateX(".concat(-this.listTransformWidth[r],"px)")}this.needCollapse=!1}if(document.activeElement===n)return e.classList.add("--z--header-animation"),void(n.placeholder=I.Wc);n.placeholder=I.e}}},{key:"unShrinkHeader",value:function(e,t,n,r){if(window.headerShrinked){var i=document.getElementsByClassName("ReactModalPortal"),a=document.getElementById("z-dropdown"),o=this.props.showKaraoke;if(r||!(i.length>0||a&&a.childNodes.length>0||o)){if(window.headerShrinked=!1,e.classList.remove("--z--header-fixed","--z--header-animation"),t.classList.remove("--z--body-header-fixed"),!this.needCollapse){for(var s=0;s<this.section.length;s++)this.section[s].style.transform=null;this.needCollapse=!0,this.listWidth=[],this.listTransformWidth=[]}n.placeholder=I.Wc}}}},{key:"render",value:function(){var e=this.props,t=e.queueSongIds,n=e.location,a=e.hasAudioAds,o=e.isFetchingProfile,s=e.history,c=e.isVip,l=n?n.pathname:"/",u=t.length>0,d=this.state.isDelaying,h="/"===l,f=A()("bg-page",{"--z--fv-bg-color":"/family-vip"===l}),p={display:d?"none":"block"};return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,{isVip:c,location:n,isFetchingProfile:o}),i.a.createElement("header",{id:"header",style:p,className:this.isSearchPage()?"z-header-search":""},i.a.createElement(Ue,{pathName:l})),i.a.createElement("main",{id:"main-body",style:p,className:f},i.a.createElement(am,{location:n}),!h&&i.a.createElement("div",{id:"zmp3_Masthead_Inline"},i.a.createElement("div",null))),i.a.createElement(Mp,{style:p}),i.a.createElement("div",{style:{height:u?"100px":"50px"}}),i.a.createElement("div",{id:"z-miniplayer",className:"z-mini-player"},!o&&i.a.createElement(r.Fragment,null,i.a.createElement(Op,null),i.a.createElement(Qf,null)),i.a.createElement("div",{id:"z-dropdown-player"})),i.a.createElement(r.Fragment,null,i.a.createElement($e,{location:n,history:s}),i.a.createElement("div",{id:"zmp3_BG_Left"}),i.a.createElement("div",{id:"zmp3_BG_Right"}),i.a.createElement("div",{id:"zmp3_Popup"}),i.a.createElement("div",{className:"zalo-login-widget z-hide",style:{display:"none"}}),i.a.createElement(nt,null),i.a.createElement(it,null),i.a.createElement(ot,null),i.a.createElement(lt,null),i.a.createElement(bt,null),i.a.createElement(Tt,null),i.a.createElement(gm,null)),a&&i.a.createElement(Ke,null))}}]),n}(r.Component));vm.defaultProps={queueSongIds:[],isVip:!1,isScroll:!1};var ym=Object(k.a)(Object(s.b)((function(e){return{queueSongIds:Object(R.B)(e),isVip:Object(P.c)(e),isLogin:Object(P.b)(e),showQueue:Object(R.M)(e),hasAudioAds:Object(H.a)(e),isPlayingAds:Object(H.f)(e),isMiniStyle:Object(R.Y)(e),isFetchingProfile:Object(P.l)(e),isPlaying:Object(R.m)(e),hasUnsavedUploadFile:Object(G.e)(e),showKaraoke:Object(R.K)(e)}}),(function(e){return Object(O.b)({fetchProfile:C.z,playSong:L.J,hideAllControlPlayer:L.o,closeQueue:L.f,openVipModalByCloseAd:C.I,fetchBlockedAsset:C.l,closeKaraoke:L.e},e)}))(vm));function bm(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var wm=bm();wm.withExtraArgument=bm;var _m,Em=wm,Sm=[1,2,3,4,32,24,31],xm=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ht.fb:return Object(st.a)({},t,{isFetching:!0});case ht.gb:var r=n.data.daily_mix||{},i=r.items,a=void 0===i?[]:i;(a=a.map((function(e){return e.index=Sm.indexOf(e.key),e.type="m4u",e}))).sort((function(e,t){return e.index-t.index}));var o=n.data.spotlight||[];o=Object(F.K)(o);var s=n.data.album_hot||{},c=s.items||[],l=[],u=[];c.forEach((function(e){return e.zoneid?l.push(e):u.push(e)})),s.items=Object(F.K)(u),(e=s.items).splice.apply(e,[3,0].concat(l));var d=n.data.zma,h=void 0===d?{}:d;h.items=Object(F.K)(h.items||[]);var f=Om(),p=km();return n.data.activiteTopic=p[f],n.data.genreTopic=Mm,n.data.contryTopic=jm,n.data.radio&&(n.data.radio.items=Object(F.K)(n.data.radio.items).slice(0,10)),Object(st.a)({},t,{data:n.data,albumHot:s,videoHot:n.data.video_hot,genreShortcut:n.data.genre_shortcut,albumHotStored:n.data.album_hot,videoHotStored:n.data.video_hot,genreShortcutStored:n.data.genre_shortcut,autoGenres:n.data.auto_genre?n.data.auto_genre.items:[],isFetching:!1,m4uData:a,spotlightArtist:o});case ht.eb:var m=t.data||{};return Object(st.a)({},t,{data:Object(st.a)({},m,{},n.data)});case ht.O:return Object(st.a)({},t,{isFetching:!1});case ht.P:return Object(st.a)({},t,{albumHot:n.albumHot,isFetching:!1});case ht.cb:return Object(st.a)({},t,{isFetching:!1});case ht.db:return Object(st.a)({},t,{genreShortcut:n.genreShortcut,isFetching:!1});case ht.Wb:return Object(st.a)({},t,{videoHot:n.videoHot,isFetching:!1});case ht.Vb:return Object(st.a)({},t,{isFetching:!1});case ht.cd:return Object(st.a)({},t,{albumHot:t.albumHotStored,videoHot:t.videoHotStored,genreShortcut:t.genreShortcutStored});default:return t}},Tm=[{start:5,to:12,topic:0},{start:12,to:17,topic:1},{start:17,to:21,topic:2},{start:21,to:24,topic:3},{start:0,to:5,topic:3}],Om=function(){var e=(new Date).getHours(),t=Tm.find((function(t){return e>=t.start&&e<t.to}));return t?t.topic:0},km=function(){var e=(new Date).getDay();return 0!==e&&6!==e||(Pm[0]=Am,Pm[4]=Cm,Rm[0]=Am,Im[2]=Lm,Nm[4]=Am),[Pm,Rm,Im,Nm]},Mm=[{id:274,type:2,title:"Tr\u1eef T\xecnh & Bolero",thumbnail:"https://photo-zmp3.zadn.vn/cover/a/f/6/4/af645626969f1838e60817ef208b1637.jpg",link:"/chu-de/Tru-Tinh-Bolero/IWZ9ZI9W.html"},{id:10214,type:2,title:"Rock",thumbnail:"https://photo-zmp3.zadn.vn/cover/f/7/c/3/f7c379c546171a720206604ba2b6a2d8.jpg",link:"/chu-de/Rock/IWZ97866.html"},{id:26,type:1,title:"EDM",thumbnail:"https://photo-zmp3.zadn.vn/cover/3/2/2/6/3226e68665ac98ddfacda6152c44088a.jpg",link:"/the-loai-album/EDM/IWZ9Z09A.html"},{id:20330,type:2,title:"H\xf2a T\u1ea5u",thumbnail:"https://photo-zmp3.zadn.vn/cover/e/0/b/d/e0bdac94b82a350a72798eae52715f02.jpg",link:"/chu-de/Hoa-Tau/IWZ99FEA.html"},{id:10056,type:2,title:"Acoustic",thumbnail:"https://photo-zmp3.zadn.vn/cover/3/f/e/5/3fe5c35b334dacc3dbbdfd1b5bd10910.jpg",link:"/chu-de/Acoustic/IWZ977C8.html"},{id:27,type:1,title:"Hip-Hop",thumbnail:"https://photo-zmp3.zadn.vn/cover/e/a/d/2/ead2be643330c1cb1b8156f3bfb770d0.jpg",link:"/the-loai-album/Hip-Hop/IWZ9Z09B.html"},{id:29,type:1,title:"R&B",thumbnail:"https://photo-zmp3.zadn.vn/banner/4/2/42c760d34b594be40a78b3085235eb6f_1475489238.jpg",link:"/the-loai-album/R-B/IWZ9Z09D.html"},{id:10007,type:1,title:"Latin",thumbnail:"https://photo-zmp3.zadn.vn/cover/e/0/6/2/e0622e5f9f1b1ea36307eccf49c19ed3.jpg",link:"/the-loai-album/Latin/IWZ97797.html"},{id:10154,type:2,title:"Indie",thumbnail:"https://photo-zmp3.zadn.vn/cover/a/1/6/e/a16ea737a4afd4854cd20f0e0d406f8b.jpg",link:"/chu-de/Indie/IWZ978WA.html"},{id:22,type:1,title:"Country",thumbnail:"https://photo-zmp3.zadn.vn/cover/4/1/9/d/419d836a66fdce7fa401fb9ad28cd3ee.jpg",link:"/the-loai-album/Country/IWZ9Z096.html"},{id:66,type:1,title:"Nh\u1ea1c Dance",thumbnail:"https://photo-zmp3.zadn.vn/cover/2/2/7/7/2277fc7c7cfa3d1d894abbff95cb60b6.jpg",link:"/the-loai-album/Nhac-Dance/IWZ9Z0CW.html"},{id:9,type:1,title:"Rap Vi\u1ec7t",thumbnail:"https://photo-zmp3.zadn.vn/banner/4/4/44bb1e6279d2a8c764610d9f581cc78c_1475489263.jpg",link:"/the-loai-album/Rap-Viet/IWZ9Z089.html"},{id:219,type:2,title:"Nh\u1ea1c Thi\u1ebfu Nhi",thumbnail:"https://photo-zmp3.zadn.vn/cover/0/b/d/b/0bdbff89ac64bfd521ac6b6d24ef8b75.jpg",link:"/chu-de/Nhac-Thieu-Nhi/IWZ9ZIZB.html"},{id:20111,type:2,title:"Nh\u1ea1c Tr\u1ecbnh",thumbnail:"https://photo-zmp3.zadn.vn/cover/8/d/1/3/8d13d68fae7c0d903e6db0bd9cf4d601.jpg",link:"/chu-de/Nhac-Trinh/IWZ99F0F.html"},{id:10338,type:2,title:"Top DJs",thumbnail:"https://photo-zmp3.zadn.vn/cover/4/e/8/2/4e823f3b2b784fe469dd8694c94c80e0.jpg",link:"/chu-de/Top-DJs/IWZ978EW.html"}],Am={id:10118,type:2,title:"Cu\u1ed1i Tu\u1ea7n",thumbnail:"https://photo-zmp3.zadn.vn/banner/6/8/68d98a4726975d18e87f240f3391d1d2_1499168385.jpg",link:"/chu-de/Cuoi-Tuan/IWZ97806.html"},Cm={id:236,type:2,title:"Du L\u1ecbch",thumbnail:"https://photo-zmp3.zadn.vn/cover/0/1/f/f/01ffb4a4c4303061d42a5e44f5f97179.jpg",link:"/chu-de/Du-Lich/IWZ9ZI6C.html"},Lm={id:222,type:2,title:"Ti\u1ec7c T\xf9ng",thumbnail:"https://photo-zmp3.zadn.vn/cover/3/3/4/2/3342bfe8e022945e9683ed186bf34fc7.jpg",link:"/chu-de/Tiec-Tung/IWZ9ZIZE.html"},Pm=[{id:239,type:2,title:"Good Morning",thumbnail:"https://photo-zmp3.zadn.vn/cover/c/3/0/d/c30d054c290f894af50ef605083dcf7d.jpg",link:"/chu-de/Good-Morning/IWZ9ZI6F.html"},{id:229,type:2,title:"C\xe0 Ph\xea",thumbnail:"https://photo-zmp3.zadn.vn/cover/a/8/2/b/a82b06bfae9dc5626c9e30625bcee20f.jpg",link:"/chu-de/Ca-Phe/IWZ9ZI6Z.html"},{id:218,type:2,title:"Workout",thumbnail:"https://photo-zmp3.zadn.vn/banner/3/e/3e41bb2fa76c04460bc709dc46fe2243_1499168356.jpg",link:"/chu-de/Workout/IWZ9ZIZA.html"},{id:10143,type:2,title:"Kh\xfac Nh\u1ea1c Vui",thumbnail:"https://photo-zmp3.zadn.vn/cover/3/c/1/2/3c12c0a5c109aa11627acbaf73f76c03.jpg",link:"/chu-de/Khuc-Nhac-Vui/IWZ978IF.html"},{id:10110,type:2,title:"Motivation",thumbnail:"https://photo-zmp3.zadn.vn/cover/6/5/2/2/652209152e43db50a7279d9574cdda20.jpg",link:"/chu-de/Motivation/IWZ977FE.html"}],Rm=[{id:192,type:2,title:"Th\u01b0 Gi\xe3n",thumbnail:"https://photo-zmp3.zadn.vn/cover/9/4/4/3/9443ab8d704e2de2e6bdebb7ca0b1a85.jpg",link:"/chu-de/Thu-Gian/IWZ9ZIU0.html"},{id:244,type:2,title:"Chill",thumbnail:"https://photo-zmp3.zadn.vn/cover/4/0/a/f/40afc2cbcc5fe7565feb5f168bf18f3d.jpg",link:"/chu-de/Chill/IWZ9ZI7U.html"},{id:275,type:2,title:"T\u1eadp Trung",thumbnail:"https://photo-zmp3.zadn.vn/cover/2/2/f/b/22fb136e4451a4cd70a344d65aed8f31.jpg",link:"/chu-de/Tap-Trung/IWZ9ZI9O.html"},{id:221,type:2,title:"M\u01b0a",thumbnail:"https://photo-zmp3.zadn.vn/cover/7/c/d/7/7cd755db8413beeac0acd4b9014b233c.jpg",link:"/chu-de/Mua/IWZ9ZIZD.html"},{id:193,type:2,title:"Giai \u0110i\u1ec7u Bu\u1ed3n",thumbnail:"https://photo-zmp3.zadn.vn/cover/a/5/0/0/a5002b1ee228e02df83c504dd477f1a6.jpg",link:"/chu-de/Giai-Dieu-Buon/IWZ9ZIUI.html"}],Im=[{id:218,type:2,title:"Workout",thumbnail:"https://photo-zmp3.zadn.vn/banner/3/e/3e41bb2fa76c04460bc709dc46fe2243_1499168356.jpg",link:"/chu-de/Workout/IWZ9ZIZA.html"},{id:223,type:2,title:"Spa & Yoga",thumbnail:"https://photo-zmp3.zadn.vn/cover/5/b/9/2/5b927a10061bf619297de021dfcd6381.jpg",link:"/chu-de/Spa-Yoga/IWZ9ZIZF.html"},{id:242,type:2,title:"Dinner",thumbnail:"https://photo-zmp3.zadn.vn/cover/2/e/1/f/2e1f273d47fb2e56f6cd4147bc7aea4f.jpg",link:"/chu-de/Dinner/IWZ9ZI7W.html"},{id:244,type:2,title:"Chill",thumbnail:"https://photo-zmp3.zadn.vn/cover/4/0/a/f/40afc2cbcc5fe7565feb5f168bf18f3d.jpg",link:"/chu-de/Chill/IWZ9ZI7U.html"},{id:10143,type:2,title:"Kh\xfac Nh\u1ea1c Vui",thumbnail:"https://photo-zmp3.zadn.vn/cover/3/c/1/2/3c12c0a5c109aa11627acbaf73f76c03.jpg",link:"/chu-de/Khuc-Nhac-Vui/IWZ978IF.html"}],Nm=[{id:196,type:2,title:"Ng\u1ee7 Ngon",thumbnail:"https://photo-zmp3.zadn.vn/banner/4/0/4067cb6221b0d41d7b2fab59881a4395_1499168458.jpg",link:"/chu-de/Ngu-Ngon/IWZ9ZIUU.html"},{id:89,type:2,title:"T\xecnh Y\xeau",thumbnail:"https://photo-zmp3.zadn.vn/banner/2/a/2ac9d9aa479519e1724db5b860373578_1499168345.jpg",link:"/chu-de/Tinh-Yeu/IWZ9Z0D9.html"},{id:193,type:2,title:"Giai \u0110i\u1ec7u Bu\u1ed3n",thumbnail:"https://photo-zmp3.zadn.vn/cover/a/5/0/0/a5002b1ee228e02df83c504dd477f1a6.jpg",link:"/chu-de/Giai-Dieu-Buon/IWZ9ZIUI.html"},{id:244,type:2,title:"Chill",thumbnail:"https://photo-zmp3.zadn.vn/cover/4/0/a/f/40afc2cbcc5fe7565feb5f168bf18f3d.jpg",link:"/chu-de/Chill/IWZ9ZI7U.html"},{id:192,type:2,title:"Th\u01b0 Gi\xe3n",thumbnail:"https://photo-zmp3.zadn.vn/cover/9/4/4/3/9443ab8d704e2de2e6bdebb7ca0b1a85.jpg",link:"/chu-de/Thu-Gian/IWZ9ZIU0.html"}],jm=[{id:20326,type:2,title:"Nh\u1ea1c Vi\u1ec7t",thumbnail:"https://photo-zmp3.zadn.vn/cover/1/e/0/f/1e0f4998259f2f8a0ae7de1a7110bb62.jpg",link:"/chu-de/Nhac-Viet/IWZ99FE6.html"},{id:20327,type:2,title:"Nh\u1ea1c \xc2u M\u1ef9",thumbnail:"https://photo-zmp3.zadn.vn/cover/2/7/5/3/2753569ef5258e604e8eadf7a155a2ff.jpg",link:"/chu-de/Nhac-Au-My/IWZ99FE7.html"},{id:20318,type:2,title:"Nh\u1ea1c H\xe0n",thumbnail:"https://photo-zmp3.zadn.vn/cover/a/e/d/3/aed3d129c85c532fbef3c5571bfed4c0.jpg",link:"/chu-de/Nhac-Han/IWZ99FDE.html"},{id:20319,type:2,title:"Nh\u1ea1c Hoa",thumbnail:"https://photo-zmp3.zadn.vn/cover/b/2/6/3/b263d93573d43b840bb1716aca21604d.jpg",link:"/chu-de/Nhac-Hoa/IWZ99FDF.html"},{id:5,type:1,title:"Nh\u1ea1c Nh\u1eadt",thumbnail:"https://photo-zmp3.zadn.vn/banner/6/d/6d4b0b47ff2480010938e0befdd0a5bc_1474890571.jpg",link:"/the-loai-album/Nhac-Nhat/IWZ9Z08Z.html"}],Dm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.Nb:return Object(st.a)({},e,{isLoading:!0});case ht.Rb:return t.info?Object(st.a)({},e,{info:t.info,currentSongId:t.info.id,isLoading:!1}):Object(st.a)({},e,{isLoading:!1,info:null});default:return e}},zm=parseInt(se.a.get("playmodesong"),10),Fm={info:{},videosInPlaylist:[],autoPlay:zm||0},Um=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.Xb:return Object(st.a)({},e,{videosInPlaylist:[],isLoading:!0});case ht.Zb:return Object(st.a)({},e,{info:t.info,isLoading:!1});case ht.kd:return Object(st.a)({},e,{autoPlay:1===e.autoPlay?0:1});case ht.Yb:return Object(st.a)({},e,{videosInPlaylist:t.items.slice()});default:return e}},Bm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.Bb:return Object(st.a)({},e,{isLoading:!0});case ht.Cb:var n=t.info||{};return n.song&&n.song.items&&(n.songs=Object(Y.a)(n.song.items),n.duration=0,n.songs.forEach((function(e){n.duration+=e.duration}))),Object(st.a)({},e,{info:n,isLoading:!1});default:return e}},Hm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.Q:return Object(st.a)({},e,{isLoading:!0});case ht.R:return Object(st.a)({},e,{info:t.info,isLoading:!1});case ht.U:return Object(st.a)({},e,{isLoading:!0});case ht.V:return Object(st.a)({},e,{songs:t.songs,isLoading:!1});case ht.S:return Object(st.a)({},e,{isLoading:!0});case ht.T:return Object(st.a)({},e,{playlists:t.playlists,isLoading:!1});default:return e}},Vm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.ab:return Object(st.a)({},e,{isLoading:!0});case ht.bb:return Object(st.a)({},e,{genre:t.genre,isLoading:!1});default:return e}},Gm=Se.a.get("ZMP3_THEME"),Wm={profile:{userid:0,avatar:"https://avatar.talk.zdn.vn/default.jpg",is_vip:!1,ipvn:!0,phone_number_vn:!0},isFetchingProfile:!1,isFetchingProfileFinished:!1,playlists:[],playlistsFetched:!1,songInPlaylist:{},likesSong:{},likesVideo:{},likesPlaylist:{},mymusic:{songsFavorite:[],videosFavorite:[],albumsFavorite:[],playlistsRecent:[],songsRecent:[],videosRecent:[],playlists:{items:[]},playlistsFavorite:[],myPlaylist:[],artistsFollowed:[],songsUpload:[],start:0,total:0,isLoading:!1,isLoadingSongRecent:!1,loadMore:!1},downloads:{showBox:!0,showContent:!0,total:0,downloading:0,items:{}},familyVip:{familyVipListFriend:[],maxSlot:0,members:[],accessToken:"",isLoadMemberSuccess:!1},isOpenPopupLogin:!1,isOpenVipModal:!1,vipModalData:{},zmp3Theme:Gm||"light",labelPopupLogin:"L\u01b0u \xfd",blockedSongIds:[],blockedArtistIds:[],isBlockedFetching:!1,showWeeklyVIPModal:!1},qm=function(e,t,n){var r=Object.assign({},e.mymusic),i=Object(Y.a)(r.songsUpload.items);return r.songsUpload.items=i.map((function(e){return e.id===t&&(e.public_status=n,e.privacy="private"),e})),Object(st.a)({},e,{mymusic:r})},Ym=function(e,t,n,r){var i=Object.assign({},e.likesSong);return i[t]={like:n,liked:r},Object(st.a)({},e,{likesSong:i})},Zm=function(e,t){if(Object(F.B)(t))return Object(st.a)({},e);var n,r=Object.assign({},e.likesSong),i=Object(Z.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a&&a.id&&(r[a.id]={like:a.like,liked:a.liked})}}catch(o){i.e(o)}finally{i.f()}return Object(st.a)({},e,{likesSong:r})},Km=function(e,t){var n=t||{},r=n.medias,i=void 0===r?[]:r,a=n.artists,o=void 0===a?[]:a;return e.blockedSongIds=i.map((function(e){return e.id})),e.blockedArtistIds=o.map((function(e){return e.id})),Object(st.a)({},e)},Xm=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t&&e.blockedSongIds.push(t),Object(F.B)(n)||(e.blockedArtistIds=[].concat(Object(Y.a)(e.blockedArtistIds),Object(Y.a)(n))),Object(st.a)({},e,{isBlockedFetching:!1})},Qm=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.blockedSongIds=e.blockedSongIds.filter((function(e){return e!==t})),Object(F.B)(n)||(e.blockedArtistIds=e.blockedArtistIds.filter((function(e){return n.indexOf(e)<0}))),Object(st.a)({},e,{isBlockedFetching:!1})},Jm=function(e,t,n,r){var i=Object.assign({},e.likesVideo);return i[t]={like:n,liked:r},Object(st.a)({},e,{likesVideo:i})},$m=function(e,t){var n=Object.assign({},e.downloads);return n.items[t.id]=t,n.downloading=n.downloading+1,n.showBox=!0,Object(st.a)({},e,{downloads:n})},eg=function(e,t,n){var r=Object.assign({},e.downloads);return r.items[t].percent=n,Object(st.a)({},e,{downloads:r})},tg=function(e,t){var n=Object.assign({},e.downloads);return n.items[t.id]=t,n.total=n.total+1,n.downloading>0&&(n.downloading=n.downloading-1),n.showBox=!0,Object(st.a)({},e,{downloads:n})},ng=function(e,t){var n=Object.assign({},e.downloads);return n.total>0&&(n.total=n.total-1),delete n.items[t],Object(st.a)({},e,{downloads:n})},rg=function(e){var t=Object.assign({},e.downloads);return t.showBox=!1,Object(st.a)({},e,{downloads:t})},ig=function(e){var t=Object.assign({},e.downloads);return t.showContent=!e.downloads.showContent,Object(st.a)({},e,{downloads:t})},ag=function(e,t){if(!t)return Object(st.a)({},e);var n=Object(st.a)({},e.mymusic,{isLoading:!1,songsFavorite:t.song_favorite?t.song_favorite:[],videosFavorite:t.video_favorite?t.video_favorite:[],albumsFavorite:t.album_favorite?t.album_favorite:[],playlists:t.playlist?t.playlist:[],artistsFollowed:t.artist_followed?t.artist_followed:[]});return Object(st.a)({},e,{mymusic:Object.assign({},n)})},og=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoading=!1,Object(st.a)({},e,{mymusic:n})}var r=Object(st.a)({},e.mymusic,{songsFavorite:{items:0===t.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(e.mymusic.songsFavorite.items),Object(Y.a)(t.items))},start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.SONG<=t.total,isLoading:!1});return Object(st.a)({},e,{mymusic:Object.assign({},r)})},sg=function(e,t,n,r){if(!t||!n)return Object(st.a)({},e);switch(n){case I.sd:var i=Object.assign({},e.mymusic),a={items:i.songsFavorite.items.filter((function(e){return e.id!==t})),total:i.songsFavorite.total-1};return i.songsFavorite=a,Object(st.a)({},e,{mymusic:i});case I.ud:var o=Object.assign({},e.mymusic),s=o.songsRecent.filter((function(e){return e.id!==t}));return o.songsRecent=s,Object(st.a)({},e,{mymusic:o});case I.rd:var c=Object.assign({},e.mymusic),l={items:c.songsUpload.items.filter((function(e){return e.id!==t})),total:c.songsUpload.total-1};return c.songsUpload=l,Object(st.a)({},e,{mymusic:c});case I.td:var u=Object.assign({},e.songInPlaylist),d=u[r],h=d.songList.filter((function(e){return e!==t}));return d.songList=h,Object(st.a)({},e,{songInPlaylist:u});default:return Object(st.a)({},e)}},cg=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoadingMyPlaylist=!1,Object(st.a)({},e,{mymusic:n})}var r=e.mymusic.myPlaylist||[],i=Object(st.a)({},e.mymusic,{myPlaylist:0===e.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(r),Object(Y.a)(t.items)),start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.PLAYLIST<=t.total,isLoadingMyPlaylist:!1});return Object(st.a)({},e,{mymusic:Object.assign({},i)})},lg=function(e,t,n){if(!t||!n)return Object(st.a)({},e);var r=Object.assign({},e.mymusic);switch(n){case I.sd:var i={items:r.playlistsFavorite.items.filter((function(e){return e.id!==t})),total:r.playlistsFavorite.total-1};return r.playlistsFavorite=i,Object(st.a)({},e,{mymusic:r});case I.rd:var a=r.myPlaylist.filter((function(e){return e.id!==t})),o=e.playlists.filter((function(e){return e.id!==t}));return r.myPlaylist=a,Object(st.a)({},e,{mymusic:r,playlists:o});case I.ud:var s=r.playlistsRecent.filter((function(e){return e.id!==t}));return r.playlistsRecent=s,Object(st.a)({},e,{mymusic:r});case I.qd:var c={items:r.albumsFavorite.items.filter((function(e){return e.id!==t})),total:r.albumsFavorite.total-1};return r.albumsFavorite=c,Object(st.a)({},e,{mymusic:r});case I.td:var l={items:r.playlists.items.filter((function(e){return e.id!==t})),total:r.playlists.total-1};r.playlists=l;var u=e.playlists.filter((function(e){return e.id!==t}));return Object(st.a)({},e,{mymusic:r,playlists:u});default:return Object(st.a)({},e)}},ug=function(e,t,n){if(!t||!n)return Object(st.a)({},e);switch(n){case I.sd:var r=Object.assign({},e.mymusic),i={items:r.videosFavorite.items.filter((function(e){return e.id!==t})),total:r.videosFavorite.total-1};return r.videosFavorite=i,Object(st.a)({},e,{mymusic:r});case I.ud:var a=Object.assign({},e.mymusic),o=a.videosRecent.filter((function(e){return e.id!==t}));return a.videosRecent=o,Object(st.a)({},e,{mymusic:a});default:return Object(st.a)({},e)}},dg=function(e,t){if(!t||Object(F.B)(t)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoading=!1,Object(st.a)({},e,{mymusic:n})}return Object(st.a)({},e,{mymusic:Object(st.a)({},e.mymusic,{playlistsRecent:t.playlist_recent?t.playlist_recent.items:[],songsRecent:t.song_recent?t.song_recent.items:[],videosRecent:t.video_recent?t.video_recent.items:[],isLoading:!1,total:t.song_recent.total,loadMore:e.mymusic.start+I.K.SONG<=t.song_recent.total,start:t.song_recent.items.length})})},hg=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoading=!1,Object(st.a)({},e,{mymusic:n})}var r=Object(st.a)({},e.mymusic,{videosFavorite:{items:0===t.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(e.mymusic.videosFavorite.items),Object(Y.a)(t.items))},start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.VIDEO<=t.total,isLoading:!1});return Object(st.a)({},e,{mymusic:Object.assign({},r)})},fg=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoading=!1,Object(st.a)({},e,{mymusic:n})}var r=Object(st.a)({},e.mymusic,{albumsFavorite:{items:0===t.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(e.mymusic.albumsFavorite.items),Object(Y.a)(t.items))},start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.ALBUM<=t.total,isLoading:!1});return Object(st.a)({},e,{mymusic:Object.assign({},r)})},pg=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoading=!1,Object(st.a)({},e,{mymusic:n})}var r=Object(st.a)({},e.mymusic,{artistsFollowed:{items:0===t.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(e.mymusic.artistsFollowed.items),Object(Y.a)(t.items))},start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.ARTIST<=t.total,isLoading:!1});return Object(st.a)({},e,{mymusic:Object.assign({},r)})},mg=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoadingSongRecent=!1,Object(st.a)({},e,{mymusic:n})}var r=Object(st.a)({},e.mymusic,{songsRecent:0===t.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(e.mymusic.songsRecent),Object(Y.a)(t.items)),start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.SONG<=t.total,isLoadingSongRecent:!1});return Object(st.a)({},e,{mymusic:Object.assign({},r)})},gg=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoadingPlaylistsRecent=!1,Object(st.a)({},e,{mymusic:n})}var r=Object(st.a)({},e.mymusic,{playlistsRecent:0===t.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(e.mymusic.playlistsRecent),Object(Y.a)(t.items)),start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.PLAYLIST<=t.total,isLoadingPlaylistsRecent:!1});return Object(st.a)({},e,{mymusic:Object.assign({},r)})},vg=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoadingVideosRecent=!1,Object(st.a)({},e,{mymusic:n})}var r=Object(st.a)({},e.mymusic,{videosRecent:0===t.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(e.mymusic.videosRecent),Object(Y.a)(t.items)),start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.VIDEO<=t.total,isLoadingVideosRecent:!1});return Object(st.a)({},e,{mymusic:Object.assign({},r)})},yg=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoading=!1,Object(st.a)({},e,{mymusic:n})}var r=t.items.map((function(e){return Object(st.a)({},e,{check:!1})})),i=Object(st.a)({},e.mymusic,{songsUpload:{items:0===t.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(e.mymusic.songsUpload.items),Object(Y.a)(r))},start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.SONG<=t.total,isLoading:!1});return Object(st.a)({},e,{mymusic:Object.assign({},i)})},bg=function(e,t,n){var r=e.mymusic.songsUpload.filter((function(e){return-1===t.indexOf(e.id.toString())})),i=Object(st.a)({},e.mymusic,{songsUpload:r});return Object(st.a)({},e,{mymusic:i})},wg=function(e){return Object(st.a)({},e,{mymusic:Wm.mymusic})},_g=function(e,t){if(!t||Object(F.B)(t.items)){var n=Object.assign({},e.mymusic);return n.loadMore=!1,n.isLoading=!1,Object(st.a)({},e,{mymusic:n})}var r=Object(st.a)({},e.mymusic,{playlists:{items:0===t.start?Object(Y.a)(t.items):[].concat(Object(Y.a)(e.mymusic.playlists.items),Object(Y.a)(t.items))},start:t.start,total:t.total,loadMore:e.mymusic.start+I.K.PLAYLIST<=t.total,isLoading:!1});return Object(st.a)({},e,{mymusic:Object.assign({},r)})},Eg=function(e,t){if(!t){var n=Object.assign({},e.familyVip);return n.isLoadMemberSuccess=!0,Object(st.a)({},e,{familyVip:n})}var r={familyVipListFriend:e.familyVip.familyVipListFriend,members:t.members?t.members:[],maxSlot:t.max_slot?t.max_slot:0,accessToken:t.accessToken?t.accessToken:"",isLoadMemberSuccess:!0};return Object(st.a)({},e,{familyVip:Object.assign({},r)})},Sg=function(e,t){if(t){var n={familyVipListFriend:e.familyVip.familyVipListFriend,members:t.members?t.members:[],maxSlot:t.max_slot?t.max_slot:0,accessToken:e.familyVip.accessToken,isLoadMemberSuccess:e.familyVip.isLoadMemberSuccess};return Object(st.a)({},e,{familyVip:Object.assign({},n)})}},xg=function(e,t,n,r){var i=Object.assign({},e.likesPlaylist);return i[t]={like:n,liked:r},Object(st.a)({},e,{likesPlaylist:i})},Tg=function(e,t){if(!t||!t.id)return Object(st.a)({},e);t.isUser=e.profile.useridencoded===t.uid,e.playlists=e.playlists.filter((function(e){return e.id!==t.id})),e.playlists=e.playlistsFetched?[t].concat(Object(Y.a)(e.playlists)):[];var n=Object(st.a)({},e.mymusic,{playlists:{items:[t].concat(Object(Y.a)(e.mymusic.playlists.items))}});return Object(st.a)({},e,{mymusic:n})},Og=function(e,t,n){if(!t||!n)return Object(st.a)({},e);var r=Object.assign({},e.songInPlaylist),i=r[n];return i?i.songList.find((function(e){return e===t}))?Object(st.a)({},e):(i.songList=[].concat(Object(Y.a)(i.songList),[t]),Object(st.a)({},e,{songInPlaylist:r})):(r[n]={songList:[t]},Object(st.a)({},e,{songInPlaylist:r}))},kg=function(e,t,n){var r=Object(Y.a)(e.playlists);return r.forEach((function(e){e.id===t&&(e.title=n)})),Object(st.a)({},e,{playlists:r})},Mg=function(e,t,n,r,i){var a=Object.assign({},e.mymusic),o=Object(Y.a)(a.songsUpload.items);return a.songsUpload.items=o.map((function(e){return e.id===t&&(e.title=n,e.artists_names=r,i&&(e.thumbnail_medium="".concat(I.q,"/").concat(i),e.thumbnail="".concat(I.q,"/").concat(i))),e})),Object(st.a)({},e,{mymusic:a})},Ag=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wm,t=arguments.length>1?arguments[1]:void 0,n=e.mymusic,r=e.familyVip;switch(t.type){case ht.Db:return Object(st.a)({},e,{isFetchingProfile:!1});case ht.Eb:return Object(st.a)({},e,{isFetchingProfile:!1,isFetchingProfileFinished:!0});case ht.Fb:return t.profile.userid||(t.profile.userid=0,t.profile.avatar="https://avatar.talk.zdn.vn/default.jpg"),Object(st.a)({},e,{profile:t.profile,fetchProfileError:!1,isFetchingProfile:!1,isFetchingProfileFinished:!0});case ht.pb:return Object(st.a)({},e,{playlists:t.playlists,playlistsFetched:!0});case ht.Z:return Tg(e,t.playlist);case ht.Hd:return kg(e,t.playlistId,t.title);case ht.ic:return Ym(e,t.id,t.like,t.liked);case ht.hc:return Zm(e,t.items);case ht.jc:return Jm(e,t.id,t.like,t.liked);case ht.d:return Object(st.a)({},e,{likesPlaylist:t.likedPlaylists});case ht.gc:return xg(e,t.id,t.like,t.liked);case ht.h:return Og(e,t.songId,t.playlistId);case ht.c:return $m(e,t.item);case ht.Gd:return eg(e,t.id,t.percent);case ht.H:return tg(e,t.item);case ht.Qc:return ng(e,t.id);case ht.x:return rg(e);case ht.md:return ig(e);case ht.Jc:return Object(st.a)({},e,{isOpenPopupLogin:!0,labelPopupLogin:t.label?t.label:"L\u01b0u \xfd"});case ht.A:return Object(st.a)({},e,{isOpenPopupLogin:!1});case ht.nb:return(n=Object.assign({},e.mymusic)).isLoading=!0,Object(st.a)({},e,{mymusic:n});case ht.ob:return ag(e,t.data);case ht.Gb:return(n=Object.assign({},e.mymusic)).isLoading=!0,Object(st.a)({},e,{mymusic:n});case ht.Hb:return og(e,t.data);case ht.Xc:return sg(e,t.id,t.from,t.from_id);case ht.Rc:return lg(e,t.id,t.from);case ht.ad:return ug(e,t.id,t.from);case ht.ub:return dg(e,t.data);case ht.rb:return hg(e,t.data);case ht.qb:return fg(e,t.data);case ht.sb:return pg(e,t.data);case ht.wb:return yg(e,t.data);case ht.Uc:return bg(e,t.ids,t.from);case ht.xb:return(n=Object.assign({},e.mymusic)).isLoadingMyPlaylist=!0,Object(st.a)({},e,{mymusic:n});case ht.yb:return cg(e,t.data);case ht.vb:return _g(e,t.data);case ht.dd:return wg(e);case ht.Ob:return mg(e,t.data);case ht.Ib:return(n=Object.assign({},e.mymusic)).isLoadingSongRecent=!0,Object(st.a)({},e,{mymusic:n});case ht.Ab:return gg(e,t.data);case ht.zb:return(n=Object.assign({},e.mymusic)).isLoadingPlaylistsRecent=!0,Object(st.a)({},e,{mymusic:n});case ht.Ub:return vg(e,t.data);case ht.Tb:return(n=Object.assign({},e.mymusic)).isLoadingVideosRecent=!0,Object(st.a)({},e,{mymusic:n});case ht.lb:return(r=Object.assign({},e.familyVip)).isLoadMemberSuccess=!1,Object(st.a)({},e,{familyVip:r});case ht.mb:return Eg(e,t.data);case ht.ib:return(r=Object.assign({},e.familyVip)).familyVipListFriend=t.data?t.data:[],r.isFetchingListFriend=!1,Object(st.a)({},e,{familyVip:r});case ht.hb:return(r=Object(st.a)({},e.familyVip)).familyVipListFriend=[],r.isFetchingListFriend=!0,Object(st.a)({},e,{familyVip:r});case ht.Mc:return Sg(e,t.data);case ht.gd:return Object(st.a)({},e,{zmp3Theme:t.data});case ht.Kc:return Object(st.a)({},e,{isOpenVipModal:!0,vipModalData:t.data,vipModalType:t});case ht.C:return Object(st.a)({},e,{isOpenVipModal:!1,vipModalData:{}});case ht.Y:return Km(e,t.data);case ht.Ed:return Qm(e,t.songId,t.artistIds);case ht.q:return Xm(e,t.songId,t.artistIds);case ht.L:return Object(st.a)({},e,{isBlockedFetching:!0});case ht.id:return Object(st.a)({},e,{showWeeklyVIPModal:!0});case ht.D:return Object(st.a)({},e,{showWeeklyVIPModal:!1});case ht.Id:return qm(e,t.mediaId,t.status);case ht.K:return Mg(e,t.id,t.title,t.artist,t.thumbnail);default:return e}},Cg=function(e){switch(e){case I.bd.SHUFFLE:case I.bd.FORCE_SHUFFLE:return!0;default:return!1}},Lg=function(e){switch(e){case I.bd.SHUFFLE:case I.bd.FORCE_NO_SHUFFLE:return!0;default:return!1}},Pg={queueSongIdsOrigin:[],queueSongIds:[],queueSongMap:{},queueSongStats:{},recommendSongs:[],startRecommend:0,autoPlayRecommend:!0,suggestSongs:[],selectedSongIds:[],playingSongId:null,playingSongUid:null,quality:I.Pc,streamings:{},beatSongStreaming:{},showBeat:!1,showQueue:!1,showQuality:!1,showVolume:!1,showKaraoke:!1,repeat:0,shuffleMode:I.bd.NO_SHUFFLE,muted:!1,volume:1,preVolume:1,currentTime:0,duration:0,isPlaying:!1,lyric:[],isFetchingLyric:!1,isFetchingStreaming:!1,isFetchingBeatStreaming:!1,isRecommendPlayed:!1,isMiniStyle:!1,isOpenBlockModal:!1,blockInfo:{},effectPlayer:!1,isRunningEffect:!1,buffered:0,buffering:!1,playlistInfo:{},likedSongIds:[]},Rg=function(){try{var e=se.a.get(I.ed);if(!e)return;var t=JSON.parse(e);if(!t)return;t.isPlaying=!1,t.lyric=[],t.currentTime=0,t.isFetchingLyric=!1,t.isFetchingStreaming=!1,t.isFetchingBeatStreaming=!1,t.selectedSongIds=[],t.streamings={},t.beatSongStreaming={},t.blockInfo={},t.effectPlayer=!1,t.isRunningEffect=!1,t.suggestSongs=[],t.buffered=0,t.buffering=!1,t.buffering=!1,t.showQueue=!1,t.showBeat=!1,t.likedSongIds=[],t.isMiniStyle=!1,t.countSongPlayed=0,t.showKaraoke=!1;var n=t.lastUpdate||0;if(Object(F.u)()-n>36e3){var r=t.volume,i=t.preVolume,a=t.muted;return Object(st.a)({},Pg,{volume:r,preVolume:i,muted:a})}return t}catch(o){return}}()||Pg,Ig=function(e,t,n){var r=e.suggestSongs.filter((function(e){return e.id!==t&&!Object(V.u)(n,e.artists)})),i=e.recommendSongs.filter((function(e){return e.id!==t&&!Object(V.u)(n,e.artists)}));return Object(st.a)({},e,{suggestSongs:r,recommendSongs:i})},Ng=function(e,t){var n=e.queueSongIds.filter((function(e){return t.indexOf(e.songId)<0}));if(0===n.length)return Wg(e);var r=e.queueSongIdsOrigin.filter((function(e){return t.indexOf(e.songId)<0}));return t.forEach((function(t){return delete e.queueSongMap[t]})),Object(st.a)({},e,{queueSongIds:n,queueSongIdsOrigin:r})},jg=function(e,t,n){return e.likedSongIds=n?[].concat(Object(Y.a)(e.likedSongIds),[t]):e.likedSongIds.filter((function(e){return e!==t})),Object(st.a)({},e)},Dg=function(e,t){return e.likedSongIds=[].concat(Object(Y.a)(e.likedSongIds),Object(Y.a)(t)),Object(st.a)({},e)},zg=function(e,t){return t.id&&e.queueSongMap[t.id]&&(e.queueSongMap[t.id]=Object(st.a)({},t)),Object(st.a)({},e,{isFetchingInfo:!1})},Fg=function(e,t,n){Ge.default.debug("PlayerReducer","PLAY_SONG",t);var r=n||{},i=r.songUid,a=r.isRemove,o=r.sourcePlaylistId,s=r.sourcePlaylist,c=r.trackingSource,l=r.adsSrcId,u=r.isReplaceQueue,d=void 0!==u&&u,h=r.isShowKara,f=void 0!==h&&h;c===fp.I&&(e.isRecommendPlayed=!0,e.autoPlayRecommend=!0);var p=i||Object(F.s)(),m={songUid:p,sourcePlaylistId:o,trackingSource:c,adsSrcId:l,sourcePlaylist:s},g=(e.queueSongStats[p]||{}).sourcePlaylistId,v=d?Ug(e,t,m):Bg(e,t,m);return Object(st.a)({},v,{playingSongId:t.id,isRemove:a,playingSongUid:p,playingPlaylistId:g,showKaraoke:e.showKaraoke||f,showQueue:!f&&e.showQueue})},Ug=function(e,t,n){Ge.default.debug("PlayerReducer","REPLACE_SONG",t);var r=n||{},i=r.sourcePlaylistId,a=void 0===i?"":i,o=r.trackingSource,s=r.adsSrcId,c=r.songUid,l=r.sourcePlaylist,u=Object(ut.a)({},c,{sourcePlaylistId:a,trackingSource:o,adsSrcId:s,sourcePlaylist:cv(l)}),d=[{songUid:c,songId:t.id}],h=Object(ut.a)({},t.id,t),f=Lg(e.shuffleMode)?I.bd.SHUFFLE:I.bd.NO_SHUFFLE;return Object(st.a)({},e,{queueSongStats:u,queueSongIds:d,queueSongMap:h,queueSongIdsOrigin:[].concat(d),playlistInfo:{},shuffleMode:f,plsRawId:"",isRecommendPlayed:!1,countSongPlayed:0,queueId:Object(F.s)()})},Bg=function(e,t,n){if(Ge.default.debug("PlayerReducer","ADD_SONG_TO_QUEUE",t),!t)return Object(st.a)({},e);var r=n||{},i=r.songUid,a=r.sourcePlaylistId,o=void 0===a?"":a,s=r.sourcePlaylist,c=r.trackingSource,l=r.adsSrcId,u=r.label,d=void 0===u?"m\u1edbi th\xeam":u,h=r.isNextPlaying,f=void 0!==h&&h;c===fp.I&&(d="g\u1ee3i \xfd");var p=e.queueSongIds.slice(),m=e.queueSongIdsOrigin.slice();if(i&&p.some((function(e){return e.songUid===i})))return Object(st.a)({},e);Object(F.L)(e.queueSongIds)>=I.G&&(p.pop(),m.pop()),e.queueSongMap[t.id]||(e.queueSongMap[t.id]=t);var g={songUid:i=i||Object(F.s)(),songId:t.id},v=Object(st.a)({},e.queueSongStats,Object(ut.a)({},i,{sourcePlaylistId:o,sourcePlaylist:cv(s),trackingSource:c,adsSrcId:l,label:d}));return Object(st.a)({},e,{queueSongStats:v,queueSongIds:f?Object(F.m)(p,e.playingSongUid,g,"songUid"):[].concat(Object(Y.a)(p),[g]),queueSongIdsOrigin:f?Object(F.m)(m,e.playingSongUid,g,"songUid"):[].concat(Object(Y.a)(m),[g])})},Hg=function(e,t,n){if(Ge.default.debug("PlayerReducer","ADD_SONGS_TO_QUEUE",t),Object(F.B)(t))return Object(st.a)({},e);for(var r,i=n||{},a=i.songId,o=i.songUid,s=i.sourcePlaylistId,c=void 0===s?"":s,l=i.trackingSource,u=i.isRadio,d=i.label,h=[],f=t.length,p={},m={},g=Cg(e.shuffleMode),v=0;v<f;v++){var y=t[v],b=Object(F.s)();a===t[v].id&&o&&(b=o),h.push({songId:y.id,songUid:b}),p[y.id]=y,m[b]={sourcePlaylistId:c,trackingSource:l,label:d,playedInPlaylist:!!u}}(r=h,o&&g)&&(h=Jg(r,{songId:a,songUid:o},g));return Object(st.a)({},e,{queueSongIds:[].concat(Object(Y.a)(e.queueSongIds),Object(Y.a)(h)),queueSongIdsOrigin:[].concat(Object(Y.a)(e.queueSongIdsOrigin),Object(Y.a)(r)),queueSongMap:Object(st.a)({},p,{},e.queueSongMap),queueSongStats:Object(st.a)({},m,{},e.queueSongStats)})},Vg=function(e,t,n){var r=Object(F.I)(e.queueSongIds,n,"songUid");r.some((function(e){return e.songId===t}))||delete e.queueSongMap[t],delete e.queueSongStats[n];var i=Object(F.I)(e.queueSongIdsOrigin,n,"songUid");return Object(F.B)(i)?Wg(e):Object(st.a)({},e,{queueSongIds:r,queueSongIdsOrigin:i})},Gg=function(e,t){if(!Object(F.B)(t)){var n=Object(F.j)(e.queueSongIdsOrigin,t,"songUid");if(t.forEach((function(t){var n=t.songUid;return delete e.queueSongStats[n]})),Object(F.B)(n))return Wg(e);var r={};return n.forEach((function(t){var n=t.songId;r[n]||(r[n]=e.queueSongMap[n])})),Object(st.a)({},e,{queueSongMap:r,queueSongIdsOrigin:n,queueSongIds:Object(F.j)(e.queueSongIds,t,"songUid")})}},Wg=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.queueSongMap={};var n=Lg(e.shuffleMode)?I.bd.SHUFFLE:I.bd.NO_SHUFFLE;return Object(st.a)({},e,{queueSongStats:{},queueSongIdsOrigin:[],queueSongIds:[],playingPlaylistId:"",playlistInfo:{},plsRawId:"",isRecommendPlayed:!1,countSongPlayed:0,isPlaying:!1,playingSongId:null,playingSongUid:null,showQueue:!!t&&e.showQueue,shuffleMode:n,queueId:Object(F.s)()})},qg=function(e){return e.queueSongMap={},Object(st.a)({},e,{queueSongIdsOrigin:[],queueSongIds:[],playlistInfo:{},plsRawId:"",isRecommendPlayed:!1,countSongPlayed:0,playingSongId:null,playingSongUid:null,showQueue:e.showQueue,queueId:Object(F.s)()})},Yg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ge.default.debug("PlayerReducer","ADD_SONG_STREAMING",n),e.streamings[t]=n.default||{},e.streamings[t].lastUpdate=Object(F.u)(),e.streamings[t][e.quality]||(e.quality=I.Pc),Object(st.a)({},e,{isFetchingStreaming:!1})},Zg=function(e,t,n){Ge.default.debug("PlayerReducer","ADD_BEAT_SONG_STREAMING",n);var r={data:n,lastUpdate:Object(F.u)()};return e.beatSongStreaming[t]=r,Object(st.a)({},e,{isFetchingBeatSongStreaming:!1})},Kg=function(e,t,n,r){Ge.default.debug("PlayerReducer","ADD_PLAYLIST_TO_QUEUE",n);var i=r||{},a=i.songUid,o=i.playMode,s=void 0===o?I.Mc.NORMAL:o,c=i.songId,l=i.trackingSource,u=void 0===l?"":l,d=i.pType,h=void 0===d?"":d,f=i.plsRawId,p=void 0===f?"":f,m=i.playlist,g=void 0===m?{}:m,v=i.sourcePlaylist,y={},b={},w=n.map((function(e){y[e.id]=e;var n=Object(F.s)();return c===e.id&&(n=a),b[n]={sourcePlaylistId:t,sourcePlaylist:cv(v||g),trackingSource:u,pType:h},{songId:e.id,songUid:n}})),_={songId:c,songUid:a},E=s===I.Mc.SHUFFLE||Lg(e.shuffleMode)&&s!==I.Mc.ORDER,S=function(e,t){var n=Lg(t);switch(e){case I.Mc.SHUFFLE:return n?I.bd.SHUFFLE:I.bd.FORCE_SHUFFLE;case I.Mc.ORDER:return n?I.bd.FORCE_NO_SHUFFLE:I.bd.NO_SHUFFLE;default:return n?I.bd.SHUFFLE:I.bd.NO_SHUFFLE}}(s,e.shuffleMode);return Object(st.a)({},e,{queueSongIdsOrigin:w,queueSongMap:y,queueSongIds:Jg(w,_,E),queueSongStats:b,playingPlaylistId:t,playlistInfo:cv(g),plsRawId:p,isRecommendPlayed:!1,playlistReadyToPlay:!0,shuffleMode:S})},Xg=function(e){var t={songId:e.playingSongId,songUid:e.playingSongUid},n=Cg(e.shuffleMode)?I.bd.NO_SHUFFLE:I.bd.SHUFFLE;return Object(st.a)({},e,{shuffleMode:n,queueSongIds:Jg(e.queueSongIdsOrigin,t,!Cg(e.shuffleMode))})},Qg=function(e){var t=e.repeat;switch(t){case 0:t=1;break;case 1:t=2;break;default:t=0}return Object(st.a)({},e,{repeat:t,autoPlayRecommend:t<=0})},Jg=function(e,t,n){return n?[t].concat(Object(Y.a)(Object(F.K)(Object(F.I)(e,t.songUid,"songUid")))):Object(Y.a)(e)},$g=function(e,t){return Object(st.a)({},e,{lyric:t,isFetchingLyric:!1})},ev=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(Object(F.B)(t))return Object(st.a)({},e,{recommendSongs:[]});var a=[],o=[];for(var s in e.queueSongMap){var c=e.queueSongMap[s]||{};o.push(c.title)}for(var l=0;l<t.length;l++){var u=t[l];if(n++,!e.queueSongMap[u.id]&&!Object(V.t)(i.songIds,i.artistIds,u.id,u.artists)&&o.indexOf(u.title)<0&&(a.push(u),5===a.length))break}return r&&!e.queueSongMap[r.id]&&a.splice(1,1,r),Object(st.a)({},e,{recommendSongs:a,startRecommend:n})},tv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(F.B)(t))return Object(st.a)({},e,{suggestSongs:[]});var r=[];return t.forEach((function(e){var t=e.artistIds.split(",");e.artists.forEach((function(e,n){return e.id=t[n]})),Object(V.t)(n.songIds,n.artistIds,e.id,e.artists)||(e.hasVideo&&(e.mv_link=Object(V.k)(e.id,Object(pt.i)(Object(pt.d)([e.name,e.artist])))),r.push(e))})),Object(st.a)({},e,{suggestSongs:r})},nv=function(e,t){if(!(t||{}).is_vip)return Object(st.a)({},e);var n=e.playingSongId,r={};return e.streamings[n]&&(r[n]=e.streamings[n]),Object(st.a)({},e,{streamings:r,quality:I.Qc})},rv=function(e){if(e){e.lastUpdate=Object(F.u)();var t=JSON.stringify(e);se.a.set(I.ed,t)}},iv=function(e,t,n){return 0===t&&0===e.volume?Object(st.a)({},e):Object(st.a)({},e,{volume:t,muted:n,preVolume:0===t?e.volume:t})},av=function(e,t){var n=e.streamings;return delete n[t],Object(st.a)({},e,{streamings:n})},ov=function(e){var t=e.countSongPlayed,n=void 0===t?0:t;return Object(st.a)({},e,{countSongPlayed:n+1})},sv=function(e,t){return delete e.streamings[t],Object(st.a)({},e)},cv=function(e){return Object(F.B)(e)?{}:{id:e.id,title:e.title,link:e.link,isalbum:e.isalbum,is_single:e.is_single,uid:e.uid,isPR:e.isPR}},lv=function(e,t,n){var r=Object(st.a)({},e.playlistInfo);return r.id!==t?e:(r.title=n,Object(st.a)({},e,{playlistInfo:r}))},uv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rg,t=arguments.length>1?arguments[1]:void 0,n={};switch(t.type){case ht.Fb:n=nv(e,t.profile);break;case ht.Lc:n=Fg(e,t.song,t.options);break;case ht.sc:return Object(st.a)({},e,{duration:0,buffered:0,buffering:!1});case ht.xc:return Object(st.a)({},e,{buffered:t.buffered});case ht.oc:return Object(st.a)({},e,{buffering:t.buffering});case ht.rc:return Object(st.a)({},e,{currentTime:0,duration:t.duration});case ht.vc:return window.MP3.PLAYING_SONG_ID=e.playingSongId,window.MP3.ISPLAYING=!0,n=Object(st.a)({},e,{isPlaying:!0,isRemove:!1,playlistReadyToPlay:!1}),Ge.default.debug("PlayerReducer","ON_PLAY",n),n;case ht.tc:return window.MP3.ISPLAYING=!1,Object(st.a)({},e,{isPlaying:!1});case ht.zc:return Object(st.a)({},e,{currentTime:t.currentTime});case ht.Fc:n=iv(e,t.volume,t.muted);break;case ht.yc:n=Object(st.a)({},e,{quality:t.quality});break;case ht.qc:return Object(st.a)({},e,{hlsLevel:t.level});case ht.sd:n=Object(st.a)({},e,{showQueue:!e.showQueue,isMiniStyle:!1});break;case ht.B:n=Object(st.a)({},e,{showQueue:!1,isMiniStyle:!1});break;case ht.nd:return Object(st.a)({},e,{showKaraoke:!e.showKaraoke});case ht.y:return Object(st.a)({},e,{showKaraoke:!1});case ht.Hc:return Object(st.a)({},e,{showKaraoke:!0});case ht.dc:n=Object(st.a)({},e,{showQueue:!1});break;case ht.rd:n=Object(st.a)({},e,{showQuality:!e.showQuality});break;case ht.od:n=Object(st.a)({},e,{showQueue:!1,isMiniStyle:!e.isMiniStyle});break;case ht.hd:n=Object(st.a)({},e,{effectPlayer:!0,isRunningEffect:!0});break;case ht.fc:n=Object(st.a)({},e,{effectPlayer:!1,isRunningEffect:!1});break;case ht.td:n=Qg(e);break;case ht.ud:n=Xg(e);break;case ht.wd:n=Object(st.a)({},e,{showVolume:!e.showVolume});break;case ht.f:n=Kg(e,t.id,t.songs,t.options);break;case ht.t:n=Wg(e,t.keepQueue);break;case ht.u:n=qg(e,t.songUid);break;case ht.Vc:n=Vg(e,t.id,t.songUid);break;case ht.Sc:n=Gg(e,t.ids);break;case ht.j:n=Bg(e,t.song,t.options);break;case ht.g:n=Hg(e,t.songs,t.options);break;case ht.jb:return Object(st.a)({},e,{lyric:{}});case ht.kb:return $g(e,t.lyric);case"FETCH_SONG_INFO_PENDING":return Object(st.a)({},e,{isFetchingInfo:!0});case ht.Pb:return Object(st.a)({},e,{isFetchingStreaming:!0});case ht.Qb:return Object(st.a)({},e,{isFetchingStreaming:!1});case ht.W:return Object(st.a)({},e,{isFetchingBeatSongStreaming:!0});case ht.X:return Object(st.a)({},e,{isFetchingBeatSongStreaming:!1});case ht.bd:return Object(st.a)({},e,{showBeat:!1,beatSongStreaming:{}});case ht.i:n=Yg(e,t.id,t.streaming);break;case ht.a:n=Zg(e,t.id,t.streaming);break;case ht.ld:n=Object(st.a)({},e,{showBeat:!e.showBeat});break;case ht.ec:Ge.default.debug("PlayerReducer","HIDE_BEAT_SONG",e.showBeat),n=Object(st.a)({},e,{showBeat:!1});break;case ht.Jb:return Object(st.a)({},e);case ht.Kb:n=ev(e,t.songs,t.start,t.ad,t.blockedAsset);break;case ht.Nc:n=Object(st.a)({},e,{startRecommend:t.startRecommend,recommendSongs:[]});break;case ht.jd:n=Object(st.a)({},e,{autoPlayRecommend:!e.autoPlayRecommend,repeat:e.autoPlayRecommend?e.repeat:0});break;case ht.Mb:return tv(e,t.songs,t.blockedAsset);case ht.fd:return rv(e),Object(st.a)({},e);case ht.Jd:n=zg(e,t.song);break;case ht.ic:n=jg(e,t.id,t.liked);break;case ht.e:return Dg(e,t.ids);case ht.Wc:return av(e,t.id);case ht.pc:n=ov(e);break;case ht.ed:n=Object(st.a)({},e,{countSongPlayed:0});break;case ht.Gc:return Object(st.a)({},e,{isOpenBlockModal:!0,blockInfo:t.blockInfo});case ht.w:return Object(st.a)({},e,{isOpenBlockModal:!1,blockInfo:{}});case ht.v:return sv(e,t.songId);case ht.Yc:return Object(st.a)({},e,{recommendSongs:e.recommendSongs.filter((function(e){return e.id!==t.id}))});case ht.Tc:return Ng(e,t.songIds);case ht.N:return Object(st.a)({},e,{likedSongIds:t.likedSongIds});case ht.M:return Object(st.a)({},e,{isFetchingLikedSongs:!0});case ht.Oc:return Ig(e,t.songId,t.artistIds);case ht.Hd:return lv(e,t.playlistId,t.title);case"ON_DRAG_DROP":n=Object(st.a)({},e,{queueSongIds:Object(Y.a)(t.items)});break;default:return e}return rv(n),n},dv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case ht.k:var r=Object(Y.a)(e);return r.unshift(n),r.slice(0,4);case ht.Zc:var i=Object(Y.a)(e);return i.filter((function(e){return e.id!==n}));default:return e}},hv={disable:!1,audioAdStarted:!1,isPlaying:!1,duration:0,currentTime:0,companions:{},advertiser:{},error:!1,remainTime:5,lastPlayedTime:0,loading:!1},fv=function(){try{var e=se.a.get("STATE_AD_KEY");if(!e)return;var t=JSON.parse(e);if(!t||!t.lastPlayedTime)return;var n=t.lastUpdate||0;if(Object(F.u)()-n>36e3)return;return Object(st.a)({},hv,{cachedState:t.cachedState,vast:t.vast,lastPlayedTime:t.lastPlayedTime})}catch(r){return}}()||hv,pv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fv,t=arguments.length>1?arguments[1]:void 0,n={};switch(t.type){case ht.mc:window.hasAudioAds=!0,n=Object(st.a)({},e,{audioAdStarted:!0,isPlaying:!0,lastPlayedTime:Object(F.u)()});break;case ht.nc:case ht.s:return window.hasAudioAds=!1,Object(st.a)({},hv,{lastPlayedTime:e.lastPlayedTime});case ht.n:return Object(st.a)({},e,{duration:t.duration});case ht.p:return Object(st.a)({},e,{currentTime:t.currentTime});case ht.m:return Object(st.a)({},e,{companions:t.companions,advertiser:t.advertiser});case ht.wc:return Object(st.a)({},e,{isPlaying:!0});case ht.uc:return Object(st.a)({},e,{isPlaying:!1});case ht.o:return Object(st.a)({},e,{error:!0});case ht.Lc:return Object(st.a)({},e,{error:!1});case ht.l:return Object(st.a)({},e,{remainTime:e.remainTime-1});case ht.F:return Object(st.a)({},e,{disable:!0});default:return e}return mv(n),n},mv=function(e){if(e){e.lastUpdate=Object(F.u)();var t=JSON.stringify(e);se.a.set("STATE_AD_KEY",t)}},gv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.Ic:var n=t.payload||{},r=n.modalType,i=n.modalProps;return{modalType:r,modalProps:i};case ht.z:return{};default:return e}},vv={isPlaylist:!1,playlistId:"",playlistTitle:"",isPublic:!1,uploadedNumber:0,isRequired:!1,songs:[]},yv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.map((function(e){return{fileId:Object(F.s)(),file:e,name:e.title||e.name,artist:e.artist||"",thumbnail:"",genre:"",filePath:"",size:e.size,uploadedPer:0,onProcessing:!1,isPublic:!1}}));return e.playlistId?Object(st.a)({},vv,{isPlaylist:!0,uploadedNumber:e.uploadedNumber,songs:n}):Object(st.a)({},e,{songs:[].concat(Object(Y.a)(n),Object(Y.a)(e.songs))})},bv=function(e,t){var n=e.songs.filter((function(e){return e.fileId!==t}));return Object(F.B)(n)?Object(st.a)({},vv,{uploadedNumber:e.uploadedNumber}):Object(st.a)({},e,{songs:n})},wv=function(e,t,n){var r=e.songs.map((function(e){return e.fileId===t&&(e.uploadedPer=n,e.onProcessing=!0),e}));return Object(st.a)({},e,{songs:r})},_v=function(e,t){var n=e.songs.map((function(e){return e.fileId===t&&(e.isError=!1,e.uploadedPer=0),e}));return Object(st.a)({},e,{songs:n})},Ev=function(e,t,n){var r=e.songs.map((function(e){return e.fileId===t&&(e.filePath=n),e}));return Object(st.a)({},e,{songs:r})},Sv=function(e,t){var n=e.songs.map((function(e){return e.fileId===t&&(e.isError=!0),e}));return Object(st.a)({},e,{songs:n})},xv=function(e,t,n){var r=e.songs.map((function(e){return e.fileId===t&&(e=Object(st.a)({},e,{},n)),e}));return Object(st.a)({},e,{songs:r})},Tv=function(e,t,n){var r=e.songs.map((function(e){return e.fileId===t&&(e.thumbnail=n),e}));return Object(st.a)({},e,{songs:r})},Ov=function(e,t,n){var r=e.songs.map((function(e){return e.fileId===t&&(e.genThumbPending=!0),e}));return Object(st.a)({},e,{songs:r})},kv=function(e,t){var n=e.songs.map((function(e){return e.fileId===t&&(e.isPublic=!e.isPublic),e}));return Object(st.a)({},e,{songs:n})},Mv=function(e){return Object(st.a)({},e,{isPublic:!e.isPublic})},Av=function(e,t){return Object(st.a)({},e,{playlistTitle:t})},Cv=function(e){return Object(st.a)({},e,{isPlaylist:!e.isPlaylist})},Lv=function(e,t){var n=e.songs.map((function(e){return e.fileId===t&&(e.savePending=!0),e}));return Object(st.a)({},e,{songs:n})},Pv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.songs.map((function(e){return e.fileId===t&&(e.mediaId=n,e.savePending=!1),e}));return Object(st.a)({},e,{songs:r})},Rv=function(e,t){var n=e.songs.map((function(e){return e.fileId===t&&(e.isRequired=!0),e}));return Object(st.a)({},e,{songs:n})},Iv=function(e,t,n){if(!t||!n)return Object(st.a)({},e,{savePending:!1});var r=e.songs.map((function(e,t){return e.mediaId=n[t],e}));return Object(st.a)({},e,{playlistId:t,songs:r})},Nv=function(e){if(!e.isPlaylist){var t=e.songs.filter((function(e){return!e.mediaId}));return Object(F.B)(t)?Object(st.a)({},vv):Object(st.a)({},e,{songs:t})}return e.playlistId?Object(st.a)({},vv):e},jv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.b:return yv(e,t.files);case ht.Pc:return bv(e,t.fileId);case ht.Dc:return _v(e,t.fileId);case ht.Cc:return wv(e,t.fileId,t.uploadedPer);case ht.Ec:return Ev(e,t.fileId,t.filePath);case ht.Bc:return Sv(e,t.fileId);case ht.Ac:return xv(e,t.fileId,t.info);case ht.qd:return kv(e,t.fileId);case ht.pd:return Mv(e);case ht.vd:return Cv(e);case ht.Fd:return Av(e,t.title);case ht.Nd:return Pv(e,t.fileId,t.mediaId);case ht.Md:return Lv(e,t.fileId);case ht.Sb:return Object(st.a)({},e,{uploadedNumber:t.uploadedNumber});case ht.lc:return Rv(e,t.fileId);case ht.kc:return Object(st.a)({},e,{isRequired:!0});case ht.Kd:return Object(st.a)({},e,{savePending:!0});case ht.Ld:return Iv(e,t.playlistId,t.mediaIds);case ht.E:return Object(st.a)({},vv,{uploadedNumber:e.uploadedNumber});case ht.bc:return Ov(e,t.fileId);case ht.cc:return Tv(e,t.fileId,t.thumbnail);case ht.r:return Nv(e);default:return e}},Dv={items:{}},zv=(_m={},Object(ut.a)(_m,ht.Dd,(function(e,t){var n={};return t.files.forEach((function(e){var t=Object(F.s)();n[t]={key:t,name:e.name,status:ip.h.waiting,file:e,thumbnail:"https://photo-zmp3.zadn.vn/audio_default.png"}})),Object(st.a)({},e,{items:Object(st.a)({},e.items,{},n)})})),Object(ut.a)(_m,ht.Bd,(function(e,t){var n=Object(st.a)({},e.items);return delete n[t.key],Object(st.a)({},e,{items:n})})),Object(ut.a)(_m,ht.yd,(function(e,t){return e.items[t.key]?(e.items[t.key]=Object(st.a)({},e.items[t.key],{status:t.status},t.data),Object(st.a)({},e)):e})),Object(ut.a)(_m,ht.Ad,(function(){return{items:{}}})),Object(ut.a)(_m,ht.xd,(function(e,t){return e.items[t.key]?(e.items[t.key]=Object(st.a)({},e.items[t.key],{thumbnail:"https://photo-resize-zmp3.zadn.vn/w94_r1x1_jpeg/"+t.thumbnail}),Object(st.a)({},e)):e})),Object(ut.a)(_m,ht.Cd,(function(e){for(var t in e.items)e.items[t].status===ip.h.error&&(e.items[t].status=ip.h.waiting);return Object(st.a)({},e)})),Object(ut.a)(_m,ht.zd,(function(e,t){var n=t.songs.map((function(e){return e.id}));for(var r in e.items)if(e.items[r].status===ip.h.converting){var i=n.indexOf(e.items[r].songId);i>-1&&(e.items[r].status=ip.h.success,e.items[r].song=t.songs[i])}return Object(st.a)({},e)})),_m),Fv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dv,t=arguments.length>1?arguments[1]:void 0;return zv[t.type]?zv[t.type](e,t):e},Uv=Object(O.c)({player:uv,user:Ag,toasts:dv,home:xm,song:Dm,video:Um,playlist:Bm,artist:Hm,genre:Vm,ads:pv,modal:gv,upload:jv,uploadv2:Fv}),Bv=Object(O.a)(Em)(O.d);n.d(t,"history",(function(){return Hv})),_.a.initialize([{trackingId:"UA-1571128-61"},{trackingId:"UA-1571128-61",gaOptions:{name:"eventTracker"}}],{alwaysSendToDefaultTracker:!1});var Hv=l()();Hv.listen((function(e,t){var n=Gv.getState();Object(V.s)(),Object(V.m)(n),Object(z.i)(n),setTimeout((function(){Object(z.j)(n)}),1e3),_.a.set({page:e.pathname}),_.a.pageview(e.pathname)})),Object(F.D)();var Vv,Gv=Bv(Uv,!I.C&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Vv);localStorage.getItem("ENABLE_DEBUG")?Ge.default.setLevel(Ge.default.LEVEL_DEBUG):Ge.default.setLevel(Ge.default.LEVEL_DISABLED),o.a.render(i.a.createElement(s.a,{store:Gv},i.a.createElement(w,{history:Hv},i.a.createElement(ym,null))),document.getElementById("root"))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(20),o=n.n(a),s=n(42),c=n.n(s),l=n(110),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},p=function(e){function t(){var n,r;d(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!f(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,a=n.to;i?t.replace(a):t.push(a)}},h(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);c()(this.context.router,"You should not use <Link> outside a <Router>"),c()(void 0!==t,'You must specify the "to" property');var a=this.context.router.history,o="string"===typeof t?Object(l.createLocation)(t,null,null,a.location):t,s=a.createHref(o);return i.a.createElement("a",u({},r,{onClick:this.handleClick,href:s,ref:n}))},t}(i.a.Component);p.propTypes={onClick:o.a.func,target:o.a.string,replace:o.a.bool,to:o.a.oneOfType([o.a.string,o.a.object]).isRequired,innerRef:o.a.oneOfType([o.a.string,o.a.func])},p.defaultProps={replace:!1},p.contextTypes={router:o.a.shape({history:o.a.shape({push:o.a.func.isRequired,replace:o.a.func.isRequired,createHref:o.a.func.isRequired}).isRequired}).isRequired},t.a=p},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(24),o=n(19),s=n(2),c=n(13),l=n(18),u=n(15),d=n(6),h=n(7),f=n(12),p=n(9),m=n(8),g=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).onClick=r.onClick.bind(Object(f.a)(r)),r}return Object(h.a)(n,[{key:"onClick",value:function(){var e=this.props,t=e.song,n=e.addSongToQueue,r=e.closePortal;n(t,{sourcePlaylistId:e.sourcePlaylistId,trackingSource:e.trackingSource,sourcePlaylist:e.sourcePlaylist}),r&&r()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.text;return i.a.createElement("a",{onClick:this.onClick,className:"".concat(t," menu-link"),role:"button"},i.a.createElement("i",{className:"icon ic-add-play-now"}),n||"Th\xeam v\xe0o danh s\xe1ch ph\xe1t")}}]),n}(r.Component);g.defaultProps={className:""};var v=g,y=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).onClick=r.onClick.bind(Object(f.a)(r)),r}return Object(h.a)(n,[{key:"onClick",value:function(){var e=this.props,t=e.songs,n=e.addSongsToQueue,r=e.sourcePlaylistId,i=void 0===r?"":r,a=e.sourcePlaylist,o=e.closePortal;n(t,{sourcePlaylistId:i,sourcePlaylist:a}),o()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.text;return i.a.createElement("a",{onClick:this.onClick,className:"".concat(t," menu-link")},i.a.createElement("i",{className:"icon ic-add-play-now"}),n||"Th\xeam v\xe0o danh s\xe1ch ph\xe1t")}}]),n}(r.Component);y.defaultProps={className:""};var b=y,w=n(70);function _(e){var t=e.className,n=e.fireGAEvent;return i.a.createElement("a",{role:"button",onClick:function(){return window.open(s.v,"_blank"),n&&n(),!1},className:t},i.a.createElement("i",{className:"icon ic-feedback"}),"Ph\u1ea3n h\u1ed3i")}_.defaultProps={className:"z-btn-reply z-btn-item"};var E=_,S=n(108),x=n(161),T=n(32),O=n(5),k=n.n(O),M=n(11),A=n(26),C=n.n(A),L=n(29),P=n(1),R=n(23),I=n(133),N=n(100),j=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).handleThumbUploadSuccess=function(e){r.setState({thumbnail:e,thumbUploading:!1})},r.handleThumbUploading=function(){r.setState({thumbUploading:!0})},r.handleThumbUploadError=function(){r.setState({thumbUploading:!1})},r.state={id:e.song.id,title:e.song.title,artist:e.song.artists_names,genre:"",thumbnail:e.song.thumbnail_medium},r.openModal=r.openModal.bind(Object(f.a)(r)),r.closeModal=r.closeModal.bind(Object(f.a)(r)),r.onChange=r.onChange.bind(Object(f.a)(r)),r.onSummit=r.onSummit.bind(Object(f.a)(r)),r}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(M.a)(k.a.mark((function e(t,n){var r,i,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.disabled&&n.isOpenModal!==this.state.isOpenModal&&this.state.isOpenModal){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(P.g)(s.zb,{id:this.props.song.id});case 4:r=e.sent,i=r.resp,Object(R.a)(i)&&i.data&&(a=i.data.genres&&i.data.genres[0]?i.data.genres[0].id:"",this.setState({id:i.data.id,name:i.data.title,artist:i.data.artists_names,genre:a}));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"openModal",value:function(){this.setState({isOpenModal:!0})}},{key:"closeModal",value:function(){this.setState({isOpenModal:!1})}},{key:"onChange",value:function(e){this.setState(Object(T.a)({},e.target.name,e.target.value))}},{key:"onChangeGenre",value:function(e){this.setState({genre:e})}},{key:"onSummit",value:function(){var e=this.state,t=e.id,n=e.title,r=e.artist,i=e.genre,a=e.thumbnail;this.props.editUploadSong({id:t,title:n,artist:r,genre:i,thumbnail:Object(L.c)(a)?void 0:a}),this.props.closePortal()}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.artist,a=e.isOpenModal,o=e.genre,s=e.thumbnail,c=e.thumbUploading,l=this.props,u=l.disabled,d=l.addToast,h=Object(L.j)(t),f=Object(L.j)(n),p=!c&&h&&f;return i.a.createElement(r.Fragment,null,i.a.createElement("a",{className:"z-btn-item menu-link",role:"button",onClick:this.openModal},i.a.createElement("i",{role:"button",className:"icon ic-add-trans"}),"Ch\u1ec9nh s\u1eeda"),a&&(u?i.a.createElement(C.a,{isOpen:!0,onRequestClose:this.closeModal,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-block-modal z-show",contentLabel:"Chia s\u1ebb"},i.a.createElement("div",{className:"z-modal-content"},i.a.createElement("div",{className:"z-buy-download-zone z-left pad-20 clearfix"},i.a.createElement("div",{className:"z-title"},"Kh\xf4ng h\u1ed7 tr\u1ee3"),i.a.createElement("div",{className:"z-copyright-content"},"Ch\u1ee9c n\u0103ng b\u1ea1n ch\u1ecdn kh\xf4ng th\u1ec3 \xe1p d\u1ee5ng \u0111\u1ed1i v\u1edbi b\xe0i h\xe1t \u0111ang \u1edf ch\u1ebf \u0111\u1ed9 c\xf4ng khai."),i.a.createElement("div",{className:"--z--group-button mar-top-10"},i.a.createElement("a",{onClick:this.closeModal,className:"z-btn z-btn-shadow z-btn-2x z-btn-confirm"},"\u0111\u1ed3ng \xfd"))))):i.a.createElement(C.a,{isOpen:!0,parentSelector:function(){return document.querySelector("#root")},onRequestClose:this.closeModal,className:"z-modal-inner z-no-pad no-hidden-overflow ",overlayClassName:"z-modal z-download-free-modal z-edit-upload-modal z-show"},i.a.createElement("div",{className:"z-modal-content clearfix",style:{overflow:"initial"}},i.a.createElement("div",{className:"z-title"},"Ch\u1ec9nh s\u1eeda"),i.a.createElement("div",{className:"z-upload-item z-upload-song-item"},i.a.createElement("div",{className:"z-new-playlist-content"},i.a.createElement(N.a,{filePath:s,onSuccess:this.handleThumbUploadSuccess,onUploading:this.handleThumbUploading,onError:this.handleThumbUploadError,addToast:d}),i.a.createElement("div",{className:"z-new-playlist-info"},i.a.createElement("div",{className:"z-info-song-upload"},i.a.createElement("div",null,i.a.createElement(D,{name:"title",value:t,placeholder:"T\xean B\xe0i H\xe1t",onChange:this.onChange,error:!h,className:"mar-bottom-10"}),i.a.createElement("div",{className:"z-input-row"},i.a.createElement(D,{name:"artist",className:"z-input-item",value:n,placeholder:"T\xean ngh\u1ec7 s\u0129 tr\xecnh b\xe0y",onChange:this.onChange,error:!f}),i.a.createElement(I.a,{value:o,onChange:this.onChangeGenre.bind(this)})))),i.a.createElement("div",{className:"--z--group-button mar-top-15"},i.a.createElement("a",{onClick:this.closeModal,className:"z-btn z-btn-shadow z-btn-2x z-btn-edit-close"},"\u0110\xf3ng"),i.a.createElement("a",{onClick:p?this.onSummit:void 0,className:"z-btn z-btn-shadow z-btn-2x z-btn-confirm ".concat(p?"":"z-disabled")},"L\u01b0u")))))))))}}]),n}(r.Component),D=function(e){var t=e.className,n=void 0===t?"":t,r=e.error,a=void 0!==r&&r,o=e.onChange,s=e.value,c=e.name,l=e.placeholder;return i.a.createElement("div",{className:"z-playlist-input-group ".concat(n," ").concat(a?"error":"")},i.a.createElement("input",{className:"mar-0",value:s,onChange:o,type:"text",name:c,placeholder:l}),a&&i.a.createElement("div",{className:"error-message"},i.a.createElement("i",null,"Thi\u1ebfu th\xf4ng tin"),i.a.createElement("i",{className:"icon ic-info"})))},z=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).hanleClick=e.hanleClick.bind(Object(f.a)(e)),e.removeSong=e.removeSong.bind(Object(f.a)(e)),e.closeModal=e.closeModal.bind(Object(f.a)(e)),e.state={},e}return Object(h.a)(n,[{key:"removeSong",value:function(){var e=this.props,t=e.song,n=void 0===t?{}:t,r=e.from,i=e.removeSong,a=e.closePortal;i(n.id,r,null,n.title,n.thumbnail_medium),a()}},{key:"hanleClick",value:function(){var e=this.props,t=e.song,n=void 0===t?{}:t,r=e.from;n.public_status!==s.Oc.ON||r!==s.rd?this.removeSong():this.setState({isOpenModal:!0})}},{key:"closeModal",value:function(){this.setState({isOpenModal:!1})}},{key:"render",value:function(){var e=this,t=this.state.isOpenModal;return i.a.createElement(r.Fragment,null,i.a.createElement("a",{role:"button",onClick:this.hanleClick,className:"z-btn-item menu-link"},i.a.createElement("i",{className:"icon ic-delete"}),"X\xf3a"),t&&i.a.createElement(C.a,{isOpen:t,onRequestClose:this.closeModal,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-block-modal",contentLabel:"Chia s\u1ebb"},i.a.createElement("div",{className:"z-modal-content",ref:function(t){return e.model=t}},i.a.createElement("div",{className:"z-buy-download-zone z-left pad-20 clearfix"},i.a.createElement("div",{className:"z-title"},"X\xf3a b\xe0i h\xe1t"),i.a.createElement("div",{className:"z-copyright-content"},"B\xe0i h\xe1t s\u1ebd b\u1ecb xo\xe1 kh\u1ecfi danh s\xe1ch t\u1ea3i l\xean, b\u1ea1n c\xf3 mu\u1ed1n xo\xe1?"),i.a.createElement("div",{className:"--z--group-button mar-top-10"},i.a.createElement("a",{onClick:this.closeModal,className:"z-btn z-btn-shadow z-btn-2x z-btn-edit-close"},"Kh\xf4ng"),i.a.createElement("a",{onClick:this.removeSong,className:"z-btn z-btn-shadow z-btn-2x z-btn-confirm"},"X\xf3a"))))))}}]),n}(r.Component),F=n(82),U=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={},e.onClick=function(){e.setState({isOpenModal:!0})},e.closeModal=function(){e.setState({isOpenModal:!1})},e.removePlaylist=Object(M.a)(k.a.mark((function t(){var n,r,i,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.playlist,i=n.from,a=n.removePlaylist,t.next=3,a(r.id,i,r.title,r.thumbnail_medium);case 3:t.sent&&F.history.push("/mymusic/playlist");case 5:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(n,[{key:"render",value:function(){return i.a.createElement(r.Fragment,null,i.a.createElement("a",{role:"button",onClick:this.onClick,className:"z-btn-item menu-link"},i.a.createElement("i",{className:"icon ic-delete"}),"X\xf3a playlist"),this.state.isOpenModal&&i.a.createElement(C.a,{isOpen:!0,onRequestClose:this.closeModal,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-block-modal z-show",contentLabel:"Chia s\u1ebb"},i.a.createElement("div",{className:"z-modal-content"},i.a.createElement("div",{className:"z-buy-download-zone z-left pad-20 clearfix"},i.a.createElement("div",{className:"z-title"},"X\xf3a playlist"),i.a.createElement("div",{className:"z-copyright-content"},"Playlist c\u1ee7a b\u1ea1n s\u1ebd b\u1ecb x\xf3a kh\u1ecfi th\u01b0 vi\u1ec7n c\xe1 nh\xe2n. C\xe1c b\xe0i h\xe1t do b\u1ea1n t\u1ea3i l\xean s\u1ebd v\u1eabn \u0111\u01b0\u1ee3c gi\u1eef l\u1ea1i. B\u1ea1n c\xf3 mu\u1ed1n x\xf3a?"),i.a.createElement("div",{className:"--z--group-button mar-top-10"},i.a.createElement("a",{onClick:this.closeModal,className:"z-btn z-btn-shadow z-btn-2x z-btn-edit-close"},"Kh\xf4ng"),i.a.createElement("a",{onClick:this.removePlaylist,className:"z-btn z-btn-shadow z-btn-2x z-btn-confirm"},"X\xf3a"))))))}}]),n}(r.Component),B=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).onClick=r.onClick.bind(Object(f.a)(r)),r}return Object(h.a)(n,[{key:"onClick",value:function(){var e=this.props,t=e.song,n=e.addSongToQueue,r=e.closePortal;n(t,{sourcePlaylistId:e.sourcePlaylistId,trackingSource:e.trackingSource,sourcePlaylist:e.sourcePlaylist,isNextPlaying:!0}),r&&r()}},{key:"render",value:function(){var e=this.props.className;return i.a.createElement("a",{onClick:this.onClick,className:"".concat(e," menu-link"),role:"button"},i.a.createElement("i",{className:"icon ic-play-next"}),"Ph\xe1t ti\u1ebfp theo")}}]),n}(r.Component),H=n(106),V=n(105),G=function(e){var t=e.song,n=e.likeAction,r=e.liked;return i.a.createElement("a",{className:"menu-link",role:"button",onClick:function(){n("song",t.id,t.title)}},i.a.createElement("i",{role:"button",className:"icon ic-like".concat(r?"-full":"")}),r?"X\xf3a kh\u1ecfi th\u01b0 vi\u1ec7n":"Th\xeam v\xe0o th\u01b0 vi\u1ec7n")},W="C\u1ea3m \u01a1n b\u1ea1n \u0111\xe3 \u0111\xf3ng g\xf3p l\u1eddi b\xe0i h\xe1t cho ca kh\xfac n\xe0y! N\u1ed9i dung s\u1ebd \u0111\u01b0\u1ee3c ki\u1ec3m duy\u1ec7t tr\u01b0\u1edbc khi hi\u1ec3n th\u1ecb.",q=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={},e.createLyric=function(){var t=Object(M.a)(k.a.mark((function t(n){var r,i,a,o,c,l,u;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.state.content,i=e.props,a=i.addToast,o=i.onSuccess,c=e.props.songId,e.setState({uploading:!0}),t.next=7,Object(P.g)(s.cc,{content:r,id:c},{method:"post"});case 7:if(l=t.sent,u=l.resp,e.setState({uploading:!1}),u&&0===u.err){t.next=13;break}return a({text:u.msg,status:s.gd}),t.abrupt("return");case 13:o(),a({text:W,status:s.jd});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState(Object(T.a)({},t.target.name,t.target.value))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.state,n=t.content,r=void 0===n?"":n,a=t.uploading,o=this.props.onCancel,s=a||r.trim();return i.a.createElement("div",{className:"lyric-distribution-user"},i.a.createElement("div",{className:"z-title mar-bottom-15",style:{fontSize:20,fontWeight:700}},"\u0110\xf3ng g\xf3p l\u1eddi b\xe0i h\xe1t"),i.a.createElement("form",{onSubmit:this.createLyric},i.a.createElement("div",null,i.a.createElement("textarea",{ref:function(t){return e.input=t},value:r,type:"text",onChange:this.handleChange,placeholder:"Nh\u1eadp l\u1eddi b\xe0i h\xe1t v\xe0o \u0111\xe2y",name:"content",rows:"15",style:{width:"100%"}})),i.a.createElement("div",{className:"list-buttons clearfix mar-top-20"},i.a.createElement("div",{className:"pull-right"},i.a.createElement("a",{onClick:o,className:"z-btn z-btn-gray z-btn-shadow mar-right-10"},"\u0110\xf3ng"),i.a.createElement("button",{onClick:this.createLyric,className:"z-btn z-btn-shadow ".concat(s?"":"z-disabled")},"L\u01afU")))))}}]),n}(r.Component),Y=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={isOpenModal:!1},r.onClick=r.onClick.bind(Object(f.a)(r)),r.closeModal=r.closeModal.bind(Object(f.a)(r)),r}return Object(h.a)(n,[{key:"onClick",value:function(){if(!this.props.isLogin)return this.props.openPopupLogin();this.setState({isOpenModal:!0})}},{key:"closeModal",value:function(){this.setState({isOpenModal:!1})}},{key:"render",value:function(){var e=this.state.isOpenModal,t=this.props,n=t.songId,a=t.addToast;return i.a.createElement(r.Fragment,null,i.a.createElement("a",{className:"z-btn-item menu-link",role:"button",onClick:this.onClick},i.a.createElement("i",{role:"button",className:"icon ic-add-lyric"}),"\u0110\xf3ng g\xf3p l\u1eddi b\xe0i h\xe1t"),e&&i.a.createElement(C.a,{isOpen:!0,onRequestClose:this.closeModal,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-block-modal",contentLabel:"Chia s\u1ebb"},i.a.createElement("div",{className:"z-modal-content"},i.a.createElement("div",{className:" z-left pad-20 clearfix"},i.a.createElement(q,{songId:n,addToast:a,onCancel:this.closeModal,onSuccess:this.closeModal})))))}}]),n}(r.Component),Z=n(4),K=n(41),X=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={showChild:!1,isLeftChild:!1},e.onMouseEnter=function(){e.state.showChild||(e.appearTimer=setTimeout((function(){var t=!1;e.node.getBoundingClientRect().right+240>window.innerWidth&&(t=!0),e.setState({showChild:!0,isLeftChild:t})}),300))},e.onMouseLeave=function(){clearTimeout(e.appearTimer)},e.onMouseMouse=function(t){if(!e.dropdown){var n=e.props.inlineDropdown?"z-inline-dropdown":"z-dropdown";e.dropdown=document.getElementById(n)}e.dropdown.contains(t.target)&&!e.node.contains(t.target)&&e.setState({showChild:!1})},e.removeChild=function(){e.setState({showChild:!1}),e.props.closePortal&&e.props.closePortal()},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.playlist,a=void 0===r?{}:r,o=this.state,s=o.showChild,c=o.isLeftChild;return i.a.createElement("div",{className:"dropdown-item",ref:function(t){return e.node=t},onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i.a.createElement("a",{role:"button",className:" menu-link"},i.a.createElement("i",{role:"button",className:"icon ic-add"}),i.a.createElement("i",{className:"icon ic-go-right z-pull-right-center"}),n),s&&i.a.createElement(Q,{playlist:a,removeChild:this.removeChild,onMouseMouse:this.onMouseMouse,isLeft:c}))}}]),n}(r.Component),Q=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={top:0},e.handleClick=function(t){e.props.inSongDetail&&(e.node.contains(t.target)||e.props.removeChild())},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.props.onMouseMouse),document.addEventListener("click",this.handleClick),this.setState({top:40-this.node.getBoundingClientRect().height})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.props.onMouseMouse),document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.playlist,r=t.isLeft,a=this.state.top,o=r?{right:"calc(100% - 10px)",left:"initial"}:{left:"calc(100% - 10px)"};return i.a.createElement("div",null,i.a.createElement("div",{className:"dropdown-menu-list --z--content-dropdown z-show pad-right-5",ref:function(t){return e.node=t},style:Object(Z.a)({},o,{top:a})},i.a.createElement("div",{style:{maxHeight:180,overflow:"hidden",overflowY:"scroll",paddingRight:15}},!Object(P.B)(n.genres)&&i.a.createElement("div",{className:"info-text category mar-top-10"},i.a.createElement("div",{className:"info-title"},"Th\u1ec3 lo\u1ea1i:"),i.a.createElement(K.a,{items:n.genres,className:"cate-name"})),n.release_date&&n.id!==s.Kc&&i.a.createElement("div",{className:"info-text release"},i.a.createElement("div",{className:"info-title"},"Ph\xe1t h\xe0nh: "),i.a.createElement("span",{className:"cate-name"},n.release_date)),n.listen>0&&i.a.createElement("div",{className:"log-stats w-100 mar-top-20"},i.a.createElement("div",{className:"viewed"},i.a.createElement("i",{className:"icon ic-view"}),i.a.createElement("span",null," ",Object(P.p)(n.listen))),n.like&&n.like>0?i.a.createElement("div",{className:"liked"},i.a.createElement("i",{className:"icon ic-like"}),i.a.createElement("span",null," ",Object(P.p)(n.like))):null),i.a.createElement("div",{className:"info-content"},n.description))))}}]),n}(r.Component),J=n(38),$=function(e){return i.a.createElement("li",null,i.a.createElement("div",{className:"dropdown-item"},i.a.createElement("a",{role:"button",className:"menu-link",onClick:function(){var t=e.shareLink,n=e.closePortal,r=Object(P.b)(t,"");return window.open(r,"share","height=600,width=600"),n(),!1}},i.a.createElement("i",{role:"button",className:"icon z-ic-svg ic-svg-fb"}),"Facebook")))},ee=Object(r.memo)((function(e){var t=e.shareLink;e.closePortal;Object(r.useEffect)((function(){window.ZaloSocialSDK&&window.ZaloSocialSDK.reload()}),[]);return i.a.createElement("li",null,i.a.createElement("div",{className:"dropdown-item"},i.a.createElement("a",{role:"button",onClick:function(){setTimeout((function(){var e=document.getElementsByTagName("iframe");if(e&&e[e.length-1]){var t=e[e.length-1];if(!t.getAttribute("src").includes("share_inline"))return;var n=1*t.style.top.split("px")[0]+window.lastPageYOffset;t.style.top="".concat(n,"px")}}),50)},className:"menu-link zalo-share-button","data-href":t,"data-customize":"true","data-oaid":"4073327408156217288"},i.a.createElement("i",{role:"button",className:"icon z-ic-svg ic-svg-zalo"}),"Zalo")))})),te=n(53),ne=n(72),re=n.n(ne),ie=(n(176),n(22),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;Object(d.a)(this,n),(r=t.call(this,e)).changeAutoplay=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value;r.setState({autoplay:Boolean(n)})},r.changeSize=function(e){var t=e.target.value?e.target.value:r.state.size;r.setState({size:t})};var i="playlist"===e.type||"album"===e.type;return r.state={autoplay:!1,size:i?"640x390":"640x180",isPlaylist:i},r}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.closeModal,r=e.id,a=this.state,o=a.size,s=a.autoplay,c=a.isPlaylist,l=o.split("x"),u='<iframe\n        scrolling="no"\n        width='.concat(l[0],"\n        height=").concat(l[1],"\n        src=https://zingmp3.vn/embed/").concat(t,"/").concat(r,"?start=").concat(s,' frameborder="0" allowfullscreen="true" />');return i.a.createElement("div",null,i.a.createElement("div",{className:"clearfix no-line-height"},i.a.createElement("a",{className:"z-modal-close",onClick:n,title:"\u0110\xf3ng"},i.a.createElement("i",{className:"icon ic-close"}))),i.a.createElement("div",{className:"z-modal-content z-modal-share"},i.a.createElement("div",{className:"z-center"},i.a.createElement("span",{className:"z-btn-text z-btn-big-text"},"M\xe3 Nh\xfang")),i.a.createElement("div",{className:"z-share-box mar-top-10"},u,i.a.createElement(re.a,{className:"z-btn-share",component:"a","button-title":"Sao ch\xe9p","data-clipboard-text":u,title:"Sao ch\xe9p","data-tip":"\u0110\xe3 sao ch\xe9p","data-for":"global","data-delay-show":0,"data-offset":"{ 'right': 5, 'top': -5 }","data-delay-hide":1e3,"data-event":"click","data-event-off":"mousemove"},"Sao ch\xe9p")),i.a.createElement("div",{className:"clearfix pad-top-10 pad-bottom-10"},i.a.createElement("div",{className:"pull-left"},"K\xedch th\u01b0\u1edbc"),i.a.createElement("div",{className:"pull-right"},i.a.createElement("ul",{className:"z-share-size-list"},i.a.createElement("li",null,i.a.createElement("label",{onClick:this.changeAutoplay,className:"z-checkbox"},i.a.createElement("input",{type:"checkbox"}),i.a.createElement("span",{className:"z-checkmark"})),i.a.createElement("span",{className:"z-op-text"},"T\u1ef1 \u0111\u1ed9ng ch\u01a1i"))))),i.a.createElement("div",null,i.a.createElement("select",{onChange:this.changeSize},c?i.a.createElement("option",{value:"640x390"},"640x390"):i.a.createElement("option",{value:"640x180"},"640x180"),i.a.createElement("option",{value:"853x240"},"853x240")))),i.a.createElement(te.a,{id:"global",delayShow:1e3,place:"top","aria-haspopup":"true",effect:"solid"}))}}]),n}(r.Component));ie.defaultProps={type:s.V};var ae=ie,oe=function(e){var t=e.shareLink,n=e.id,a=e.type,o=Object(r.useState)(!1),s=Object(J.a)(o,2),c=s[0],l=s[1],u=function(){return l(!1)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement("div",{className:"dropdown-item"},i.a.createElement("a",{role:"button",className:"menu-link",onClick:function(){return l(!0)}},i.a.createElement("i",{role:"button",className:"icon ic-code"}),"M\xe3 nh\xfang"))),c&&i.a.createElement(C.a,{isOpen:c,onRequestClose:u,className:"z-modal-inner z-width-570",overlayClassName:"z-modal z-show",contentLabel:"Chia s\u1ebb"},i.a.createElement(ae,{type:a,id:n,link:t,closeModal:u})))},se=function(e){var t=Object(r.useState)(!1),n=Object(J.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)("left"),c=Object(J.a)(s,2),l=c[0],u=c[1],d=Object(r.useRef)({}),h=Object(r.useRef)(null);return i.a.createElement("a",{role:"button",className:"menu-link",onMouseEnter:function(){d.current.timer=setTimeout((function(){h.current.getBoundingClientRect().right+240<window.innerWidth&&u("right"),o(!0)}),300)},onMouseLeave:function(){clearTimeout(d.current.timer)},ref:h},i.a.createElement("i",{role:"button",className:"icon ic-share"}),i.a.createElement("i",{className:"icon ic-go-right z-pull-right-center"}),"Chia s\u1ebb",a&&i.a.createElement(ce,Object.assign({},e,{position:l,onMouseMove:function(t){if(!d.current.dropdown){var n=e.inlineDropdown?"z-inline-dropdown":"z-dropdown";d.current.dropdown=document.getElementById(n)}d.current.expand||(d.current.expand=document.getElementById("z-mini-action-expand")),(d.current.dropdown.contains(t.target)||d.current.expand&&d.current.expand.contains(t.target))&&!h.current.contains(t.target)&&o(!1)}})))},ce=function(e){var t=e.link,n=e.type,a=e.id,o=e.position,c=e.onMouseMove,l=e.closePortal;Object(r.useEffect)((function(){return document.addEventListener("mousemove",c),function(){return document.removeEventListener("mousemove",c)}}),[]);var u="".concat(s.r).concat(t);return i.a.createElement("div",{className:"SubMenu dropdown-menu-list ".concat(o)},i.a.createElement("ul",null,i.a.createElement($,{shareLink:u,closePortal:l}),i.a.createElement(ee,{shareLink:u,closePortal:l}),i.a.createElement(oe,{type:n,id:a})))};t.a=Object(o.b)((function(e){return{isIpVn:Object(c.E)(e),isUserVn:Object(c.F)(e)}}),(function(e){return Object(a.b)({openPopupLogin:l.G,playRadio:u.I},e)}))((function(e){var t,n=e.addToast,r=e.isVip,a=e.type,o=e.addSongToQueue,c=e.addSongsToQueue,l=e.objectType,u=e.object,d=e.songs,h=e.isLogin,f=e.removeSong,p=e.from,m=e.closePortal,g=e.isInPlayer,y=e.playlistId,_=e.downloadSongs,T=e.trackingSource,O=e.fireGAEventShare,k=e.fireGAEventFeedback,M=e.isIpVn,A=e.isUserVn,C=e.openPopupLogin,L=e.sourcePlaylist,P=e.totalComment,R=e.removeSongFromPlaylist,I=e.position,N=e.editUploadSong,D=e.removePlaylist,F=e.inlineDropdown,W=e.radio,q=e.playRadio,Z=e.likeAction,K=e.liked,Q=e.removeHistoryPlaylist,J=p===s.rd&&"public"===u.privacy;switch(a){case"addSongsToQueue":t=i.a.createElement(b,{addSongsToQueue:c,songs:d,closePortal:m,trackingSource:T,sourcePlaylist:L});break;case"addToQueue":t=i.a.createElement(v,{addSongToQueue:o,song:u,closePortal:m,sourcePlaylistId:y,trackingSource:T,sourcePlaylist:L});break;case"nextPlaying":t=i.a.createElement(B,{addSongToQueue:o,song:u,closePortal:m,sourcePlaylistId:y,trackingSource:T,sourcePlaylist:L});break;case"downloadSongs":u&&A&&(t=i.a.createElement(x.a,{id:u.id,title:u.alias_title,songsInPlaylist:d,addToast:n,isVip:r,isIpVn:M,isLogin:h,openPopupLogin:C,downloadSongs:_},i.a.createElement("i",{className:"icon ic-download"}),i.a.createElement("span",null,"T\u1ea3i xu\u1ed1ng")));break;case"share":t=i.a.createElement(w.a,{className:"menu-link",type:l,id:u.id,link:u.link,text:"Sao ch\xe9p link",icon:"link",fireGAEvent:O,addToast:n});break;case"feedback":t=i.a.createElement(E,{className:"z-btn-reply z-btn-item menu-link",fireGAEvent:k});break;case"addMore":t=i.a.createElement(S.a,{song:u,text:"Th\xeam v\xe0o playlist",closePortal:m,isInPlayer:g,position:I,inlineDropdown:F,inPortal:!0});break;case"delete":t=i.a.createElement(z,{song:u,from:p,removeSong:f,closePortal:m});break;case"remove-playlist":t=i.a.createElement(U,{playlist:u,from:p,removePlaylist:D,closePortal:m});break;case"remove-history-playlist":t=i.a.createElement("a",{role:"button",onClick:Q,className:"z-btn-item menu-link"},i.a.createElement("i",{className:"icon ic-delete"}),"X\xf3a kh\u1ecfi nghe g\u1ea7n \u0111\xe2y");break;case"remove-playlist-song":t=i.a.createElement("a",{role:"button",onClick:function(){R(),m()},className:"z-btn-item menu-link"},i.a.createElement("i",{role:"button",className:"icon ic-delete"}),"X\xf3a kh\u1ecfi playlist n\xe0y");break;case"playlist-info":t=i.a.createElement(X,{text:"Th\xf4ng tin",playlist:u,inlineDropdown:F});break;case"edit-song":t=i.a.createElement(j,{song:u,editUploadSong:N,closePortal:m,disabled:J,addToast:n});break;case"comment":if("private"===u.privacy)break;t=i.a.createElement(H.a,{id:u.id,type:l,hasComment:P>0});break;case"play-radio":t=i.a.createElement(V.a,{radio:W,addToast:n,closePortal:m,playRadio:q});break;case"like":t=i.a.createElement(G,{song:u,likeAction:Z,liked:K});break;case"add-lyric":t=i.a.createElement(Y,{songId:u.id,addToast:n,openPopupLogin:C,isLogin:h});break;case"social-share":if("private"===u.privacy)break;t=i.a.createElement(se,{type:l,id:u.id,link:u.link,inlineDropdown:F,closePortal:m});break;default:t=null}return i.a.createElement("li",null,i.a.createElement("div",{className:"dropdown-item"},t))}))},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(11),o=n(6),s=n(7),c=n(12),l=n(9),u=n(8),d=n(0),h=n.n(d),f=n(24),p=n(19),m=n(2),g=n(1),v=n(23),y=n(26),b=n.n(y),w=function(e){var t=e.isVip,n=e.streamingsUrl,r=(e.id,e.title),i=(e.artistNames,e.thumbnail,e.closeModal),a=e.openVipModal,o=(e.closeVipModal,[]),s=function(e){e=e.toString();var r=n[e];if(Object(g.B)(r)&&"128"!==e&&!t)return o.push(h.a.createElement("a",{key:e,onClick:function(){return function(e,t){e(!0),t()}(a,i)},className:"z-download-pkg-btn",target:"_blank",rel:"noopener noreferrer"},h.a.createElement("span",{className:"z-type"},h.a.createElement("span",{className:"z-bold"},"128"===e?"Ti\xeau chu\u1ea9n":"Ch\u1ea5t l\u01b0\u1ee3ng cao")," ",h.a.createElement("br",null)," ","lossless"!==e?e+" kbps":"Lossless"),h.a.createElement("span",{className:"z-label z-vip-label"},"vip"))),c=e,"continue";o.push(h.a.createElement("a",{onClick:function(){return function(e,t){window.open(e,"_blank"),t()}(r,i)},className:"z-download-pkg-btn",target:"_blank",rel:"noopener noreferrer"},h.a.createElement("span",{className:"z-type"},h.a.createElement("span",{className:"z-bold"},"128"===e?"Ti\xeau chu\u1ea9n":"Ch\u1ea5t l\u01b0\u1ee3ng cao")," ",h.a.createElement("br",null)," ","lossless"!==e?e+"kbps":"Lossless"),t?null:"128"===e?h.a.createElement("span",{className:"z-label z-free-label"},"free"):h.a.createElement("span",{className:"z-label z-vip-label"},"vip"))),c=e};for(var c in n)s(c);return h.a.createElement(h.a.Fragment,null,h.a.createElement("a",{onClick:i,className:"z-modal-close-fixed"},h.a.createElement("i",{className:"icon ic-close"})),h.a.createElement("div",{className:"z-modal-content"},t?null:h.a.createElement("a",{href:m.s,target:"_blank",rel:"noopener noreferrer"},h.a.createElement("img",{height:"360",width:"100%",src:"".concat(m.cd,"images/vip_download_banner.jpg"),alt:""})),h.a.createElement("div",{className:"z-buy-download-zone clearfix"},h.a.createElement("p",null,"B\u1ea1n \u0111ang mu\u1ed1n t\u1ea3i b\xe0i h\xe1t ",h.a.createElement("span",{className:"z-song-name"},r),h.a.createElement("br",null),"Vui l\xf2ng ch\u1ecdn ch\u1ea5t l\u01b0\u1ee3ng mong mu\u1ed1n"),h.a.createElement("div",{className:"z-packages"},o))))},_=n(69),E=n(18),S=n(13),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this)).openVipModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?r.setState({VipModalIsOpen:!0,reopenModal:!0,title:"T\u1ea3i nh\u1ea1c ch\u1ea5t l\u01b0\u1ee3ng cao",detail:"B\u1ea1n c\u1ea7n t\xe0i kho\u1ea3n VIP \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y"}):r.setState({VipModalIsOpen:!0,reopenModal:!1,title:"N\u1ed9i dung b\u1ea3n quy\u1ec1n",detail:"Theo y\xeau c\u1ea7u c\u1ee7a \u0111\u01a1n v\u1ecb s\u1edf h\u1eefu b\u1ea3n quy\u1ec1n, b\u1ea1n c\u1ea7n t\xe0i kho\u1ea3n VIP \u0111\u1ec3 t\u1ea3i b\xe0i h\xe1t n\xe0y"})},r.closeVipModal=function(){r.setState({VipModalIsOpen:!1}),r.state.reopenModal&&r.openModal()},r.closeModal=function(){r.setState({modalIsOpen:!1})},r.onClick=r.onClick.bind(Object(c.a)(r)),r.state={modalIsOpen:!1,streamingsUrl:{},VipModalIsOpen:!1,title:"",detail:""},r.openModal=r.openModal.bind(Object(c.a)(r)),r.afterOpenModal=r.afterOpenModal.bind(Object(c.a)(r)),r.closeModal=r.closeModal.bind(Object(c.a)(r)),r}return Object(s.a)(n,[{key:"onClick",value:function(){var e=Object(a.a)(i.a.mark((function e(){var t,n,r,a,o,s,c,l,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.id,r=t.addToast,a=t.fireGAEvent,o=t.isLogin,s=t.openPopupLogin,o){e.next=3;break}return e.abrupt("return",s());case 3:return c={credentials:"include"},l=Object(g.a)(m.ac,{id:n},m.p),e.next=7,Object(g.l)(l,c);case 7:if(u=e.sent,d=u.resp,a&&a(),Object(v.a)(d)){e.next=17;break}if(!d||!d.msg){e.next=16;break}if(-1100!==d.err){e.next=15;break}return this.openVipModal(),e.abrupt("return");case 15:r(Object(g.f)(d.msg,m.gd));case 16:return e.abrupt("return");case 17:d.data&&(this.setState({streamingsUrl:d.data}),this.openModal());case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openModal",value:function(){this.setState({modalIsOpen:!0}),setTimeout((function(){window.AdtimaZingMp3&&window.AdtimaZingMp3.loadDownloadAds()}),300)}},{key:"afterOpenModal",value:function(){this.props.closePortal}},{key:"render",value:function(){var e=this.state,t=e.streamingsUrl,n=e.modalIsOpen,r=e.VipModalIsOpen,i=this.props,a=i.className,o=i.isVip,s=i.id,c=i.title,l=i.artistNames,u=i.thumbnail,d=i.isLogin,f=i.isUserVn;return h.a.createElement(h.a.Fragment,null,h.a.createElement("a",{role:"button",onClick:this.onClick,className:"".concat(a," ").concat(f?"":"z-disabled")},this.props.children),n?h.a.createElement(b.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal ".concat(o?"z-download-vip-modal z-show":"z-download-free-modal"),contentLabel:"Chia s\u1ebb"},h.a.createElement(w,{isVip:o,id:s,title:c,artistNames:l,thumbnail:u,streamingsUrl:t,closeModal:this.closeModal,openVipModal:this.openVipModal,closeVipModal:this.closeVipModal})):null,h.a.createElement(_.a,{isOpen:r,closeModal:this.closeVipModal,isLogin:d,detail:"B\u1ea1n c\u1ea7n t\xe0i kho\u1ea3n VIP \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y"}))}}]),n}(d.Component);x.defaultProps={className:"menu-link"};t.a=Object(p.b)((function(e){return{isUserVn:Object(S.F)(e)}}),(function(e){return Object(f.b)({openPopupLogin:E.G},e)}))(x)},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m}));var r=n(5),i=n.n(r),a=n(11),o=n(3),s=n(2),c=n(1),l=n(23);var u=function(){return function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.fb}),e.next=3,Object(c.g)("/home");case 3:if(n=e.sent,r=n.resp,Object(l.a)(r)&&!Object(c.B)(r.data)){e.next=7;break}return e.abrupt("return");case 7:t((i=r.data,{type:o.gb,data:i}));case 8:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(){return function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.g)("/home/part-2");case 2:if(n=e.sent,r=n.resp,Object(l.a)(r)&&!Object(c.B)(r.data)){e.next=6;break}return e.abrupt("return");case 6:t((i=r.data,{type:o.eb,data:i}));case 7:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}()};var h=function(e,t,n){return function(){var t=Object(a.a)(i.a.mark((function t(r){var a,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:o.O}),t.next=3,Object(c.g)(s.rb,{genre_id:e,count:n});case 3:if(a=t.sent,u=a.resp,Object(l.a)(u)&&!(u.data.lenght<1)){t.next=7;break}return t.abrupt("return");case 7:r((i=u.data,{type:o.P,albumHot:i}));case 8:case"end":return t.stop()}var i}),t)})));return function(e){return t.apply(this,arguments)}}()};var f=function(e,t){return function(){var n=Object(a.a)(i.a.mark((function n(r){var a,u;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:o.cb}),n.next=3,Object(c.g)(s.mb,{type:e,count:t});case 3:if(a=n.sent,u=a.resp,Object(l.a)(u)&&!Object(c.B)(u.data)){n.next=7;break}return n.abrupt("return");case 7:r((i=u.data,{type:o.db,genreShortcut:i}));case 8:case"end":return n.stop()}var i}),n)})));return function(e){return n.apply(this,arguments)}}()};var p=function(e,t,n){return function(){var t=Object(a.a)(i.a.mark((function t(r){var a,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:o.Vb}),t.next=3,Object(c.g)(s.Jb,{genre_id:e,count:n});case 3:if(a=t.sent,u=a.resp,Object(l.a)(u)&&!Object(c.B)(u.data)){t.next=7;break}return t.abrupt("return");case 7:r((i=u.data,{type:o.Wb,videoHot:i}));case 8:case"end":return t.stop()}var i}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(){return{type:o.cd}}},function(e,t,n){"use strict";(function(e){var r=n(237),i=n(238),a=n(239);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=h(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):h(e,t);if("Buffer"===t.type&&a(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var d=!0,h=0;h<c;h++)if(l(e,a+h)!==l(t,h)){d=!1;break}if(d)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return H(U(t,e.length-n),e,n,r)}function _(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return _(e,t,n,r)}function S(e,t,n,r){return H(B(t),e,n,r)}function x(e,t,n,r){return H(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128===(192&(a=e[i+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(c=(15&l)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){a=l[d],o=u[d];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=F(e[a]);return i}function C(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function L(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,a){return a||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,a){return a||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:U(new c(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(52))},function(e,t,n){(function(r){var i=n(71);(t=e.exports=function(e,n){var r=t.evaluate(e,n),i=t.evaluate("<root></root>",n)[0];return i.type="root",t.update(r,i),i}).evaluate=function(e,t){return"string"===typeof e||r.isBuffer(e)?i.parseDOM(e,t):e},t.update=function(e,t){Array.isArray(e)||(e=[e]),t?t.children=e:t=null;for(var n=0;n<e.length;n++){var r=e[n],i=r.parent||r.root,a=i&&i.children;a&&a!==e&&(a.splice(a.indexOf(r),1),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev)),t?(r.prev=e[n-1]||null,r.next=e[n+1]||null):r.prev=r.next=null,t&&"root"===t.type?(r.root=t,r.parent=null):(r.root=null,r.parent=t)}return t}}).call(this,n(89).Buffer)},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),c=r[n];n<a;c=r[++n])m(c)||!w(c)?o+=" "+c:o+=" "+s(c);return o},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var a,o={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),u(r,e,r.depth)}function c(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function l(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=u(e,i,r)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),E(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(n);if(0===o.length){if(S(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var l,w="",x=!1,T=["{","}"];(f(n)&&(x=!0,T=["[","]"]),S(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+d(n)),0!==o.length||x&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=x?function(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)M(t,String(o))?a.push(h(e,t,n,r,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(h(e,t,n,r,i,!0))})),a}(e,n,r,s,o):o.map((function(t){return h(e,n,r,s,t,x)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,w,T)):T[0]+w+T[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),M(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?u(e,c.value,null):u(e,c.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function f(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function m(e){return null===e}function g(e){return"number"===typeof e}function v(e){return"string"===typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===x(e)}function w(e){return"object"===typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===x(e)}function E(e){return w(e)&&("[object Error]"===x(e)||e instanceof Error)}function S(e){return"function"===typeof e}function x(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(a)&&(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_IS_PRODUCTION:"true"}).NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else o[n]=function(){};return o[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=_,t.isError=E,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(257);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=n(61),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!==typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(o){n(o)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(C,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(56))},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,a,o,s;if(l(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)a(c,this,t);else{var l=c.length,u=g(c,l);for(n=0;n<l;++n)a(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,n(56))},function(e,t,n){var r=n(89),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){var r=n(90),i=n(116),a={tag:!0,script:!0,style:!0};t.isTag=function(e){return e.type&&(e=e.type),a[e]||!1},t.camelCase=function(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))},t.cssCase=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},t.domEach=function(e,t){for(var n=0,r=e.length;n<r&&!1!==t.call(e,n,e[n]);)++n;return e},t.cloneDom=function(e,t){return r(i(e,t),t).children}},function(e,t,n){var r=n(198)("jsonp");e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={});t||(t={});var o,s,c=t.prefix||"__jp",l=t.name||c+i++,u=t.param||"callback",d=null!=t.timeout?t.timeout:6e4,h=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;d&&(s=setTimeout((function(){p(),n&&n(new Error("Timeout"))}),d));function p(){o.parentNode&&o.parentNode.removeChild(o),window[l]=a,s&&clearTimeout(s)}return window[l]=function(e){r("jsonp got",e),p(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+u+"="+h(l)).replace("?&","?"),r('jsonp req "%s"',e),(o=document.createElement("script")).src=e,f.parentNode.insertBefore(o,f),function(){window[l]&&p()}};var i=0;function a(){}},function(e,t,n){(function(t,n){e.exports=function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var n=t[o][1][e];return i(n||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){},{}],2:[function(e,t,n){t.exports=XMLHttpRequest},{}],3:[function(e,n,r){"use strict";function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=function(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?s(e):t}(this,o(n).call(this)),l(s(t),"_array",void 0),l(s(t),"_size",void 0),t._array=e,t._size=e.length,t._isInitialized=!0,t}var r,u,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e),r=n,d=[{key:"canReadFile",value:function(e){return Array.isArray(e)||"function"===typeof t&&t.isBuffer(e)}}],(u=[{key:"init",value:function(e){setTimeout(e.onSuccess,0)}},{key:"loadRange",value:function(e,t){setTimeout(t.onSuccess,0)}},{key:"getByteAt",value:function(e){if(e>=this._array.length)throw new Error("Offset "+e+" hasn't been loaded yet.");return this._array[e]}}])&&a(r.prototype,u),d&&a(r,d),n}(e("./MediaFileReader"));n.exports=u},{"./MediaFileReader":11}],4:[function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=e("./ChunkedFileData"),u=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?o(e):t}(this,a(t).call(this)),c(o(n),"_blob",void 0),c(o(n),"_fileData",void 0),n._blob=e,n._fileData=new l,n}var n,u,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,d=[{key:"canReadFile",value:function(e){return"undefined"!==typeof Blob&&e instanceof Blob||"undefined"!==typeof File&&e instanceof File}}],(u=[{key:"_init",value:function(e){this._size=this._blob.size,setTimeout(e.onSuccess,1)}},{key:"loadRange",value:function(e,t){var n=this,r=(this._blob.slice||this._blob.mozSlice||this._blob.webkitSlice).call(this._blob,e[0],e[1]+1),i=new FileReader;i.onloadend=function(r){var a=new Uint8Array(i.result);n._fileData.addData(e[0],a),t.onSuccess()},i.onerror=i.onabort=function(e){t.onError&&t.onError({type:"blob",info:i.error})},i.readAsArrayBuffer(r)}},{key:"getByteAt",value:function(e){return this._fileData.getByteAt(e)}}])&&i(n.prototype,u),d&&i(n,d),t}(e("./MediaFileReader"));t.exports=u},{"./ChunkedFileData":5,"./MediaFileReader":11}],5:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var a=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=void 0,(n="_fileData")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._fileData=[]}return i(e,null,[{key:"NOT_FOUND",get:function(){return-1}}]),i(e,[{key:"addData",value:function(e,t){var n=e+t.length-1,r=this._getChunkRange(e,n);if(-1===r.startIx)this._fileData.splice(r.insertIx||0,0,{offset:e,data:t});else{var i=this._fileData[r.startIx],a=this._fileData[r.endIx],o=e>i.offset,s=n<a.offset+a.data.length-1,c={offset:Math.min(e,i.offset),data:t};if(o){var l=this._sliceData(i.data,0,e-i.offset);c.data=this._concatData(l,t)}s&&(l=this._sliceData(c.data,0,a.offset-c.offset),c.data=this._concatData(l,a.data)),this._fileData.splice(r.startIx,r.endIx-r.startIx+1,c)}}},{key:"_concatData",value:function(e,t){if("undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e)){var n=new e.constructor(e.length+t.length);return n.set(e,0),n.set(t,e.length),n}return e.concat(t)}},{key:"_sliceData",value:function(e,t,n){return e.slice?e.slice(t,n):e.subarray(t,n)}},{key:"_getChunkRange",value:function(e,t){for(var n=-1,r=-1,i=0,a=0;a<this._fileData.length;i=++a){var o=(s=this._fileData[a].offset)+this._fileData[a].data.length;if(t<s-1)break;if(e<=o+1&&t>=s-1){n=a;break}}if(-1===n)return{startIx:-1,endIx:-1,insertIx:i};for(a=n;a<this._fileData.length;a++){var s;if(t>=(s=this._fileData[a].offset)-1&&(r=a),t<=(o=s+this._fileData[a].data.length)+1)break}return-1===r&&(r=n),{startIx:n,endIx:r}}},{key:"hasDataRange",value:function(e,t){for(var n=0;n<this._fileData.length;n++){var r=this._fileData[n];if(t<r.offset)return!1;if(e>=r.offset&&t<r.offset+r.data.length)return!0}return!1}},{key:"getByteAt",value:function(e){for(var t,n=0;n<this._fileData.length;n++){var r=this._fileData[n].offset,i=r+this._fileData[n].data.length-1;if(e>=r&&e<=i){t=this._fileData[n];break}}if(t)return t.data[e-t.offset];throw new Error("Offset "+e+" hasn't been loaded yet.")}}]),e}();t.exports=a},{}],6:[function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?c(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=e("./MediaTagReader"),h=[4,132],f=[6,134],p=["Other","32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"],m=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return u(c(n=o(this,(e=s(t)).call.apply(e,[this].concat(a)))),"_commentOffset",void 0),u(c(n),"_pictureOffset",void 0),n}var n,r,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,d=[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:4}}},{key:"canReadTagFormat",value:function(e){return"fLaC"===String.fromCharCode.apply(String,e.slice(0,4))}}],(r=[{key:"_loadData",value:function(e,t){var n=this;e.loadRange([4,7],{onSuccess:function(){n._loadBlock(e,4,t)}})}},{key:"_loadBlock",value:function(e,t,n){var r=this,i=e.getByteAt(t),a=e.getInteger24At(t+1,!0);if(-1!==h.indexOf(i)){var o=t+4;e.loadRange([o,o+a],{onSuccess:function(){r._commentOffset=o,r._nextBlock(e,t,i,a,n)}})}else-1!==f.indexOf(i)?(o=t+4,e.loadRange([o,o+a],{onSuccess:function(){r._pictureOffset=o,r._nextBlock(e,t,i,a,n)}})):r._nextBlock(e,t,i,a,n)}},{key:"_nextBlock",value:function(e,t,n,r,i){var a=this;n>127?a._commentOffset?i.onSuccess():i.onError({type:"loadData",info:"Comment block could not be found."}):e.loadRange([t+4+r,t+4+4+r],{onSuccess:function(){a._loadBlock(e,t+4+r,i)}})}},{key:"_parseData",value:function(e,t){for(var n,r,i,a,o,s,c=e.getLongAt(this._commentOffset,!1)+(this._commentOffset+4),l=e.getLongAt(c,!1),u=c+4,d=0;d<l;d++){var h=e.getLongAt(u,!1),f=e.getStringWithCharsetAt(u+4,h,"utf-8").toString(),m=f.indexOf("="),g=[f.slice(0,m),f.slice(m+1)];switch(g[0]){case"TITLE":n=g[1];break;case"ARTIST":r=g[1];break;case"ALBUM":i=g[1];break;case"TRACKNUMBER":a=g[1];break;case"GENRE":o=g[1]}u+=4+h}if(this._pictureOffset){var v=e.getLongAt(this._pictureOffset,!0),y=this._pictureOffset+4,b=e.getLongAt(y,!0),w=y+4,_=e.getStringAt(w,b),E=w+b,S=e.getLongAt(E,!0),x=E+4,T=e.getStringWithCharsetAt(x,S,"utf-8").toString(),O=x+S+16,k=e.getLongAt(O,!0),M=O+4,A=e.getBytesAt(M,k,!0);s={format:_,type:p[v],description:T,data:A}}return{type:"FLAC",version:"1",tags:{title:n,artist:r,album:i,track:a,genre:o,picture:s}}}}])&&a(n.prototype,r),d&&a(n,d),t}(d);t.exports=m},{"./MediaTagReader":12}],7:[function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=e("./MediaTagReader"),u=(e("./MediaFileReader"),function(e){function t(){return i(this,t),o(this,s(t).apply(this,arguments))}var n,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,l=[{key:"getTagIdentifierByteRange",value:function(){return{offset:-128,length:128}}},{key:"canReadTagFormat",value:function(e){return"TAG"===String.fromCharCode.apply(String,e.slice(0,3))}}],(r=[{key:"_loadData",value:function(e,t){var n=e.getSize();e.loadRange([n-128,n-1],t)}},{key:"_parseData",value:function(e,t){var n=e.getSize()-128,r=e.getStringWithCharsetAt(n+3,30).toString(),i=e.getStringWithCharsetAt(n+33,30).toString(),a=e.getStringWithCharsetAt(n+63,30).toString(),o=e.getStringWithCharsetAt(n+93,4).toString(),s=e.getByteAt(n+97+28),c=e.getByteAt(n+97+29);if(0==s&&0!=c)var l="1.1",u=e.getStringWithCharsetAt(n+97,28).toString();else l="1.0",u=e.getStringWithCharsetAt(n+97,30).toString(),c=0;var h=e.getByteAt(n+97+30);if(h<255)var f=d[h];else f="";var p={type:"ID3",version:l,tags:{title:r,artist:i,album:a,year:o,comment:u,genre:f}};return c&&(p.tags.track=c),p}}])&&a(n.prototype,r),l&&a(n,l),t}(l)),d=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","Acapella","Euro-House","Dance Hall"];t.exports=u},{"./MediaFileReader":11,"./MediaTagReader":12}],8:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e("./MediaFileReader");var i=e("./StringUtils"),a=e("./ArrayFileReader"),o={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",ASPI:"Audio seek point index",CHAP:"Chapter",CTOC:"Table of contents",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQU2:"Equalisation (2)",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVA2:"Relative volume adjustment (2)",RVAD:"Relative volume adjustment",RVRB:"Reverb",SEEK:"Seek frame",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TDRC:"Recording time",TDRL:"Release time",TDTG:"Tagging time",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIPL:"Involved people list",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMCL:"Musician credits list",TMED:"Media type",TMOO:"Mood",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPRO:"Produced notice",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSOA:"Album sort order",TSOP:"Performer sort order",TSOT:"Title sort order",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TSST:"Set subtitle",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getFrameReaderFunction",value:function(e){return e in c?c[e]:"T"===e[0]?c["T*"]:"W"===e[0]?c["W*"]:null}},{key:"readFrames",value:function(t,n,r,i,a){for(var o={},s=this._getFrameHeaderSize(i);t<n-s;){var c=this._readFrameHeader(r,t,i),l=c.id;if(!l)break;var u=c.flags,d=c.size,h=t+c.headerSize,f=r;if(t+=c.headerSize+c.size,!a||-1!==a.indexOf(l)){if("MP3e"===l||"\0MP3"===l||"\0\0MP"===l||" MP3"===l)break;u&&u.format.unsynchronisation&&(f=this.getUnsyncFileReader(f,h,d),h=0,d=f.getSize()),u&&u.format.data_length_indicator&&(h+=4,d-=4);var p=e.getFrameReaderFunction(l),m=p?p.apply(this,[h,d,f,u,i]):null,g={id:l,size:d,description:this._getFrameDescription(l),data:m};l in o?(o[l].id&&(o[l]=[o[l]]),o[l].push(g)):o[l]=g}}return o}},{key:"_getFrameHeaderSize",value:function(e){var t=e.major;return 2==t?6:3==t||4==t?10:0}},{key:"_readFrameHeader",value:function(e,t,n){var r=n.major,i=null,a=this._getFrameHeaderSize(n);switch(r){case 2:var o=e.getStringAt(t,3),s=e.getInteger24At(t+3,!0);break;case 3:o=e.getStringAt(t,4),s=e.getLongAt(t+4,!0);break;case 4:o=e.getStringAt(t,4),s=e.getSynchsafeInteger32At(t+4)}return o!=String.fromCharCode(0,0,0)&&o!=String.fromCharCode(0,0,0,0)||(o=""),o&&r>2&&(i=this._readFrameFlags(e,t+8)),{id:o||"",size:s||0,headerSize:a||0,flags:i}}},{key:"_readFrameFlags",value:function(e,t){return{message:{tag_alter_preservation:e.isBitSetAt(t,6),file_alter_preservation:e.isBitSetAt(t,5),read_only:e.isBitSetAt(t,4)},format:{grouping_identity:e.isBitSetAt(t+1,7),compression:e.isBitSetAt(t+1,3),encryption:e.isBitSetAt(t+1,2),unsynchronisation:e.isBitSetAt(t+1,1),data_length_indicator:e.isBitSetAt(t+1,0)}}}},{key:"_getFrameDescription",value:function(e){return e in o?o[e]:"Unknown"}},{key:"getUnsyncFileReader",value:function(e,t,n){for(var r=e.getBytesAt(t,n),i=0;i<r.length-1;i++)255===r[i]&&0===r[i+1]&&r.splice(i+1,1);return new a(r)}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}(),c={};function l(e){var t;switch(e){case 0:t="iso-8859-1";break;case 1:t="utf-16";break;case 2:t="utf-16be";break;case 3:t="utf-8";break;default:t="iso-8859-1"}return t}function u(e,t,n,r){var i=n.getStringWithCharsetAt(e+1,t-1,r),a=n.getStringWithCharsetAt(e+1+i.bytesReadCount,t-1-i.bytesReadCount,r);return{user_description:i.toString(),data:a.toString()}}c.APIC=function(e,t,n,r,i){var a=e,o=l(n.getByteAt(e));switch(i&&i.major){case 2:var s=n.getStringAt(e+1,3);e+=4;break;case 3:case 4:e+=1+(s=n.getStringWithCharsetAt(e+1,t-1)).bytesReadCount;break;default:throw new Error("Couldn't read ID3v2 major version.")}var c=n.getByteAt(e),u=d[c],h=n.getStringWithCharsetAt(e+1,t-(e-a)-1,o);return e+=1+h.bytesReadCount,{format:s.toString(),type:u,description:h.toString(),data:n.getBytesAt(e,a+t-e)}},c.CHAP=function(e,t,n,r,a){var o=e,s={},c=i.readNullTerminatedString(n.getBytesAt(e,t));s.id=c.toString(),e+=c.bytesReadCount,s.startTime=n.getLongAt(e,!0),e+=4,s.endTime=n.getLongAt(e,!0),e+=4,s.startOffset=n.getLongAt(e,!0),e+=4,s.endOffset=n.getLongAt(e,!0);var l=t-((e+=4)-o);return s.subFrames=this.readFrames(e,e+l,n,a),s},c.CTOC=function(e,t,n,r,a){var o=e,s={childElementIds:[],id:void 0,topLevel:void 0,ordered:void 0,entryCount:void 0,subFrames:void 0},c=i.readNullTerminatedString(n.getBytesAt(e,t));s.id=c.toString(),e+=c.bytesReadCount,s.topLevel=n.isBitSetAt(e,1),s.ordered=n.isBitSetAt(e,0),e++,s.entryCount=n.getByteAt(e),e++;for(var l=0;l<s.entryCount;l++){var u=i.readNullTerminatedString(n.getBytesAt(e,t-(e-o)));s.childElementIds.push(u.toString()),e+=u.bytesReadCount}var d=t-(e-o);return s.subFrames=this.readFrames(e,e+d,n,a),s},c.COMM=function(e,t,n,r,i){var a=e,o=l(n.getByteAt(e)),s=n.getStringAt(e+1,3),c=n.getStringWithCharsetAt(e+4,t-4,o);e+=4+c.bytesReadCount;var u=n.getStringWithCharsetAt(e,a+t-e,o);return{language:s,short_description:c.toString(),text:u.toString()}},c.COM=c.COMM,c.PIC=function(e,t,n,r,i){return c.APIC(e,t,n,r,i)},c.PCNT=function(e,t,n,r,i){return n.getLongAt(e,!1)},c.CNT=c.PCNT,c["T*"]=function(e,t,n,r,i){var a=l(n.getByteAt(e));return n.getStringWithCharsetAt(e+1,t-1,a).toString()},c.TXXX=function(e,t,n,r,i){var a=l(n.getByteAt(e));return u(e,t,n,a)},c.WXXX=function(e,t,n,r,i){if(0===t)return null;var a=l(n.getByteAt(e));return u(e,t,n,a)},c["W*"]=function(e,t,n,r,i){return 0===t?null:n.getStringWithCharsetAt(e,t,"iso-8859-1").toString()},c.TCON=function(e,t,n,r){var i=c["T*"].apply(this,arguments);return i.replace(/^\(\d+\)/,"")},c.TCO=c.TCON,c.USLT=function(e,t,n,r,i){var a=e,o=l(n.getByteAt(e)),s=n.getStringAt(e+1,3),c=n.getStringWithCharsetAt(e+4,t-4,o);e+=4+c.bytesReadCount;var u=n.getStringWithCharsetAt(e,a+t-e,o);return{language:s,descriptor:c.toString(),lyrics:u.toString()}},c.ULT=c.USLT,c.UFID=function(e,t,n,r,a){var o=i.readNullTerminatedString(n.getBytesAt(e,t));e+=o.bytesReadCount;var s=n.getBytesAt(e,t-o.bytesReadCount);return{ownerIdentifier:o.toString(),identifier:s}};var d=["Other","32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"];t.exports=s},{"./ArrayFileReader":3,"./MediaFileReader":11,"./StringUtils":13}],9:[function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=e("./MediaTagReader"),u=(e("./MediaFileReader"),e("./ID3v2FrameReader")),d=function(e){function t(){return i(this,t),o(this,s(t).apply(this,arguments))}var n,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,l=[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:10}}},{key:"canReadTagFormat",value:function(e){return"ID3"===String.fromCharCode.apply(String,e.slice(0,3))}}],(r=[{key:"_loadData",value:function(e,t){e.loadRange([6,9],{onSuccess:function(){e.loadRange([0,10+e.getSynchsafeInteger32At(6)-1],t)},onError:t.onError})}},{key:"_parseData",value:function(e,t){var n=0,r=e.getByteAt(n+3);if(r>4)return{type:"ID3",version:">2.4",tags:{}};var i=e.getByteAt(n+4),a=e.isBitSetAt(n+5,7),o=e.isBitSetAt(n+5,6),s=e.isBitSetAt(n+5,5),c=e.getSynchsafeInteger32At(n+6);n+=10,o&&(n+=4===r?e.getSynchsafeInteger32At(n):e.getLongAt(n,!0)+4);var l={type:"ID3",version:"2."+r+"."+i,major:r,revision:i,flags:{unsynchronisation:a,extended_header:o,experimental_indicator:s,footer_present:!1},size:c,tags:{}};if(t)var d=this._expandShortcutTags(t);var f=c+10;l.flags.unsynchronisation&&(e=u.getUnsyncFileReader(e,n,c),n=0,f=e.getSize());var p=u.readFrames(n,f,e,l,d);for(var m in h)if(h.hasOwnProperty(m)){var g=this._getFrameData(p,h[m]);g&&(l.tags[m]=g)}for(var v in p)p.hasOwnProperty(v)&&(l.tags[v]=p[v]);return l}},{key:"_getFrameData",value:function(e,t){for(var n,r=0;n=t[r];r++)if(n in e)return(e[n]instanceof Array?e[n][0]:e[n]).data}},{key:"getShortcuts",value:function(){return h}}])&&a(n.prototype,r),l&&a(n,l),t}(l),h={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]};t.exports=d},{"./ID3v2FrameReader":8,"./MediaFileReader":11,"./MediaTagReader":12}],10:[function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=e("./MediaTagReader"),u=(e("./MediaFileReader"),function(e){function t(){return i(this,t),o(this,s(t).apply(this,arguments))}var n,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,l=[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:16}}},{key:"canReadTagFormat",value:function(e){return"ftyp"===String.fromCharCode.apply(String,e.slice(4,8))}}],(r=[{key:"_loadData",value:function(e,t){var n=this;e.loadRange([0,16],{onSuccess:function(){n._loadAtom(e,0,"",t)},onError:t.onError})}},{key:"_loadAtom",value:function(e,t,n,r){if(t>=e.getSize())r.onSuccess();else{var i=this,a=e.getLongAt(t,!0);if(0==a||isNaN(a))r.onSuccess();else{var o=e.getStringAt(t+4,4);if(this._isContainerAtom(o)){"meta"==o&&(t+=4);var s=(n?n+".":"")+o;"moov.udta.meta.ilst"===s?e.loadRange([t,t+a],r):e.loadRange([t+8,t+8+8],{onSuccess:function(){i._loadAtom(e,t+8,s,r)},onError:r.onError})}else e.loadRange([t+a,t+a+8],{onSuccess:function(){i._loadAtom(e,t+a,n,r)},onError:r.onError})}}}},{key:"_isContainerAtom",value:function(e){return["moov","udta","meta","ilst"].indexOf(e)>=0}},{key:"_canReadAtom",value:function(e){return"----"!==e}},{key:"_parseData",value:function(e,t){var n={};for(var r in t=this._expandShortcutTags(t),this._readAtom(n,e,0,e.getSize(),t),f)if(f.hasOwnProperty(r)){var i=n[f[r]];i&&(n[r]="track"===r?i.data.track:i.data)}return{type:"MP4",ftyp:e.getStringAt(8,4),version:e.getLongAt(12,!0),tags:n}}},{key:"_readAtom",value:function(e,t,n,r,i,a,o){o=void 0===o?"":o+"  ";for(var s=n;s<n+r;){var c=t.getLongAt(s,!0);if(0==c)return;var l=t.getStringAt(s+4,4);if(this._isContainerAtom(l)){"meta"==l&&(s+=4);var u=(a?a+".":"")+l;return void this._readAtom(e,t,s+8,c-8,i,u,o)}(!i||i.indexOf(l)>=0)&&"moov.udta.meta.ilst"===a&&this._canReadAtom(l)&&(e[l]=this._readMetadataAtom(t,s)),s+=c}}},{key:"_readMetadataAtom",value:function(e,t){var n=e.getLongAt(t,!0),r=e.getStringAt(t+4,4),i=e.getInteger24At(t+16+1,!0),a=d[i];if("trkn"==r)o={track:e.getByteAt(t+16+11),total:e.getByteAt(t+16+13)};else if("disk"==r)o={disk:e.getByteAt(t+16+11),total:e.getByteAt(t+16+13)};else{var o,s=t+24,c=n-24;switch("covr"===r&&"uint8"===a&&(a="jpeg"),a){case"text":o=e.getStringWithCharsetAt(s,c,"utf-8").toString();break;case"uint8":o=e.getShortAt(s,!1);break;case"int":case"uint":o=("int"==a?1==c?e.getSByteAt:2==c?e.getSShortAt:4==c?e.getSLongAt:e.getLongAt:1==c?e.getByteAt:2==c?e.getShortAt:e.getLongAt).call(e,s+(8==c?4:0),!0);break;case"jpeg":case"png":o={format:"image/"+a,data:e.getBytesAt(s,c)}}}return{id:r,size:n,description:h[r]||"Unknown",data:o}}},{key:"getShortcuts",value:function(){return f}}])&&a(n.prototype,r),l&&a(n,l),t}(l)),d={0:"uint8",1:"text",13:"jpeg",14:"png",21:"int",22:"uint"},h={"\xa9alb":"Album","\xa9ART":"Artist",aART:"Album Artist","\xa9day":"Release Date","\xa9nam":"Title","\xa9gen":"Genre",gnre:"Genre",trkn:"Track Number","\xa9wrt":"Composer","\xa9too":"Encoding Tool","\xa9enc":"Encoded By",cprt:"Copyright",covr:"Cover Art","\xa9grp":"Grouping",keyw:"Keywords","\xa9lyr":"Lyrics","\xa9cmt":"Comment",tmpo:"Tempo",cpil:"Compilation",disk:"Disc Number",tvsh:"TV Show Name",tven:"TV Episode ID",tvsn:"TV Season",tves:"TV Episode",tvnn:"TV Network",desc:"Description",ldes:"Long Description",sonm:"Sort Name",soar:"Sort Artist",soaa:"Sort Album",soco:"Sort Composer",sosn:"Sort Show",purd:"Purchase Date",pcst:"Podcast",purl:"Podcast URL",catg:"Category",hdvd:"HD Video",stik:"Media Type",rtng:"Content Rating",pgap:"Gapless Playback",apID:"Purchase Account",sfID:"Country Code",atID:"Artist ID",cnID:"Catalog ID",plID:"Collection ID",geID:"Genre ID","xid ":"Vendor Information",flvr:"Codec Flavor"},f={title:"\xa9nam",artist:"\xa9ART",album:"\xa9alb",year:"\xa9day",comment:"\xa9cmt",track:"trkn",genre:"\xa9gen",picture:"covr",lyrics:"\xa9lyr"};t.exports=u},{"./MediaFileReader":11,"./MediaTagReader":12}],11:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=e("./StringUtils"),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_isInitialized",void 0),i(this,"_size",void 0),this._isInitialized=!1,this._size=0}var t,n,o;return t=e,o=[{key:"canReadFile",value:function(e){throw new Error("Must implement canReadFile function")}}],(n=[{key:"init",value:function(e){var t=this;if(!this._isInitialized)return this._init({onSuccess:function(){t._isInitialized=!0,e.onSuccess()},onError:e.onError});setTimeout(e.onSuccess,1)}},{key:"_init",value:function(e){throw new Error("Must implement init function")}},{key:"loadRange",value:function(e,t){throw new Error("Must implement loadRange function")}},{key:"getSize",value:function(){if(!this._isInitialized)throw new Error("init() must be called first.");return this._size}},{key:"getByteAt",value:function(e){throw new Error("Must implement getByteAt function")}},{key:"getBytesAt",value:function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=this.getByteAt(e+r);return n}},{key:"isBitSetAt",value:function(e,t){return 0!=(this.getByteAt(e)&1<<t)}},{key:"getSByteAt",value:function(e){var t=this.getByteAt(e);return t>127?t-256:t}},{key:"getShortAt",value:function(e,t){var n=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);return n<0&&(n+=65536),n}},{key:"getSShortAt",value:function(e,t){var n=this.getShortAt(e,t);return n>32767?n-65536:n}},{key:"getLongAt",value:function(e,t){var n=this.getByteAt(e),r=this.getByteAt(e+1),i=this.getByteAt(e+2),a=this.getByteAt(e+3),o=t?(((n<<8)+r<<8)+i<<8)+a:(((a<<8)+i<<8)+r<<8)+n;return o<0&&(o+=4294967296),o}},{key:"getSLongAt",value:function(e,t){var n=this.getLongAt(e,t);return n>2147483647?n-4294967296:n}},{key:"getInteger24At",value:function(e,t){var n=this.getByteAt(e),r=this.getByteAt(e+1),i=this.getByteAt(e+2),a=t?((n<<8)+r<<8)+i:((i<<8)+r<<8)+n;return a<0&&(a+=16777216),a}},{key:"getStringAt",value:function(e,t){for(var n=[],r=e,i=0;r<e+t;r++,i++)n[i]=String.fromCharCode(this.getByteAt(r));return n.join("")}},{key:"getStringWithCharsetAt",value:function(e,t,n){var r,i=this.getBytesAt(e,t);switch((n||"").toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":r=a.readUTF16String(i,"utf-16be"===n);break;case"utf-8":r=a.readUTF8String(i);break;default:r=a.readNullTerminatedString(i)}return r}},{key:"getCharAt",value:function(e){return String.fromCharCode(this.getByteAt(e))}},{key:"getSynchsafeInteger32At",value:function(e){var t=this.getByteAt(e),n=this.getByteAt(e+1),r=this.getByteAt(e+2);return 127&this.getByteAt(e+3)|(127&r)<<7|(127&n)<<14|(127&t)<<21}}])&&r(t.prototype,n),o&&r(t,o),e}();t.exports=o},{"./StringUtils":13}],12:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e("./MediaFileReader");var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_mediaFileReader",void 0),i(this,"_tags",void 0),this._mediaFileReader=t,this._tags=null}var t,n,a;return t=e,a=[{key:"getTagIdentifierByteRange",value:function(){throw new Error("Must implement")}},{key:"canReadTagFormat",value:function(e){throw new Error("Must implement")}}],(n=[{key:"setTagsToRead",value:function(e){return this._tags=e,this}},{key:"read",value:function(e){var t=this;this._mediaFileReader.init({onSuccess:function(){t._loadData(t._mediaFileReader,{onSuccess:function(){try{var n=t._parseData(t._mediaFileReader,t._tags)}catch(r){if(e.onError)return void e.onError({type:"parseData",info:r.message})}e.onSuccess(n)},onError:e.onError})},onError:e.onError})}},{key:"getShortcuts",value:function(){return{}}},{key:"_loadData",value:function(e,t){throw new Error("Must implement _loadData function")}},{key:"_parseData",value:function(e,t){throw new Error("Must implement _parseData function")}},{key:"_expandShortcutTags",value:function(e){if(!e)return null;for(var t,n=[],r=this.getShortcuts(),i=0;t=e[i];i++)n=n.concat(r[t]||[t]);return n}}])&&r(t.prototype,n),a&&r(t,a),e}();t.exports=a},{"./MediaFileReader":11}],13:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_value",void 0),i(this,"bytesReadCount",void 0),i(this,"length",void 0),this._value=t,this.bytesReadCount=n,this.length=t.length}var t,n,a;return t=e,(n=[{key:"toString",value:function(){return this._value}}])&&r(t.prototype,n),a&&r(t,a),e}(),o={readUTF16String:function(e,t,n){var r=0,i=1,o=0;n=Math.min(n||e.length,e.length),254==e[0]&&255==e[1]?(t=!0,r=2):255==e[0]&&254==e[1]&&(t=!1,r=2),t&&(i=0,o=1);for(var s=[],c=0;r<n;c++){var l=e[r+i],u=(l<<8)+e[r+o];if(r+=2,0==u)break;if(l<216||l>=224)s[c]=String.fromCharCode(u);else{var d=(e[r+i]<<8)+e[r+o];r+=2,s[c]=String.fromCharCode(u,d)}}return new a(s.join(""),r)},readUTF8String:function(e,t){var n=0;t=Math.min(t||e.length,e.length),239==e[0]&&187==e[1]&&191==e[2]&&(n=3);for(var r=[],i=0;n<t;i++){var o=e[n++];if(0==o)break;if(o<128)r[i]=String.fromCharCode(o);else if(o>=194&&o<224){var s=e[n++];r[i]=String.fromCharCode(((31&o)<<6)+(63&s))}else if(o>=224&&o<240){s=e[n++];var c=e[n++];r[i]=String.fromCharCode(((255&o)<<12)+((63&s)<<6)+(63&c))}else if(o>=240&&o<245){var l=((7&o)<<18)+((63&(s=e[n++]))<<12)+((63&(c=e[n++]))<<6)+(63&e[n++])-65536;r[i]=String.fromCharCode(55296+(l>>10),56320+(1023&l))}}return new a(r.join(""),n)},readNullTerminatedString:function(e,t){var n=[];t=t||e.length;for(var r=0;r<t;){var i=e[r++];if(0==i)break;n[r-1]=String.fromCharCode(i)}return new a(n.join(""),r)}};t.exports=o},{}],14:[function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=e("./ChunkedFileData"),u=e("./MediaFileReader"),d=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?o(e):t}(this,a(n).call(this)),c(o(t),"_url",void 0),c(o(t),"_fileData",void 0),t._url=e,t._fileData=new l,t}var u,d,h;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,t),u=n,h=[{key:"canReadFile",value:function(e){return"string"===typeof e&&/^[a-z]+:\/\//i.test(e)}},{key:"setConfig",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._config[t]=e[t]);for(var n=this._config.disallowedXhrHeaders,r=0;r<n.length;r++)n[r]=n[r].toLowerCase()}}],(d=[{key:"_init",value:function(e){n._config.avoidHeadRequests?this._fetchSizeWithGetRequest(e):this._fetchSizeWithHeadRequest(e)}},{key:"_fetchSizeWithHeadRequest",value:function(e){var t=this;this._makeXHRRequest("HEAD",null,{onSuccess:function(n){var r=t._parseContentLength(n);r?(t._size=r,e.onSuccess()):t._fetchSizeWithGetRequest(e)},onError:e.onError})}},{key:"_fetchSizeWithGetRequest",value:function(e){var t=this,n=this._roundRangeToChunkMultiple([0,0]);this._makeXHRRequest("GET",n,{onSuccess:function(n){var r=t._parseContentRange(n),i=t._getXhrResponseContent(n);if(r){if(null==r.instanceLength)return void t._fetchEntireFile(e);t._size=r.instanceLength}else t._size=i.length;t._fileData.addData(0,i),e.onSuccess()},onError:e.onError})}},{key:"_fetchEntireFile",value:function(e){var t=this;this._makeXHRRequest("GET",null,{onSuccess:function(n){var r=t._getXhrResponseContent(n);t._size=r.length,t._fileData.addData(0,r),e.onSuccess()},onError:e.onError})}},{key:"_getXhrResponseContent",value:function(e){return e.responseBody||e.responseText||""}},{key:"_parseContentLength",value:function(e){var t=this._getResponseHeader(e,"Content-Length");return null==t?t:parseInt(t,10)}},{key:"_parseContentRange",value:function(e){var t=this._getResponseHeader(e,"Content-Range");if(t){var n=t.match(/bytes (\d+)-(\d+)\/(?:(\d+)|\*)/i);if(!n)throw new Error("FIXME: Unknown Content-Range syntax: "+t);return{firstBytePosition:parseInt(n[1],10),lastBytePosition:parseInt(n[2],10),instanceLength:n[3]?parseInt(n[3],10):null}}return null}},{key:"loadRange",value:function(e,t){var n=this;n._fileData.hasDataRange(e[0],Math.min(n._size,e[1]))?setTimeout(t.onSuccess,1):((e=this._roundRangeToChunkMultiple(e))[1]=Math.min(n._size,e[1]),this._makeXHRRequest("GET",e,{onSuccess:function(r){var i=n._getXhrResponseContent(r);n._fileData.addData(e[0],i),t.onSuccess()},onError:t.onError}))}},{key:"_roundRangeToChunkMultiple",value:function(e){var t=e[1]-e[0]+1,n=1024*Math.ceil(t/1024);return[e[0],e[0]+n-1]}},{key:"_makeXHRRequest",value:function(e,t,r){var i=this._createXHRObject();i.open(e,this._url);var a=function(){200===i.status||206===i.status?r.onSuccess(i):r.onError&&r.onError({type:"xhr",info:"Unexpected HTTP status "+i.status+".",xhr:i}),i=null};"undefined"!==typeof i.onload?(i.onload=a,i.onerror=function(){r.onError&&r.onError({type:"xhr",info:"Generic XHR error, check xhr object.",xhr:i})}):i.onreadystatechange=function(){4===i.readyState&&a()},n._config.timeoutInSec&&(i.timeout=1e3*n._config.timeoutInSec,i.ontimeout=function(){r.onError&&r.onError({type:"xhr",info:"Timeout after "+i.timeout/1e3+"s. Use jsmediatags.Config.setXhrTimeout to override.",xhr:i})}),i.overrideMimeType("text/plain; charset=x-user-defined"),t&&this._setRequestHeader(i,"Range","bytes="+t[0]+"-"+t[1]),this._setRequestHeader(i,"If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT"),i.send(null)}},{key:"_setRequestHeader",value:function(e,t,r){n._config.disallowedXhrHeaders.indexOf(t.toLowerCase())<0&&e.setRequestHeader(t,r)}},{key:"_hasResponseHeader",value:function(e,t){var n=e.getAllResponseHeaders();if(!n)return!1;for(var r=n.split("\r\n"),i=[],a=0;a<r.length;a++)i[a]=r[a].split(":")[0].toLowerCase();return i.indexOf(t.toLowerCase())>=0}},{key:"_getResponseHeader",value:function(e,t){return this._hasResponseHeader(e,t)?e.getResponseHeader(t):null}},{key:"getByteAt",value:function(e){return 255&this._fileData.getByteAt(e).charCodeAt(0)}},{key:"_isWebWorker",value:function(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}},{key:"_createXHRObject",value:function(){if("undefined"===typeof window&&!this._isWebWorker())return new(e("xhr2").XMLHttpRequest);if("undefined"!==typeof XMLHttpRequest)return new XMLHttpRequest;throw new Error("XMLHttpRequest is not supported")}}])&&i(u.prototype,d),h&&i(u,h),n}(u);c(d,"_config",void 0),d._config={avoidHeadRequests:!1,disallowedXhrHeaders:[],timeoutInSec:30},t.exports=d},{"./ChunkedFileData":5,"./MediaFileReader":11,xhr2:2}],15:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e("./MediaFileReader");var c=e("./XhrFileReader"),l=e("./BlobFileReader"),u=e("./ArrayFileReader"),d=(e("./MediaTagReader"),e("./ID3v1TagReader")),h=e("./ID3v2TagReader"),f=e("./MP4TagReader"),p=e("./FLACTagReader"),m=[],g=[];function v(e,t){var n=e.offset>=0&&e.offset+e.length>=t,r=e.offset<0&&(-e.offset>t||e.offset+e.length>0);return!(n||r)}var y=function(){function e(t){i(this,e),s(this,"_file",void 0),s(this,"_tagsToRead",void 0),s(this,"_fileReader",void 0),s(this,"_tagReader",void 0),this._file=t}return o(e,[{key:"setTagsToRead",value:function(e){return this._tagsToRead=e,this}},{key:"setFileReader",value:function(e){return this._fileReader=e,this}},{key:"setTagReader",value:function(e){return this._tagReader=e,this}},{key:"read",value:function(e){var t=new(this._getFileReader())(this._file),n=this;t.init({onSuccess:function(){n._getTagReader(t,{onSuccess:function(r){new r(t).setTagsToRead(n._tagsToRead).read(e)},onError:e.onError})},onError:e.onError})}},{key:"_getFileReader",value:function(){return this._fileReader?this._fileReader:this._findFileReader()}},{key:"_findFileReader",value:function(){for(var e=0;e<m.length;e++)if(m[e].canReadFile(this._file))return m[e];throw new Error("No suitable file reader found for "+this._file)}},{key:"_getTagReader",value:function(e,t){if(this._tagReader){var n=this._tagReader;setTimeout((function(){t.onSuccess(n)}),1)}else this._findTagReader(e,t)}},{key:"_findTagReader",value:function(e,t){for(var n=[],r=[],i=e.getSize(),a=0;a<g.length;a++){var o=g[a].getTagIdentifierByteRange();v(o,i)&&(o.offset>=0&&o.offset<i/2||o.offset<0&&o.offset<-i/2?n.push(g[a]):r.push(g[a]))}var s=!1,c={onSuccess:function(){if(s){for(var n=0;n<g.length;n++){var r=g[n].getTagIdentifierByteRange();if(v(r,i)){try{var a=e.getBytesAt(r.offset>=0?r.offset:r.offset+i,r.length)}catch(o){return void(t.onError&&t.onError({type:"fileReader",info:o.message}))}if(g[n].canReadTagFormat(a))return void t.onSuccess(g[n])}}t.onError&&t.onError({type:"tagFormat",info:"No suitable tag reader found"})}else s=!0},onError:t.onError};this._loadTagIdentifierRanges(e,n,c),this._loadTagIdentifierRanges(e,r,c)}},{key:"_loadTagIdentifierRanges",value:function(e,t,n){if(0!==t.length){for(var r=[Number.MAX_VALUE,0],i=e.getSize(),a=0;a<t.length;a++){var o=t[a].getTagIdentifierByteRange(),s=o.offset>=0?o.offset:o.offset+i,c=s+o.length-1;r[0]=Math.min(s,r[0]),r[1]=Math.max(c,r[1])}e.loadRange(r,n)}else setTimeout(n.onSuccess,1)}}]),e}(),b=function(){function e(){i(this,e)}return o(e,null,[{key:"addFileReader",value:function(t){return m.push(t),e}},{key:"addTagReader",value:function(t){return g.push(t),e}},{key:"removeTagReader",value:function(t){var n=g.indexOf(t);return n>=0&&g.splice(n,1),e}},{key:"EXPERIMENTAL_avoidHeadRequests",value:function(){c.setConfig({avoidHeadRequests:!0})}},{key:"setDisallowedXhrHeaders",value:function(e){c.setConfig({disallowedXhrHeaders:e})}},{key:"setXhrTimeoutInSec",value:function(e){c.setConfig({timeoutInSec:e})}}]),e}();if(b.addFileReader(c).addFileReader(l).addFileReader(u).addTagReader(h).addTagReader(d).addTagReader(f).addTagReader(p),"undefined"!==typeof n&&!n.browser)if("undefined"!==typeof navigator&&"ReactNative"===navigator.product){var w=e("./ReactNativeFileReader");b.addFileReader(w)}else{var _=e("./NodeFileReader");b.addFileReader(_)}t.exports={read:function(e,t){new y(e).read(t)},Reader:y,Config:b}},{"./ArrayFileReader":3,"./BlobFileReader":4,"./FLACTagReader":6,"./ID3v1TagReader":7,"./ID3v2TagReader":9,"./MP4TagReader":10,"./MediaFileReader":11,"./MediaTagReader":12,"./NodeFileReader":1,"./ReactNativeFileReader":1,"./XhrFileReader":14}]},{},[15])(15)}).call(this,n(89).Buffer,n(56))},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(54),o=n(2);t.a=function(e){var t=e.title,n=e.detail,r=e.closeModal,s=e.isLogin,c=e.type,l=void 0===c?o.yd.TEXT:c,u=e.link,d=void 0===u?o.s:u,h=e.bannerType,f=void 0===h?o.xd.DOWNLOAD:h,p=e.btnText,m=void 0===p?"N\xe2ng c\u1ea5p t\xe0i kho\u1ea3n VIP":p;if(l===o.yd.PLAYLIST||l===o.yd.ALL_PLAYLIST)return i.a.createElement("div",{className:"z-modal-content"},i.a.createElement("div",{role:"button",className:"z-buy-download-zone pad-20"},i.a.createElement("div",{role:"button",className:"z-copyright-content"},n),s?i.a.createElement("a",{role:"button",href:d,target:"_blank",rel:"noopener noreferrer",className:"z-login-btn z-yellow-btn"},"N\xe2ng c\u1ea5p t\xe0i kho\u1ea3n VIP"):i.a.createElement(a.a,{callback:r,className:"z-login-btn z-yellow-btn",text:"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n VIP"}),l===o.yd.PLAYLIST&&i.a.createElement("div",null,i.a.createElement("a",{role:"button",className:"z-btn z-login-btn z-btn-shadow",onClick:r},"Ti\u1ebfp t\u1ee5c ph\xe1t"))));var g=l!==o.yd.TEXT;return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{onClick:r,className:"z-modal-close-fixed"},i.a.createElement("i",{role:"button",className:"icon ic-close"})),i.a.createElement("div",{className:"z-modal-content",style:g?{lineHeight:0}:{}},g?i.a.createElement("a",{role:"button",href:d,onClick:r,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("img",{width:"100%",src:"".concat(o.cd,"images/vip_").concat(f,"_banner.jpg"),alt:""})):i.a.createElement("div",{role:"button",className:"z-buy-download-zone pad-20"},i.a.createElement("div",{role:"button",className:"z-title mar-top-10"},t),i.a.createElement("div",{role:"button",className:"z-copyright-content"},n),s?i.a.createElement("a",{role:"button",href:d,target:"_blank",rel:"noopener noreferrer",className:"z-login-btn z-yellow-btn"},m):i.a.createElement(a.a,{className:"z-login-btn z-yellow-btn",text:"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n VIP"}))))}},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=function(){return i.a.createElement("a",{className:"zma-button",style:{cursor:"pointer"},href:"https://awards.zingmp3.vn/",rel:"noopener noreferrer",target:"_blank",role:"button"},i.a.createElement("div",{className:"zma-icon",role:"button"},"ZMA"))}},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(11),o=n(6),s=n(7),c=n(12),l=n(9),u=n(8),d=n(0),h=n.n(d),f=n(1),p=n(2),m=n(29),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleUpload=Object(a.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.abrupt("return",new Promise(function(){var t=Object(a.a)(i.a.mark((function t(r){var a,o,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("file",e.uploadInput.files[0]),"https://upload.zingmp3.vn/upload/images?product=zmp3&type=cover",o={method:"POST",header:{"Content-Type":"multipart/form-data"},body:a},e.uploadTimer=setTimeout((function(){r(),n=!0}),12e4),t.next=7,Object(f.l)("https://upload.zingmp3.vn/upload/images?product=zmp3&type=cover",o);case 7:if(s=t.sent,c=s.resp,clearTimeout(e.uploadTimer),!n&&c&&c.data&&c.data.file){t.next=12;break}return t.abrupt("return",r());case 12:r(c.data.file.filePath);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)}))),e.handleUploadImage=Object(a.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.disable&&e.uploadInput.files[0]&&/image/g.test(e.uploadInput.files[0].type)){t.next=2;break}return t.abrupt("return");case 2:if(!(e.uploadInput.files[0].size>1e6)){t.next=6;break}return e.props.addToast({status:"danger",text:"\u0110\xe3 x\u1ea3y ra l\u1ed7i, vui l\xf2ng upload h\xecnh \u1ea3nh k\xedch th\u01b0\u1edbc t\u1ed1i \u0111a 1MB"}),e.resetInput(),t.abrupt("return");case 6:return e.setState({uploading:!0}),e.props.onUploading(),t.next=10,e.handleUpload();case 10:n=t.sent,e.setState({uploading:!1}),n?(e.props.onSuccess(n),(r=new FileReader).onload=function(t){return e.setState({previewSource:t.target.result})},e.uploadInput&&r.readAsDataURL(e.uploadInput.files[0])):(e.props.onError(),e.props.addToast({status:"danger",text:"\u0110\xe3 x\u1ea3y ra l\u1ed7i, vui l\xf2ng ki\u1ec3m tra l\u1ea1i \u0111\u01b0\u1eddng truy\u1ec1n"})),e.resetInput();case 14:case"end":return t.stop()}}),t)}))),e.resetInput=function(){e.setState({reset:!1},(function(){e.setState({reset:!0})}))},e.state={uploading:!1,previewSource:"",reset:!0},e.handleUploadImage=e.handleUploadImage.bind(Object(c.a)(e)),e}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.uploadTimer)}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.uploading,i=n.previewSource,a=n.reset,o=this.props,s=o.id,c=o.previewOnly,l=o.filePath,u="z-img-".concat(s);return e=i||(l?Object(m.c)(l)?l:"".concat(p.q,"/").concat(l):"https://photo-zmp3.zadn.vn/audio_default.png"),c?h.a.createElement("div",{className:"z-upload-img",style:{pointerEvents:"none"}},h.a.createElement("label",{htmlFor:u},h.a.createElement("img",{src:e,alt:"Zing MP3",className:"z-avatar"}))):h.a.createElement("div",{className:"z-upload-img"},a&&h.a.createElement("input",{className:"z-inputfile",id:u,ref:function(e){t.uploadInput=e},accept:"image/*",type:"file",onChange:this.handleUploadImage}),h.a.createElement("label",{htmlFor:u},h.a.createElement("img",{src:e,alt:"Zing MP3",className:"z-avatar"}),r?h.a.createElement("div",{className:"z-loading"},h.a.createElement("i",{role:"button",className:"icon ic-loading"})):h.a.createElement("div",{className:"z-text-wrap"},h.a.createElement("i",{className:"icon ic-camera"}),h.a.createElement("span",null,"T\u1ea3i l\xean"))))}}]),n}(d.Component);g.defaultProps={onSuccess:function(){},onUploading:function(){},onError:function(){},addToast:function(){},previewOnly:!1},t.a=g},function(e,t,n){e.exports=n(201)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var r,i=n(214),a=(r=i)&&r.__esModule?r:{default:r};t.default=a.default,t.Scrollbars=a.default},function(e,t,n){"use strict";var r=n(49),i=n.n(r),a=n(42),o=n.n(a),s=n(0),c=n.n(s),l=n(20),u=n.n(l),d=n(104),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=function(e){return 0===c.a.Children.count(e)},g=function(e){function t(){var n,r;f(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.state={match:r.computeMatch(r.props,r.context.router)},p(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:h({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,i=e.path,a=e.strict,s=e.exact,c=e.sensitive;if(n)return n;o()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,u=(r||l.location).pathname;return Object(d.a)(u,{path:i,strict:a,exact:s,sensitive:c},l.match)},t.prototype.componentWillMount=function(){i()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),i()(!(this.props.component&&this.props.children&&!m(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),i()(!(this.props.render&&this.props.children&&!m(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){i()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,a=this.context.router,o=a.history,s=a.route,l=a.staticContext,u={match:e,location:this.props.location||s.location,history:o,staticContext:l};return r?e?c.a.createElement(r,u):null:i?e?i(u):null:"function"===typeof n?n(u):n&&!m(n)?c.a.Children.only(n):null},t}(c.a.Component);g.propTypes={computedMatch:u.a.object,path:u.a.string,exact:u.a.bool,strict:u.a.bool,sensitive:u.a.bool,component:u.a.func,render:u.a.func,children:u.a.oneOfType([u.a.func,u.a.node]),location:u.a.object},g.contextTypes={router:u.a.shape({history:u.a.object.isRequired,route:u.a.object.isRequired,staticContext:u.a.object})},g.childContextTypes={router:u.a.object.isRequired},t.a=g},function(e,t,n){"use strict";var r=n(131),i=n.n(r),a={},o=0,s=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=a[n]||(a[n]={});if(r[e])return r[e];var s=[],c={re:i()(e,s,t),keys:s};return o<1e4&&(r[e]=c,o++),c};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var r=t,i=r.path,a=r.exact,o=void 0!==a&&a,c=r.strict,l=void 0!==c&&c,u=r.sensitive,d=void 0!==u&&u;if(null==i)return n;var h=s(i,{end:o,strict:l,sensitive:d}),f=h.re,p=h.keys,m=f.exec(e);if(!m)return null;var g=m[0],v=m.slice(1),y=e===g;return o&&!y?null:{path:i,url:"/"===i&&""===g?"/":g,isExact:y,params:p.reduce((function(e,t,n){return e[t.name]=v[n],e}),{})}}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(1);t.a=function(e){var t=e.radio,n=void 0===t?{}:t,r=e.playRadio,o=e.closePortal;return Object(a.B)(n)?null:i.a.createElement("a",{className:"menu-link",role:"button",onClick:function(e){o&&o(),r(n)}},i.a.createElement("i",{role:"button",className:"icon ic-radio"}),"Ph\xe1t Radio c\u1ee7a b\xe0i h\xe1t")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(35),i=n(6),a=n(7),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(160),d=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={},e.openCommentModal=function(){e.setState({isOpenComment:!0})},e.closeCommentModal=function(){e.setState({isOpenComment:!1})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.state.isOpenComment,t=this.props,n=t.hasComment,i=Object(r.a)(t,["hasComment"]);return l.a.createElement(c.Fragment,null,l.a.createElement("a",{className:"menu-link",onClick:this.openCommentModal},l.a.createElement("i",{role:"button",className:"icon ic-comment"},n&&l.a.createElement("span",{className:"comment-badge"})),l.a.createElement("span",null,"B\xecnh lu\u1eadn")),l.a.createElement(u.a,Object.assign({isOpen:e,closeModal:this.closeCommentModal},i)))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(12),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(130),d=n(30),h=n(27),f=27,p=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).handleScoll=function(){i.closePortal()},i.openPortal=function(e){var t=i.props,n=t.onClose,r=t.onOpen,a=t.inline,o=t.size,s=t.offsetHeight,c=i.state.active,l=document.getElementById("z-dropdown");if(c||l&&l.childNodes.length>0){if(!a)document.getElementsByClassName("w-zingmp3")[0].classList.remove("--z--hide-scroll"),Object(d.j)(window,i.offsetY);return i.setState({active:!1},n)}var u=38*o+(a?0:s),h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),f=Math.max(document.documentElement.clientTop,window.innerWidth||0),p=10;if(h-e.nativeEvent.y<u+70&&(p=e.nativeEvent.y-u<126?-(u/2+10):-(u+10)),e&&e.nativeEvent&&e.nativeEvent.target){var m=+e.nativeEvent.pageY+p,g=f-e.nativeEvent.pageX>230?e.nativeEvent.pageX:e.nativeEvent.pageX-230;a&&(m=-(u+10),g=25),i.setState({top:m,left:g,active:!0},r)}},i.renderButton=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.c,{title:"Kh\xe1c",className:"action",onClick:i.openPortal,classNameIcon:"more",tooltipId:"more-".concat(e.id)}),l.a.createElement("div",{ref:"inlineNode",id:"z-inline-dropdown"}))},i.state={top:0,left:0},i.portalNode=null,i.state={active:!!e.defaultOpen},i.openPortal=i.openPortal.bind(Object(a.a)(i)),i.closePortal=i.closePortal.bind(Object(a.a)(i)),i.wrapWithPortal=i.wrapWithPortal.bind(Object(a.a)(i)),i.handleOutsideMouseClick=i.handleOutsideMouseClick.bind(Object(a.a)(i)),i.handleKeydown=i.handleKeydown.bind(Object(a.a)(i)),i}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(this.state.active!==t.active){if(this.props.onActivePopup&&this.props.onActivePopup(this.state.active),!this.state.active)return document.removeEventListener("click",this.handleOutsideMouseClick),document.removeEventListener("contextmenu",this.handleOutsideMouseClick),void document.removeEventListener("keydown",this.handleKeydown);if(document.addEventListener("click",this.handleOutsideMouseClick),document.addEventListener("contextmenu",this.handleOutsideMouseClick),!this.props.inline){var n=document.getElementsByClassName("w-zingmp3")[0];this.offsetY=window.pageYOffset,window.lastPageYOffset=this.offsetY,n.classList.add("--z--hide-scroll"),n.style.top=-this.offsetY+"px"}this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown)}}},{key:"componentWillUnmount",value:function(){this.portalNode&&!this.props.inline&&(document.getElementsByClassName("w-zingmp3")[0].classList.remove("--z--hide-scroll"),this.props.onActivePopup&&this.props.onActivePopup(!1))}},{key:"closePortal",value:function(){if(this.state.active){if(!this.props.inline)document.getElementsByClassName("w-zingmp3")[0].classList.remove("--z--hide-scroll"),Object(d.j)(window,this.offsetY);this.setState({active:!1},this.props.onlose)}}},{key:"wrapWithPortal",value:function(e){var t=this;if(!this.state.active)return null;var n=this.state,r=n.top,i=n.left,a=this.props,o=a.className,s=a.isInPlayer,c=a.inline,d={top:r,left:i,zIndex:1070,right:"auto",position:"absolute"};return l.a.createElement(u.a,{node:c?this.refs.inlineNode:this.props.node,key:"react-portal",ref:function(e){return t.portalNode=e}},l.a.createElement("div",{className:"dropdown-menu-portal ".concat(o," ").concat(s?"dropdown-mini-player":""),role:"button"},l.a.createElement("div",{role:"button",className:"dropdown-menu-list z-show --z--list-more-acts".concat(s?"-mini":""),style:d,id:s?"player_dropdown":""},e)))}},{key:"handleOutsideMouseClick",value:function(e){var t=document.getElementsByClassName("ReactModalPortal");if(!(t&&t.length>0)&&this.state.active&&this.portalNode&&(!this.refs.button||!this.refs.button.contains(e.target))){var n=this.portalNode.props.node||this.portalNode.defaultNode;!n||n.contains(e.target)||e.button&&0!==e.button&&2!==e.button||this.closePortal()}}},{key:"handleKeydown",value:function(e){e.keyCode===f&&this.state.active&&this.closePortal()}},{key:"render",value:function(){return this.props.children({openPortal:this.openPortal,closePortal:this.closePortal,portal:this.wrapWithPortal,isOpen:this.state.active,renderButton:this.renderButton})}}]),n}(l.a.Component);p.defaultProps={onOpen:function(){},onClose:function(){},className:"",isInPlayer:!1,offsetHeight:145,inline:!1,node:Object(d.d)("z-dropdown"),height:210},t.a=p},function(e,t,n){"use strict";var r=n(4),i=n(6),a=n(7),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(16),d=n(29),h=n(30),f=n(1),p=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showChild:!1,isLeftChild:!1},e.handleClick=function(t){t.stopPropagation();var n=e.props,r=n.isLogin,i=n.openPopupLogin,a=n.fireGAEvent;r||i("Th\xeam V\xe0o Playlist C\xe1 Nh\xe2n"),a&&a()},e.removeChild=function(){e.setState({showChild:!1}),e.props.closePortal&&e.props.closePortal()},e.addSongToPlaylist=function(t){var n=e.props,r=n.song;(0,n.addSongToPlaylist)(r.id,t,r.title,r.thumbnail_medium),e.checkSongInPlaylist(),e.removeChild()},e.createPlaylist=function(t){var n=e.props,r=n.song,i=n.addToast,a=n.createMyPlaylist;if(!t)return i({text:u.K}),!1;a(t,r.id)},e.checkSongInPlaylist=function(t){var n=e.props,r=n.songInPlaylist,i=n.song;return!(!r[t]||-1===r[t].songList.indexOf(i.id))},e.onMouseEnter=function(){e.props.isLogin&&!e.state.showChild&&(e.appearTimer=setTimeout((function(){if(e.node){var t=!1;e.node.getBoundingClientRect().right+240>window.innerWidth&&(t=!0),e.setState({showChild:!0,isLeftChild:t})}}),300),Object(f.B)(e.props.myplaylist)&&e.props.fetchMyPlaylist())},e.onMouseLeave=function(){clearTimeout(e.appearTimer)},e.onMouseMouse=function(t){if(!e.dropdown){var n=e.props.inlineDropdown?"z-inline-dropdown":"z-dropdown";e.dropdown=document.getElementById(n)}e.expandAction||(e.expandAction=document.getElementById("z-mini-action-expand")),(e.dropdown.contains(t.target)||e.expandAction&&e.expandAction.contains(t.target))&&!e.node.contains(t.target)&&e.setState({showChild:!1})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.title,i=t.isLogin,a=t.inSongDetail,o=this.state,s=o.showChild,c=o.isLeftChild;return l.a.createElement("a",{role:"button",ref:function(t){return e.node=t},onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:"z-btn-add  menu-link z-actived ".concat(a?"z-btn-add-detail":""),title:r},l.a.createElement("i",{role:"button",className:"icon ic-add"}),i&&l.a.createElement("i",{className:"icon ic-go-right z-pull-right-center"}),n,s&&l.a.createElement(m,Object.assign({},this.props,{isLeft:c,addSongToPlaylist:this.addSongToPlaylist,removeChild:this.removeChild,onMouseMouse:this.onMouseMouse,inSongDetail:a})))}}]),n}(c.Component),m=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={keyword:"",isScroll:!1},e.handleClick=function(t){e.props.inSongDetail&&(e.node.contains(t.target)||e.props.removeChild())},e.onScroll=function(t){var n=t.target.scrollTop>0;e.setState({isScroll:n})},e.createPlaylist=function(){var t=e.props,n=t.song,r=void 0===n?{}:n,i=t.removeChild;e.props.createPlaylistByModal({songId:r.id}),i()},e.handleWheel=function(t){var n=t.wheelDelta||-t.detail||0,r=e.scrollNode.scrollTop,i=e.scrollNode.scrollHeight,a=e.scrollNode.offsetHeight,o=n>0;!o&&-n>i-a-r?(Object(h.j)(e.scrollNode,i),t.preventDefault(),t.stopPropagation()):o&&n>r&&(Object(h.j)(e.scrollNode,0),t.preventDefault(),t.stopPropagation())},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.props.onMouseMouse),document.addEventListener("click",this.handleClick),this.scrollNode.addEventListener("wheel",this.handleWheel)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.props.onMouseMouse),document.removeEventListener("click",this.handleClick),this.scrollNode.removeEventListener("wheel",this.handleWheel)}},{key:"onClick",value:function(e){e.stopPropagation()}},{key:"onChange",value:function(e){this.setState({keyword:e.target.value})}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter((function(e){return t=Object(d.h)(t.trim()).toUpperCase(),e.isUser&&Object(d.h)(e.title).toUpperCase().indexOf(t)>-1}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isInPlayer,i=t.inPortal,a=t.myplaylist,o=void 0===a?[]:a,s=t.position,c=void 0===s?1:s,u=t.isLeft,d=this.state,h=d.keyword,f=d.isScroll,p=this.filter(o,h),m=u?{right:"calc(100% - 10px)",left:"initial"}:{left:"calc(100% - 10px)"};return l.a.createElement("div",{className:"z-playlist-dropdown ".concat(n?"dropdown-mini-player":""),onClick:this.onClick,style:Object(r.a)({top:i?-37*c-20:-20},m),ref:function(t){return e.node=t}},l.a.createElement("div",{className:"z-header-dropdown"},l.a.createElement("div",{className:"new-playlist-form",role:"button"},l.a.createElement("form",null,l.a.createElement("input",{type:"text",placeholder:"T\xecm playlist",value:h,onChange:this.onChange.bind(this)})))),l.a.createElement("div",{className:"create-playlist-btn ".concat(f?"bottom-shadow":""),role:"button",onClick:this.createPlaylist},l.a.createElement("a",{className:"thumb"}),l.a.createElement("div",{className:"title"},l.a.createElement("span",null,"T\u1ea1o playlist"))),l.a.createElement("div",{className:p.length>0?"z-hide":"no-content"},l.a.createElement("i",{className:"icon ic-svg-dics-music-icon"}),"Kh\xf4ng c\xf3 playlist"),l.a.createElement("ul",{onScroll:this.onScroll,ref:function(t){return e.scrollNode=t},className:p.length>0?"":"z-hide"},p.map((function(t){return l.a.createElement("li",{className:"menu-item",onClick:function(){return e.props.addSongToPlaylist(t.id)}},l.a.createElement("div",{className:"dropdown-item"},l.a.createElement("i",{className:"icon ic-list-music"}),l.a.createElement("div",{className:"title"},l.a.createElement("span",null,t.title))))}))))}}]),n}(c.Component),g=p,v=n(24),y=n(19),b=n(17),w=n(18),_=n(13);t.a=Object(y.b)((function(e){return{isLogin:Object(_.b)(e),myplaylist:Object(_.w)(e),songInPlaylist:Object(_.z)(e)}}),(function(e){return Object(v.b)({fetchMyPlaylist:w.w,createPlaylistByModal:w.g,addSongToPlaylist:w.a,addToast:b.a,likeAction:w.E,removeSong:w.M,openPopupLogin:w.G},e)}))(g)},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=10)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(3),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(){}var o={trace:a,debug:a,log:a,warn:a,info:a,error:a},s=o;function c(e,t){return t="["+e+"] > "+t}var l=Object(r.a)();function u(e){var t=l.console[e];return t?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r[0]&&(r[0]=c(e,r[0])),t.apply(l.console,r)}:a}var d=function(e){if(!0===e||"object"===("undefined"===typeof e?"undefined":i(e))){!function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){s[t]=e[t]?e[t].bind(e):u(t)}))}(e,"debug","log","info","warn","error");try{s.log()}catch(t){s=o}}else s=o},h=s},function(e,t,n){"use strict";t.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},i={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,n){"use strict";t.a=function(){return"undefined"===typeof window?self:window}},function(e,t,n){!function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/;?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=this.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var c=r.exec(s.path);s.netLoc=c[1],s.path=c[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var u=s.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;l.path=o.normalizePath(d)}else l.path=s.path,a.params||(l.params=s.params,a.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,n){for(var r=n,i=0;e.isHeader(t,n);)i+=10,i+=e._readSize(t,n+6),e.isFooter(t,n+10)&&(i+=10),n+=i;if(i>0)return t.subarray(r,r+i)},e._readSize=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]},e.getTimeStamp=function(t){for(var n=e.getID3Frames(t),r=0;r<n.length;r++){var i=n[r];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var n=String.fromCharCode(t[0],t[1],t[2],t[3]),r=e._readSize(t,4);return{type:n,size:r,data:t.subarray(10,10+r)}},e.getID3Frames=function(t){for(var n=0,r=[];e.isHeader(t,n);){for(var i=e._readSize(t,n+6),a=(n+=10)+i;n+8<a;){var o=e._getFrameData(t.subarray(n)),s=e._decodeFrame(o);s&&r.push(s),n+=o.size+10}e.isFooter(t,n)&&(n+=10)}return r},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var n=e._utf8ArrayToStr(t.data,!0),r=new Uint8Array(t.data.subarray(n.length+1));return{key:t.type,info:n,data:r.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var i=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:i}}var a=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var i=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:i}}var a=e._utf8ArrayToStr(t.data);return{key:t.type,data:a}},e._utf8ArrayToStr=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length,r=void 0,i=void 0,a=void 0,o="",s=0;s<n;){if(0===(r=e[s++])&&t)return o;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(r);break;case 12:case 13:i=e[s++],o+=String.fromCharCode((31&r)<<6|63&i);break;case 14:i=e[s++],a=e[s++],o+=String.fromCharCode((15&r)<<12|(63&i)<<6|(63&a)<<0)}}return o},e}(),i=r._utf8ArrayToStr;t.a=r},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"===typeof e}function i(e){return"object"===typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(a(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),o=(l=n.slice()).length,c=0;c<o;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,a,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,a=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){a=s;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subtle=t,this.aesIV=n}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subtle=t,this.key=n}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],a=n[2],o=n[3],s=this.invSubMix,c=s[0],l=s[1],u=s[2],d=s[3],h=new Uint32Array(256),f=0,p=0,m=0;for(m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[f]=g,t[g]=f;var v=h[f],y=h[v],b=h[y],w=257*h[g]^16843008*g;r[f]=w<<24|w>>>8,i[f]=w<<16|w>>>16,a[f]=w<<8|w>>>24,o[f]=w,w=16843009*b^65537*y^257*v^16843008*f,c[g]=w<<24|w>>>8,l[g]=w<<16|w>>>16,u[g]=w<<8|w>>>24,d[g]=w,f?(f=v^h[h[h[b^v]]],p^=h[h[p]]):f=p=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a=this.ksRows=4*(i+6+1),o=void 0,s=void 0,c=this.keySchedule=new Uint32Array(a),l=this.invKeySchedule=new Uint32Array(a),u=this.sBox,d=this.rcon,h=this.invSubMix,f=h[0],p=h[1],m=h[2],g=h[3],v=void 0,y=void 0;for(o=0;o<a;o++)o<i?v=c[o]=t[o]:(y=v,o%i===0?(y=u[(y=y<<8|y>>>24)>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=d[o/i|0]<<24):i>6&&o%i===4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),c[o]=v=(c[o-i]^y)>>>0);for(s=0;s<a;s++)o=a-s,y=3&s?c[o]:c[o-4],l[s]=s<4||o<=4?y:f[u[y>>>24]]^p[u[y>>>16&255]]^m[u[y>>>8&255]]^g[u[255&y]],l[s]=l[s]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,n,r){for(var i=this.keySize+6,a=this.invKeySchedule,o=this.invSBox,s=this.invSubMix,c=s[0],l=s[1],u=s[2],d=s[3],h=this.uint8ArrayToUint32Array_(n),f=h[0],p=h[1],m=h[2],g=h[3],v=new Int32Array(e),y=new Int32Array(v.length),b=void 0,w=void 0,_=void 0,E=void 0,S=void 0,x=void 0,T=void 0,O=void 0,k=void 0,M=void 0,A=void 0,C=void 0,L=void 0,P=void 0,R=this.networkToHostOrderSwap;t<v.length;){for(k=R(v[t]),M=R(v[t+1]),A=R(v[t+2]),C=R(v[t+3]),S=k^a[0],x=C^a[1],T=A^a[2],O=M^a[3],L=4,P=1;P<i;P++)b=c[S>>>24]^l[x>>16&255]^u[T>>8&255]^d[255&O]^a[L],w=c[x>>>24]^l[T>>16&255]^u[O>>8&255]^d[255&S]^a[L+1],_=c[T>>>24]^l[O>>16&255]^u[S>>8&255]^d[255&x]^a[L+2],E=c[O>>>24]^l[S>>16&255]^u[x>>8&255]^d[255&T]^a[L+3],S=b,x=w,T=_,O=E,L+=4;b=o[S>>>24]<<24^o[x>>16&255]<<16^o[T>>8&255]<<8^o[255&O]^a[L],w=o[x>>>24]<<24^o[T>>16&255]<<16^o[O>>8&255]<<8^o[255&S]^a[L+1],_=o[T>>>24]<<24^o[O>>16&255]<<16^o[S>>8&255]<<8^o[255&x]^a[L+2],E=o[O>>>24]<<24^o[S>>16&255]<<16^o[x>>8&255]<<8^o[255&T]^a[L+3],L+=3,y[t]=R(b^f),y[t+1]=R(E^p),y[t+2]=R(_^m),y[t+3]=R(w^g),f=k,p=M,m=A,g=C,t+=4}return r?function(e){var t=e.byteLength,n=t&&new DataView(e).getUint8(t-1);return n?e.slice(0,t-n):e}(y.buffer):y.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),o=n(2),s=n(0),c=n(1),l=n(3);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=Object(l.a)(),h=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.removePKCS7Padding,a=void 0===i||i;if(u(this,e),this.logEnabled=!0,this.observer=t,this.config=n,this.removePKCS7Padding=a,a)try{var o=d.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(s){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,n,o){var c=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.b.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new a),l.expandKey(t),o(l.decrypt(e,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var u=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new i(u,t)),this.fastAesKey.expandKey().then((function(i){new r(u,n).decrypt(e,i).catch((function(r){c.onWebCryptoError(r,e,t,n,o)})).then((function(e){o(e)}))})).catch((function(r){c.onWebCryptoError(r,e,t,n,o)}))}},e.prototype.onWebCryptoError=function(e,t,n,r,i){this.config.enableSoftwareAES?(s.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,r,i)):(s.b.error("decrypting error : "+e.message),this.observer.trigger(c.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.a=h},function(e,t,n){"use strict";var r=n(0),i=n(1),a=Math.pow(2,32)-1,o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.remuxer=n}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,n,r,a){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t);null==n&&(n="mp4a.40.5"),null==r&&(r="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:a?t:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:a?t:null}),o.video&&(s.video={container:"video/mp4",codec:r,initSegment:a?t:null})),this.observer.trigger(i.a.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),r&&(this.videoCodec=r)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n},e.writeUint32=function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},e.findBox=function(t,n){var r=[],i=void 0,a=void 0,o=void 0,s=void 0,c=void 0,l=void 0;if(t.data?(c=t.start,o=t.end,t=t.data):(c=0,o=t.byteLength),!n.length)return null;for(i=c;i<o;)l=(a=e.readUint32(t,i))>1?i+a:o,e.bin2str(t.subarray(i+4,i+8))===n[0]&&(1===n.length?r.push({data:t,start:i+8,end:l}):(s=e.findBox({data:t,start:i+8,end:l},n.slice(1))).length&&(r=r.concat(s))),i=l;return r},e.parseSegmentIndex=function(t){var n=e.findBox(t,["moov"])[0],r=n?n.end:null,i=0,a=e.findBox(t,["sidx"]),o=void 0;if(!a||!a[0])return null;o=[];var s=(a=a[0]).data[0];i=0===s?8:16;var c=e.readUint32(a,i);i+=4,i+=0===s?8:16,i+=2;var l=a.end+0,u=e.readUint16(a,i);i+=2;for(var d=0;d<u;d++){var h=i,f=e.readUint32(a,h);h+=4;var p=2147483647&f;if(1===(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var m=e.readUint32(a,h);h+=4,o.push({referenceSize:p,subsegmentDuration:m,info:{duration:m/c,start:l,end:l+p-1}}),l+=p,i=h+=4}return{earliestPresentationTime:0,timescale:c,version:s,referencesCount:u,references:o,moovEndOffset:r}},e.parseInitSegment=function(t){var n=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var a=i.data[i.start],o=0===a?12:20,s=e.readUint32(i,o),c=e.findBox(t,["mdia","mdhd"])[0];if(c){o=0===(a=c.data[c.start])?12:20;var l=e.readUint32(c,o),u=e.findBox(t,["mdia","hdlr"])[0];if(u){var d={soun:"audio",vide:"video"}[e.bin2str(u.data.subarray(u.start+8,u.start+12))];if(d){var h=e.findBox(t,["mdia","minf","stbl","stsd"]);if(h.length){h=h[0];var f=e.bin2str(h.data.subarray(h.start+12,h.start+16));r.b.log("MP4Demuxer:"+d+":"+f+" found")}n[s]={timescale:l,type:d},n[d]={timescale:l,id:s}}}}}})),n},e.getStartDTS=function(t,n){var r,i,a=void 0;return a=e.findBox(n,["moof","traf"]),r=[].concat.apply([],a.map((function(n){return e.findBox(n,["tfhd"]).map((function(r){var i,a;return i=e.readUint32(r,4),a=t[i].timescale||9e4,e.findBox(n,["tfdt"]).map((function(t){var n,r=void 0;return n=t.data[t.start],r=e.readUint32(t,4),1===n&&(r*=Math.pow(2,32),r+=e.readUint32(t,8)),r}))[0]/a}))}))),i=Math.min.apply(null,r),isFinite(i)?i:0},e.offsetStartDTS=function(t,n,r){e.findBox(n,["moof","traf"]).map((function(n){return e.findBox(n,["tfhd"]).map((function(i){var o=e.readUint32(i,4),s=t[o].timescale||9e4;e.findBox(n,["tfdt"]).map((function(t){var n=t.data[t.start],i=e.readUint32(t,4);if(0===n)e.writeUint32(t,4,i-r*s);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=r*s,i=Math.max(i,0);var o=Math.floor(i/(a+1)),c=Math.floor(i%(a+1));e.writeUint32(t,4,o),e.writeUint32(t,8,c)}}))}))}))},e.prototype.append=function(t,n,r,a){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,c=this.initPTS;if(void 0===c){var l=e.getStartDTS(o,t);this.initPTS=c=l-n,this.observer.trigger(i.a.INIT_PTS_FOUND,{initPTS:c})}e.offsetStartDTS(o,t,c),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,r,a,t)},e.prototype.destroy=function(){},e}();t.a=o},function(e,t,n){"use strict";var r=n(1),i=n(2),a=n(7),o=n(0),s=n(3);function c(e,t){return 255===e[t]&&240===(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function d(e,t){return!!(t+1<e.length&&c(e,t))}function h(e,t){if(t+1<e.length&&c(e,t)){var n=l(e,t);t+5<e.length&&(n=u(e,t));var r=t+n;if(r===e.length||r+1<e.length&&c(e,r))return!0}return!1}function f(e,t,n,a,s){if(!e.samplerate){var c=function(e,t,n,a){var s,c=void 0,l=void 0,u=void 0,d=void 0,h=navigator.userAgent.toLowerCase(),f=a,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(c=1+((192&t[n+2])>>>6),!((s=(60&t[n+2])>>>2)>p.length-1))return u=(1&t[n+2])<<2,u|=(192&t[n+3])>>>6,o.b.log("manifest codec:"+a+",ADTS data:type:"+c+",sampleingIndex:"+s+"["+p[s]+"Hz],channelConfig:"+u),/firefox/i.test(h)?s>=6?(c=5,d=new Array(4),l=s-3):(c=2,d=new Array(2),l=s):-1!==h.indexOf("android")?(c=2,d=new Array(2),l=s):(c=5,d=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&s>=6?l=s-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(s>=6&&1===u||/vivaldi/i.test(h))||!a&&1===u)&&(c=2,d=new Array(2)),l=s)),d[0]=c<<3,d[0]|=(14&s)>>1,d[1]|=(1&s)<<7,d[1]|=u<<3,5===c&&(d[1]|=(14&l)>>1,d[2]=(1&l)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:p[s],channelCount:u,codec:"mp4a.40."+c,manifestCodec:f};e.trigger(r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s})}(t,n,a,s);e.config=c.config,e.samplerate=c.samplerate,e.channelCount=c.channelCount,e.codec=c.codec,e.manifestCodec=c.manifestCodec,o.b.log("parsed codec:"+e.codec+",rate:"+c.samplerate+",nb channel:"+c.channelCount)}}function p(e){return 9216e4/e}function m(e,t,n,r,i){var a=function(e,t,n,r,i){var a,o=void 0,s=e.length;if(a=l(e,t),o=u(e,t),(o-=a)>0&&t+a+o<=s)return{headerLength:a,frameLength:o,stamp:n+r*i}}(t,n,r,i,p(e.samplerate));if(a){var o=a.stamp,s=a.headerLength,c=a.frameLength,d={unit:t.subarray(n+s,n+s+c),pts:o,dts:o};return e.samples.push(d),e.len+=c,{sample:d,length:c+s}}}var g=n(5),v=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=r,this.remuxer=n}return e.prototype.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=(g.a.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(h(e,t))return o.b.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,t,n,r){for(var i=this._audioTrack,a=g.a.getID3Data(e,0)||[],s=g.a.getTimeStamp(a),c=s?90*s:9e4*t,l=0,u=c,h=e.length,p=a.length,v=[{pts:u,dts:u,data:a}];p<h-1;)if(d(e,p)&&p+5<h){f(i,this.observer,e,p,i.manifestCodec);var y=m(i,e,p,c,l);if(!y){o.b.log("Unable to parse AAC frame");break}p+=y.length,u=y.sample.pts,l++}else g.a.isHeader(e,p)?(a=g.a.getID3Data(e,p),v.push({pts:u,dts:u,data:a}),p+=a.length):p++;this.remuxer.remux(i,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},t,n,r)},e.prototype.destroy=function(){},e}(),y=n(8),b={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,n,r,i){if(!(n+24>t.length)){var a=this.parseHeader(t,n);if(a&&n+a.frameLength<=t.length){var o=r+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(n,n+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),e.len+=a.frameLength,{sample:s,length:a.frameLength}}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3,o=e[t+2]>>1&1;if(1!==n&&0!==i&&15!==i&&3!==a){var s=3===n?3-r:3===r?3:4,c=1e3*b.BitratesMap[14*s+i-1],l=3===n?0:2===n?1:2,u=b.SamplingRateMap[3*l+a],d=e[t+3]>>6===3?1:2,h=b.SamplesCoefficients[n][r],f=b.BytesInSlot[r],p=8*h*f;return{sampleRate:u,channelCount:d,frameLength:parseInt(h*c/u+o,10)*f,samplesPerFrame:p}}},isHeaderPattern:function(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),r=4;n&&n.frameLength&&(r=n.frameLength);var i=t+r;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}},w=b,_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},e.prototype.skipBits=function(e){var t=void 0;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&o.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},e.prototype.skipLZ=function(){var e=void 0;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t=8,n=8,r=void 0;for(r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n},e.prototype.readSPS=function(){var e,t,n,r,i=0,a=0,o=0,s=0,c=void 0,l=void 0,u=void 0,d=this.readUByte.bind(this),h=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),e=d(),h(5),m(3),d(),v(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=f();if(3===b&&m(1),v(),v(),m(1),p())for(l=3!==b?8:12,u=0;u<l;u++)p()&&y(u<6?16:64)}v();var w=f();if(0===w)f();else if(1===w)for(m(1),g(),g(),c=f(),u=0;u<c;u++)g();v(),m(1),t=f(),n=f(),0===(r=h(1))&&m(1),m(1),p()&&(i=f(),a=f(),o=f(),s=f());var _=[1,1];if(p()&&p())switch(d()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(t+1)-2*i-2*a),height:(2-r)*(n+1)*16-(r?2:4)*(o+s),pixelRatio:_}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),E=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decryptdata=r,this.discardEPB=i,this.decrypter=new a.a(t,n,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,n,r){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,(function(a){a=new Uint8Array(a),i.set(a,16),r||s.decryptAacSamples(e,t+1,n)}))},e.prototype.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<=e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var n=0,r=32;r<=e.length-16;r+=160,n+=16)e.set(t.subarray(n,n+16),r);return e},e.prototype.decryptAvcSample=function(e,t,n,r,i,a){var o=this.discardEPB(i.data),s=this.getAvcEncryptedData(o),c=this;this.decryptBuffer(s.buffer,(function(s){i.data=c.getAvcDecryptedUnit(o,s),a||c.decryptAvcSamples(e,t,n+1,r)}))},e.prototype.decryptAvcSamples=function(e,t,n,r){for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var a=i[n];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,a,o),!o)return}}}},e}(),S={video:1,audio:2,id3:3,text:4},x=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=r,this.typeSupported=i,this.remuxer=n,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new E(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var n=e._syncOffset(t);return!(n<0)&&(n&&o.b.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:S[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",i),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3",i),this._txtTrack=e.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=r,this._duration=i},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,n,a,s){var c=void 0,l=t.length,u=void 0,d=void 0,h=void 0,f=void 0,p=!1;this.contiguous=a;var m=this.pmtParsed,g=this._avcTrack,v=this._audioTrack,y=this._id3Track,b=g.pid,w=v.pid,_=y.pid,E=this._pmtId,S=g.pesData,x=v.pesData,T=y.pesData,O=this._parsePAT,k=this._parsePMT,M=this._parsePES,A=this._parseAVCPES.bind(this),C=this._parseAACPES.bind(this),L=this._parseMPEGPES.bind(this),P=this._parseID3PES.bind(this),R=e._syncOffset(t);for(l-=(l+R)%188,c=R;c<l;c+=188)if(71===t[c]){if(u=!!(64&t[c+1]),d=((31&t[c+1])<<8)+t[c+2],(48&t[c+3])>>4>1){if((h=c+5+t[c+4])===c+188)continue}else h=c+4;switch(d){case b:u&&(S&&(f=M(S))&&void 0!==f.pts&&A(f,!1),S={data:[],size:0}),S&&(S.data.push(t.subarray(h,c+188)),S.size+=c+188-h);break;case w:u&&(x&&(f=M(x))&&void 0!==f.pts&&(v.isAAC?C(f):L(f)),x={data:[],size:0}),x&&(x.data.push(t.subarray(h,c+188)),x.size+=c+188-h);break;case _:u&&(T&&(f=M(T))&&void 0!==f.pts&&P(f),T={data:[],size:0}),T&&(T.data.push(t.subarray(h,c+188)),T.size+=c+188-h);break;case 0:u&&(h+=t[h]+1),E=this._pmtId=O(t,h);break;case E:u&&(h+=t[h]+1);var I=k(t,h,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=I.avc)>0&&(g.pid=b),(w=I.audio)>0&&(v.pid=w,v.isAAC=I.isAAC),(_=I.id3)>0&&(y.pid=_),p&&!m&&(o.b.log("reparse from beginning"),p=!1,c=R-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});S&&(f=M(S))&&void 0!==f.pts?(A(f,!0),g.pesData=null):g.pesData=S,x&&(f=M(x))&&void 0!==f.pts?(v.isAAC?C(f):L(f),v.pesData=null):(x&&x.size&&o.b.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=x),T&&(f=M(T))&&void 0!==f.pts?(P(f),y.pesData=null):y.pesData=T,null==this.sampleAes?this.remuxer.remux(v,g,y,this._txtTrack,n,a,s):this.decryptAndRemux(v,g,y,this._txtTrack,n,a,s)},e.prototype.decryptAndRemux=function(e,t,n,r,i,a,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){s.decryptAndRemuxAvc(e,t,n,r,i,a,o)}))}else this.decryptAndRemuxAvc(e,t,n,r,i,a,o)},e.prototype.decryptAndRemuxAvc=function(e,t,n,r,i,a,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){s.remuxer.remux(e,t,n,r,i,a,o)}))}else this.remuxer.remux(e,t,n,r,i,a,o)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,n,r){var i,a=void 0,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){switch(a=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r){o.b.log("unkown stream type:"+e[t]);break}case 15:-1===s.audio&&(s.audio=a);break;case 21:-1===s.id3&&(s.id3=a);break;case 219:if(!r){o.b.log("unkown stream type:"+e[t]);break}case 27:-1===s.avc&&(s.avc=a);break;case 3:case 4:n?-1===s.audio&&(s.audio=a,s.isAAC=!1):o.b.log("MPEG audio found, not supported in this browser for now");break;case 36:o.b.warn("HEVC stream type found, not supported for now");break;default:o.b.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return s},e.prototype._parsePES=function(e){var t=0,n=void 0,r=void 0,i=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0,d=e.data;if(!e||0===e.size)return null;for(;d[0].length<19&&d.length>1;){var h=new Uint8Array(d[0].length+d[1].length);h.set(d[0]),h.set(d[1],d[0].length),d[0]=h,d.splice(1,1)}if(1===((n=d[0])[0]<<16)+(n[1]<<8)+n[2]){if((i=(n[4]<<8)+n[5])&&i>e.size-6)return null;192&(r=n[7])&&((c=536870912*(14&n[9])+4194304*(255&n[10])+16384*(254&n[11])+128*(255&n[12])+(254&n[13])/2)>4294967295&&(c-=8589934592),64&r?((l=536870912*(14&n[14])+4194304*(255&n[15])+16384*(254&n[16])+128*(255&n[17])+(254&n[18])/2)>4294967295&&(l-=8589934592),c-l>54e5&&(o.b.warn(Math.round((c-l)/9e4)+"s delta between PTS and DTS, align them"),c=l)):l=c),u=(a=n[8])+9,e.size-=u,s=new Uint8Array(e.size);for(var f=0,p=d.length;f<p;f++){var m=(n=d[f]).byteLength;if(u){if(u>m){u-=m;continue}n=n.subarray(u),m-=u,u=0}s.set(n,t),t+=m}return i&&(i-=a+3),{data:s,pts:c,dts:l,len:i}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var n=t.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,n.push(e)):t.dropped++}e.debug.length&&o.b.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var n=this,r=this._avcTrack,i=this._parseAVCNALu(e.data),a=void 0,o=this.avcSample,s=void 0,c=!1,l=void 0,u=this.pushAccesUnit.bind(this),d=function(e,t,n,r){return{key:e,pts:t,dts:n,units:[],debug:r}};e.data=null,o&&i.length&&!r.audFound&&(u(o,r),o=this.avcSample=d(!1,e.pts,e.dts,"")),i.forEach((function(t){switch(t.type){case 1:s=!0,o||(o=n.avcSample=d(!0,e.pts,e.dts,"")),o.frame=!0;var i=t.data;if(c&&i.length>4){var h=new _(i).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(o.key=!0)}break;case 5:s=!0,o||(o=n.avcSample=d(!0,e.pts,e.dts,"")),o.key=!0,o.frame=!0;break;case 6:s=!0,(a=new _(n.discardEPB(t.data))).readUByte();for(var f=0,p=0,m=!1,g=0;!m&&a.bytesAvailable>1;){f=0;do{f+=g=a.readUByte()}while(255===g);p=0;do{p+=g=a.readUByte()}while(255===g);if(4===f&&0!==a.bytesAvailable){if(m=!0,181===a.readUByte()&&49===a.readUShort()&&1195456820===a.readUInt()&&3===a.readUByte()){var v=a.readUByte(),y=31&v,b=[v,a.readUByte()];for(l=0;l<y;l++)b.push(a.readUByte()),b.push(a.readUByte()),b.push(a.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:e.pts,bytes:b})}}else if(p<a.bytesAvailable)for(l=0;l<p;l++)a.readUByte()}break;case 7:if(s=!0,c=!0,!r.sps){var w=(a=new _(t.data)).readSPS();r.width=w.width,r.height=w.height,r.pixelRatio=w.pixelRatio,r.sps=[t.data],r.duration=n._duration;var E=t.data.subarray(1,4),S="avc1.";for(l=0;l<3;l++){var x=E[l].toString(16);x.length<2&&(x="0"+x),S+=x}r.codec=S}break;case 8:s=!0,r.pps||(r.pps=[t.data]);break;case 9:s=!1,r.audFound=!0,o&&u(o,r),o=n.avcSample=d(!1,e.pts,e.dts,"");break;case 12:s=!1;break;default:s=!1,o&&(o.debug+="unknown NAL "+t.type+" ")}o&&s&&o.units.push(t)})),t&&o&&(u(o,r),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t},e.prototype._parseAVCNALu=function(e){var t=0,n=e.byteLength,r=void 0,i=void 0,a=this._avcTrack,o=a.naluState||0,s=o,c=[],l=void 0,u=-1,d=void 0;for(-1===o&&(u=0,d=31&e[0],o=0,t=1);t<n;)if(r=e[t++],o)if(1!==o)if(r)if(1===r){if(u>=0)l={data:e.subarray(u,t-o-1),type:d},c.push(l);else{var h=this._getLastNalUnit();if(h&&(s&&t<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),(i=t-o-1)>0)){var f=new Uint8Array(h.data.byteLength+i);f.set(h.data,0),f.set(e.subarray(0,i),h.data.byteLength),h.data=f}}t<n?(u=t,d=31&e[t],o=0):o=-1}else o=0;else o=3;else o=r?0:2;else o=r?0:1;if(u>=0&&o>=0&&(l={data:e.subarray(u,n),type:d,state:o},c.push(l)),0===c.length){var p=this._getLastNalUnit();if(p){var m=new Uint8Array(p.data.byteLength+e.byteLength);m.set(p.data,0),m.set(e,p.data.byteLength),p.data=m}}return a.naluState=o,c},e.prototype.discardEPB=function(e){for(var t,n=e.byteLength,r=[],i=1,a=void 0;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return e;t=n-r.length,a=new Uint8Array(t);var o=0;for(i=0;i<t;o++,i++)o===r[0]&&(o++,r.shift()),a[i]=e[o];return a},e.prototype._parseAACPES=function(e){var t,n,a=this._audioTrack,s=e.data,c=e.pts,l=this.aacOverFlow,u=this.aacLastPTS,h=void 0,g=void 0,v=void 0;if(l){var y=new Uint8Array(l.byteLength+s.byteLength);y.set(l,0),y.set(s,l.byteLength),s=y}for(g=0,n=s.length;g<n-1&&!d(s,g);g++);if(g){var b=void 0,w=void 0;if(g<n-1?(b="AAC PES did not start with ADTS header,offset:"+g,w=!1):(b="no ADTS header found in AAC PES",w=!0),o.b.warn("parsing error:"+b),this.observer.trigger(r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:w,reason:b}),w)return}if(f(a,this.observer,s,g,this.audioCodec),h=0,t=p(a.samplerate),l&&u){var _=u+t;Math.abs(_-c)>1&&(o.b.log("AAC: align PTS for overlapping frames by "+Math.round((_-c)/90)),c=_)}for(;g<n;)if(d(s,g)&&g+5<n){var E=m(a,s,g,c,h);if(!E)break;g+=E.length,v=E.sample.pts,h++}else g++;l=g<n?s.subarray(g,n):null,this.aacOverFlow=l,this.aacLastPTS=v},e.prototype._parseMPEGPES=function(e){for(var t=e.data,n=t.length,r=0,i=0,a=e.pts;i<n;)if(w.isHeader(t,i)){var o=w.appendFrame(this._audioTrack,t,i,a,r);if(!o)break;i+=o.length,r++}else i++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),T=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=r,this.remuxer=n}return e.prototype.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t=void 0,n=void 0,r=g.a.getID3Data(e,0);if(r&&void 0!==g.a.getTimeStamp(r))for(t=r.length,n=Math.min(e.length-1,t+100);t<n;t++)if(w.probe(e,t))return o.b.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,n,r){for(var i=g.a.getID3Data(e,0),a=g.a.getTimeStamp(i),o=a?90*a:9e4*t,s=i.length,c=e.length,l=0,u=0,d=this._audioTrack,h=[{pts:o,dts:o,data:i}];s<c;)if(w.isHeader(e,s)){var f=w.appendFrame(d,e,s,o,l);if(!f)break;s+=f.length,u=f.sample.pts,l++}else g.a.isHeader(e,s)?(i=g.a.getID3Data(e,s),h.push({pts:u,dts:u,data:i}),s+=i.length):s++;this.remuxer.remux(d,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,n,r)},e.prototype.destroy=function(){},e}(),O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),k=Math.pow(2,32)-1,M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.init=function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t=void 0;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),c=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,c,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=Array.prototype.slice.call(arguments,1),n=8,r=t.length,i=r,a=void 0;r--;)n+=t[r].byteLength;for((a=new Uint8Array(n))[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=255&n,a.set(e,4),r=0,n=8;r<i;r++)a.set(t[r],n),n+=t[r].byteLength;return a},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var r=Math.floor(n/(k+1)),i=Math.floor(n%(k+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var r=Math.floor(n/(k+1)),i=Math.floor(n%(k+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var n=t.samples||[],r=new Uint8Array(4+n.length),i=void 0,a=void 0;for(a=0;a<n.length;a++)i=n[a].flags,r[a+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return e.box(e.types.sdtp,r)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n=[],r=[],i=void 0,a=void 0,o=void 0;for(i=0;i<t.sps.length;i++)o=(a=t.sps[i]).byteLength,n.push(o>>>8&255),n.push(255&o),n=n.concat(Array.prototype.slice.call(a));for(i=0;i<t.pps.length;i++)o=(a=t.pps[i]).byteLength,r.push(o>>>8&255),r.push(255&o),r=r.concat(Array.prototype.slice.call(a));var s=e.box(e.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(r))),c=t.width,l=t.height,u=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,255&c,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,a=t.height,o=Math.floor(r/(k+1)),s=Math.floor(r%(k+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,n){var r=e.sdtp(t),i=t.id,a=Math.floor(n/(k+1)),o=Math.floor(n%(k+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,r.length+16+20+8+16+8+8),r)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r=t.samples||[],i=r.length,a=12+16*i,o=new Uint8Array(a),s=void 0,c=void 0,l=void 0,u=void 0,d=void 0,h=void 0;for(n+=8+a,o.set([0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),s=0;s<i;s++)l=(c=r[s]).duration,u=c.size,d=c.flags,h=c.cts,o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,u>>>24&255,u>>>16&255,u>>>8&255,255&u,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,61440&d.degradPrio,15&d.degradPrio,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*s);return e.box(e.types.trun,o)},e.initSegment=function(t){e.types||e.init();var n=e.moov(t),r=void 0;return(r=new Uint8Array(e.FTYP.byteLength+n.byteLength)).set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}(),A=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.config=n,this.typeSupported=r;var a=navigator.userAgent;this.isSafari=i&&i.indexOf("Apple")>-1&&a&&!a.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,n,i,a,s,c){if(this.ISGenerated||this.generateIS(e,t,a),this.ISGenerated){var l=e.samples.length,u=t.samples.length,d=a,h=a;if(l&&u){var f=(e.samples[0].dts-t.samples[0].dts)/t.inputTimeScale;d+=Math.max(0,f),h+=Math.max(0,-f)}if(l){e.timescale||(o.b.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,a));var p=this.remuxAudio(e,d,s,c);if(u){var m=void 0;p&&(m=p.endPTS-p.startPTS),t.timescale||(o.b.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,a)),this.remuxVideo(t,h,s,m,c)}}else if(u){var g=this.remuxVideo(t,h,s,0,c);g&&e.codec&&this.remuxEmptyAudio(e,d,s,g)}}n.samples.length&&this.remuxID3(n,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(r.a.FRAG_PARSED)},e.prototype.generateIS=function(e,t,n){var a=this.observer,s=e.samples,c=t.samples,l=this.typeSupported,u="audio/mp4",d={},h={tracks:d},f=void 0===this._initPTS,p=void 0,m=void 0;if(f&&(p=m=1/0),e.config&&s.length&&(e.timescale=e.samplerate,o.b.log("audio sampling rate : "+e.samplerate),e.isAAC||(l.mpeg?(u="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3")),d.audio={container:u,codec:e.codec,initSegment:!e.isAAC&&l.mpeg?new Uint8Array:M.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(p=m=s[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&c.length){var g=t.inputTimeScale;t.timescale=g,d.video={container:"video/mp4",codec:t.codec,initSegment:M.initSegment([t]),metadata:{width:t.width,height:t.height}},f&&(p=Math.min(p,c[0].pts-g*n),m=Math.min(m,c[0].dts-g*n),this.observer.trigger(r.a.INIT_PTS_FOUND,{initPTS:p}))}Object.keys(d).length?(a.trigger(r.a.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,f&&(this._initPTS=p,this._initDTS=m)):a.trigger(r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,n,a,s){var c,l,u,d=8,h=e.timescale,f=void 0,p=void 0,m=void 0,g=void 0,v=e.samples,y=[],b=v.length,w=this._PTSNormalize,_=this._initDTS,E=this.nextAvcDts,S=this.isSafari;if(0!==b){S&&(n|=v.length&&E&&(s&&Math.abs(t-E/h)<.1||Math.abs(v[0].pts-E-_)<h/5)),n||(E=t*h),v.forEach((function(e){e.pts=w(e.pts-_,E),e.dts=w(e.dts-_,E)})),v.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r||e.id-t.id}));var x=v.reduce((function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)}),0);if(x<0){o.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(x/90)+" ms to overcome this issue");for(var T=0;T<v.length;T++)v[T].dts+=x}var O=v[0];g=Math.max(O.dts,0),m=Math.max(O.pts,0);var k=Math.round((g-E)/90);n&&k&&(k>1?o.b.log("AVC:"+k+" ms hole between fragments detected,filling it"):k<-1&&o.b.log("AVC:"+-k+" ms overlapping between fragments detected"),g=E,v[0].dts=g,m=Math.max(m-k,E),v[0].pts=m,o.b.log("Video/PTS/DTS adjusted: "+Math.round(m/90)+"/"+Math.round(g/90)+",delta:"+k+" ms")),O=v[v.length-1],u=Math.max(O.dts,0),l=Math.max(O.pts,0,u),S&&(f=Math.round((u-g)/(v.length-1)));for(var A=0,C=0,L=0;L<b;L++){for(var P=v[L],R=P.units,I=R.length,N=0,j=0;j<I;j++)N+=R[j].data.length;C+=N,A+=I,P.length=N,P.dts=S?g+L*f:Math.max(P.dts,g),P.pts=Math.max(P.pts,P.dts)}var D=C+4*A+8;try{p=new Uint8Array(D)}catch(re){return void this.observer.trigger(r.a.ERROR,{type:i.b.MUX_ERROR,details:i.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:D,reason:"fail allocating video mdat "+D})}var z=new DataView(p.buffer);z.setUint32(0,D),p.set(M.types.mdat,4);for(var F=0;F<b;F++){for(var U=v[F],B=U.units,H=0,V=void 0,G=0,W=B.length;G<W;G++){var q=B[G],Y=q.data,Z=q.data.byteLength;z.setUint32(d,Z),d+=4,p.set(Y,d),d+=Z,H+=4+Z}if(S)V=Math.max(0,f*Math.round((U.pts-U.dts)/f));else{if(F<b-1)f=v[F+1].dts-U.dts;else{var K=this.config,X=U.dts-v[F>0?F-1:F].dts;if(K.stretchShortVideoTrack){var Q=K.maxBufferHole,J=Math.floor(Q*h),$=(a?m+a*h:this.nextAudioPts)-U.pts;$>J?((f=$-X)<0&&(f=X),o.b.log("It is approximately "+$/90+" ms to the next segment; using duration "+f/90+" ms for the last video frame.")):f=X}else f=X}V=Math.round(U.pts-U.dts)}y.push({size:H,duration:f,cts:V,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:U.key?2:1,isNonSync:U.key?0:1}})}this.nextAvcDts=u+f;var ee=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,y.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var te=y[0].flags;te.dependsOn=2,te.isNonSync=0}e.samples=y,c=M.moof(e.sequenceNumber++,g,e),e.samples=[];var ne={data1:c,data2:p,startPTS:m/h,endPTS:(l+f)/h,startDTS:g/h,endDTS:this.nextAvcDts/h,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:ee};return this.observer.trigger(r.a.FRAG_PARSING_DATA,ne),ne}},e.prototype.remuxAudio=function(e,t,n,a){var s=e.inputTimeScale,c=e.timescale,l=s/c,u=(e.isAAC?1024:1152)*l,d=this._PTSNormalize,h=this._initDTS,f=!e.isAAC&&this.typeSupported.mpeg,p=void 0,m=void 0,g=void 0,v=void 0,y=void 0,b=void 0,w=void 0,_=e.samples,E=[],S=this.nextAudioPts;if(n|=_.length&&S&&(a&&Math.abs(t-S/s)<.1||Math.abs(_[0].pts-S-h)<20*u),_.forEach((function(e){e.pts=e.dts=d(e.pts-h,t*s)})),0!==(_=_.filter((function(e){return e.pts>=0}))).length){if(n||(S=a?t*s:_[0].pts),e.isAAC)for(var x=this.config.maxAudioFramesDrift,T=0,k=S;T<_.length;){var A,C=_[T];A=C.pts-k;var L=Math.abs(1e3*A/s);if(A<=-x*u)o.b.warn("Dropping 1 audio frame @ "+(k/s).toFixed(3)+"s due to "+Math.round(L)+" ms overlap."),_.splice(T,1),e.len-=C.unit.length;else if(A>=x*u&&L<1e4&&k){var P=Math.round(A/u);o.b.warn("Injecting "+P+" audio frame @ "+(k/s).toFixed(3)+"s due to "+Math.round(1e3*A/s)+" ms gap.");for(var R=0;R<P;R++){var I=Math.max(k,0);(g=O.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),g=C.unit.subarray()),_.splice(T,0,{unit:g,pts:I,dts:I}),e.len+=g.length,k+=u,T++}C.pts=C.dts=k,k+=u,T++}else Math.abs(A),C.pts=C.dts=k,k+=u,T++}for(var N=0,j=_.length;N<j;N++){var D=_[N],z=D.unit,F=D.pts;if(void 0!==w)m.duration=Math.round((F-w)/l);else{var U=Math.round(1e3*(F-S)/s),B=0;if(n&&e.isAAC&&U){if(U>0&&U<1e4)B=Math.round((F-S)/u),o.b.log(U+" ms hole between AAC samples detected,filling it"),B>0&&((g=O.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(g=z.subarray()),e.len+=B*g.length);else if(U<-12){o.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(S/s).toFixed(3)+"s/"+(F/s).toFixed(3)+"s/"+-U+"ms"),e.len-=z.byteLength;continue}F=S}if(b=F,!(e.len>0))return;var H=f?e.len:e.len+8;p=f?0:8;try{v=new Uint8Array(H)}catch(X){return void this.observer.trigger(r.a.ERROR,{type:i.b.MUX_ERROR,details:i.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}f||(new DataView(v.buffer).setUint32(0,H),v.set(M.types.mdat,4));for(var V=0;V<B;V++)(g=O.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),g=z.subarray()),v.set(g,p),p+=g.byteLength,m={size:g.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(m)}v.set(z,p);var G=z.byteLength;p+=G,m={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(m),w=F}var W=0,q=E.length;if(q>=2&&(W=E[q-2].duration,m.duration=W),q){this.nextAudioPts=S=w+l*W,e.len=0,e.samples=E,y=f?new Uint8Array:M.moof(e.sequenceNumber++,b/l,e),e.samples=[];var Y=b/s,Z=S/s,K={data1:y,data2:v,startPTS:Y,endPTS:Z,startDTS:Y,endDTS:Z,type:"audio",hasAudio:!0,hasVideo:!1,nb:q};return this.observer.trigger(r.a.FRAG_PARSING_DATA,K),K}return null}},e.prototype.remuxEmptyAudio=function(e,t,n,r){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),s=this.nextAudioPts,c=(void 0!==s?s:r.startDTS*i)+this._initDTS,l=r.endDTS*i+this._initDTS,u=1024*a,d=Math.ceil((l-c)/u),h=O.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(o.b.warn("remux empty Audio"),h){for(var f=[],p=0;p<d;p++){var m=c+p*u;f.push({unit:h,pts:m,dts:m}),e.len+=h.length}e.samples=f,this.remuxAudio(e,t,n)}else o.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.prototype.remuxID3=function(e,t){var n=e.samples.length,i=void 0,a=e.inputTimeScale,o=this._initPTS,s=this._initDTS;if(n){for(var c=0;c<n;c++)(i=e.samples[c]).pts=(i.pts-o)/a,i.dts=(i.dts-s)/a;this.observer.trigger(r.a.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[],t=t},e.prototype.remuxText=function(e,t){e.samples.sort((function(e,t){return e.pts-t.pts}));var n=e.samples.length,i=void 0,a=e.inputTimeScale,o=this._initPTS;if(n){for(var s=0;s<n;s++)(i=e.samples[s]).pts=(i.pts-o)/a;this.observer.trigger(r.a.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[],t=t},e.prototype._PTSNormalize=function(e,t){var n=void 0;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e},e}(),C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,n,i,a,o,s,c){var l=this.observer,u="";e&&(u+="audio"),t&&(u+="video"),l.trigger(r.a.FRAG_PARSING_DATA,{data1:c,startPTS:a,startDTS:a,type:u,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),l.trigger(r.a.FRAG_PARSED)},e}(),L=Object(s.a)(),P=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observer=t,this.typeSupported=n,this.config=r,this.vendor=i}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,n,i,o,s,c,l,u,d,h,f){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var p=this.decrypter;null==p&&(p=this.decrypter=new a.a(this.observer,this.config));var m=this,g=void 0;try{g=L.now()}catch(v){g=Date.now()}p.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var a=void 0;try{a=L.now()}catch(v){a=Date.now()}m.observer.trigger(r.a.FRAG_DECRYPTED,{stats:{tstart:g,tdecrypt:a}}),m.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,o,s,c,l,u,d,h,f)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,o,s,c,l,u,d,h,f)},e.prototype.pushDecrypted=function(e,t,n,a,o,s,c,l,u,d,h,f){var p=this.demuxer;if(!p||(c||l)&&!this.probe(e)){for(var m=this.observer,g=this.typeSupported,b=this.config,w=[{demux:x,remux:A},{demux:y.a,remux:C},{demux:v,remux:A},{demux:T,remux:A}],_=0,E=w.length;_<E;_++){var S=w[_],O=S.demux.probe;if(O(e)){var k=this.remuxer=new S.remux(m,b,g,this.vendor);p=new S.demux(m,k,b,g),this.probe=O;break}}if(!p)return void m.trigger(r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=p}var M=this.remuxer;(c||l)&&(p.resetInitSegment(n,a,o,d),M.resetInitSegment()),c&&(p.resetTimeStamp(f),M.resetTimeStamp(f)),"function"===typeof p.setDecryptData&&p.setDecryptData(t),p.append(e,s,u,h)},e}();t.a=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};n.d(r,"newCue",(function(){return St}));var i=n(4),a=n.n(i),o=n(2),s=n(1),c=n(0),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=new Set(["hlsEventGeneric","hlsHandlerDestroying","hlsHandlerDestroyed"]),h=function(){function e(t){u(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"===l(this.handledEvents)&&this.handledEvents.length&&"function"===typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if(d.has(e))throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)}),this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var n="on"+e.replace("hls","");if("function"!==typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)}).call(this,e,t).call()}catch(n){c.b.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.hls.trigger(s.a.ERROR,{type:o.b.OTHER_ERROR,details:o.a.INTERNAL_EXCEPTION,fatal:!1,event:e,err:n})}},e}(),f=n(8),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return p(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=a.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this._elementaryStreams=((t={})[e.ElementaryStreamTypes.AUDIO]=!1,t[e.ElementaryStreamTypes.VIDEO]=!1,t)}return e.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},e.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},e.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},e.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&((n=new m).method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n},g(e,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=a.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var n=this.lastByteRangeEndOffset;e[0]=n||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}],[{key:"ElementaryStreamTypes",get:function(){return{AUDIO:"audio",VIDEO:"video"}}}]),e}(),y=/^(\d+)x(\d+)$/,b=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,w=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}return e.prototype.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},e.prototype.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},e.prototype.enumeratedString=function(e){return this[e]},e.prototype.decimalResolution=function(e){var t=y.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t=void 0,n={};for(b.lastIndex=0;null!==(t=b.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},e}(),_={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function E(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}var S=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,x=/#EXT-X-MEDIA:(.*)/g,T=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),O=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,k=/\.(mp4|m4s|m4v|m4a)$/i,M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.findGroup=function(e,t){if(!e)return null;for(var n=null,r=0;r<e.length;r++){var i=e[r];i.id===t&&(n=i)}return n},e.convertAVC1ToAVCOTI=function(e){var t=void 0,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t},e.resolve=function(e,t){return a.a.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var r=[],i=void 0;function a(e,t){["video","audio"].forEach((function(n){var r=e.filter((function(e){return function(e,t){var n=_[t];return!!n&&!0===n[e.slice(0,4)]}(e,n)}));if(r.length){var i=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[n+"Codec"]=i.length>0?i[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}for(S.lastIndex=0;null!=(i=S.exec(t));){var o={},s=o.attrs=new w(i[1]);o.url=e.resolve(i[2],n);var c=s.decimalResolution("RESOLUTION");c&&(o.width=c.width,o.height=c.height),o.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),o.name=s.NAME,a([].concat((s.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=e.convertAVC1ToAVCOTI(o.videoCodec)),r.push(o)}return r},e.parseMasterPlaylistMedia=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=void 0,o=[],s=0;for(x.lastIndex=0;null!==(a=x.exec(t));){var c={},l=new w(a[1]);if(l.TYPE===r){if(c.groupId=l["GROUP-ID"],c.name=l.NAME,c.type=r,c.default="YES"===l.DEFAULT,c.autoselect="YES"===l.AUTOSELECT,c.forced="YES"===l.FORCED,l.URI&&(c.url=e.resolve(l.URI,n)),c.lang=l.LANGUAGE,c.name||(c.name=c.lang),i.length){var u=e.findGroup(i,c.groupId);c.audioCodec=u?u.codec:i[0].codec}c.id=s++,o.push(c)}}return o},e.parseLevelPlaylist=function(e,t,n,r,i){var a=0,o=0,s={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},l=new m,u=0,d=null,h=new v,f=void 0,p=void 0;for(T.lastIndex=0;null!==(f=T.exec(e));){var g=f[1];if(g){h.duration=parseFloat(g);var y=(" "+f[2]).slice(1);h.title=y||null,h.tagList.push(y?["INF",g,y]:["INF",g])}else if(f[3]){if(!isNaN(h.duration)){var b=a++;h.type=r,h.start=o,h.levelkey=l,h.sn=b,h.level=n,h.cc=u,h.urlId=i,h.baseurl=t,h.relurl=(" "+f[3]).slice(1),s.programDateTime&&(d?h.rawProgramDateTime?h.pdt=Date.parse(h.rawProgramDateTime):h.pdt=d.pdt+1e3*d.duration:h.pdt=Date.parse(s.programDateTime),h.endPdt=h.pdt+1e3*h.duration),s.fragments.push(h),d=h,o+=h.duration,h=new v}}else if(f[4]){if(h.rawByteRange=(" "+f[4]).slice(1),d){var _=d.byteRangeEndOffset;_&&(h.lastByteRangeEndOffset=_)}}else if(f[5])h.rawProgramDateTime=(" "+f[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),void 0===s.programDateTime&&(s.programDateTime=new Date(new Date(Date.parse(f[5]))-1e3*o));else{for(f=f[0].match(O),p=1;p<f.length&&void 0===f[p];p++);var E=(" "+f[p+1]).slice(1),S=(" "+f[p+2]).slice(1);switch(f[p]){case"#":h.tagList.push(S?[E,S]:[E]);break;case"PLAYLIST-TYPE":s.type=E.toUpperCase();break;case"MEDIA-SEQUENCE":a=s.startSN=parseInt(E);break;case"TARGETDURATION":s.targetduration=parseFloat(E);break;case"VERSION":s.version=parseInt(E);break;case"EXTM3U":break;case"ENDLIST":s.live=!1;break;case"DIS":u++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":u=parseInt(E);break;case"KEY":var x=new w(E),M=x.enumeratedString("METHOD"),A=x.URI,C=x.hexadecimalInteger("IV");M&&(l=new m,A&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(M)>=0&&(l.method=M,l.baseuri=t,l.reluri=A,l.key=null,l.iv=C));break;case"START":var L=new w(E).decimalFloatingPoint("TIME-OFFSET");isNaN(L)||(s.startTimeOffset=L);break;case"MAP":var P=new w(E);h.relurl=P.URI,h.rawByteRange=P.BYTERANGE,h.baseurl=t,h.level=n,h.type=r,h.sn="initSegment",s.initSegment=h,h=new v;break;default:c.b.warn("line parsed but not handled: "+f)}}}return(h=d)&&!h.relurl&&(s.fragments.pop(),o-=h.duration),s.totalduration=o,s.averagetargetduration=o/s.fragments.length,s.endSN=a-1,s.startCC=s.fragments[0]?s.fragments[0].cc:0,s.endCC=u,!s.initSegment&&s.fragments.length&&s.fragments.every((function(e){return k.test(e.relurl)}))&&(c.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(h=new v).relurl=s.fragments[0].relurl,h.baseurl=t,h.level=n,h.type=r,h.sn="initSegment",s.initSegment=h,s.needSidxRanges=!0),s},e}(),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=window.performance,L={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},P={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},R=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MANIFEST_LOADING,s.a.LEVEL_LOADING,s.a.AUDIO_TRACK_LOADING,s.a.SUBTITLE_TRACK_LOADING));return r.loaders={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.canHaveQualityLevels=function(e){return e!==L.AUDIO_TRACK&&e!==L.SUBTITLE_TRACK},t.mapContextToLevelType=function(e){switch(e.type){case L.AUDIO_TRACK:return P.AUDIO;case L.SUBTITLE_TRACK:return P.SUBTITLE;default:return P.MAIN}},t.getResponseUrl=function(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n},t.prototype.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return e.loader=i,this.loaders[e.type]=i,i},t.prototype.getInternalLoader=function(e){return this.loaders[e.type]},t.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.prototype.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},t.prototype.onManifestLoading=function(e){this.load(e.url,{type:L.MANIFEST,level:0,id:null})},t.prototype.onLevelLoading=function(e){this.load(e.url,{type:L.LEVEL,level:e.level,id:e.id})},t.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:L.AUDIO_TRACK,level:0,id:e.id})},t.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:L.SUBTITLE_TRACK,level:0,id:e.id})},t.prototype.load=function(e,t){var n=this.hls.config;c.b.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var r=this.getInternalLoader(t);if(r){var i=r.context;if(i&&i.url===e)return c.b.trace("playlist request ongoing"),!1;c.b.warn("aborting previous loader for type: "+t.type),r.abort()}var a=void 0,o=void 0,s=void 0,l=void 0;switch(t.type){case L.MANIFEST:a=n.manifestLoadingMaxRetry,o=n.manifestLoadingTimeOut,s=n.manifestLoadingRetryDelay,l=n.manifestLoadingMaxRetryTimeout;break;case L.LEVEL:a=0,o=n.levelLoadingTimeOut;break;default:a=n.levelLoadingMaxRetry,o=n.levelLoadingTimeOut,s=n.levelLoadingRetryDelay,l=n.levelLoadingMaxRetryTimeout}r=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var u={timeout:o,maxRetry:a,retryDelay:s,maxRetryDelay:l},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return c.b.debug("Calling internal loader delegate for URL: "+e),r.load(t,u,d),!0},t.prototype.loadsuccess=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(n.isSidxRequest)return this._handleSidxRequest(e,n),void this._handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var i=e.data;t.tload=C.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,n,r):this._handleMasterPlaylist(e,t,n,r):this._handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},t.prototype.loaderror=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(t,n)},t.prototype.loadtimeout=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(t,n,!0)},t.prototype._handleMasterPlaylist=function(e,n,r,i){var a=this.hls,o=e.data,l=t.getResponseUrl(e,r),u=M.parseMasterPlaylist(o,l);if(u.length){var d=u.map((function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}})),h=M.parseMasterPlaylistMedia(o,l,"AUDIO",d),f=M.parseMasterPlaylistMedia(o,l,"SUBTITLES");if(h.length){var p=!1;h.forEach((function(e){e.url||(p=!0)})),!1===p&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(c.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}a.trigger(s.a.MANIFEST_LOADED,{levels:u,audioTracks:h,subtitles:f,url:l,stats:n,networkDetails:i})}else this._handleManifestParsingError(e,r,"no level found in manifest",i)},t.prototype._handleTrackOrLevelPlaylist=function(e,n,r,i){var a=this.hls,o=r.id,c=r.level,l=r.type,u=t.getResponseUrl(e,r),d=isNaN(o)?0:o,h=isNaN(c)?d:c,f=t.mapContextToLevelType(r),p=M.parseLevelPlaylist(e.data,u,h,f,d);if(p.tload=n.tload,l===L.MANIFEST){var m={url:u,details:p};a.trigger(s.a.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:u,stats:n,networkDetails:i})}if(n.tparsed=C.now(),p.needSidxRanges){var g=p.initSegment.url;this.load(g,{isSidxRequest:!0,type:l,level:c,levelDetails:p,id:o,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=p,this._handlePlaylistLoaded(e,n,r,i)},t.prototype._handleSidxRequest=function(e,t){var n=f.a.parseSegmentIndex(new Uint8Array(e.data));n.references.forEach((function(e,n){var r=e.info,i=t.levelDetails.fragments[n];0===i.byteRange.length&&(i.rawByteRange=String(1+r.end-r.start)+"@"+String(r.start))})),t.levelDetails.initSegment.rawByteRange=String(n.moovEndOffset)+"@0"},t.prototype._handleManifestParsingError=function(e,t,n,r){this.hls.trigger(s.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:n,networkDetails:r})},t.prototype._handleNetworkError=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c.b.info("A network error occured while loading a "+e.type+"-type playlist");var r=void 0,i=void 0,a=this.getInternalLoader(e);switch(e.type){case L.MANIFEST:r=n?o.a.MANIFEST_LOAD_TIMEOUT:o.a.MANIFEST_LOAD_ERROR,i=!0;break;case L.LEVEL:r=n?o.a.LEVEL_LOAD_TIMEOUT:o.a.LEVEL_LOAD_ERROR,i=!1;break;case L.AUDIO_TRACK:r=n?o.a.AUDIO_TRACK_LOAD_TIMEOUT:o.a.AUDIO_TRACK_LOAD_ERROR,i=!1;break;default:i=!1}a&&(a.abort(),this.resetInternalLoader(e.type)),this.hls.trigger(s.a.ERROR,{type:o.b.NETWORK_ERROR,details:r,fatal:i,url:a.url,loader:a,context:e,networkDetails:t})},t.prototype._handlePlaylistLoaded=function(e,n,r,i){var a=r.type,o=r.level,c=r.id,l=r.levelDetails;if(l.targetduration)if(t.canHaveQualityLevels(r.type))this.hls.trigger(s.a.LEVEL_LOADED,{details:l,level:o||0,id:c||0,stats:n,networkDetails:i});else switch(a){case L.AUDIO_TRACK:this.hls.trigger(s.a.AUDIO_TRACK_LOADED,{details:l,id:c,stats:n,networkDetails:i});break;case L.SUBTITLE_TRACK:this.hls.trigger(s.a.SUBTITLE_TRACK_LOADED,{details:l,id:c,stats:n,networkDetails:i})}else this._handleManifestParsingError(e,r,"invalid target duration",i)},A(t,null,[{key:"ContextType",get:function(){return L}},{key:"LevelType",get:function(){return P}}]),t}(h),I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.FRAG_LOADING));return r.loaders={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){var t=this.loaders;for(var n in t){var r=t[n];r&&r.destroy()}this.loaders={},e.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag,n=t.type,r=this.loaders,i=this.hls.config,a=i.fLoader,o=i.loader;t.loaded=0;var s=r[n];s&&(c.b.warn("abort previous fragment loader for type: "+n),s.abort()),s=r[n]=t.loader=i.fLoader?new a(i):new o(i);var l,u,d=void 0;d={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var h=t.byteRangeStartOffset,f=t.byteRangeEndOffset;isNaN(h)||isNaN(f)||(d.rangeStart=h,d.rangeEnd=f),l={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},s.load(d,l,u)},t.prototype.loadsuccess=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(s.a.FRAG_LOADED,{payload:i,frag:a,stats:t,networkDetails:r})},t.prototype.loaderror=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})},t.prototype.loadtimeout=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})},t.prototype.loadprogress=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.frag;i.loaded=e.loaded,this.hls.trigger(s.a.FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:r})},t}(h),N=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.KEY_LOADING));return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},h.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,n=t.type,r=this.loaders[n],i=t.decryptdata,a=i.uri;if(a!==this.decrypturl||null===this.decryptkey){var o,l,u,d=this.hls.config;r&&(c.b.warn("abort previous key loader for type:"+n),r.abort()),t.loader=this.loaders[n]=new d.loader(d),this.decrypturl=a,this.decryptkey=null,o={url:a,frag:t,responseType:"arraybuffer"},l={timeout:d.fragLoadingTimeOut,maxRetry:d.fragLoadingMaxRetry,retryDelay:d.fragLoadingRetryDelay,maxRetryDelay:d.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(o,l,u)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(s.a.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(s.a.KEY_LOADED,{frag:r})},t.prototype.loaderror=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.prototype.loadtimeout=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},t}(h),j="NOT_LOADED",D="APPENDING",z="PARTIAL",F="OK",U=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.BUFFER_APPENDED,s.a.FRAG_BUFFERED,s.a.FRAG_LOADED));return r.bufferPadding=.2,r.fragments=Object.create(null),r.timeRanges=Object.create(null),r.config=n.config,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,h.prototype.destroy.call(this),e.prototype.destroy.call(this)},t.prototype.getBufferedFrag=function(e,t){var n=this.fragments,r=Object.keys(n).filter((function(r){var i=n[r];if(i.body.type!==t)return!1;if(!i.buffered)return!1;var a=i.body;return a.startPTS<=e&&e<=a.endPTS}));if(0===r.length)return null;var i=r.pop();return n[i].body},t.prototype.detectEvictedFragments=function(e,t){var n=this,r=void 0,i=void 0;Object.keys(this.fragments).forEach((function(a){var o=n.fragments[a];if(!0===o.buffered){var s=o.range[e];if(s){r=s.time;for(var c=0;c<r.length;c++)if(i=r[c],!1===n.isTimeBuffered(i.startPTS,i.endPTS,t)){n.removeFragment(o.body);break}}}}))},t.prototype.detectPartialFragments=function(e){var t=this,n=this.getFragmentKey(e),r=this.fragments[n];r&&(r.buffered=!0,Object.keys(this.timeRanges).forEach((function(n){if(!0===e.hasElementaryStream(n)){var i=t.timeRanges[n];r.range[n]=t.getBufferedTimes(e.startPTS,e.endPTS,i)}})))},t.prototype.getBufferedTimes=function(e,t,n){for(var r=[],i=void 0,a=void 0,o=!1,s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,a=n.end(s)+this.bufferPadding,e>=i&&t<=a){r.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))});break}if(e<a&&t>i)r.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))}),o=!0;else if(t<=i)break}return{time:r,partial:o}},t.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},t.prototype.getPartialFragment=function(e){var t=this,n=void 0,r=void 0,i=void 0,a=null,o=0;return Object.keys(this.fragments).forEach((function(s){var c=t.fragments[s];t.isPartial(c)&&(r=c.body.startPTS-t.bufferPadding,i=c.body.endPTS+t.bufferPadding,e>=r&&e<=i&&(n=Math.min(e-r,i-e),o<=n&&(a=c.body,o=n)))})),a},t.prototype.getState=function(e){var t=this.getFragmentKey(e),n=this.fragments[t],r=j;return void 0!==n&&(r=n.buffered?!0===this.isPartial(n)?z:F:D),r},t.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},t.prototype.isTimeBuffered=function(e,t,n){for(var r=void 0,i=void 0,a=0;a<n.length;a++){if(r=n.start(a)-this.bufferPadding,i=n.end(a)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1},t.prototype.onFragLoaded=function(e){var t=e.frag;if(!isNaN(t.sn)&&!t.bitrateTest){var n=this.getFragmentKey(t),r={body:t,range:Object.create(null),buffered:!1};this.fragments[n]=r}},t.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach((function(e){var n=t.timeRanges[e];t.detectEvictedFragments(e,n)}))},t.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},t.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},t.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},t.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},t}(h),B={search:function(e,t){for(var n=0,r=e.length-1,i=null,a=null;n<=r;){var o=t(a=e[i=(n+r)/2|0]);if(o>0)n=i+1;else{if(!(o<0))return a;r=i-1}}return null}},H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.isBuffered=function(e,t){try{if(e)for(var n=e.buffered,r=0;r<n.length;r++)if(t>=n.start(r)&&t<=n.end(r))return!0}catch(i){}return!1},e.bufferInfo=function(e,t,n){try{if(e){var r=e.buffered,i=[],a=void 0;for(a=0;a<r.length;a++)i.push({start:r.start(a),end:r.end(a)});return this.bufferedInfo(i,t,n)}}catch(o){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,n){var r=[],i=void 0,a=void 0,o=void 0,s=void 0,c=void 0;for(e.sort((function(e,t){var n=e.start-t.start;return n||t.end-e.end})),c=0;c<e.length;c++){var l=r.length;if(l){var u=r[l-1].end;e[c].start-u<n?e[c].end>u&&(r[l-1].end=e[c].end):r.push(e[c])}else r.push(e[c])}for(c=0,i=0,a=o=t;c<r.length;c++){var d=r[c].start,h=r[c].end;if(t+n>=d&&t<h)a=d,i=(o=h)-t;else if(t+n<d){s=d;break}}return{len:i,start:a,end:o,nextStart:s}},e}(),V=n(6),G=n.n(V),W=n(11),q=n.n(W),Y=n(9);function Z(){if("undefined"!==typeof window)return window.MediaSource||window.WebKitMediaSource}var K=n(3),X=Object(K.a)(),Q=Z(),J=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hls=t,this.id=n;var r=this.observer=new G.a,i=t.config;r.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit.apply(r,[e,e].concat(n))},r.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.removeListener.apply(r,[e].concat(n))};var a=function(e,n){(n=n||{}).frag=this.frag,n.id=this.id,t.trigger(e,n)}.bind(this);r.on(s.a.FRAG_DECRYPTED,a),r.on(s.a.FRAG_PARSING_INIT_SEGMENT,a),r.on(s.a.FRAG_PARSING_DATA,a),r.on(s.a.FRAG_PARSED,a),r.on(s.a.ERROR,a),r.on(s.a.FRAG_PARSING_METADATA,a),r.on(s.a.FRAG_PARSING_USERDATA,a),r.on(s.a.INIT_PTS_FOUND,a);var l={mp4:Q.isTypeSupported("video/mp4"),mpeg:Q.isTypeSupported("audio/mpeg"),mp3:Q.isTypeSupported('audio/mp4; codecs="mp3"')},u=navigator.vendor;if(i.enableWorker&&"undefined"!==typeof Worker){c.b.log("demuxing in webworker");var d=void 0;try{d=this.w=q()(12),this.onwmsg=this.onWorkerMessage.bind(this),d.addEventListener("message",this.onwmsg),d.onerror=function(e){t.trigger(s.a.ERROR,{type:o.b.OTHER_ERROR,details:o.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},d.postMessage({cmd:"init",typeSupported:l,vendor:u,id:n,config:JSON.stringify(i)})}catch(h){c.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),d&&X.URL.revokeObjectURL(d.objectURL),this.demuxer=new Y.a(r,l,i,u),this.w=void 0}}else this.demuxer=new Y.a(r,l,i,u)}return e.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,t,n,r,i,a,o,s){var l=this.w,u=isNaN(i.startDTS)?i.start:i.startDTS,d=i.decryptdata,h=this.frag,f=!(h&&i.cc===h.cc),p=!(h&&i.level===h.level),m=h&&i.sn===h.sn+1,g=!p&&m;if(f&&c.b.log(this.id+":discontinuity detected"),p&&c.b.log(this.id+":switch detected"),this.frag=i,l)l.postMessage({cmd:"demux",data:e,decryptdata:d,initSegment:t,audioCodec:n,videoCodec:r,timeOffset:u,discontinuity:f,trackSwitch:p,contiguous:g,duration:a,accurateTimeOffset:o,defaultInitPTS:s},e instanceof ArrayBuffer?[e]:[]);else{var v=this.demuxer;v&&v.push(e,d,t,n,r,u,f,p,g,a,o,s)}},e.prototype.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":X.URL.revokeObjectURL(this.w.objectURL);break;case s.a.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},e}();function $(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}}function ee(e,t,n){var r=e[t],i=e[n],a=i.startPTS;isNaN(a)?i.start=n>t?r.start+r.duration:Math.max(r.start-i.duration,0):n>t?(r.duration=a-r.start,r.duration<0&&c.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(i.duration=r.start-a,i.duration<0&&c.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"))}function te(e,t,n,r,i,a){var o=n;if(!isNaN(t.startPTS)){var s=Math.abs(t.startPTS-n);isNaN(t.deltaPTS)?t.deltaPTS=s:t.deltaPTS=Math.max(s,t.deltaPTS),o=Math.max(n,t.startPTS),n=Math.min(n,t.startPTS),r=Math.max(r,t.endPTS),i=Math.min(i,t.startDTS),a=Math.max(a,t.endDTS)}var c=n-t.start;t.start=t.startPTS=n,t.maxStartPTS=o,t.endPTS=r,t.startDTS=i,t.endDTS=a,t.duration=r-n;var l=t.sn;if(!e||l<e.startSN||l>e.endSN)return 0;var u,d=void 0,h=void 0;for(u=l-e.startSN,(d=e.fragments)[u]=t,h=u;h>0;h--)ee(d,h,h-1);for(h=u;h<d.length-1;h++)ee(d,h,h+1);return e.PTSKnown=!0,c}function ne(e,t){var n=Math.max(e.startSN,t.startSN)-t.startSN,r=Math.min(e.endSN,t.endSN)-t.startSN,i=t.startSN-e.startSN,a=e.fragments,o=t.fragments,s=0,l=void 0;if(t.initSegment&&e.initSegment&&(t.initSegment=e.initSegment),r<n)t.PTSKnown=!1;else{for(var u=n;u<=r;u++){var d=a[i+u],h=o[u];h&&d&&(s=d.cc-h.cc,isNaN(d.startPTS)||(h.start=h.startPTS=d.startPTS,h.endPTS=d.endPTS,h.duration=d.duration,h.backtracked=d.backtracked,h.dropped=d.dropped,l=h))}if(s)for(c.b.log("discontinuity sliding from playlist, take drift into account"),u=0;u<o.length;u++)o[u].cc+=s;if(l)te(t,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS);else if(i>=0&&i<a.length){var f=a[i].start;for(u=0;u<o.length;u++)o[u].start+=f}t.PTSKnown=e.PTSKnown}}var re={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}};function ie(e,t){t.fragments.forEach((function(t){if(t){var n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}})),t.PTSKnown=!0}function ae(e,t,n){if(function(e,t,n){var r=!1;return t&&t.details&&n&&(n.endCC>n.startCC||e&&e.cc<n.startCC)&&(r=!0),r}(e,t,n)){var r=function(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var i=function(e,t){for(var n=null,r=0;r<e.length;r+=1){var i=e[r];if(i&&i.cc===t){n=i;break}}return n}(n,r[0].cc);if(i&&(!i||i.startPTS))return i;c.b.log("No frag in previous level to align on")}else c.b.log("No fragments to align")}(t.details,n);r&&(c.b.log("Adjusting PTS using last level due to CC increase within current level"),ie(r.start,n))}if(!1===n.PTSKnown&&t&&t.details&&t.details.fragments&&t.details.fragments.length){var i=t.details.programDateTime,a=(n.programDateTime-i)/1e3+t.details.fragments[0].start;isNaN(a)||(c.b.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),ie(a,n))}}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var ce=function(e){function t(n){oe(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=se(this,e.call.apply(e,[this,n].concat(i)));return o._tickInterval=null,o._tickTimer=null,o._tickCallCount=0,o._boundTick=o.tick.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)})),t.prototype.clearInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)})),t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(h);function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Array.isArray(e)||!e.length||null===t)return null;var n=e[0];if(t<n.pdt)return null;var r=e[e.length-1];if(t>=r.endPdt)return null;for(var i=0;i<e.length;++i){var a=e[i];if(t<a.endPdt)return a}return null}function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=void 0,o=e?t[e.sn-t[0].sn+1]:null;return n<r&&(n>r-i&&(i=0),a=o&&!de(n,i,o)?o:B.search(t,de.bind(null,n,i))),a}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}var he=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fe="STOPPED",pe="IDLE",me="KEY_LOADING",ge="FRAG_LOADING",ve="FRAG_LOADING_WAITING_RETRY",ye="WAITING_LEVEL",be="PARSING",we="PARSED",_e="BUFFER_FLUSHING",Ee="ENDED",Se="ERROR",xe=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MEDIA_ATTACHED,s.a.MEDIA_DETACHING,s.a.MANIFEST_LOADING,s.a.MANIFEST_PARSED,s.a.LEVEL_LOADED,s.a.KEY_LOADED,s.a.FRAG_LOADED,s.a.FRAG_LOAD_EMERGENCY_ABORTED,s.a.FRAG_PARSING_INIT_SEGMENT,s.a.FRAG_PARSING_DATA,s.a.FRAG_PARSED,s.a.ERROR,s.a.AUDIO_TRACK_SWITCHING,s.a.AUDIO_TRACK_SWITCHED,s.a.BUFFER_CREATED,s.a.BUFFER_APPENDED,s.a.BUFFER_FLUSHED));return i.fragmentTracker=r,i.config=n.config,i.audioCodecSwap=!1,i._state=fe,i.stallReported=!1,i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},t.prototype.onHandlerDestroyed=function(){this.state=fe,this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},t.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(c.b.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=pe,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=fe},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=fe,this.forceStartLoad=!1},t.prototype.doTick=function(){switch(this.state){case _e:this.fragLoadError=0;break;case pe:this._doTickIdle();break;case ye:var e=this.levels[this.level];e&&e.details&&(this.state=pe);break;case ve:var t=window.performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(c.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=pe)}this._checkBuffer(),this._checkFragmentChanged()},t.prototype._doTickIdle=function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&t.startFragPrefetch)){var r=void 0;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,a=this.levels[i];if(a){var o=a.bitrate,l=void 0;l=o?Math.max(8*t.maxBufferSize/o,t.maxBufferLength):t.maxBufferLength,l=Math.min(l,t.maxMaxBufferLength);var u=H.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),d=u.len;if(!(d>=l)){c.b.trace("buffer length of "+d.toFixed(3)+" is below max of "+l.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var h=a.details;if(!h||h.live&&this.levelLastLoaded!==i)this.state=ye;else{var f=this.fragPrevious;if(!h.live&&f&&!f.backtracked&&f.sn===h.endSN&&!u.nextStart&&Math.min(n.duration,f.start+f.duration)-Math.max(u.end,f.start)<=Math.max(.2,f.duration)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(s.a.BUFFER_EOS,p),void(this.state=Ee)}this._fetchPayloadOrEos(r,u,h)}}}}},t.prototype._fetchPayloadOrEos=function(e,t,n){var r=this.fragPrevious,i=this.level,a=n.fragments,o=a.length;if(0!==o){var s=a[0].start,l=a[o-1].start+a[o-1].duration,u=t.end,d=void 0;if(n.initSegment&&!n.initSegment.data)d=n.initSegment;else if(n.live){var h=this.config.initialLiveManifestSize;if(o<h)return void c.b.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+h);if(null===(d=this._ensureFragmentAtLivePoint(n,u,s,l,r,a,o)))return}else u<s&&(d=a[0]);d||(d=this._findFragment(s,r,o,a,u,l,n)),d&&(d.encrypted?(c.b.log("Loading key for "+d.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i),this._loadKey(d)):(c.b.log("Loading "+d.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i+", currentTime:"+e.toFixed(3)+",bufferEnd:"+u.toFixed(3)),this._loadFragment(d)))}},t.prototype._ensureFragmentAtLivePoint=function(e,t,n,r,i,a,o){var s=this.hls.config,l=this.media,u=void 0,d=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-s.maxFragLookUpTolerance,r-d)){var h=this.liveSyncPosition=this.computeLivePosition(n,e);c.b.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),t=h,l&&l.readyState&&l.duration>h&&(l.currentTime=h),this.nextLoadPosition=h}if(e.PTSKnown&&t>r&&l&&l.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i)if(e.programDateTime)u=le(a,i.endPdt+1);else{var f=i.sn+1;if(f>=e.startSN&&f<=e.endSN){var p=a[f-e.startSN];i.cc===p.cc&&(u=p,c.b.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=B.search(a,(function(e){return i.cc-e.cc})))&&c.b.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=a[Math.min(o-1,Math.round(o/2))],c.b.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},t.prototype._findFragment=function(e,t,n,r,i,a,o){var s=this.hls.config,l=void 0,u=void 0;if(i<a?o.programDateTime?(u=le(r,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=0;if(n.programDateTime){var i=Date.parse(n.programDateTime);isNaN(i)||(r=1e3*t+i-1e3*e)}return r}(e,i,o)))&&!de(i,s.maxFragLookUpTolerance,u)||(c.b.warn("Frag found by PDT search did not fit within tolerance; falling back to finding by SN"),u=ue(t,r,i,a,s.maxFragLookUpTolerance)):u=ue(t,r,i,a,s.maxFragLookUpTolerance):u=r[n-1],u){var d=(l=u).sn-o.startSN,h=t&&l.level===t.level,f=r[d-1],p=r[d+1];if(t&&l.sn===t.sn)if(h&&!l.backtracked)if(l.sn<o.endSN){var m=t.deltaPTS;m&&m>s.maxBufferHole&&t.dropped&&d?(l=f,c.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(l=p,c.b.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.backtracked&&(p&&p.backtracked?(c.b.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+p.sn),l=p):(c.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,f?(l=f).backtracked=!0:d&&(l=null)))}return l},t.prototype._loadKey=function(e){this.state=me,this.hls.trigger(s.a.KEY_LOADING,{frag:e})},t.prototype._loadFragment=function(e){var t=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||e.bitrateTest||(this.nextLoadPosition=e.start+e.duration),e.backtracked||t===j||t===z?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(s.a.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new J(this.hls,"main")),this.state=ge):t===D&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},t.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,R.LevelType.MAIN)},t.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},t.prototype._checkFragmentChanged=function(){var e=void 0,t=void 0,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((t=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),H.isBuffered(n,t)?e=this.getBufferedFrag(t):H.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var r=e;if(r!==this.fragPlaying){this.hls.trigger(s.a.FRAG_CHANGED,{frag:r});var i=r.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(s.a.LEVEL_SWITCHED,{level:i}),this.fragPlaying=r}}},t.prototype.immediateLevelSwitch=function(){if(c.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},t.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,H.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},t.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t,n=void 0,r=void 0;if((t=this.getBufferedFrag(e.currentTime))&&t.startPTS>1&&this.flushMainBuffer(0,t.startPTS-1),e.paused)n=0;else{var i=this.hls.nextLoadLevel,a=this.levels[i],o=this.fragLastKbps;n=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if((r=this.getBufferedFrag(e.currentTime+n))&&(r=this.followingBufferedFrag(r))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.maxStartPTS,Number.POSITIVE_INFINITY)}}},t.prototype.flushMainBuffer=function(e,t){this.state=_e;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(s.a.BUFFER_FLUSHING,n)},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(c.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){var e=this.media,t=e?e.currentTime:void 0,n=this.config;isNaN(t)||c.b.log("media seeking to "+t.toFixed(3));var r=this.mediaBuffer?this.mediaBuffer:e,i=H.bufferInfo(r,t,this.config.maxBufferHole);if(this.state===ge){var a=this.fragCurrent;if(0===i.len&&a){var o=n.maxFragLookUpTolerance,s=a.start-o,l=a.start+a.duration+o;t<s||t>l?(a.loader&&(c.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=pe):c.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===Ee&&(0===i.len&&(this.fragPrevious=0),this.state=pe);e&&(this.lastCurrentTime=t),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()},t.prototype.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;isNaN(t)||c.b.log("media seeked to "+t.toFixed(3)),this.tick()},t.prototype.onMediaEnded=function(){c.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestLoading=function(){c.b.log("trigger BUFFER_RESET"),this.hls.trigger(s.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestParsed=function(e){var t=!1,n=!1,r=void 0;e.levels.forEach((function(e){(r=e.audioCodec)&&(-1!==r.indexOf("mp4a.40.2")&&(t=!0),-1!==r.indexOf("mp4a.40.5")&&(n=!0))})),this.audioCodecSwitch=t&&n,this.audioCodecSwitch&&c.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},t.prototype.onLevelLoaded=function(e){var t=e.details,n=e.level,r=this.levels[this.levelLastLoaded],i=this.levels[n],a=t.totalduration,o=0;if(c.b.log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+a),t.live){var l=i.details;l&&t.fragments.length>0?(ne(l,t),o=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,l),t.PTSKnown&&!isNaN(o)?c.b.log("live playlist sliding:"+o.toFixed(3)):(c.b.log("live playlist - outdated PTS, unknown sliding"),ae(this.fragPrevious,r,t))):(c.b.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,ae(this.fragPrevious,r,t))}else t.PTSKnown=!1;if(i.details=t,this.levelLastLoaded=n,this.hls.trigger(s.a.LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=t.startTimeOffset;isNaN(u)?t.live?(this.startPosition=this.computeLivePosition(o,t),c.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(u<0&&(c.b.log("negative start time offset "+u+", count from end of last fragment"),u=o+a+u),c.b.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ye&&(this.state=pe),this.tick()},t.prototype.onKeyLoaded=function(){this.state===me&&(this.state=pe,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag;if(this.state===ge&&t&&"main"===n.type&&n.level===t.level&&n.sn===t.sn){var r=e.stats,i=this.levels[t.level],a=i.details;if(c.b.log("Loaded  "+t.sn+" of ["+a.startSN+" ,"+a.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=r,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=pe,this.startFragRequested=!1,r.tparsed=r.tbuffered=window.performance.now(),this.hls.trigger(s.a.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=pe,r.tparsed=r.tbuffered=window.performance.now(),a.initSegment.data=e.payload,this.hls.trigger(s.a.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.tick();else{this.state=be;var o=a.totalduration,l=t.level,u=t.sn,d=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(c.b.log("swapping playlist audio codec"),void 0===d&&(d=this.lastAudioCodec),d&&(d=-1!==d.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,c.b.log("Parsing "+u+" of ["+a.startSN+" ,"+a.endSN+"],level "+l+", cc "+t.cc);var h=this.demuxer;h||(h=this.demuxer=new J(this.hls,"main"));var f=this.media,p=!(f&&f.seeking)&&(a.PTSKnown||!a.live),m=a.initSegment?a.initSegment.data:[];h.push(e.payload,m,d,i.videoCodec,t,o,p,void 0)}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===be){var r=e.tracks,i=void 0,a=void 0;if(r.audio&&this.altAudio&&delete r.audio,a=r.audio){var o=this.levels[this.level].audioCodec,l=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(c.b.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===l.indexOf("firefox")&&(o="mp4a.40.5"),-1!==l.indexOf("android")&&"audio/mpeg"!==a.container&&(o="mp4a.40.2",c.b.log("Android: force audio codec to "+o)),a.levelCodec=o,a.id=e.id}for(i in(a=r.video)&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=e.id),this.hls.trigger(s.a.BUFFER_CODECS,r),r){a=r[i],c.b.log("main track:"+i+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var u=a.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.a.BUFFER_APPENDING,{type:i,data:u,parent:"main",content:"initSegment"}))}this.tick()}},t.prototype.onFragParsingData=function(e){var t=this,n=this.fragCurrent,r=e.frag;if(n&&"main"===e.id&&r.sn===n.sn&&r.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===be){var i=this.levels[this.level],a=n;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),!0===e.hasAudio&&a.addElementaryStream(v.ElementaryStreamTypes.AUDIO),!0===e.hasVideo&&a.addElementaryStream(v.ElementaryStreamTypes.VIDEO),c.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)c.b.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var o=i.details;if(!o||a.sn!==o.startSN)return c.b.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=pe,this.fragPrevious=a,void this.tick();c.b.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var l=te(i.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),u=this.hls;u.trigger(s.a.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:l,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(n){n&&n.length&&t.state===be&&(t.appended=!0,t.pendingBuffering=!0,u.trigger(s.a.BUFFER_APPENDING,{type:e.type,data:n,parent:"main",content:"data"}))})),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===be&&(this.stats.tparsed=window.performance.now(),this.state=we,this._checkAppendedParsed())},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url,n=e.id;if(!t){if(this.mediaBuffer!==this.media){c.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(c.b.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=pe}var i=this.hls;i.trigger(s.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(s.a.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},t.prototype.onAudioTrackSwitched=function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(c.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},t.prototype.onBufferCreated=function(e){var t=e.tracks,n=void 0,r=void 0,i=!1;for(var a in t){var o=t[a];"main"===o.id?(r=a,n=o,"video"===a&&(this.videoBuffer=t[a].buffer)):i=!0}i&&n?(c.b.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},t.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==be&&t!==we||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(this.state===we&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;c.b.log("main buffered : "+re.toString(t.buffered)),this.fragPrevious=e;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(s.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=pe}this.tick()}},t.prototype.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=!!this.media&&H.isBuffered(this.media,this.media.currentTime)&&H.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case o.a.FRAG_LOAD_ERROR:case o.a.FRAG_LOAD_TIMEOUT:case o.a.KEY_LOAD_ERROR:case o.a.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var r=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);c.b.warn("mediaController: frag loading failed, retry in "+r+" ms"),this.retryDate=window.performance.now()+r,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=ve}else c.b.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Se;break;case o.a.LEVEL_LOAD_ERROR:case o.a.LEVEL_LOAD_TIMEOUT:this.state!==Se&&(e.fatal?(this.state=Se,c.b.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==ye||(this.state=pe));break;case o.a.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==be&&this.state!==we||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=pe):(c.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},t.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,c.b.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},t.prototype._checkBuffer=function(){var e=this.config,t=this.media;if(t&&0!==t.readyState){var n=t.currentTime,r=(this.mediaBuffer?this.mediaBuffer:t).buffered;if(!this.loadedmetadata&&r.length)this.loadedmetadata=!0,this._seekToStartPos();else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var i=!(t.paused&&t.readyState>1||t.ended||0===t.buffered.length),a=window.performance.now();if(n!==this.lastCurrentTime)this.stallReported&&(c.b.warn("playback not stuck anymore @"+n+", after "+Math.round(a-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,this.nudgeRetry=0;else if(i){var o=a-this.stalled,s=H.bufferInfo(t,n,e.maxBufferHole);if(!this.stalled)return void(this.stalled=a);o>=1e3&&this._reportStall(s.len),this._tryFixBufferStall(s,o)}}}},t.prototype.onFragLoadEmergencyAborted=function(){this.state=pe,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},t.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(v.ElementaryStreamTypes.VIDEO,e.buffered),this.state=pe,this.fragPrevious=null},t.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},t.prototype.computeLivePosition=function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)},t.prototype._tryFixBufferStall=function(e,t){var n=this.config,r=this.media.currentTime,i=this.fragmentTracker.getPartialFragment(r);i&&this._trySkipBufferHole(i),e.len>.5&&t>1e3*n.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},t.prototype._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,c.b.warn("Playback stalling at @"+n.currentTime+" due to low buffer"),t.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t.prototype._trySkipBufferHole=function(e){for(var t=this.hls,n=this.media,r=n.currentTime,i=0,a=0;a<n.buffered.length;a++){var l=n.buffered.start(a);if(r>=i&&r<l)return n.currentTime=Math.max(l,n.currentTime+.1),c.b.warn("skipping hole, adjusting currentTime from "+r+" to "+n.currentTime),this.stalled=null,void t.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+n.currentTime,frag:e});i=n.buffered.end(a)}},t.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,i=(this.nudgeRetry||0)+1;if(this.nudgeRetry=i,i<e.nudgeMaxRetry){var a=r+i*e.nudgeOffset;c.b.log("adjust currentTime from "+r+" to "+a),n.currentTime=a,t.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else c.b.error("still stuck in high buffer @"+r+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_STALLED_ERROR,fatal:!0})},t.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,n=e.seeking?t:this.startPosition;t!==n&&(c.b.log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+t+" "),e.currentTime=n)},he(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,c.b.log("main stream:"+t+"->"+e),this.hls.trigger(s.a.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(ce),Te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ke=window.performance,Me=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MANIFEST_LOADED,s.a.LEVEL_LOADED,s.a.AUDIO_TRACK_SWITCHED,s.a.FRAG_LOADED,s.a.ERROR));return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t=[],n=void 0,r={},i=null,a=!1,l=!1,u=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),d=[];if(e.levels.forEach((function(e){e.loadError=0,e.fragmentError=!1,a=a||!!e.videoCodec,l=l||!!e.audioCodec||!(!e.attrs||!e.attrs.AUDIO),u&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(i=r[e.bitrate])?i.url.push(e.url):(e.url=[e.url],e.urlId=0,r[e.bitrate]=e,t.push(e)),e.attrs&&e.attrs.AUDIO&&$(i||e,"audio",e.attrs.AUDIO),e.attrs&&e.attrs.SUBTITLES&&$(i||e,"text",e.attrs.SUBTITLES)})),a&&l&&(t=t.filter((function(e){return!!e.videoCodec}))),t=t.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||E(t))&&(!n||E(n))})),e.audioTracks&&(d=e.audioTracks.filter((function(e){return!e.audioCodec||E(e.audioCodec,"audio")}))),t.length>0){n=t[0].bitrate,t.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=t;for(var h=0;h<t.length;h++)if(t[h].bitrate===n){this._firstLevel=h,c.b.log("manifest loaded,"+t.length+" level(s) found, first bitrate:"+n);break}this.hls.trigger(s.a.MANIFEST_PARSED,{levels:t,audioTracks:d,firstLevel:this._firstLevel,stats:e.stats,audio:l,video:a,altAudio:d.length>0&&a})}else this.hls.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},t.prototype.setLevelInternal=function(e){var t=this._levels,n=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){c.b.log("switching to level "+e),this.currentLevelIndex=e;var r=t[e];r.level=e,n.trigger(s.a.LEVEL_SWITCHING,r)}var i=t[e],a=i.details;if(!a||a.live){var l=i.urlId;n.trigger(s.a.LEVEL_LOADING,{url:i.url[l],level:e,id:l})}}else n.trigger(s.a.ERROR,{type:o.b.OTHER_ERROR,details:o.a.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},t.prototype.onError=function(e){if(e.fatal)e.type===o.b.NETWORK_ERROR&&this.clearTimer();else{var t=!1,n=!1,r=void 0;switch(e.details){case o.a.FRAG_LOAD_ERROR:case o.a.FRAG_LOAD_TIMEOUT:case o.a.KEY_LOAD_ERROR:case o.a.KEY_LOAD_TIMEOUT:r=e.frag.level,n=!0;break;case o.a.LEVEL_LOAD_ERROR:case o.a.LEVEL_LOAD_TIMEOUT:r=e.context.level,t=!0;break;case o.a.REMUX_ALLOC_ERROR:r=e.level,t=!0}void 0!==r&&this.recoverLevel(e,r,t,n)}},t.prototype.recoverLevel=function(e,t,n,r){var i=this,a=this.hls.config,o=e.details,s=this._levels[t],l=void 0,u=void 0,d=void 0;if(s.loadError++,s.fragmentError=r,n){if(!(this.levelRetryCount+1<=a.levelLoadingMaxRetry))return c.b.error("level controller, cannot recover from "+o+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);u=Math.min(Math.pow(2,this.levelRetryCount)*a.levelLoadingRetryDelay,a.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return i.loadLevel()}),u),e.levelRetry=!0,this.levelRetryCount++,c.b.warn("level controller, "+o+", retry in "+u+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&((l=s.url.length)>1&&s.loadError<l?(s.urlId=(s.urlId+1)%l,s.details=void 0,c.b.warn("level controller, "+o+" for level "+t+": switching to redundant URL-id "+s.urlId)):-1===this.manualLevelIndex?(d=0===t?this._levels.length-1:t-1,c.b.warn("level controller, "+o+": switch to "+d),this.hls.nextAutoLevel=this.currentLevelIndex=d):r&&(c.b.warn("level controller, "+o+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var n=this._levels[t.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,n=e.level;if(n===this.currentLevelIndex){var r=this._levels[n];r.fragmentError||(r.loadError=0,this.levelRetryCount=0);var i=e.details;if(i.live){var a=1e3*(i.averagetargetduration?i.averagetargetduration:i.targetduration),o=a,s=r.details;s&&i.endSN===s.endSN&&(o/=2,c.b.log("same live playlist, reload twice faster")),o-=ke.now()-e.stats.trequest,o=Math.max(a/2,Math.round(o)),c.b.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout((function(){return t.loadLevel()}),o)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){var r=n.audioGroupIds.findIndex((function(e){return e===t}));r!==n.urlId&&(n.urlId=r,this.startLoad())}},t.prototype.loadLevel=function(){if(c.b.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"===("undefined"===typeof e?"undefined":Te(e))&&e.url.length>0){var t=this.currentLevelIndex,n=e.urlId,r=e.url[n];c.b.log("Attempt loading level index "+t+" with URL-id "+n),this.hls.trigger(s.a.LEVEL_LOADING,{url:r,level:t,id:n})}}},Oe(t,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(h),Ae=n(5);function Ce(e,t){var n=null;try{n=new window.Event("addtrack")}catch(r){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function Le(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}var Pe=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MEDIA_ATTACHED,s.a.MEDIA_DETACHING,s.a.FRAG_PARSING_METADATA));return r.id3Track=void 0,r.media=void 0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){h.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){Le(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Ce(n,this.media),n}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,n=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<n.length;i++){var a=Ae.a.getID3Frames(n[i].data);if(a){var o=n[i].pts,s=i<n.length-1?n[i+1].pts:t.endPTS;o===s&&(s+=1e-4);for(var c=0;c<a.length;c++){var l=a[c];if(!Ae.a.isTimeStampFrame(l)){var u=new r(o,s,"");u.value=l,this.id3Track.addCue(u)}}}}},t}(h),Re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),Ie=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Re(n),this.fast_=new Re(r)}return e.prototype.sample=function(e,t){var n=8e3*t/(e=Math.max(e,this.minDelayMs_)),r=e/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}(),Ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),je=window.performance,De=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.FRAG_LOADING,s.a.FRAG_LOADED,s.a.FRAG_BUFFERED,s.a.ERROR));return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=n,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){this.clearTimer(),h.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n=this.hls,r=n.config,i=t.level,a=void 0,o=void 0;n.levels[i].details.live?(a=r.abrEwmaFastLive,o=r.abrEwmaSlowLive):(a=r.abrEwmaFastVoD,o=r.abrEwmaSlowVoD),this._bwEstimator=new Ie(n,o,a,r.abrEwmaDefaultEstimate)}},t.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,n=this.fragCurrent;if(n){var r=n.loader,i=e.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return c.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=r.stats;if(t&&a&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var o=je.now()-a.trequest,l=Math.abs(t.playbackRate);if(o>500*n.duration/l){var u=e.levels,d=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/o),h=u[n.level],f=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,p=a.total?a.total:Math.max(a.loaded,Math.round(n.duration*f/8)),m=t.currentTime,g=(p-a.loaded)/d,v=(H.bufferInfo(t,m,e.config.maxBufferHole).end-m)/l;if(v<2*n.duration/l&&g>v){var y=void 0,b=void 0;for(b=n.level-1;b>i;b--){var w=u[b].realBitrate?Math.max(u[b].realBitrate,u[b].bitrate):u[b].bitrate;if((y=n.duration*w/(6.4*d))<v)break}y<g&&(c.b.warn("loading too slow, abort fragment loading and switch to level "+b+":fragLoadedDelay["+b+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+y.toFixed(1)+"<"+g.toFixed(1)+":"+v.toFixed(1)),e.nextLoadLevel=b,this._bwEstimator.sample(o,a.loaded),r.abort(),this.clearTimer(),e.trigger(s.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}}},t.prototype.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[t.level],r=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,i=(n.loaded?n.loaded.duration:0)+e.frag.duration;n.loaded={bytes:r,duration:i},n.realBitrate=Math.round(8*r/i)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},t.prototype.onFragBuffered=function(e){var t=e.stats,n=e.frag;if(!0!==t.aborted&&"main"===n.type&&!isNaN(n.sn)&&(!n.bitrateTest||t.tload===t.tbuffered)){var r=t.tparsed-t.trequest;c.b.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(r,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}},t.prototype.onError=function(e){switch(e.details){case o.a.FRAG_LOAD_ERROR:case o.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},t.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},t.prototype._findBestLevel=function(e,t,n,r,i,a,o,s,l){for(var u=i;u>=r;u--){var d=l[u].details,h=d?d.totalduration/d.fragments.length:t,f=!!d&&d.live,p=void 0;p=u<=e?o*n:s*n;var m=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,g=m*h/p;if(c.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(p)+"/"+m+"/"+h+"/"+a+"/"+g),p>m&&(!g||f&&!this.bitrateTestDelay||g<a))return u}return-1},Ne(t,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(-1!==e&&(!t||!t.canEstimate()))return e;var n=this._nextABRAutoLevel;return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,r=e.config,i=e.minAutoLevel,a=e.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,u=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,h=(H.bufferInfo(a,l,r.maxBufferHole).end-l)/u,f=this._findBestLevel(o,s,d,i,t,h,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(f>=0)return f;c.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,r.maxStarvationDelay):r.maxStarvationDelay,m=r.abrBandWidthFactor,g=r.abrBandWidthUpFactor;if(0===h){var v=this.bitrateTestDelay;v&&(p=(s?Math.min(s,r.maxLoadingDelay):r.maxLoadingDelay)-v,c.b.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),m=g=1)}return f=this._findBestLevel(o,s,d,i,t,h+p,m,g,n),Math.max(f,0)}}]),t}(h),ze=Z(),Fe=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MEDIA_ATTACHING,s.a.MEDIA_DETACHING,s.a.MANIFEST_PARSED,s.a.BUFFER_RESET,s.a.BUFFER_APPENDING,s.a.BUFFER_CODECS,s.a.BUFFER_EOS,s.a.BUFFER_FLUSHING,s.a.LEVEL_PTS_UPDATED,s.a.LEVEL_UPDATED));return r._msDuration=null,r._levelDuration=null,r._live=null,r._objectUrl=null,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){h.prototype.destroy.call(this)},t.prototype.onLevelPtsUpdated=function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-e.start)>.1){var i=r.updating;try{r.abort()}catch(a){i=!0,c.b.warn("can not abort audio buffer: "+a)}i?this.audioTimestampOffset=e.start:(c.b.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}},t.prototype.onManifestParsed=function(e){var t=e.audio,n=e.video||e.levels.length&&e.altAudio,r=0;e.altAudio&&(t||n)&&(r=(t?1:0)+(n?1:0),c.b.log(r+" sourceBuffer(s) expected")),this.sourceBufferNb=r},t.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new ze;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(n),this._objectUrl=t.src}},t.prototype.onMediaDetaching=function(){c.b.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(t){c.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):c.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(s.a.MEDIA_DETACHED)},t.prototype.onMediaSourceOpen=function(){c.b.log("media source opened"),this.hls.trigger(s.a.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},t.prototype.checkPendingTracks=function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},t.prototype.onMediaSourceClose=function(){c.b.log("media source closed")},t.prototype.onMediaSourceEnded=function(){c.b.log("media source ended")},t.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;c.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,n=this.segments.reduce((function(e,n){return n.parent===t?e+1:e}),0),r={},i=this.sourceBuffer;for(var a in i)r[a]=i[a].buffered;this.hls.trigger(s.a.BUFFER_APPENDED,{parent:t,pending:n,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},t.prototype.onSBUpdateError=function(e){c.b.error("sourceBuffer error:",e),this.hls.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(r){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},t.prototype.onBufferCodecs=function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}},t.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var r in e)if(!t[r]){var i=e[r],a=i.levelCodec||i.codec,l=i.container+";codecs="+a;c.b.log("creating sourceBuffer("+l+")");try{var u=t[r]=n.addSourceBuffer(l);u.addEventListener("updateend",this.onsbue),u.addEventListener("error",this.onsbe),this.tracks[r]={codec:a,container:i.container},i.buffer=u}catch(d){c.b.error("error while trying to add sourceBuffer:"+d.message),this.hls.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:d,mimeType:l})}}this.hls.trigger(s.a.BUFFER_CREATED,{tracks:e})},t.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},t.prototype.onBufferAppendFail=function(e){c.b.error("sourceBuffer error:",e.event),this.hls.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferEos=function(e){var t=this.sourceBuffer,n=e.type;for(var r in t)n&&r!==n||t[r].ended||(t[r].ended=!0,c.b.log(r+" sourceBuffer now EOS"));this.checkEos()},t.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var n in e){var r=e[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}c.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(i){c.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},t.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},t.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._live=t.live,this.updateMediaElementDuration())},t.prototype.updateMediaElementDuration=function(){var e,t=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(c.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||e===1/0||isNaN(e))&&(c.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},t.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n)t+=n[r].buffered.length}catch(i){c.b.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(s.a.BUFFER_FLUSHED)}},t.prototype.doAppending=function(){var e=this.hls,t=this.sourceBuffer,n=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void c.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var i=t[r.type];i?i.updating?n.unshift(r):(i.ended=!1,this.parent=r.parent,i.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(l){c.b.error("error while trying to append buffer:"+l.message),n.unshift(r);var a={type:o.b.MEDIA_ERROR,parent:r.parent};22!==l.code?(this.appendError?this.appendError++:this.appendError=1,a.details=o.a.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(c.b.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],a.fatal=!0,e.trigger(s.a.ERROR,a)):(a.fatal=!1,e.trigger(s.a.ERROR,a))):(this.segments=[],a.details=o.a.BUFFER_FULL_ERROR,a.fatal=!1,e.trigger(s.a.ERROR,a))}}}},t.prototype.flushBuffer=function(e,t,n){var r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=this.sourceBuffer;if(Object.keys(u).length){if(c.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var d in u)if(!n||d===n){if((r=u[d]).ended=!1,r.updating)return c.b.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;i<r.buffered.length;i++)if(a=r.buffered.start(i),o=r.buffered.end(i),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(s=e,l=t):(s=Math.max(a,e),l=Math.min(o,t)),Math.min(l,o)-s>.5)return this.flushBufferCounter++,c.b.log("flush "+d+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+this.media.currentTime),r.remove(s,l),!1}catch(h){c.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else c.b.warn("abort flushing too many retries");c.b.log("buffer flushed")}return!0},t}(h),Ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Be=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.FPS_DROP_LEVEL_CAPPING,s.a.MEDIA_ATTACHING,s.a.MANIFEST_PARSED,s.a.BUFFER_CODECS));return r.autoLevelCapping=Number.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},t.prototype.onFpsDropLevelCapping=function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},t.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},t.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&(e.video||e.levels.length&&e.altAudio)&&this._startCapping()},t.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},t.prototype.onLevelsUpdated=function(e){this.levels=e.levels},t.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.prototype.getMaxLevel=function(e){var n=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,i){return t.isLevelAllowed(i,n.restrictedLevels)&&i<=e}));return t.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},t.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},t.isLevelAllowed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return-1===t.indexOf(e)},t.getMaxLevelByMediaSize=function(e,t,n){if(!e||e&&!e.length)return-1;for(var r,i,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=n)&&(r=s,!(i=e[o+1])||r.width!==i.width||r.height!==i.height)){a=o;break}}return a},Ue(t,[{key:"mediaWidth",get:function(){var e=void 0,n=this.media;return n&&(e=n.width||n.clientWidth||n.offsetWidth,e*=t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,n=this.media;return n&&(e=n.height||n.clientHeight||n.offsetHeight,e*=t.contentScaleFactor),e}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(t){}return e}}]),t}(h),He=window.performance,Ve=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MEDIA_ATTACHING))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"===typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,n){var r=He.now();if(t){if(this.lastTime){var i=r-this.lastTime,a=n-this.lastDroppedFrames,o=t-this.lastDecodedFrames,l=1e3*a/i,u=this.hls;if(u.trigger(s.a.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),l>0&&a>u.config.fpsDroppedMonitoringThreshold*o){var d=u.currentLevel;c.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=d)&&(d-=1,u.trigger(s.a.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:u.currentLevel}),u.autoLevelCapping=d,u.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(h),Ge=window,We=Ge.performance,qe=Ge.XMLHttpRequest,Ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:We.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e=void 0,t=this.context;e=this.loader=new qe;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(e,t.url)}catch(i){e.open("GET",t.url,!0),r(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(i){return void this.callbacks.onError({code:e.status,text:i.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,n=t.readyState,r=this.stats,i=this.context,a=this.config;if(!r.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(We.now(),r.trequest)),4===n){var o=t.status;if(o>=200&&o<300){r.tload=Math.max(r.tfirst,We.now());var s=void 0,l=void 0;l="arraybuffer"===i.responseType?(s=t.response).byteLength:(s=t.responseText).length,r.loaded=r.total=l;var u={url:t.responseURL,data:s};this.callbacks.onSuccess(u,r,i,t)}else r.retry>=a.maxRetry||o>=400&&o<499?(c.b.error(o+" while loading "+i.url),this.callbacks.onError({code:o,text:t.statusText},i,t)):(c.b.warn(o+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},e.prototype.loadtimeout=function(){c.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,t)},e}(),Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ke=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MANIFEST_LOADING,s.a.MANIFEST_PARSED,s.a.AUDIO_TRACK_LOADED,s.a.AUDIO_TRACK_SWITCHED,s.a.LEVEL_LOADED,s.a.ERROR));return r.trackId=-1,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(s.a.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)c.b.warn("Invalid audio track id:",e.id);else{if(c.b.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var n=t.audioGroupIds[t.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===o.b.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===o.a.AUDIO_TRACK_LOAD_ERROR&&(c.b.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},t.prototype.doTick=function(){this._updateTrack(this.trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var n=this.tracks[this.trackId],r=null;n&&(r=n.name);var i=t.filter((function(e){return e.default}));i.length?t=i:c.b.warn("No default audio tracks defined");var a=!1,l=function(){t.forEach((function(t){a||e.audioGroupId&&t.groupId!==e.audioGroupId||r&&r!==t.name||(e.audioTrack=t.id,a=!0)}))};l(),a||(r=null,l()),a||(c.b.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details;return!t||!!t.live||void 0},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,n=e.id;c.b.log("loading audio-track playlist for id: "+n),this.hls.trigger(s.a.AUDIO_TRACK_LOADING,{url:t,id:n})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this.trackId=e,c.b.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this.trackId]=!0;var e=this.trackId,t=this.tracks[e],n=t.name,r=t.language,i=t.groupId;c.b.warn("Loading failed on audio track id: "+e+", group-id: "+i+', name/language: "'+n+'" / "'+r+'"');for(var a=e,o=0;o<this.tracks.length;o++)if(!this.trackIdBlacklist[o]&&this.tracks[o].name===n){a=o;break}a!==e?(c.b.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this.audioTrack=a):c.b.warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"')},Ze(t,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){if(this.trackId===e&&this.tracks[this.trackId].details)c.b.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)c.b.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];c.b.log("Now switching to audio-track index "+e),this.clearInterval(),this.trackId=e;var n=t.url,r=t.type,i=t.id;this.hls.trigger(s.a.AUDIO_TRACK_SWITCHING,{id:i,type:r,url:n}),this._loadTrackDetailsIfNeeded(t)}}}]),t}(ce),Xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qe=window.performance,Je="STOPPED",$e="STARTING",et="IDLE",tt="PAUSED",nt="KEY_LOADING",rt="FRAG_LOADING",it="FRAG_LOADING_WAITING_RETRY",at="WAITING_TRACK",ot="PARSING",st="PARSED",ct="BUFFER_FLUSHING",lt="ENDED",ut="ERROR",dt="WAITING_INIT_PTS",ht=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MEDIA_ATTACHED,s.a.MEDIA_DETACHING,s.a.AUDIO_TRACKS_UPDATED,s.a.AUDIO_TRACK_SWITCHING,s.a.AUDIO_TRACK_LOADED,s.a.KEY_LOADED,s.a.FRAG_LOADED,s.a.FRAG_PARSING_INIT_SEGMENT,s.a.FRAG_PARSING_DATA,s.a.FRAG_PARSED,s.a.ERROR,s.a.BUFFER_RESET,s.a.BUFFER_CREATED,s.a.BUFFER_APPENDED,s.a.BUFFER_FLUSHED,s.a.INIT_PTS_FOUND));return i.fragmentTracker=r,i.config=n.config,i.audioCodecSwap=!1,i._state=Je,i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},t.prototype.onHandlerDestroyed=function(){this.state=Je,this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},t.prototype.onInitPtsFound=function(e){var t=e.id,n=e.frag.cc,r=e.initPTS;"main"===t&&(this.initPTS[n]=r,this.videoTrackCC=n,c.b.log("InitPTS for cc: "+n+" found from video track: "+r),this.state===dt&&this.tick())},t.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(c.b.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=et):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=$e),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=Je},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Je},t.prototype.doTick=function(){var e=void 0,t=void 0,n=void 0,r=this.hls,i=r.config;switch(this.state){case ut:case tt:case ct:break;case $e:this.state=at,this.loadedmetadata=!1;break;case et:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!i.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,l=this.videoBuffer?this.videoBuffer:this.media,u=H.bufferInfo(o,e,i.maxBufferHole),d=H.bufferInfo(l,e,i.maxBufferHole),h=u.len,f=u.end,p=this.fragPrevious,m=Math.min(i.maxBufferLength,i.maxMaxBufferLength),g=Math.max(m,d.len),v=this.audioSwitch,y=this.trackId;if((h<g||v)&&y<a.length){if("undefined"===typeof(n=a[y].details)){this.state=at;break}if(!v&&!n.live&&p&&p.sn===n.endSN&&!u.nextStart&&(!this.media.seeking||this.media.duration-f<p.duration/2)){this.hls.trigger(s.a.BUFFER_EOS,{type:"audio"}),this.state=lt;break}var b=n.fragments,w=b.length,_=b[0].start,E=b[w-1].start+b[w-1].duration,S=void 0;if(v)if(n.live&&!n.PTSKnown)c.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),f=0;else if(f=e,n.PTSKnown&&e<_){if(!(u.end>_||u.nextStart))return;c.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=_+.05}if(n.initSegment&&!n.initSegment.data)S=n.initSegment;else if(f<=_){if(S=b[0],null!==this.videoTrackCC&&S.cc!==this.videoTrackCC&&(S=function(e,t){return B.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}(b,this.videoTrackCC)),n.live&&S.loadIdx&&S.loadIdx===this.fragLoadIdx){var x=u.nextStart?u.nextStart:_;return c.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(x+.05)),void(this.media.currentTime=x+.05)}}else{var T=void 0,O=i.maxFragLookUpTolerance,k=p?b[p.sn-b[0].sn+1]:void 0,M=function(e){var t=Math.min(O,e.duration);return e.start+e.duration-t<=f?1:e.start-t>f&&e.start?-1:0};f<E?(f>E-O&&(O=0),T=k&&!M(k)?k:B.search(b,M)):T=b[w-1],T&&(S=T,_=T.start,p&&S.level===p.level&&S.sn===p.sn&&(S.sn<n.endSN?(S=b[S.sn+1-n.startSN],c.b.log("SN just loaded, load next one: "+S.sn)):S=null))}S&&(S.encrypted?(c.b.log("Loading key for "+S.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+y),this.state=nt,r.trigger(s.a.KEY_LOADING,{frag:S})):(c.b.log("Loading "+S.sn+", cc: "+S.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+y+", currentTime:"+e+",bufferEnd:"+f.toFixed(3)),(v||this.fragmentTracker.getState(S)===j)&&(this.fragCurrent=S,this.startFragRequested=!0,isNaN(S.sn)||(this.nextLoadPosition=S.start+S.duration),r.trigger(s.a.FRAG_LOADING,{frag:S}),this.state=rt)))}break;case at:(t=this.tracks[this.trackId])&&t.details&&(this.state=et);break;case it:var A=Qe.now(),C=this.retryDate,L=(o=this.media)&&o.seeking;(!C||A>=C||L)&&(c.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=et);break;case dt:var P=this.videoTrackCC;if(void 0===this.initPTS[P])break;var R=this.waitingFragment;if(R){var I=R.frag.cc;P!==I?(t=this.tracks[this.trackId]).details&&t.details.live&&(c.b.warn("Waiting fragment CC ("+I+") does not match video track CC ("+P+")"),this.waitingFragment=null,this.state=et):(this.state=rt,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=et}},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(c.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){this.state===lt&&(this.state=et),this.media&&(this.lastCurrentTime=this.media.currentTime),this.tick()},t.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},t.prototype.onAudioTracksUpdated=function(e){c.b.log("audio tracks updated"),this.tracks=e.audioTracks},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=tt,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=et),this.tick()},t.prototype.onAudioTrackLoaded=function(e){var t=e.details,n=e.id,r=this.tracks[n],i=t.totalduration,a=0;if(c.b.log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.live){var o=r.details;o&&t.fragments.length>0?(ne(o,t),a=t.fragments[0].start,t.PTSKnown?c.b.log("live audio playlist sliding:"+a.toFixed(3)):c.b.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,c.b.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;isNaN(s)?this.startPosition=0:(c.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===at&&(this.state=et),this.tick()},t.prototype.onKeyLoaded=function(){this.state===nt&&(this.state=et,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag;if(this.state===rt&&t&&"audio"===n.type&&n.level===t.level&&n.sn===t.sn){var r=this.tracks[this.trackId],i=r.details,a=i.totalduration,o=t.level,l=t.sn,u=t.cc,d=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",h=this.stats=e.stats;if("initSegment"===l)this.state=et,h.tparsed=h.tbuffered=Qe.now(),i.initSegment.data=e.payload,this.hls.trigger(s.a.FRAG_BUFFERED,{stats:h,frag:t,id:"audio"}),this.tick();else{this.state=ot,this.appended=!1,this.demuxer||(this.demuxer=new J(this.hls,"audio"));var f=this.initPTS[u],p=i.initSegment?i.initSegment.data:[];i.initSegment||void 0!==f?(this.pendingBuffering=!0,c.b.log("Demuxing "+l+" of ["+i.startSN+" ,"+i.endSN+"],track "+o),this.demuxer.push(e.payload,p,d,null,t,a,!1,f)):(c.b.log("unknown video PTS for continuity counter "+u+", waiting for video PTS before demuxing audio frag "+l+" of ["+i.startSN+" ,"+i.endSN+"],track "+o),this.waitingFragment=e,this.state=dt)}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===ot){var r=e.tracks,i=void 0;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=e.id,this.hls.trigger(s.a.BUFFER_CODECS,r),c.b.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var a=i.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.a.BUFFER_APPENDING,o))}this.tick()}}},t.prototype.onFragParsingData=function(e){var t=this,n=this.fragCurrent,r=e.frag;if(n&&"audio"===e.id&&"audio"===e.type&&r.sn===n.sn&&r.level===n.level&&this.state===ot){var i=this.trackId,a=this.tracks[i],l=this.hls;isNaN(e.endPTS)&&(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),n.addElementaryStream(v.ElementaryStreamTypes.AUDIO),c.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),te(a.details,n,e.startPTS,e.endPTS);var u=this.audioSwitch,d=this.media,h=!1;if(u&&d)if(d.readyState){var f=d.currentTime;c.b.log("switching audio track : currentTime:"+f),f>=e.startPTS&&(c.b.log("switching audio track : flushing all audio"),this.state=ct,l.trigger(s.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),h=!0,this.audioSwitch=!1,l.trigger(s.a.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,l.trigger(s.a.AUDIO_TRACK_SWITCHED,{id:i});var p=this.pendingData;if(!p)return c.b.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void l.trigger(s.a.ERROR,{type:o.b.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach((function(t){t&&t.length&&p.push({type:e.type,data:t,parent:"audio",content:"data"})})),!h&&p.length&&(p.forEach((function(e){t.state===ot&&(t.pendingBuffering=!0,t.hls.trigger(s.a.BUFFER_APPENDING,e))})),this.pendingData=[],this.appended=!0)),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===ot&&(this.stats.tparsed=Qe.now(),this.state=st,this._checkAppendedParsed())},t.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},t.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},t.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==ot&&t!==st||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(this.state===st&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=Qe.now(),n.trigger(s.a.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;c.b.log("audio buffered : "+re.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(s.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=et}this.tick()}},t.prototype.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case o.a.FRAG_LOAD_ERROR:case o.a.FRAG_LOAD_TIMEOUT:var n=e.frag;if(n&&"audio"!==n.type)break;if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var i=this.config;if(r<=i.fragLoadingMaxRetry){this.fragLoadError=r;var a=Math.min(Math.pow(2,r-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);c.b.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=Qe.now()+a,this.state=it}else c.b.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=ut}break;case o.a.AUDIO_TRACK_LOAD_ERROR:case o.a.AUDIO_TRACK_LOAD_TIMEOUT:case o.a.KEY_LOAD_ERROR:case o.a.KEY_LOAD_TIMEOUT:this.state!==ut&&(this.state=e.fatal?ut:et,c.b.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case o.a.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===ot||this.state===st)){var l=this.mediaBuffer,u=this.media.currentTime;if(l&&H.isBuffered(l,u)&&H.isBuffered(l,u+.5)){var d=this.config;d.maxMaxBufferLength>=d.maxBufferLength&&(d.maxMaxBufferLength/=2,c.b.warn("AudioStreamController: reduce max buffer length to "+d.maxMaxBufferLength+"s")),this.state=et}else c.b.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=ct,this.hls.trigger(s.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},t.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(c.b.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach((function(t){e.hls.trigger(s.a.BUFFER_APPENDING,t)})),this.appended=!0,this.pendingData=[],this.state=st):(this.state=et,this.fragPrevious=null,this.tick())},Xe(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,c.b.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(ce),ft=function(){if("undefined"!==typeof window&&window.VTTCue)return window.VTTCue;var e={"":!0,lr:!0,rl:!0},t={start:!0,middle:!0,end:!0,left:!0,right:!0};function n(e){return"string"===typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function i(t,i,a){var o=this,s=function(){if("undefined"!==typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),c={};s?o=document.createElement("custom"):c.enumerable=!0,o.hasBeenReset=!1;var l="",u=!1,d=t,h=i,f=a,p=null,m="",g=!0,v="auto",y="start",b=50,w="middle",_=50,E="middle";if(Object.defineProperty(o,"id",r({},c,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(o,"pauseOnExit",r({},c,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(o,"startTime",r({},c,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",r({},c,{get:function(){return h},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",r({},c,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",r({},c,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",r({},c,{get:function(){return m},set:function(t){var n=function(t){return"string"===typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");m=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",r({},c,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",r({},c,{get:function(){return v},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",r({},c,{get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",r({},c,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",r({},c,{get:function(){return w},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",r({},c,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",r({},c,{get:function(){return E},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),o.displayState=void 0,s)return o}return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}(),pt=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function mt(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new pt,this.regionList=[]}function gt(){this.values=Object.create(null)}function vt(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"===typeof i[a]){var o=i[a].split(n);2===o.length&&t(o[0],o[1])}}gt.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var yt=new ft(0,0,0),bt="middle"===yt.align?"middle":"center";function wt(e,t,n){var r=e;function i(){var t=function(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),a(),t.endTime=i(),a(),function(e,t){var r=new gt;vt(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start",bt,"end"]);break;case"position":a=t.split(","),r.percent(e,a[0]),2===a.length&&r.alt("positionAlign",a[1],["start",bt,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",bt,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===yt.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",bt);var a=r.get("position","auto");"auto"===a&&50===yt.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function _t(e){return e.replace(/<br(?: \/)?>/gi,"\n")}mt.prototype={parse:function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=_t(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r=void 0;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(r=n()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:r=n(),t.state){case"HEADER":/:/.test(r)?vt(r,(function(e,t){}),/:/):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new ft(0,0,""),t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{wt(r,t.cue,t.regionList)}catch(s){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID");continue}}}catch(s){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}};var Et=mt;function St(e,t,n,r){for(var i=void 0,a=void 0,o=void 0,s=void 0,c=void 0,l=window.VTTCue||window.TextTrackCue,u=0;u<r.rows.length;u++)if(o=!0,s=0,c="",!(i=r.rows[u]).isEmpty()){for(var d=0;d<i.chars.length;d++)i.chars[d].uchar.match(/\s/)&&o?s++:(c+=i.chars[d].uchar,o=!1);i.cueStartTime=t,t===n&&(n+=1e-4),a=new l(t,n,_t(c.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=u+1:a.line=u>7?u-2:u+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Tt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ot=function(e){var t=e;return Tt.hasOwnProperty(e)&&(t=Tt[e]),String.fromCharCode(t)},kt={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Mt={17:2,18:4,21:6,22:8,23:10,19:13,20:15},At={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ct={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Lt=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Pt={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e],this.verboseLevel}},Rt=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},It=function(){function e(t,n,r,i,a){xt(this,e),this.foreground=t||"white",this.underline=n||!1,this.italics=r||!1,this.background=i||"black",this.flash=a||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),Nt=function(){function e(t,n,r,i,a,o){xt(this,e),this.uchar=t||" ",this.penState=new It(n,r,i,a,o)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),jt=function(){function e(){xt(this,e),this.chars=[];for(var t=0;t<100;t++)this.chars.push(new Nt);this.pos=0,this.currPenState=new It}return e.prototype.equals=function(e){for(var t=!0,n=0;n<100;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(Pt.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(Pt.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=Ot(e);this.pos>=100?Pt.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t=void 0;for(t=e;t<100;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),Dt=function(){function e(){xt(this,e),this.rows=[];for(var t=0;t<15;t++)this.rows.push(new jt);this.currRow=14,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},e.prototype.equals=function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){Pt.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){Pt.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[r].cueStartTime;if(a&&a<Pt.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(i.rows[r+o])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var c=e.indent,l=Math.max(c-1,0);s.setCursor(e.indent),e.color=s.chars[l].penState.foreground}var u={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(u)},e.prototype.setBkgData=function(e){Pt.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){Pt.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),Pt.log("INFO","Rolling up")}else Pt.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(r=i+1,e?t.push("Row "+r+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},e.prototype.getTextAndFormat=function(){return this.rows},e}(),zt=function(){function e(t,n){xt(this,e),this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Dt,this.nonDisplayedMemory=new Dt,this.lastOutputScreen=new Dt,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,Pt.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";Pt.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(Pt.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){Pt.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){Pt.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){Pt.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){Pt.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){Pt.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){Pt.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){Pt.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){Pt.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){Pt.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){Pt.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){Pt.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(Pt.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,Pt.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){Pt.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}Pt.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Pt.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),Ft=function(){function e(t,n,r){xt(this,e),this.field=t||1,this.outputs=[n,r],this.channels=[new zt(1,n),new zt(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var n=void 0,r=void 0,i=void 0,a=!1;this.lastTime=e,Pt.setTime(e);for(var o=0;o<t.length;o+=2)r=127&t[o],i=127&t[o+1],0!==r||0!==i?(Pt.log("DATA","["+Rt([t[o],t[o+1]])+"] -> ("+Rt([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),n||(a=this.parseChars(r,i))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(a):Pt.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,Pt.log("WARNING","Couldn't parse cleaned data "+Rt([r,i])+" orig: "+Rt([t[o],t[o+1]])))):this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var n=null;if(!((20===e||28===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,Pt.log("DEBUG","Repeated command ("+Rt([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var r=this.channels[n-1];return 20===e||28===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},e.prototype.parseMidrow=function(e,t){var n=null;return(17===e||25===e)&&t>=32&&t<=47&&((n=17===e?1:2)!==this.currChNr?(Pt.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(t),Pt.log("DEBUG","MIDROW ("+Rt([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var n,r=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=t>=64&&t<=95?1===n?kt[e]:At[e]:1===n?Mt[e]:Ct[e];var i=this.interpretPAC(r,t);return this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},e.prototype.interpretPAC=function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},e.prototype.parseChars=function(e,t){var n=null,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),i>=17&&i<=19){var a=t;a=17===i?t+80:18===i?t+112:t+144,Pt.log("INFO","Special char '"+Ot(a)+"' in channel "+n),r=[a]}else e>=32&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var o=Rt(r);Pt.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},e.prototype.parseBackgroundAttributes=function(e,t){var n,r=void 0,i=void 0;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(r={},16===e||24===e?(i=Math.floor((t-32)/2),r.background=Lt[i],t%2===1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),n=e<24?1:2,this.channels[n-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}(),Ut=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timelineController=t,this.trackName=n,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e}(),Bt=function(e,t,n){return e.substr(n||0,t.length)===t},Ht=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()},Vt={parse:function(e,t,n,r,i,a){var o=Object(Ae.b)(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),s="00:00.000",c=0,l=0,u=0,d=[],h=void 0,f=!0,p=new Et;p.oncue=function(e){var t=n[r],i=n.ccOffset;t&&t.new&&(void 0!==l?i=n.ccOffset=t.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;i&&i.new;)e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC];e.presentationOffset=n}(n,r,u)),u&&(i=u+n.ccOffset-n.presentationOffset),e.startTime+=i-l,e.endTime+=i-l,e.id=Ht(e.startTime.toString())+Ht(e.endTime.toString())+Ht(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&d.push(e)},p.onparsingerror=function(e){h=e},p.onflush=function(){h&&a?a(h):i(d)},o.forEach((function(e){if(f){if(Bt(e,"X-TIMESTAMP-MAP=")){f=!1,e.substr(16).split(",").forEach((function(e){Bt(e,"LOCAL:")?s=e.substr(6):Bt(e,"MPEGTS:")&&(c=parseInt(e.substr(7)))}));try{c-=t=t<0?t+8589934592:t,l=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),r=parseInt(e.substr(-9,2)),i=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)?-1:(t+=1e3*n,t+=6e4*r,t+=36e5*i)}(s)/1e3,u=c/9e4,-1===l&&(h=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(n){h=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(f=!1)}p.parse(e+"\n")})),p.flush()}},Gt=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MEDIA_ATTACHING,s.a.MEDIA_DETACHING,s.a.FRAG_PARSING_USERDATA,s.a.FRAG_DECRYPTED,s.a.MANIFEST_LOADING,s.a.MANIFEST_LOADED,s.a.FRAG_LOADED,s.a.LEVEL_SWITCHING,s.a.INIT_PTS_FOUND));if(r.hls=n,r.config=n.config,r.enabled=!0,r.Cues=n.config.cueHandler,r.textTracks=[],r.tracks=[],r.unparsedVttFrags=[],r.initPTS=void 0,r.cueRanges=[],r.captionsTracks={},r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode}},r.config.enableCEA708Captions){var i=new Ut(r,"textTrack1"),a=new Ut(r,"textTrack2");r.cea608Parser=new Ft(0,i,a)}return r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.addCues=function(e,t,n,r){for(var i,a,o,s,c=this.cueRanges,l=!1,u=c.length;u--;){var d=c[u],h=(i=d[0],a=d[1],o=t,s=n,Math.min(a,s)-Math.max(i,o));if(h>=0&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],n),l=!0,h/(n-t)>.5))return}l||c.push([t,n]),this.Cues.newCue(this.captionsTracks[e],t,n,r)},t.prototype.onInitPtsFound=function(e){var t=this;"undefined"===typeof this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach((function(e){t.onFragLoaded(e)})),this.unparsedVttFrags=[])},t.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},t.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],n=t.label,r=t.languageCode,i=this.captionsTracks;if(!i[e]){var a=this.getExistingTrack(e);if(a)i[e]=a,Le(i[e]),Ce(i[e],this.media);else{var o=this.createTextTrack("captions",n,r);o&&(o[e]=!0,i[e]=o)}}},t.prototype.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},t.prototype.destroy=function(){h.prototype.destroy.call(this)},t.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},t.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){Le(e[t]),delete e[t]}))},t.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},t.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)Le(t[n])}},t.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,r){var i=void 0;if(r<n.length){var a=n[r];(function(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)})(a,e)&&(i=a)}i||(i=t.createTextTrack("subtitles",e.name,e.lang)),e.default?i.mode=t.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",t.textTracks.push(i)}))}},t.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},t.prototype.onFragLoaded=function(e){var t=e.frag,n=e.payload;if("main"===t.type){var r=t.sn;if(r!==this.lastSn+1){var i=this.cea608Parser;i&&i.reset()}this.lastSn=r}else if("subtitle"===t.type)if(n.byteLength){if("undefined"===typeof this.initPTS)return void this.unparsedVttFrags.push(e);var a=t.decryptdata;null!=a&&null!=a.key&&"AES-128"===a.method||this._parseVTTs(t,n)}else this.hls.trigger(s.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},t.prototype._parseVTTs=function(e,t){var n=this.vttCCs;n[e.cc]||(n[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var r=this.textTracks,i=this.hls;Vt.parse(t,this.initPTS,n,e.cc,(function(t){var n=r[e.trackId];"disabled"!==n.mode?(t.forEach((function(e){if(!n.cues.getCueById(e.id))try{n.addCue(e)}catch(r){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,n.addCue(t)}})),i.trigger(s.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):i.trigger(s.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}),(function(t){c.b.log("Failed to parse VTT cue: "+t),i.trigger(s.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}))},t.prototype.onFragDecrypted=function(e){var t=e.payload,n=e.frag;if("subtitle"===n.type){if("undefined"===typeof this.initPTS)return void this.unparsedVttFrags.push(e);this._parseVTTs(n,t)}},t.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}},t.prototype.extractCea608Data=function(e){for(var t=31&e[0],n=2,r=void 0,i=void 0,a=void 0,o=[],s=0;s<t;s++)r=e[n++],i=127&e[n++],a=127&e[n++],0===i&&0===a||0!==(4&r)&&0===(3&r)&&(o.push(i),o.push(a));return o},t}(h),Wt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function qt(e){for(var t=[],n=0;n<e.length;n++)"subtitles"===e[n].kind&&t.push(e[n]);return t}var Yt=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MEDIA_ATTACHED,s.a.MEDIA_DETACHING,s.a.MANIFEST_LOADING,s.a.MANIFEST_LOADED,s.a.SUBTITLE_TRACK_LOADED));return r.tracks=[],r.trackId=-1,r.media=null,r.subtitleDisplay=!0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=qt(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack=e}},t.prototype.destroy=function(){h.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){t.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},t.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,n=e.subtitles||[];this.tracks=n,this.trackId=-1,this.hls.trigger(s.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach((function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)}))},t.prototype.onTick=function(){var e=this.trackId,t=this.tracks[e];if(t){var n=t.details;n&&!n.live||(c.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(s.a.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},t.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(c.b.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval((function(){t.onTick()}),1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&this._stopTimer())},t.prototype.setSubtitleTrackInternal=function(e){var t=this.hls,n=this.tracks;if(!("number"!==typeof e||e<-1||e>=n.length)&&(this._stopTimer(),this.trackId=e,c.b.log("switching to subtitle track "+e),t.trigger(s.a.SUBTITLE_TRACK_SWITCH,{id:e}),-1!==e)){var r=n[e],i=r.details;i&&!i.live||(c.b.log("(re)loading playlist for subtitle track "+e),t.trigger(s.a.SUBTITLE_TRACK_LOADING,{url:r.url,id:e}))}},t.prototype._stopTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},t.prototype._toggleTrackModes=function(e){var t=this.media,n=this.subtitleDisplay,r=this.trackId;if(t){var i=qt(t.textTracks);if(-1===e)[].slice.call(i).forEach((function(e){e.mode="disabled"}));else{var a=i[r];a&&(a.mode="disabled")}var o=i[e];o&&(o.mode=n?"showing":"hidden")}},Wt(t,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this.setSubtitleTrackInternal(e))}}]),t}(h),Zt=n(7),Kt=window.performance,Xt="STOPPED",Qt="IDLE",Jt="KEY_LOADING",$t="FRAG_LOADING",en=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MEDIA_ATTACHED,s.a.ERROR,s.a.KEY_LOADED,s.a.FRAG_LOADED,s.a.SUBTITLE_TRACKS_UPDATED,s.a.SUBTITLE_TRACK_SWITCH,s.a.SUBTITLE_TRACK_LOADED,s.a.SUBTITLE_FRAG_PROCESSED));return r.config=n.config,r.vttFragSNsProcessed={},r.vttFragQueues=void 0,r.currentlyProcessing=null,r.state=Xt,r.currentTrackId=-1,r.decrypter=new Zt.a(n.observer,n.config),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroyed=function(){this.state=Xt},t.prototype.clearVttFragQueues=function(){var e=this;this.vttFragQueues={},this.tracks.forEach((function(t){e.vttFragQueues[t.id]=[]}))},t.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=e,this.hls.trigger(s.a.FRAG_LOADING,{frag:e}),this.state=$t}},t.prototype.onSubtitleFragProcessed=function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.state=Qt,this.nextFrag()},t.prototype.onMediaAttached=function(){this.state=Qt},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},t.prototype.doTick=function(){var e=this;switch(this.state){case Qt:var t,n=this.tracks,r=this.currentTrackId,i=this.vttFragSNsProcessed[r],a=this.vttFragQueues[r],o=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!n)break;if(r<n.length&&(t=n[r].details),"undefined"===typeof t)break;t.fragments.forEach((function(t){(function(e){return i.indexOf(e.sn)>-1})(t)||t.sn===o||function(e){return a.some((function(t){return t.sn===e.sn}))}(t)||(t.encrypted?(c.b.log("Loading key for "+t.sn),e.state=Jt,e.hls.trigger(s.a.KEY_LOADING,{frag:t})):(t.trackId=r,a.push(t),e.nextFrag()))}))}},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;c.b.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach((function(e){t.vttFragSNsProcessed[e.id]=[]}))},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.tick()}},t.prototype.onSubtitleTrackLoaded=function(){this.tick()},t.prototype.onKeyLoaded=function(){this.state===Jt&&(this.state=Qt,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag.decryptdata,r=e.frag,i=this.hls;if(this.state===$t&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&null!=n&&null!=n.key&&"AES-128"===n.method){var a=void 0;try{a=Kt.now()}catch(o){a=Date.now()}this.decrypter.decrypt(e.payload,n.key.buffer,n.iv.buffer,(function(e){var t=void 0;try{t=Kt.now()}catch(o){t=Date.now()}i.trigger(s.a.FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:a,tdecrypt:t}})}))}},t}(ce),tn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nn=window.XMLHttpRequest,rn="com.widevine.alpha",an="com.microsoft.playready",on=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,s.a.MEDIA_ATTACHED,s.a.MANIFEST_PARSED));return r._widevineLicenseUrl=n.config.widevineLicenseUrl,r._licenseXhrSetup=n.config.licenseXhrSetup,r._emeEnabled=n.config.emeEnabled,r._requestMediaKeySystemAccess=n.config.requestMediaKeySystemAccessFunc,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._isMediaEncrypted=!1,r._requestLicenseFailureCount=0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getLicenseServerUrl=function(e){var t=void 0;switch(e){case rn:t=this._widevineLicenseUrl;break;default:t=null}return t||(c.b.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(s.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,n){var r=this,i=function(e,t,n){switch(e){case rn:return function(e,t,n){var r={videoCapabilities:[]};return t.forEach((function(e){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})})),[r]}(0,n);default:throw Error("Unknown key-system: "+e)}}(e,0,n);i?(c.b.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,i).then((function(t){r._onMediaKeySystemAccessObtained(e,t)})).catch((function(t){c.b.error('Failed to obtain key-system "'+e+'" access:',t)}))):c.b.warn("Can not create config for key-system (maybe because platform is not supported):",e)},t.prototype._onMediaKeySystemAccessObtained=function(e,t){var n=this;c.b.log('Access for key-system "'+e+'" obtained');var r={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r),t.createMediaKeys().then((function(t){r.mediaKeys=t,c.b.log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated()})).catch((function(e){c.b.error("Failed to create media-keys:",e)}))},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},t.prototype._onNewMediaKeySession=function(e){var t=this;c.b.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(n){t._onKeySessionMessage(e,n.message)}),!1)},t.prototype._onKeySessionMessage=function(e,t){c.b.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){c.b.log("Received license data, updating key-session"),e.update(t)}))},t.prototype._onMediaEncrypted=function(e,t){c.b.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return c.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(s.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_KEYS,fatal:!0});c.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return c.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(s.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)c.b.warn("Key-Session already initialized but requested again");else{var n=t.mediaKeysSession;n||(c.b.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(s.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_SESSION,fatal:!0}));var r=this._mediaEncryptionInitDataType,i=this._mediaEncryptionInitData;c.b.log('Generating key-session request for "'+r+'" init data type'),t.mediaKeysSessionInitialized=!0,n.generateRequest(r,i).then((function(){c.b.debug("Key-session generation succeeded")})).catch((function(t){c.b.error("Error generating key-session request:",t),e.hls.trigger(s.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},t.prototype._createLicenseXhr=function(e,t,n){var r=new nn,i=this._licenseXhrSetup;try{if(i)try{i(r,e)}catch(a){r.open("POST",e,!0),i(r,e)}r.readyState||r.open("POST",e,!0)}catch(a){return c.b.error("Error setting up key-system license XHR",a),void this.hls.trigger(s.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,n),r},t.prototype._onLicenseRequestReadyStageChange=function(e,t,n,r){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,c.b.log("License request succeeded"),r(e.response);else{if(c.b.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var i=3-this._requestLicenseFailureCount+1;return c.b.warn("Retrying license request, "+i+" attempts left"),void this._requestLicense(n,r)}this.hls.trigger(s.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var n=void 0;return e.mediaKeySystemDomain===an?c.b.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===rn?n=t:c.b.error("Unsupported key-system:",e.mediaKeySystemDomain),n},t.prototype._requestLicense=function(e,t){c.b.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return c.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(s.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),i=this._createLicenseXhr(r,e,t);c.b.log("Sending license request to URL: "+r),i.send(this._generateLicenseRequestChallenge(n,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var n=e.media;this._media=n,n.addEventListener("encrypted",(function(e){t._onMediaEncrypted(e.initDataType,e.initData)}))}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map((function(e){return e.audioCodec})),n=e.levels.map((function(e){return e.videoCodec}));this._attemptKeySystemAccess(rn,t,n)}},tn(t,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),t}(h),sn={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ye,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:De,bufferController:Fe,capLevelController:Be,fpsController:Ve,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:"undefined"!==typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null};sn.subtitleStreamController=en,sn.subtitleTrackController=Yt,sn.timelineController=Gt,sn.cueHandler=r,sn.enableCEA708Captions=!0,sn.enableWebVTT=!0,sn.captionsTextTrack1Label="English",sn.captionsTextTrack1LanguageCode="en",sn.captionsTextTrack2Label="Spanish",sn.captionsTextTrack2LanguageCode="es",sn.audioStreamController=ht,sn.audioTrackController=Ke,sn.emeController=on;var cn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(13);var un=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ln(this,e);var r=e.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var i in r)i in n||(n[i]=r[i]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(c.a)(n.debug),this.config=n,this._autoLevelCapping=-1;var a=this.observer=new G.a;a.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e,e].concat(n))},a.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.removeListener.apply(a,[e].concat(n))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.once=a.once.bind(a),this.trigger=a.trigger.bind(a);var o=this.abrController=new n.abrController(this),s=new n.bufferController(this),l=new n.capLevelController(this),u=new n.fpsController(this),d=new R(this),h=new I(this),f=new N(this),p=new Pe(this),m=this.levelController=new Me(this),g=new U(this),v=this.streamController=new xe(this,g),y=[m,v],b=n.audioStreamController;b&&y.push(new b(this,g)),this.networkControllers=y;var w=[d,h,f,o,s,l,u,p,g];if(b=n.audioTrackController){var _=new b(this);this.audioTrackController=_,w.push(_)}if(b=n.subtitleTrackController){var E=new b(this);this.subtitleTrackController=E,w.push(E)}if(b=n.emeController){var S=new b(this);this.emeController=S,w.push(S)}[n.subtitleStreamController,n.timelineController].forEach((function(e){e&&w.push(new e(t))})),this.coreComponents=w}return e.isSupported=function(){return function(){var e=Z(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!n&&!!r}()},cn(e,null,[{key:"version",get:function(){return"0.10.0"}},{key:"Events",get:function(){return s.a}},{key:"ErrorTypes",get:function(){return o.b}},{key:"ErrorDetails",get:function(){return o.a}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:sn},set:function(t){e.defaultConfig=t}}]),e.prototype.destroy=function(){c.b.log("destroy"),this.trigger(s.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(e){c.b.log("attachMedia"),this.media=e,this.trigger(s.a.MEDIA_ATTACHING,{media:e})},e.prototype.detachMedia=function(){c.b.log("detachMedia"),this.trigger(s.a.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(e){e=a.a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),c.b.log("loadSource:"+e),this.url=e,this.trigger(s.a.MANIFEST_LOADING,{url:e})},e.prototype.startLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;c.b.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},e.prototype.stopLoad=function(){c.b.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},e.prototype.swapAudioCodec=function(){c.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){c.b.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},cn(e,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){c.b.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){c.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){c.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){c.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){c.b.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){c.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,n=e?e.length:0,r=0;r<n;r++)if((e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate)>t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),e}();t.default=un},function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,r){var a={};a[r]=[];var o=t.toString(),s=o.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var c,l=s[1],u=new RegExp("(\\\\n|\\W)"+i(l)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");c=u.exec(o);)"dll-reference"!==c[3]&&a[r].push(c[3]);for(u=new RegExp("\\("+i(l)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");c=u.exec(o);)e[c[2]]||(a[r].push(c[1]),e[c[2]]=n(c[1]).m),a[c[2]]=a[c[2]]||[],a[c[2]].push(c[4]);return a}function o(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:n.m},s=t.all?{main:Object.keys(i)}:function(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};o(n);)for(var s=Object.keys(n),c=0;c<s.length;c++){var l=s[c],u=n[l].pop();if(i[l]=i[l]||{},!i[l][u]&&e[l][u]){i[l][u]=!0,r[l]=r[l]||[],r[l].push(u);for(var d=a(e,e[l][u],l),h=Object.keys(d),f=0;f<h.length;f++)n[h[f]]=n[h[f]]||[],n[h[f]]=n[h[f]].concat(d[h[f]])}}return r}(i,e),c="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",c=c+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),c=c+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"})(self);";var l=new window.Blob([c],{type:"text/javascript"});if(t.bare)return l;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),d=new window.Worker(u);return d.objectURL=u,d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(1),a=n(0),o=n(6),s=n.n(o);t.default=function(e){var t=new s.a;t.trigger=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",(function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new r.a(t,o.typeSupported,s,o.vendor);try{Object(a.a)(!0===s.debug)}catch(c){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}})),t.on(i.a.FRAG_DECRYPTED,n),t.on(i.a.FRAG_PARSING_INIT_SEGMENT,n),t.on(i.a.FRAG_PARSED,n),t.on(i.a.ERROR,n),t.on(i.a.FRAG_PARSING_METADATA,n),t.on(i.a.FRAG_PARSING_USERDATA,n),t.on(i.a.INIT_PTS_FOUND,n),t.on(i.a.FRAG_PARSING_DATA,(function(t,n){var r=[],i={event:t,data:n};n.data1&&(i.data1=n.data1.buffer,r.push(n.data1.buffer),delete n.data1),n.data2&&(i.data2=n.data2.buffer,r.push(n.data2.buffer),delete n.data2),e.postMessage(i,r)}))}},function(e,t){String.prototype.endsWith||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(r){}return n}(),t={}.toString,n=function(e){if(null==this)throw TypeError();var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var r=n.length,i=String(e),a=i.length,o=r;if(arguments.length>1){var s=arguments[1];void 0!==s&&(o=s?Number(s):0)!=o&&(o=0)}var c=Math.min(Math.max(o,0),r),l=c-a;if(l<0)return!1;for(var u=-1;++u<a;)if(n.charCodeAt(l+u)!=i.charCodeAt(u))return!1;return!0};e?e(String.prototype,"endsWith",{value:n,configurable:!0,writable:!0}):String.prototype.endsWith=n}()}]).default},e.exports=r()},function(e,t,n){"use strict";n.r(t);var r=n(36),i=n.n(r),a=n(42),o=n.n(a),s=n(119),c=n(120),l=function(e){return"/"===e.charAt(0)?e:"/"+e},u=function(e){return"/"===e.charAt(0)?e.substr(1):e},d=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},h=function(e,t){return d(e,t)?e.substr(t.length):e},f=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},p=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},m=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e,t,n,r){var i=void 0;"string"===typeof e?(i=p(e)).state=t:(void 0===(i=g({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Object(s.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},y=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(c.default)(e.state,t.state)},b=function(){var e=null,t=[];return{setPrompt:function(t){return i()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,a):(i()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}},w=!("undefined"===typeof window||!window.document||!window.document.createElement),_=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},E=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},S=function(e,t){return t(window.confirm(e))},x=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},T=function(){return-1===window.navigator.userAgent.indexOf("Trident")},O=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},k=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")},M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(){try{return window.history.state||{}}catch(e){return{}}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(w,"Browser history needs a DOM");var t=window.history,n=x(),r=!T(),a=e.forceRefresh,s=void 0!==a&&a,c=e.getUserConfirmation,u=void 0===c?S:c,p=e.keyLength,g=void 0===p?6:p,y=e.basename?f(l(e.basename)):"",O=function(e){var t=e||{},n=t.key,r=t.state,a=window.location,o=a.pathname+a.search+a.hash;return i()(!y||d(o,y),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+o+'" to begin with "'+y+'".'),y&&(o=h(o,y)),v(o,r,n)},L=function(){return Math.random().toString(36).substr(2,g)},P=b(),R=function(e){A(J,e),J.length=t.length,P.notifyListeners(J.location,J.action)},I=function(e){k(e)||D(O(e.state))},N=function(){D(O(C()))},j=!1,D=function(e){if(j)j=!1,R();else{P.confirmTransitionTo(e,"POP",u,(function(t){t?R({action:"POP",location:e}):z(e)}))}},z=function(e){var t=J.location,n=U.indexOf(t.key);-1===n&&(n=0);var r=U.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(j=!0,G(i))},F=O(C()),U=[F.key],B=function(e){return y+m(e)},H=function(e,r){i()(!("object"===("undefined"===typeof e?"undefined":M(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=v(e,r,L(),J.location);P.confirmTransitionTo(a,"PUSH",u,(function(e){if(e){var r=B(a),o=a.key,c=a.state;if(n)if(t.pushState({key:o,state:c},null,r),s)window.location.href=r;else{var l=U.indexOf(J.location.key),u=U.slice(0,-1===l?0:l+1);u.push(a.key),U=u,R({action:"PUSH",location:a})}else i()(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}}))},V=function(e,r){i()(!("object"===("undefined"===typeof e?"undefined":M(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=v(e,r,L(),J.location);P.confirmTransitionTo(a,"REPLACE",u,(function(e){if(e){var r=B(a),o=a.key,c=a.state;if(n)if(t.replaceState({key:o,state:c},null,r),s)window.location.replace(r);else{var l=U.indexOf(J.location.key);-1!==l&&(U[l]=a.key),R({action:"REPLACE",location:a})}else i()(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}}))},G=function(e){t.go(e)},W=function(){return G(-1)},q=function(){return G(1)},Y=0,Z=function(e){1===(Y+=e)?(_(window,"popstate",I),r&&_(window,"hashchange",N)):0===Y&&(E(window,"popstate",I),r&&E(window,"hashchange",N))},K=!1,X=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=P.setPrompt(e);return K||(Z(1),K=!0),function(){return K&&(K=!1,Z(-1)),t()}},Q=function(e){var t=P.appendListener(e);return Z(1),function(){Z(-1),t()}},J={length:t.length,action:"POP",location:F,createHref:B,push:H,replace:V,go:G,goBack:W,goForward:q,block:X,listen:Q};return J},P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+u(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u,decodePath:l},slash:{encodePath:l,decodePath:l}},I=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},N=function(e){return window.location.hash=e},j=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(w,"Hash history needs a DOM");var t=window.history,n=O(),r=e.getUserConfirmation,a=void 0===r?S:r,s=e.hashType,c=void 0===s?"slash":s,u=e.basename?f(l(e.basename)):"",p=R[c],g=p.encodePath,x=p.decodePath,T=function(){var e=x(I());return i()(!u||d(e,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+u+'".'),u&&(e=h(e,u)),v(e)},k=b(),M=function(e){P(ee,e),ee.length=t.length,k.notifyListeners(ee.location,ee.action)},A=!1,C=null,L=function(){var e=I(),t=g(e);if(e!==t)j(t);else{var n=T(),r=ee.location;if(!A&&y(r,n))return;if(C===m(n))return;C=null,D(n)}},D=function(e){if(A)A=!1,M();else{k.confirmTransitionTo(e,"POP",a,(function(t){t?M({action:"POP",location:e}):z(e)}))}},z=function(e){var t=ee.location,n=H.lastIndexOf(m(t));-1===n&&(n=0);var r=H.lastIndexOf(m(e));-1===r&&(r=0);var i=n-r;i&&(A=!0,q(i))},F=I(),U=g(F);F!==U&&j(U);var B=T(),H=[m(B)],V=function(e){return"#"+g(u+m(e))},G=function(e,t){i()(void 0===t,"Hash history cannot push state; it is ignored");var n=v(e,void 0,void 0,ee.location);k.confirmTransitionTo(n,"PUSH",a,(function(e){if(e){var t=m(n),r=g(u+t);if(I()!==r){C=t,N(r);var a=H.lastIndexOf(m(ee.location)),o=H.slice(0,-1===a?0:a+1);o.push(t),H=o,M({action:"PUSH",location:n})}else i()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),M()}}))},W=function(e,t){i()(void 0===t,"Hash history cannot replace state; it is ignored");var n=v(e,void 0,void 0,ee.location);k.confirmTransitionTo(n,"REPLACE",a,(function(e){if(e){var t=m(n),r=g(u+t);I()!==r&&(C=t,j(r));var i=H.indexOf(m(ee.location));-1!==i&&(H[i]=t),M({action:"REPLACE",location:n})}}))},q=function(e){i()(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},Y=function(){return q(-1)},Z=function(){return q(1)},K=0,X=function(e){1===(K+=e)?_(window,"hashchange",L):0===K&&E(window,"hashchange",L)},Q=!1,J=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=k.setPrompt(e);return Q||(X(1),Q=!0),function(){return Q&&(Q=!1,X(-1)),t()}},$=function(e){var t=k.appendListener(e);return X(1),function(){X(-1),t()}},ee={length:t.length,action:"POP",location:B,createHref:V,push:G,replace:W,go:q,goBack:Y,goForward:Z,block:J,listen:$};return ee},z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=function(e,t,n){return Math.min(Math.max(e,t),n)},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,a=e.initialIndex,o=void 0===a?0:a,s=e.keyLength,c=void 0===s?6:s,l=b(),u=function(e){F(O,e),O.length=O.entries.length,l.notifyListeners(O.location,O.action)},d=function(){return Math.random().toString(36).substr(2,c)},h=U(o,0,r.length-1),f=r.map((function(e){return v(e,void 0,"string"===typeof e?d():e.key||d())})),p=m,g=function(e,n){i()(!("object"===("undefined"===typeof e?"undefined":z(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=v(e,n,d(),O.location);l.confirmTransitionTo(r,"PUSH",t,(function(e){if(e){var t=O.index+1,n=O.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),u({action:"PUSH",location:r,index:t,entries:n})}}))},y=function(e,n){i()(!("object"===("undefined"===typeof e?"undefined":z(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=v(e,n,d(),O.location);l.confirmTransitionTo(r,"REPLACE",t,(function(e){e&&(O.entries[O.index]=r,u({action:"REPLACE",location:r}))}))},w=function(e){var n=U(O.index+e,0,O.entries.length-1),r=O.entries[n];l.confirmTransitionTo(r,"POP",t,(function(e){e?u({action:"POP",location:r,index:n}):u()}))},_=function(){return w(-1)},E=function(){return w(1)},S=function(e){var t=O.index+e;return t>=0&&t<O.entries.length},x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.setPrompt(e)},T=function(e){return l.appendListener(e)},O={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:p,push:g,replace:y,go:w,goBack:_,goForward:E,canGo:S,block:x,listen:T};return O};n.d(t,"createBrowserHistory",(function(){return L})),n.d(t,"createHashHistory",(function(){return D})),n.d(t,"createMemoryHistory",(function(){return B})),n.d(t,"createLocation",(function(){return v})),n.d(t,"locationsAreEqual",(function(){return y})),n.d(t,"parsePath",(function(){return p})),n.d(t,"createPath",(function(){return m}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e===t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!0;var o={},s=void 0,c=void 0;for(s=0,c=n.length;s<c;s++)o[n[s]]=!0;for(s=0,c=i.length;s<c;s++){var l=i[s],u=e[l],d=t[l];if(u!==d){if(!o[l]||null===u||null===d||"object"!==("undefined"===typeof u?"undefined":r(u))||"object"!==("undefined"===typeof d?"undefined":r(d)))return!0;var h=Object.keys(u),f=Object.keys(d);if(h.length!==f.length)return!0;for(var p=0,m=h.length;p<m;p++){var g=h[p];if(u[g]!==d[g])return!0}}}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,i=n(234);var a=((r=i)&&r.__esModule?r:{default:r}).default,o=a.canUseDOM?window.HTMLElement:{};t.canUseDOM=a.canUseDOM;t.default=o},function(e,t,n){var r=n(90),i=n(63),a=[n(292),n(293),n(307),n(308),n(309)],o=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,s=e.exports=function(e,t,n,a){return this instanceof s?(this.options=i.defaults(a||{},this.options),e?(n&&("string"===typeof n&&(n=r(n,this.options)),this._root=s.call(this,n)),e.cheerio?e:(l(e)&&(e=[e]),Array.isArray(e)?(i.forEach(e,(function(e,t){this[t]=e}),this),this.length=e.length,this):"string"===typeof e&&c(e)?s.call(this,r(e,this.options).children):(t?"string"===typeof t?c(t)?(t=r(t,this.options),t=s.call(this,t)):(e=[t,e].join(" "),t=this._root):t.cheerio||(t=s.call(this,t)):t=this._root,t?t.find(e):this))):this):new s(e,t,n,a)};i.extend(s,n(159)),s.prototype.cheerio="[cheerio object]",s.prototype.options={withDomLvl1:!0,normalizeWhitespace:!1,xmlMode:!1,decodeEntities:!0},s.prototype.length=0,s.prototype.splice=Array.prototype.splice;var c=function(e){if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3)return!0;var t=o.exec(e);return!(!t||!t[1])};s.prototype._make=function(e,t){var n=new this.constructor(e,t,this._root,this.options);return n.prevObject=this,n},s.prototype.toArray=function(){return this.get()},a.forEach((function(e){i.extend(s.prototype,e)}));var l=function(e){return e.name||"text"===e.type||"comment"===e.type}},function(e,t,n){(t=e.exports=n(149)).Stream=t,t.Readable=t,t.Writable=n(115),t.Duplex=n(62),t.Transform=n(153),t.PassThrough=n(270)},function(e,t,n){"use strict";(function(t,r,i){var a=n(93);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;y.WritableState=v;var l=n(79);l.inherits=n(61);var u={deprecate:n(269)},d=n(150),h=n(94).Buffer,f=i.Uint8Array||function(){};var p,m=n(151);function g(){}function v(e,t){s=s||n(62),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),x(e,t))}(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||_(e,n),r?c(w,e,n,o,i):w(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(s=s||n(62),!p.call(y,this)&&!(this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),x(e,t)}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,b(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(b(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var n=E(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(y,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,h.isBuffer(r)||r instanceof f);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=h.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,a);return c}(this,i,s,e,t,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(56),n(267).setImmediate,n(52))},function(e,t,n){var r=n(279),i=n(280),a={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",i=0;i<e.length;i++){var a=e[i];"root"===a.type?n+=c(a.children,t):r.isTag(a)?n+=l(a,t):a.type===r.Directive?n+=u(a):a.type===r.Comment?n+=f(a):a.type===r.CDATA?n+=h(a):n+=d(a,t)}return n};function l(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=function(e,t){if(e){var n,r="";for(var o in e)r&&(r+=" "),r+=!(n=e[o])&&a[o]?o:o+'="'+(t.decodeEntities?i.encodeXML(n):n)+'"';return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=c(e.children,t)),s[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function u(e){return"<"+e.data+">"}function d(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in o||(n=i.encodeXML(n)),n}function h(e){return"<![CDATA["+e.children[0].data+"]]>"}function f(e){return"\x3c!--"+e.data+"--\x3e"}},function(e,t,n){var r=n(80),i=r.isTag,a=r.getText,o=r.getParent,s=r.getChildren,c=r.getSiblings,l=r.hasAttrib,u=r.getName,d=r.getAttributeValue,h=n(300),f=n(157).rules.equals,p=n(81),m=p.trueFunc,g=p.falseFunc;function v(e,t){var n={name:e,value:t};return function(e){return f(e,n)}}function y(e){return function(t){return!!o(t)&&e(t)}}var b={contains:function(e,t){return'"'!==t.charAt(0)&&"'"!==t.charAt(0)||t.charAt(0)!==t.substr(-1)||(t=t.slice(1,-1)),function(n){return e(n)&&a(n).indexOf(t)>=0}},"nth-child":function(e,t){var n=h(t);return n===g?n:n===m?y(e):function(t){for(var r=c(t),a=0,o=0;a<r.length;a++)if(i(r[a])){if(r[a]===t)break;o++}return n(o)&&e(t)}},"nth-last-child":function(e,t){var n=h(t);return n===g?n:n===m?y(e):function(t){for(var r=c(t),a=0,o=r.length-1;o>=0;o--)if(i(r[o])){if(r[o]===t)break;a++}return n(a)&&e(t)}},"nth-of-type":function(e,t){var n=h(t);return n===g?n:n===m?y(e):function(t){for(var r=c(t),a=0,o=0;o<r.length;o++)if(i(r[o])){if(r[o]===t)break;u(r[o])===u(t)&&a++}return n(a)&&e(t)}},"nth-last-of-type":function(e,t){var n=h(t);return n===g?n:n===m?y(e):function(t){for(var r=c(t),a=0,o=r.length-1;o>=0;o--)if(i(r[o])){if(r[o]===t)break;u(r[o])===u(t)&&a++}return n(a)&&e(t)}},checkbox:v("type","checkbox"),file:v("type","file"),password:v("type","password"),radio:v("type","radio"),reset:v("type","reset"),image:v("type","image"),submit:v("type","submit")},w={root:function(e){return!o(e)},empty:function(e){return!s(e).some((function(e){return i(e)||"text"===e.type}))},"first-child":function(e){return function(e){for(var t=0;e&&t<e.length;t++)if(i(e[t]))return e[t]}(c(e))===e},"last-child":function(e){for(var t=c(e),n=t.length-1;n>=0;n--){if(t[n]===e)return!0;if(i(t[n]))break}return!1},"first-of-type":function(e){for(var t=c(e),n=0;n<t.length;n++)if(i(t[n])){if(t[n]===e)return!0;if(u(t[n])===u(e))break}return!1},"last-of-type":function(e){for(var t=c(e),n=t.length-1;n>=0;n--)if(i(t[n])){if(t[n]===e)return!0;if(u(t[n])===u(e))break}return!1},"only-of-type":function(e){for(var t=c(e),n=0,r=t.length;n<r;n++)if(i(t[n])){if(t[n]===e)continue;if(u(t[n])===u(e))return!1}return!0},"only-child":function(e){for(var t=c(e),n=0;n<t.length;n++)if(i(t[n])&&t[n]!==e)return!1;return!0},selected:function(e){if(l(e,"selected"))return!0;if("option"!==u(e))return!1;var t=o(e);if(!t||"select"!==u(t)||l(t,"multiple"))return!1;for(var n=s(t),r=!1,a=0;a<n.length;a++)if(i(n[a]))if(n[a]===e)r=!0;else{if(!r)return!1;if(l(n[a],"selected"))return!1}return r},disabled:function(e){return l(e,"disabled")},enabled:function(e){return!l(e,"disabled")},checked:function(e){return l(e,"checked")||w.selected(e)},parent:function(e){return!w.empty(e)},header:function(e){var t=u(e);return"h1"===t||"h2"===t||"h3"===t||"h4"===t||"h5"===t||"h6"===t},button:function(e){var t=u(e);return"button"===t||"input"===t&&"button"===d(e,"type")},input:function(e){var t=u(e);return"input"===t||"textarea"===t||"select"===t||"button"===t},text:function(e){var t;return"input"===u(e)&&(!(t=d(e,"type"))||"text"===t.toLowerCase())}};function _(e,t,n){if(null===n){if(e.length>1)throw new SyntaxError("pseudo-selector :"+t+" requires an argument")}else if(1===e.length)throw new SyntaxError("pseudo-selector :"+t+" doesn't have any arguments")}var E=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;e.exports={compile:function(e,t,n){var r=t.name,i=t.data;if(n&&n.strict&&!E.test(r))throw SyntaxError(":"+r+" isn't part of CSS3");if("function"===typeof b[r])return _(b[r],r,i),b[r](e,i,n);if("function"===typeof w[r]){var a=w[r];return _(a,r,i),e===m?a:function(t){return a(t,i)&&e(t)}}throw new SyntaxError("unmatched pseudo-class :"+r)},filters:b,pseudos:w}},function(e,t,n){"use strict";e.exports=n(186)},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}n.r(t),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],a=t&&t.split("/")||[],o=e&&r(e),s=t&&r(t),c=o||s;if(e&&r(e)?a=n:n.length&&(a.pop(),a=a.concat(n)),!a.length)return"/";var l=void 0;if(a.length){var u=a[a.length-1];l="."===u||".."===u||""===u}else l=!1;for(var d=0,h=a.length;h>=0;h--){var f=a[h];"."===f?i(a,h):".."===f?(i(a,h),d++):d&&(i(a,h),d--)}if(!c)for(;d--;d)a.unshift("..");!c||""===a[0]||a[0]&&r(a[0])||a.unshift("");var p=a.join("/");return l&&"/"!==p.substr(-1)&&(p+="/"),p}},function(e,t,n){"use strict";n.r(t);var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));var i="undefined"===typeof t?"undefined":r(t);if(i!==("undefined"===typeof n?"undefined":r(n)))return!1;if("object"===i){var a=t.valueOf(),o=n.valueOf();if(a!==t||o!==n)return e(a,o);var s=Object.keys(t),c=Object.keys(n);return s.length===c.length&&s.every((function(r){return e(t[r],n[r])}))}return!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return Math.round(100*e)/100}},function(e,t,n){"use strict";var r=n(118),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=c(t),m=c(n),g=0;g<o.length;++g){var v=o[g];if(!a[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{l(t,v,y)}catch(b){}}}}return t}},function(e,t,n){"use strict";(function(e,r){var i,a=n(166);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(52),n(187)(e))},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(12),o=n(9),s=n(8),c=n(0),l=n.n(c),u=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={loaded:!1},i.handleIntersection=i.handleIntersection.bind(Object(a.a)(i)),i.loadImage=i.loadImage.bind(Object(a.a)(i)),i}return Object(i.a)(n,[{key:"handleIntersection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){t.isIntersecting&&e.loadImage()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.src!==e.src){var n=new Image;n.src=e.src,n.onload=function(){var e=t.refs.wrapper;if(e){var r=e.children[0];e.replaceChild(n,r),e.classList.add("loaded")}}}}},{key:"componentDidMount",value:function(){this.intersectionObserver=new IntersectionObserver(this.handleIntersection,{root:null,threshold:0,rootMargin:"1000px 0px"}),this.intersectionObserver.observe(this.imgElm)}},{key:"componentWillUnmount",value:function(){this.intersectionObserver.disconnect()}},{key:"loadImage",value:function(){var e=this;if(!this.state.loaded){var t=new Image;t.src=this.props.src,t.onload=function(){if(e.imgElm){e.imgElm.setAttribute("src","".concat(e.props.src)),e.imgElm.classList.add("".concat(e.props.effect||"loaded"));var n=e.refs.wrapper;if(n){e.setState({loaded:!0});var r=n.children[0];n.replaceChild(t,r),n.className+=" loaded",e.intersectionObserver.disconnect()}}}}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"".concat(this.props.className," lazyload-img"),ref:"wrapper","data-action":this.props.actionData},l.a.createElement("img",{src:this.props.placeHolder||"",ref:function(t){return e.imgElm=t},alt:this.props.alt||"Zing MP3","data-action":this.props.actionData}),this.props.children)}}]),n}(c.PureComponent);u.defaultProps={className:"",placeHolder:"https://photo-zmp3.zadn.vn/audio_default.png"},t.a=u},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(12),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(1),d=n(26),h=n.n(d),f=function(e){var t=e.closeModal;return l.a.createElement(h.a,{isOpen:!0,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-public-upload-modal z-show"},l.a.createElement("div",{className:"z-modal-content z-double-click"},l.a.createElement("div",{className:"z-title"},"C\xe1ch ph\xe1t b\xe0i h\xe1t m\u1edbi "),l.a.createElement("div",{className:"mar-top-20"},l.a.createElement("i",{className:"icon ic-svg-double-click"}),l.a.createElement("div",{className:"mar-top-20"},"Click nhanh 2 l\u1ea7n (double click) \u0111\u1ec3 ph\xe1t b\xe0i h\xe1t \u0111\u01b0\u1ee3c ch\u1ecdn")),l.a.createElement("button",{onClick:t,className:"z-btn z-btn-shadow mar-top-20"},"\u0110\xe3 hi\u1ec3u")))},p=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={},i.onDoubleClick=i.onDoubleClick.bind(Object(a.a)(i)),i.onClick=i.onClick.bind(Object(a.a)(i)),i.closeRule=i.closeRule.bind(Object(a.a)(i)),i.onContextMenu=i.onContextMenu.bind(Object(a.a)(i)),i}return Object(i.a)(n,[{key:"onDoubleClick",value:function(e){if(!Object(u.k)(e)&&!this.props.isConverting){this.preventClick=!0,clearTimeout(this.clickTimer);var t=this.props,n=t.song,r=t.songs,i=t.songUid,a=t.playlistId,o=t.sourcePlaylist,s=t.trackingSource,c=t.playSongWithPlaylist,l=t.isReplaceQueue,d=t.playSongWithList;c?c():d?d(n,r,{trackingSource:s}):this.props.playSong(n,{songUid:i,sourcePlaylistId:a,sourcePlaylist:o,trackingSource:s,adsSrcId:n.adsSrcId,isReplaceQueue:l},!0)}}},{key:"onClick",value:function(e){var t=this;window.showDCRule||this.props.isConverting||(localStorage.getItem("showDCRule")?window.showDCRule=!0:Object(u.k)(e)||(this.preventClick=!1,this.clickTimer=setTimeout((function(){t.preventClick||(window.showDCRule=!0,localStorage.setItem("showDCRule",!0),t.setState({showRule:!0}))}),200)))}},{key:"closeRule",value:function(){this.setState({showRule:!1})}},{key:"onContextMenu",value:function(e){var t=e.target.getAttribute("class")||"";e.target.getAttribute("href")||t.includes("ic-mv")||(e.preventDefault(),this.props.openPopup?this.props.openPopup(e):this.props.openMoreAction&&this.props.openMoreAction(e))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.outerClassName,r=e.children,i=e.onMouseEnter,a=e.onMouseLeave,o=this.state.showRule;return l.a.createElement(c.Fragment,null,l.a.createElement("li",{className:n,onDoubleClick:this.onDoubleClick,onClick:this.onClick,onMouseLeave:a,onMouseEnter:i,onContextMenu:this.onContextMenu},l.a.createElement("div",{className:t,style:{cursor:"initial"}},r)),o&&l.a.createElement(f,{closeModal:this.closeRule}))}}]),n}(c.Component);p.defaultProps={className:""};t.a=p},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(41),o=n(1),s=n(99),c=function(e){var t=e.song,n=e.isSongInRealtime,r=e.isVipSong,c=e.isHideArtist,l=void 0!==c&&c,u=e.fireGAEvent,d=e.showZma,h=void 0===d||d,f=n&&t.number_top_zing>0,p=h&&t.is_zma,m=t.artists,g=void 0===m?[]:m;g=g.filter((function(e){return e.link}));var v=!Object(o.B)(g),y=!t.isOffical&&!t.isNativeAd,b=Object(o.h)(t.privacy);return i.a.createElement("div",{className:"card-info"},f?i.a.createElement("div",{className:"artist sub"},"Ch\u1ea1m \u0111\u1ec9nh Zing ",t.number_top_zing," l\u1ea7n"):null,i.a.createElement("div",{className:"title"},i.a.createElement("a",{className:f?"":"--z--multiple-line",title:t.title,style:{cursor:"default",userSelect:"none"}},t.title),r&&i.a.createElement("i",{className:"icon ic-svg-vip-account"}),p&&i.a.createElement(s.a,null),y&&i.a.createElement("i",{className:"icon privacy-icon ic-".concat(b?"public":"private","-solid"),title:b?t.user_name?"Upload b\u1edfi ".concat(t.user_name):"":"B\xe0i h\xe1t ri\xeang t\u01b0"})),l?null:i.a.createElement("div",{className:"artist"},v?i.a.createElement(a.a,{items:t.artists,onClick:u}):i.a.createElement("a",{className:"z-alias"},t.artists_names)))};c.defaultProps={isSongInRealtime:!1,isHideArtist:!1},t.a=c},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(12),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(22),d=n(124),h=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).playSong=e.playSong.bind(Object(a.a)(e)),e.playSongDetail=e.playSongDetail.bind(Object(a.a)(e)),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.isPlayed=this.props.isPlaying}},{key:"componentWillReceiveProps",value:function(e){this.isPlayed||e.isPlaying===this.props.isPlaying||(this.isPlayed=!0)}},{key:"playSongDetail",value:function(e){e.preventDefault();var t=this.props,n=t.song,r=t.songUid;(0,t.playSong)(n,{songUid:r,trackingSource:t.trackingSource})}},{key:"playSong",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props,n=t.song,r=t.songUid,i=t.playSong,a=t.trackingSource,o=t.isReplaceQueue,s=t.playSongWithList,c=t.songs;s?s(n,c,{trackingSource:a}):i(n,{songUid:r,trackingSource:a,isReplaceQueue:o},!0)}},{key:"render",value:function(){var e=this.props,t=e.isPlaying,n=e.playingSongId,r=e.song,i=e.className,a=e.isBlock,o=e.thumbnail,s=e.isMixSong,c=e.mixPlayingClass,h=e.mixOrder,f=e.songUid,p=e.playingSongUid;if(!r)return null;var m=Object(u.l)(t,r.id,n);return f&&(m=m&&f===p),s?l.a.createElement("div",{className:i,onClick:this.playSong,"data-action":"play"},l.a.createElement("span",{className:"num ".concat(m?"z-hide":""),"data-action":"play"},h,"."),l.a.createElement("i",{"data-action":"play",className:"icon ic-".concat(m?c:"play")})):l.a.createElement("a",{className:i,onClick:this.playSong,"data-action":"play"},l.a.createElement(d.a,{className:"image",src:o,alt:r.title,actionData:"play"}),l.a.createElement("span",{className:"opac","data-action":"play"}),l.a.createElement("i",{"data-action":"play",className:"icon ".concat(m?"ic-gif-playing-white":"".concat(a?"ic-play-no":"ic-play-circle-outline"))}))}}]),n}(c.Component);h.defaultProps={},t.a=h},function(e,t,n){"use strict";var r=n(35),i=n(6),a=n(7),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(107),d=n(86),h=n(41),f=n(1),p=n(2),m=function(e){var t=e.closeDetail,n=e.playlist,r=void 0===n?{}:n;return l.a.createElement("div",{className:"dropdown-menu-list --z--content-dropdown z-show pad-right-5"},l.a.createElement("a",{onClick:t,className:"menu-link"},l.a.createElement("i",{className:"icon ic-go-left"})," Tr\u1edf v\u1ec1"),l.a.createElement("div",{style:{marginTop:10,maxHeight:180,overflow:"hidden",overflowY:"scroll",paddingRight:15}},!Object(f.B)(r.genres)&&l.a.createElement("div",{className:"info-text category mar-top-10"},l.a.createElement("div",{className:"info-title"},"Th\u1ec3 lo\u1ea1i:"),l.a.createElement(h.a,{items:r.genres,className:"cate-name"})),r.release_date&&r.id!==p.Kc&&l.a.createElement("div",{className:"info-text release"},l.a.createElement("div",{className:"info-title"},"Ph\xe1t h\xe0nh: "),l.a.createElement("span",{className:"cate-name"},r.release_date)),r.listen>0&&l.a.createElement("div",{className:"log-stats w-100 mar-top-20"},l.a.createElement("div",{className:"viewed"},l.a.createElement("i",{className:"icon ic-view"}),l.a.createElement("span",null," ",Object(f.p)(r.listen))),r.like&&r.like>0?l.a.createElement("div",{className:"liked"},l.a.createElement("i",{className:"icon ic-like"}),l.a.createElement("span",null," ",Object(f.p)(r.like))):null),l.a.createElement("div",{className:"info-content"},r.description)))},g=n(129),v=n(87),y=n(22),b=n(68),w=n(70);n.d(t,"a",(function(){return _}));var _=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"open",value:function(e){this.refs.portal.openPortal(e)}},{key:"render",value:function(){var e=this.props,t=e.song,n=e.addToast,r=e.isVip,i=e.isLogin,a=e.actionTypes,o=void 0===a?[]:a,s=e.isInPlayer,c=e.addSongToQueue,d=e.addSongsToQueue,h=e.objectType,f=e.songs,p=e.video,m=e.playlist,g=e.from,v=e.inline,y=e.className,b=e.playlistId,w=e.downloadSongs,_=e.trackingSource,S=e.removeSong,x=e.fireGAEventShare,T=e.fireGAEventFeedback,O=e.isBlock,k=e.showBlockText,M=e.height,A=e.sourcePlaylist,C=e.totalComment,L=e.removeSongFromPlaylist,P=e.editUploadSong,R=e.removePlaylist,I=e.onActivePopup,N=e.likeAction,j=e.liked,D=e.offsetHeight,z=e.removeHistoryPlaylist;return l.a.createElement(u.a,{closeOnOutsideClick:!0,closeOnEsc:!0,className:y,height:M,isInPlayer:s,onActivePopup:I,size:o.length,inline:v,offsetHeight:D,ref:"portal"},(function(e){var a=e.portal,u=e.closePortal,y=e.renderButton;return l.a.createElement(l.a.Fragment,null,y({id:t?t.id:"-"}),a(l.a.createElement(E,{actionTypes:o,object:t||m||p,addToast:n,isVip:r,closePortal:u,isLogin:i,addSongToQueue:c,addSongsToQueue:d,objectType:h,songs:f,from:g,inlineDropdown:v,isInPlayer:s,playlistId:b,downloadSongs:w,trackingSource:_,removeSong:S,removeSongFromPlaylist:L,fireGAEventShare:x,fireGAEventFeedback:T,isBlock:O,showBlockText:k,sourcePlaylist:A,totalComment:C,editUploadSong:P,removePlaylist:R,likeAction:N,liked:j,removeHistoryPlaylist:z})))}))}}]),n}(c.Component),E=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isDetail:!1,totalComment:0},e.setLoading=function(t,n){return e.setState({totalComment:t,radio:n})},e.openDetail=function(){e.setState({isDetail:!0})},e.closeDetail=function(){e.setState({isDetail:!1})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.actionTypes,i=t.objectType,a=t.object,o=Object(r.a)(t,["actionTypes","objectType","object"]),s=this.state,c=s.isDetail,u=s.totalComment,h=s.radio,f="private"===a.privacy;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"".concat(c?"z-hide":""),onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()}},i===p.V&&l.a.createElement(g.a,{song:a,closePortal:o.closePortal,inlineDropdown:o.inlineDropdown,setLoading:this.setLoading}),i===p.V&&l.a.createElement("div",{class:"block-menu"},l.a.createElement("div",{class:"block-menu-items"},l.a.createElement(v.a,{className:"block-menu-link",addToast:o.addToast,isVip:o.isVip,isLogin:o.isLogin,type:p.V,id:a.id,title:a.title,openPopupLogin:o.openPopupLogin,artistNames:a.artists_names,link:Object(y.d)(a.id)},l.a.createElement("i",{className:"icon ic-download"}),l.a.createElement("span",null,"T\u1ea3i xu\u1ed1ng")),l.a.createElement(w.a,{className:"block-menu-link ".concat(f?"z-disabled":""),type:i,id:a.id,link:a.link,text:"Sao ch\xe9p link",icon:"link",fireGAEvent:o.fireGAEventShare,addToast:o.addToast}),l.a.createElement(b.b,{className:"block-menu-link",song:a,isBlock:o.isBlock,showBlockText:o.showBlockText,isInPlayer:o.isInPlayer}))),l.a.createElement("ul",null,n.map((function(t,n){return l.a.createElement(d.a,Object.assign({key:t,type:t,objectType:i,object:a},o,{openDetail:e.openDetail,position:n,totalComment:u||o.totalComment,radio:h}))})))),l.a.createElement("div",{className:"".concat(c?"":"z-hide")},l.a.createElement(m,{closeDetail:this.closeDetail,playlist:a})))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(4),i=n(5),a=n.n(i),o=n(11),s=n(6),c=n(7),l=n(9),u=n(8),d=n(0),h=n.n(d),f=n(84),p=n(41),m=n(67),g=n(1),v=n(23),y=n(2),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={showChild:!1,isLeftChild:!1,isFetching:!0},e.handleClick=function(e){e.stopPropagation()},e.removeChild=function(){e.setState({showChild:!1}),e.props.closePortal&&e.props.closePortal()},e.onMouseEnter=function(){e.state.showChild||(e.appearTimer=setTimeout((function(){var t=!1;e.node&&(e.node.getBoundingClientRect().right+240>window.innerWidth&&(t=!0),e.setState({showChild:!0,isLeftChild:t}))}),300))},e.onMouseLeave=function(){clearTimeout(e.appearTimer)},e.onMouseMouse=function(t){if(!e.dropdown){var n=e.props.inlineDropdown?"z-inline-dropdown":"z-dropdown";e.dropdown=document.getElementById(n)}e.dropdown.contains(t.target)&&!e.node.contains(t.target)&&e.setState({showChild:!1})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.g)(y.zb,{id:this.props.song.id});case 2:t=e.sent,n=t.resp,Object(v.a)(n)&&n.data&&(this.setState({song:n.data}),this.props.setLoading(n.data.total_comment,n.data.radio)),this.setState({isFetching:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.inSongDetail,r=t.song,i=t.closePortal,a=this.state,o=a.showChild,s=a.isLeftChild,c=a.song,l=void 0===c?{}:c,u=a.isFetching;return h.a.createElement("div",{className:"z-card card-40 song-info",ref:function(t){return e.node=t},onClick:this.handleClick,onDoubleClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},h.a.createElement("span",{className:"thumb-40"},h.a.createElement("img",{src:r.thumbnail,alt:""})),h.a.createElement("div",{className:"card-info"},h.a.createElement("div",{className:"title"},h.a.createElement(f.a,{to:r.link,onClick:i,className:"--z--multiple-line",title:r.title},r.title)),!u&&(l.listen>0&&l.like>0?h.a.createElement("div",{className:"log-stats"},h.a.createElement("div",{className:"viewed"},h.a.createElement("i",{className:"icon ic-view"}),h.a.createElement("span",null," ",Object(g.p)(l.listen))),h.a.createElement("div",{className:"liked"},h.a.createElement("i",{className:"icon ic-like",style:{top:3}}),h.a.createElement("span",null," ",Object(g.p)(l.like)))):h.a.createElement("div",{className:"artist"},Object(g.B)(r.artists)?r.artists_names:h.a.createElement(p.a,{items:r.artists})))),o&&h.a.createElement(w,Object.assign({},this.props,{isLeft:s,addSongToPlaylist:this.addSongToPlaylist,removeChild:this.removeChild,onMouseMouse:this.onMouseMouse,inSongDetail:n,songInfo:l})))}}]),n}(d.Component),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={keyword:"",isScroll:!1},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.props.onMouseMouse)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.props.onMouseMouse)}},{key:"render",value:function(){var e=this.props,t=e.isInPlayer,n=e.inPortal,i=e.position,a=void 0===i?1:i,o=e.isLeft,s=e.songInfo,c=(s=void 0===s?{}:s).artists,l=s.album,u=s.composers,d=s.genres,f=s.listen,v=s.like,y=e.closePortal;if(Object(g.B)(c)&&Object(g.B)(l)&&Object(g.B)(u)&&Object(g.B)(d))return null;var b=o?{right:"calc(100% - 10px)",left:"initial"}:{left:"calc(100% - 10px)"};return h.a.createElement("div",{className:"z-playlist-dropdown ".concat(t?"dropdown-mini-player":""," pad-bottom-0 dropdown-menu-list --z--content-dropdown z-show"),style:Object(r.a)({top:n?-37*a-20:-20},b)},h.a.createElement("div",{className:"info-text category mar-top-0"},!Object(g.B)(c)&&f>0&&v>0&&h.a.createElement("div",{className:"mar-bottom-15"},h.a.createElement("div",{className:"info-title"},"Ca s\u0129:"),h.a.createElement(p.a,{onClick:y,items:c.slice(0,3),className:"cate-name",ellipsis:c.length>3})),!Object(g.B)(l)&&h.a.createElement("div",{className:"mar-bottom-15"},h.a.createElement("div",{className:"info-title"},"Album:"),h.a.createElement(m.a,{onClick:y,link:l.link,text:l.title,className:"cate-album"})),!Object(g.B)(u)&&h.a.createElement("div",{className:"mar-bottom-15"},h.a.createElement("div",{className:"info-title"},"S\xe1ng t\xe1c:"),h.a.createElement(p.a,{onClick:y,items:u.slice(0,3),className:"cate-name",ellipsis:u.length>3})),!Object(g.B)(d)&&h.a.createElement("div",{className:"mar-bottom-15"},h.a.createElement("div",{className:"info-title"},"Th\u1ec3 lo\u1ea1i:"),h.a.createElement(p.a,{onClick:y,items:d,className:"cate-name"}))))}}]),n}(d.Component)},function(e,t,n){"use strict";var r,i=n(43),a=n.n(i),o=n(75),s=n(6),c=n(7),l=n(9),u=n(8),d=n(0),h=n.n(d),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){a.a.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"===typeof this.props.children.type&&(t=h.a.cloneElement(this.props.children)),this.portal=a.a.unstable_renderSubtreeIntoContainer(this,t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),n}(h.a.Component);r=a.a.createPortal?o.a:f;t.a=r},function(e,t,n){var r=n(240);e.exports=f,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],f=n.index;if(s+=e.slice(o,f),o=f+d.length,h)s+=h[1];else{var p=e[o],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=p&&p!==m,E="+"===b||"*"===b,S="?"===b||"*"===b,x=n[2]||u,T=v||y;r.push({name:g||a++,prefix:m||"",delimiter:x,optional:S,repeat:E,partial:_,asterisk:!!w,pattern:T?l(T):w?".*":"[^"+c(x)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var a="",s=t||{},c=(i||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!==typeof u){var d,h=s[u.name];if(null==h){if(u.optional){u.partial&&(a+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=c(h[f]),!n[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(h),!n[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');a+=u.prefix+d}}else a+=u}return a}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)o+=c(l);else{var h=c(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+h+f+")*"),o+=f=l.optional?l.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")"}}var p=c(n.delimiter||"/"),m=o.slice(-p.length)===p;return i||(o=(m?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&m?"":"(?="+p+"|$)",u(new RegExp("^"+o,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(f(e[i],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(26),o=n.n(a),s=n(84),c=n(16),l=n(2);t.a=function(e){var t=e.isOpen,n=e.closeModal,r=e.confirm,a=e.content,s=void 0===a?c.l:a,d=e.type,h=void 0===d?l.d.PLAY_SONG:d,f=e.isList,p=e.onlyBlockedArtist,m=void 0!==p&&p;if(!t)return null;var g=h===l.d.ADD_SONG,v=g?"Th\xeam v\xe0o":"Ph\xe1t nh\u1ea1c",y=f?"T\u1ea5t c\u1ea3 b\xe0i h\xe1t b\u1ecb ch\u1eb7n":"B\xe0i h\xe1t b\u1ecb ch\u1eb7n";return g&&(y=f?"Th\xeam t\u1ea5t c\u1ea3 b\xe0i h\xe1t b\u1ecb ch\u1eb7n":"Th\xeam b\xe0i h\xe1t b\u1ecb ch\u1eb7n"),i.a.createElement(o.a,{isOpen:t,onRequestClose:n,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-block-modal z-show",contentLabel:"Chia s\u1ebb"},i.a.createElement(u,{closeModal:n,confirm:r,content:s,confirmText:v,title:y,onlyBlockedArtist:m}))};var u=function(e){var t=e.closeModal,n=e.confirm,r=e.confirmText,a=e.content,o=e.title,c=e.onlyBlockedArtist;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"z-modal-content"},i.a.createElement("div",{className:"z-buy-download-zone z-left pad-20 clearfix"},i.a.createElement("div",{className:"z-title"},o),i.a.createElement("div",{className:"z-copyright-content"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),i.a.createElement(s.a,{to:"/mymusic/block".concat(c?"/artist":""),onClick:t,className:"z-btn-text mar-top-15",style:{display:"inline-block"}},"Danh s\xe1ch ch\u1eb7n"),i.a.createElement("div",{className:"--z--group-button mar-top-10"},i.a.createElement("a",{onClick:t,className:"z-btn z-btn-shadow z-btn-2x z-btn-edit-close"},"Kh\xf4ng"),i.a.createElement("a",{onClick:n,className:"z-btn z-btn-shadow z-btn-2x z-btn-confirm"},r)))))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return v}));var r=n(32),i=n(6),a=n(7),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(121),d=n(29),h=n(137),f=n(100),p=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleThumbUploadSuccess=function(t){var n=e.props,r=n.fileId;(0,n.updateInfo)(r,{thumbnail:t,thumbUploading:!1})},e.handleThumbUploading=function(){var t=e.props,n=t.fileId;(0,t.updateInfo)(n,{thumbUploading:!0})},e.handleThumbUploadError=function(){var t=e.props,n=t.fileId;(0,t.updateInfo)(n,{thumbUploading:!1})},e.togglePublic=function(){e.props.togglePublicSong(e.props.fileId),e.props.openPublicRule()},e.removeFileUpload=function(){var t=e.props,n=t.fileId,r=t.mediaId;e.props.removeFileUpload(n,r)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fileId;e.onProcessing||this.props.processUpload(t)}},{key:"onChange",value:function(e){var t=this.props.fileId,n=Object(r.a)({},e.target.name,e.target.value);this.props.updateInfo(t,n)}},{key:"onChangeGenre",value:function(e){var t=this.props,n=t.fileId;(0,t.updateInfo)(n,{genre:e})}},{key:"onSummit",value:function(){var e=this.props.fileId;this.props.createSong(e)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.artist,r=e.uploadedPer,i=e.size,a=e.file,o=e.savePending,s=e.genre,c=e.mediaId,p=e.filePath,g=e.thumbnail,y=e.isRequired,b=e.isError,w=e.processUpload,_=e.fileId,E=e.thumbUploading,S=e.addToast,x=Object(u.a)(i/1e6);return l.a.createElement("div",{className:"z-upload-item z-upload-song-item"},l.a.createElement("div",{className:"z-upload-info"},l.a.createElement("div",{className:"title"},a.name),l.a.createElement("div",{className:"z-edit-upload"},l.a.createElement("span",{className:"z-size-upload"},b?l.a.createElement("span",{className:"z-upload-error"},l.a.createElement("i",{className:"icon ic-warning-solid"}),"L\u1ed7i t\u1ea3i l\xean"):"".concat(Object(u.a)(r/100*x)," MB/ ").concat(x," MB"),l.a.createElement(h.a,{deleteAction:this.removeFileUpload}),b&&l.a.createElement("i",{className:"icon ic-reload mar-right-5",onClick:function(){return w(_)}})))),l.a.createElement("div",{className:"z-progressbar-bg"},l.a.createElement("div",{className:"z-progressbar-uploaded",style:{width:"".concat(r,"%")}})),l.a.createElement("div",{className:"z-new-playlist-content"},l.a.createElement(f.a,{filePath:g,onSuccess:this.handleThumbUploadSuccess,onUploading:this.handleThumbUploading,onError:this.handleThumbUploadError,previewOnly:Boolean(c),id:_,addToast:S}),c?l.a.createElement("div",{className:"z-new-playlist-info"},l.a.createElement("div",{className:"z-info-song-upload-done"},l.a.createElement("div",{className:"z-title"},t),l.a.createElement("div",{className:"z-artist"},n))):l.a.createElement("div",{className:"z-new-playlist-info"},l.a.createElement("div",{className:"z-info-song-upload"},l.a.createElement("div",null,l.a.createElement(m,{name:"name",value:t,placeholder:"T\xean B\xe0i H\xe1t",onChange:this.onChange.bind(this),error:y&&!Object(d.j)(t),className:"mar-bottom-10"}),l.a.createElement("div",{className:"z-input-row"},l.a.createElement(m,{name:"artist",className:"z-input-item",value:n,placeholder:"T\xean ngh\u1ec7 s\u0129 tr\xecnh b\xe0y",onChange:this.onChange.bind(this),error:y&&!Object(d.j)(n)}),l.a.createElement(v,{value:s,onChange:this.onChangeGenre.bind(this)})))),l.a.createElement("div",{className:"z-buttons-container clearfix"},l.a.createElement("div",{className:"pull-right"},l.a.createElement("a",{className:"z-btn z-btn-shadow radius-2 ".concat(!p||o||E?"z-disabled":""),onClick:this.onSummit.bind(this)},"L\u01b0u v\xe0o th\u01b0 vi\u1ec7n"))))))}}]),n}(c.Component);t.c=p;var m=function(e){var t=e.className,n=void 0===t?"":t,r=e.error,i=void 0!==r&&r,a=e.onChange,o=e.value,s=e.name,c=e.placeholder;return l.a.createElement("div",{className:"z-playlist-input-group ".concat(n," ").concat(i?"error":"")},l.a.createElement("input",{className:"mar-0",value:o,onChange:a,type:"text",name:s,placeholder:c}),i&&l.a.createElement("div",{className:"error-message"},l.a.createElement("i",null,"Thi\u1ebfu th\xf4ng tin"),l.a.createElement("i",{className:"icon ic-info"})))},g=[{value:"IWZ9Z08I",name:"Vi\u1ec7t Nam"},{value:"IWZ9Z08O",name:"\xc2u M\u1ef9"},{value:"IWZ9Z08W",name:"H\xe0n Qu\u1ed1c"},{value:"IWZ9Z08Z",name:"Nh\u1eadt B\u1ea3n"},{value:"IWZ9Z08U",name:"Hoa Ng\u1eef"},{value:"IWZ9Z086",name:"H\xf2a T\u1ea5u"},{value:"IWZ9Z0CU",name:"Kh\xe1c"}],v=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showOptions:!1},e.toggleOptions=function(){return e.setState((function(e){return{showOptions:!e.showOptions}}))},e.handleSelect=function(t){e.props.onChange(t.target.dataset.value),e.setState({showOptions:!1})},e.getOptionName=function(e){var t=g.find((function(t){return t.value===e}));return t?t.name:""},e.handleClickOutsite=function(t){e.node.contains(t.target)||e.setState({showOptions:!1})},e}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.state.showOptions;t.showOptions!==n&&(n?document.addEventListener("click",this.handleClickOutsite):document.removeEventListener("click",this.handleClickOutsite))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutsite)}},{key:"render",value:function(){var e=this,t=this.state.showOptions,n=this.props.value,r=void 0===n?"":n,i=this.getOptionName(r);return l.a.createElement("div",{className:"z-select-input z-input-item",ref:function(t){return e.node=t}},l.a.createElement("div",{className:"z-value ".concat(i?"has-value":""),onClick:this.toggleOptions},i||"Th\u1ec3 lo\u1ea1i",l.a.createElement("i",{className:"icon ic-go-".concat(t?"up":"down")})),t&&l.a.createElement("ul",{className:"z-options"},g.map((function(t,n){return l.a.createElement("li",{key:n,className:"z-option",onClick:e.handleSelect,"data-value":t.value},t.name)}))))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,c=o(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(c[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(c[s[d]]=n[s[d]])}}return c}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(74);t.a=function(e){var t=e.className,n=e.classNameIcon,r=e.title,o=e.text,s=e.onClick;return i.a.createElement("a",{className:t,onClick:s,title:r},i.a.createElement(a.a,{className:n}),i.a.createElement("span",null,o))}},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(9),o=n(8),s=n(0),c=n.n(s),l=n(2),u=n(1),d=n(128),h=n(68),f=n(76),p=n(27),m=["edit-song","delete"],g=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).openComfirmModal=function(){e.setState({ComfirmModalIsOpen:!0})},e.closeComfirmModal=function(){e.setState({ComfirmModalIsOpen:!1})},e.renderButton=function(t){var n=e.props,r=n.song,i=n.trackingSource,a=n.likeAction,o=n.from,s=n.canRemoveSong,u=n.removeSong,d=n.likedSongIds,h=void 0===d?[]:d,m=n.addSongToQueue,g=n.playSong,v=h.indexOf(r.id)>-1;switch(t){case"mv":return r.mv_link?c.a.createElement(p.c,{title:"Xem MV",classNameIcon:"mv",link:r.mv_link,id:r.id,tooltipId:"".concat(t,"-").concat(r.id)}):c.a.createElement("a",{style:{visibility:"hidden"}},c.a.createElement("i",{role:"button",className:"icon ic-mv"}));case"like":return c.a.createElement(f.a,{className:"z-like-btn",text:"",title:r.title,type:l.V,id:r.id,tooltipId:"".concat(t,"-").concat(r.id),liked:v,likeAction:a,thumbnail:r.thumbnail_medium});case"remove":return s&&o===l.ud?c.a.createElement(p.c,{title:"X\xf3a",onClick:function(){u(r.id,o,null,r.title)},classNameIcon:"close",tooltipId:"".concat(t,"-").concat(r.id)}):null;case"addToQueue":return c.a.createElement(p.c,{title:"Th\xeam v\xe0o danh s\xe1ch ph\xe1t",onClick:function(){return m(r,{trackingSource:i})},classNameIcon:"add-play-now",tooltipId:"".concat(t,"-").concat(r.id),className:"z-btn-item menu-link"});case"karaoke":return r.lyric||r.has_lyric?c.a.createElement(p.c,{title:"Ph\xe1t c\xf9ng l\u1eddi b\xe0i h\xe1t",onClick:function(e){return g(e,{isShowKara:!0})},classNameIcon:"karaoke",tooltipId:"".concat(t,"-").concat(r.id)}):null;default:return null}},e}return Object(i.a)(n,[{key:"openMoreAction",value:function(e){this.refs.morebutton&&this.refs.morebutton.open&&this.refs.morebutton.open(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.song,r=t.removeSong,i=t.removeSongFromPlaylist,a=t.from,o=t.addToast,f=t.isVip,p=t.addSongToQueue,g=t.showListen,v=t.btnMores,y=t.isLogin,b=t.playlistId,w=t.trackingSource,_=t.isBlock,E=t.showDuration,S=t.sourcePlaylist,x=t.editUploadSong,T=t.onActivePopup,O=t.isConverting,k=t.buttonTypes,M=void 0===k?[]:k,A=t.isInPlayer,C=t.likeAction,L=t.liked,P=!n.isOffical&&n.public_status!==l.Oc.ON&&!n.isNativeAd,R=O?m:v;P&&(R=R.filter((function(e){return"share"!==e})));var I=c.a.createElement(d.a,{actionTypes:R,song:n,from:a,addToast:o,isVip:f,addSongToQueue:p,isLogin:y,playlistId:b,sourcePlaylist:S,trackingSource:w,removeSong:r,removeSongFromPlaylist:i,editUploadSong:x,objectType:l.V,onActivePopup:T,isInPlayer:A,likeAction:C,liked:L,ref:"morebutton"}),N=O?c.a.createElement("li",null,I):c.a.createElement(s.Fragment,null,M.map((function(t,n){return e.renderButton(t)?c.a.createElement("li",{key:n},e.renderButton(t)):null})),c.a.createElement("li",null,I)),j=E||_;return c.a.createElement("div",{className:"extension"},c.a.createElement("div",{className:"list-buttons"},c.a.createElement("ul",{className:j?"normal-view":"hover-view"},_?c.a.createElement(h.b,{song:n,isBlock:!0,className:"mar-right-5"}):N,g&&n.score>0&&c.a.createElement("li",null,c.a.createElement("span",{className:"listened-number"},Object(u.o)(n.score))))))}}]),n}(s.Component);g.defaultProps={isSongInChart:!1,viewType:0,showListen:!1,canRemoveSong:!1,buttonTypes:["mv","like","remove"]},t.a=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6),i=n(7),a=n(12),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(26),d=n.n(u),h=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={},i.onClick=i.onClick.bind(Object(a.a)(i)),i.closeModal=i.closeModal.bind(Object(a.a)(i)),i.confirm=i.confirm.bind(Object(a.a)(i)),i}return Object(i.a)(n,[{key:"onClick",value:function(){this.setState({isOpenModal:!0})}},{key:"closeModal",value:function(){this.setState({isOpenModal:!1})}},{key:"confirm",value:function(){this.props.deleteAction(),this.closeModal()}},{key:"render",value:function(){var e=this.state.isOpenModal,t=this.props.forPlaylist,n=t?"X\xf3a playlist":"X\xf3a b\xe0i h\xe1t",r=t?"Playlist v\xe0 t\u1ea5t c\u1ea3 b\xe0i h\xe1t s\u1ebd b\u1ecb xo\xe1 ho\xe0n to\xe0n kh\u1ecfi danh s\xe1ch t\u1ea3i l\xean. B\u1ea1n c\xf3 mu\u1ed1n x\xf3a?":"B\xe0i h\xe1t s\u1ebd b\u1ecb xo\xe1 ho\xe0n to\xe0n kh\u1ecfi danh s\xe1ch t\u1ea3i l\xean. B\u1ea1n c\xf3 mu\u1ed1n x\xf3a?";return l.a.createElement(c.Fragment,null,t?l.a.createElement("a",{onClick:this.onClick,className:"z-btn z-btn-shadow radius-2 z-btn-gray mar-right-10"},"X\xf3a"):l.a.createElement("i",{className:"icon ic-close",onClick:this.onClick}),e&&l.a.createElement(d.a,{isOpen:!0,onRequestClose:this.closeModal,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-block-modal z-show",contentLabel:"Chia s\u1ebb"},l.a.createElement("div",{className:"z-modal-content"},l.a.createElement("div",{className:"z-buy-download-zone z-left pad-20 clearfix"},l.a.createElement("div",{className:"z-title"},n),l.a.createElement("div",{className:"z-copyright-content"},r),l.a.createElement("div",{className:"--z--group-button mar-top-10"},l.a.createElement("a",{onClick:this.closeModal,className:"z-btn z-btn-shadow z-btn-2x z-btn-edit-close"},"Kh\xf4ng"),l.a.createElement("a",{onClick:this.confirm,className:"z-btn z-btn-shadow z-btn-2x z-btn-confirm"},"X\xf3a"))))))}}]),n}(c.Component)},function(e,t,n){"use strict";t.__esModule=!0;t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e};var r=t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)};t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){!function(t,r){var i;e.exports=(i=n(78),function(e){var t=i,n=t.lib,r=n.Base,a=n.WordArray,o=t.x64={};o.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),i)}()},function(e,t,n){var r=n(217),i=n(218),a={float:"cssFloat"},o=n(221);function s(e,t,n){var s=a[t];if("undefined"===typeof s&&(s=function(e){var t=i(e),n=r(t);return a[t]=a[e]=a[n]=n,n}(t)),s){if(void 0===n)return e.style[s];e.style[s]=o(s,n)}}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])}function l(){2===arguments.length?"string"===typeof arguments[1]?arguments[0].style.cssText=arguments[1]:c(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=l,e.exports.set=l,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=s(e,n||""),t}),{}):s(e,t||"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(o)};var r=/input|select|textarea|button|object/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function a(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}(e)}function o(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&a(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=c,t.setElement=function(e){var t=e;if("string"===typeof t&&o.canUseDOM){var n=document.querySelectorAll(t);c(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=l,t.hide=function(e){l(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){l(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,i=n(36),a=(r=i)&&r.__esModule?r:{default:r},o=n(112);var s=null;function c(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){return!(!e&&!s)||((0,a.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t){e.exports=function(){var e=Array.prototype.slice.call(arguments);return e.reduce((function(e,t){return Object.keys(t||{}).reduce((function(e,n){return e[n]=t[n],e}),e)}),{})}},function(e,t,n){var r=n(146),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},a={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},s=/\s|\//;function c(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(91).inherits(c,n(92).EventEmitter),c.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},c.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},c.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in a)for(var t;(t=this._stack[this._stack.length-1])in a[e];this.onclosetag(t));!this._options.xmlMode&&e in o||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},c.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in o&&this._cbs.onclosetag(this._tagname),this._tagname=""},c.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in o&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},c.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},c.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},c.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},c.prototype.onattribdata=function(e){this._attribvalue+=e},c.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},c.prototype._getInstructionName=function(e){var t=e.search(s),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},c.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},c.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},c.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},c.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},c.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},c.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},c.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},c.prototype.parseComplete=function(e){this.reset(),this.end(e)},c.prototype.write=function(e){this._tokenizer.write(e)},c.prototype.end=function(e){this._tokenizer.end(e)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c.prototype.parseChunk=c.prototype.write,c.prototype.done=c.prototype.end,e.exports=c},function(e,t,n){e.exports=ye;var r,i,a=n(252),o=n(254),s=n(255),c=n(256),l=0,u=l++,d=l++,h=l++,f=l++,p=l++,m=l++,g=l++,v=l++,y=l++,b=l++,w=l++,_=l++,E=l++,S=l++,x=l++,T=l++,O=l++,k=l++,M=l++,A=l++,C=l++,L=l++,P=l++,R=l++,I=l++,N=l++,j=l++,D=l++,z=l++,F=l++,U=l++,B=l++,H=l++,V=l++,G=l++,W=l++,q=l++,Y=l++,Z=l++,K=l++,X=l++,Q=l++,J=l++,$=l++,ee=l++,te=l++,ne=l++,re=l++,ie=l++,ae=l++,oe=l++,se=l++,ce=l++,le=l++,ue=l++,de=0,he=de++,fe=de++,pe=de++;function me(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function ge(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function ve(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=h,this._index--)}}function ye(e,t){this._state=u,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=u,this._special=he,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ye.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=d,this._sectionStart=this._index):this._decodeEntities&&this._special===he&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=u,this._state=oe,this._sectionStart=this._index)},ye.prototype._stateBeforeTagName=function(e){"/"===e?this._state=p:">"===e||this._special!==he||me(e)?this._state=u:"!"===e?(this._state=x,this._sectionStart=this._index+1):"?"===e?(this._state=O,this._sectionStart=this._index+1):"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):(this._state=this._xmlMode||"s"!==e&&"S"!==e?h:U,this._sectionStart=this._index)},ye.prototype._stateInTagName=function(e){("/"===e||">"===e||me(e))&&(this._emitToken("onopentagname"),this._state=v,this._index--)},ye.prototype._stateBeforeCloseingTagName=function(e){me(e)||(">"===e?this._state=u:this._special!==he?"s"===e||"S"===e?this._state=B:(this._state=u,this._index--):(this._state=m,this._sectionStart=this._index))},ye.prototype._stateInCloseingTagName=function(e){(">"===e||me(e))&&(this._emitToken("onclosetag"),this._state=g,this._index--)},ye.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=u,this._sectionStart=this._index+1)},ye.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=u,this._sectionStart=this._index+1):"/"===e?this._state=f:me(e)||(this._state=y,this._sectionStart=this._index)},ye.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=u,this._sectionStart=this._index+1):me(e)||(this._state=v,this._index--)},ye.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||me(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=b,this._index--)},ye.prototype._stateAfterAttributeName=function(e){"="===e?this._state=w:"/"===e||">"===e?(this._cbs.onattribend(),this._state=v,this._index--):me(e)||(this._cbs.onattribend(),this._state=y,this._sectionStart=this._index)},ye.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=_,this._sectionStart=this._index+1):"'"===e?(this._state=E,this._sectionStart=this._index+1):me(e)||(this._state=S,this._sectionStart=this._index,this._index--)},ye.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=oe,this._sectionStart=this._index)},ye.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=oe,this._sectionStart=this._index)},ye.prototype._stateInAttributeValueNoQuotes=function(e){me(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=oe,this._sectionStart=this._index)},ye.prototype._stateBeforeDeclaration=function(e){this._state="["===e?L:"-"===e?k:T},ye.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=u,this._sectionStart=this._index+1)},ye.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=u,this._sectionStart=this._index+1)},ye.prototype._stateBeforeComment=function(e){"-"===e?(this._state=M,this._sectionStart=this._index+1):this._state=T},ye.prototype._stateInComment=function(e){"-"===e&&(this._state=A)},ye.prototype._stateAfterComment1=function(e){this._state="-"===e?C:M},ye.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=u,this._sectionStart=this._index+1):"-"!==e&&(this._state=M)},ye.prototype._stateBeforeCdata1=ge("C",P,T),ye.prototype._stateBeforeCdata2=ge("D",R,T),ye.prototype._stateBeforeCdata3=ge("A",I,T),ye.prototype._stateBeforeCdata4=ge("T",N,T),ye.prototype._stateBeforeCdata5=ge("A",j,T),ye.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=D,this._sectionStart=this._index+1):(this._state=T,this._index--)},ye.prototype._stateInCdata=function(e){"]"===e&&(this._state=z)},ye.prototype._stateAfterCdata1=(r="]",i=F,function(e){e===r&&(this._state=i)}),ye.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=u,this._sectionStart=this._index+1):"]"!==e&&(this._state=D)},ye.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=H:"t"===e||"T"===e?this._state=J:(this._state=h,this._index--)},ye.prototype._stateBeforeSpecialEnd=function(e){this._special!==fe||"c"!==e&&"C"!==e?this._special!==pe||"t"!==e&&"T"!==e?this._state=u:this._state=ne:this._state=Y},ye.prototype._stateBeforeScript1=ve("R",V),ye.prototype._stateBeforeScript2=ve("I",G),ye.prototype._stateBeforeScript3=ve("P",W),ye.prototype._stateBeforeScript4=ve("T",q),ye.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||me(e))&&(this._special=fe),this._state=h,this._index--},ye.prototype._stateAfterScript1=ge("R",Z,u),ye.prototype._stateAfterScript2=ge("I",K,u),ye.prototype._stateAfterScript3=ge("P",X,u),ye.prototype._stateAfterScript4=ge("T",Q,u),ye.prototype._stateAfterScript5=function(e){">"===e||me(e)?(this._special=he,this._state=m,this._sectionStart=this._index-6,this._index--):this._state=u},ye.prototype._stateBeforeStyle1=ve("Y",$),ye.prototype._stateBeforeStyle2=ve("L",ee),ye.prototype._stateBeforeStyle3=ve("E",te),ye.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||me(e))&&(this._special=pe),this._state=h,this._index--},ye.prototype._stateAfterStyle1=ge("Y",re,u),ye.prototype._stateAfterStyle2=ge("L",ie,u),ye.prototype._stateAfterStyle3=ge("E",ae,u),ye.prototype._stateAfterStyle4=function(e){">"===e||me(e)?(this._special=he,this._state=m,this._sectionStart=this._index-5,this._index--):this._state=u},ye.prototype._stateBeforeEntity=ge("#",se,ce),ye.prototype._stateBeforeNumericEntity=ge("X",ue,le),ye.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?c:o;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ye.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(s.hasOwnProperty(n))return this._emitPartial(s[n]),void(this._sectionStart+=t+1);t--}},ye.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==u?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ye.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),i=parseInt(r,t);this._emitPartial(a(i)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ye.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ye.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ye.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._index=0,this._bufferOffset+=this._index):this._running&&(this._state===u?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._index=0,this._bufferOffset+=this._index):this._sectionStart===this._index?(this._buffer="",this._index=0,this._bufferOffset+=this._index):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ye.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ye.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===u?this._stateText(e):this._state===d?this._stateBeforeTagName(e):this._state===h?this._stateInTagName(e):this._state===p?this._stateBeforeCloseingTagName(e):this._state===m?this._stateInCloseingTagName(e):this._state===g?this._stateAfterCloseingTagName(e):this._state===f?this._stateInSelfClosingTag(e):this._state===v?this._stateBeforeAttributeName(e):this._state===y?this._stateInAttributeName(e):this._state===b?this._stateAfterAttributeName(e):this._state===w?this._stateBeforeAttributeValue(e):this._state===_?this._stateInAttributeValueDoubleQuotes(e):this._state===E?this._stateInAttributeValueSingleQuotes(e):this._state===S?this._stateInAttributeValueNoQuotes(e):this._state===x?this._stateBeforeDeclaration(e):this._state===T?this._stateInDeclaration(e):this._state===O?this._stateInProcessingInstruction(e):this._state===k?this._stateBeforeComment(e):this._state===M?this._stateInComment(e):this._state===A?this._stateAfterComment1(e):this._state===C?this._stateAfterComment2(e):this._state===L?this._stateBeforeCdata1(e):this._state===P?this._stateBeforeCdata2(e):this._state===R?this._stateBeforeCdata3(e):this._state===I?this._stateBeforeCdata4(e):this._state===N?this._stateBeforeCdata5(e):this._state===j?this._stateBeforeCdata6(e):this._state===D?this._stateInCdata(e):this._state===z?this._stateAfterCdata1(e):this._state===F?this._stateAfterCdata2(e):this._state===U?this._stateBeforeSpecial(e):this._state===B?this._stateBeforeSpecialEnd(e):this._state===H?this._stateBeforeScript1(e):this._state===V?this._stateBeforeScript2(e):this._state===G?this._stateBeforeScript3(e):this._state===W?this._stateBeforeScript4(e):this._state===q?this._stateBeforeScript5(e):this._state===Y?this._stateAfterScript1(e):this._state===Z?this._stateAfterScript2(e):this._state===K?this._stateAfterScript3(e):this._state===X?this._stateAfterScript4(e):this._state===Q?this._stateAfterScript5(e):this._state===J?this._stateBeforeStyle1(e):this._state===$?this._stateBeforeStyle2(e):this._state===ee?this._stateBeforeStyle3(e):this._state===te?this._stateBeforeStyle4(e):this._state===ne?this._stateAfterStyle1(e):this._state===re?this._stateAfterStyle2(e):this._state===ie?this._stateAfterStyle3(e):this._state===ae?this._stateAfterStyle4(e):this._state===oe?this._stateBeforeEntity(e):this._state===se?this._stateBeforeNumericEntity(e):this._state===ce?this._stateInNamedEntity(e):this._state===le?this._stateInNumericEntity(e):this._state===ue?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ye.prototype.pause=function(){this._running=!1},ye.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ye.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ye.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ye.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===D||this._state===z||this._state===F?this._cbs.oncdata(e):this._state===M||this._state===A||this._state===C?this._cbs.oncomment(e):this._state!==ce||this._xmlMode?this._state!==le||this._xmlMode?this._state!==ue||this._xmlMode?this._state!==h&&this._state!==v&&this._state!==w&&this._state!==b&&this._state!==y&&this._state!==E&&this._state!==_&&this._state!==S&&this._state!==m&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ye.prototype.reset=function(){ye.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ye.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ye.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ye.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ye.prototype._emitPartial=function(e){this._baseState!==u?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach((function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,n){e.exports=a;var r=n(145),i=n(262).Writable||n(275).Writable;function a(e,t){var n=this._parser=new r(e,t);i.call(this,{decodeStrings:!1}),this.once("finish",(function(){n.end()}))}n(91).inherits(a,i),i.prototype._write=function(e,t,n){this._parser.write(e),n()}},function(e,t,n){"use strict";(function(t,r){var i=n(93);e.exports=b;var a,o=n(263);b.ReadableState=y;n(92).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(150),l=n(94).Buffer,u=t.Uint8Array||function(){};var d=n(79);d.inherits=n(61);var h=n(264),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var p,m=n(265),g=n(151);d.inherits(b,c);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(a=a||n(62));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(152).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(a=a||n(62),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,r,i){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,o)):(i||(a=function(e,t){var n;r=t,l.isBuffer(r)||r instanceof u||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?_(e,o,t,!1):T(e,o)):_(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),T(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(152).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(x,e):x(e))}function x(e){f("emit readable"),e.emit("readable"),A(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(O,e,t))}function O(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){f("readable nexttick read 0"),e.read(0)}function M(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function L(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):S(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&L(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(r=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&L(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:b;function l(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",l),n.removeListener("end",u),n.removeListener("end",b),n.removeListener("data",m),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function u(){f("onend"),e.end()}a.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",l);var d=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(n);e.on("drain",d);var h=!1;var p=!1;function m(t){f("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==R(a.pipes,e))&&!h&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){f("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){f("onfinish"),e.removeListener("close",v),b()}function b(){f("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",n),a.flowing||(f("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=R(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(k,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(M,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=C}).call(this,n(52),n(56))},function(e,t,n){e.exports=n(92).EventEmitter},function(e,t,n){"use strict";var r=n(93);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(94).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(62),i=n(79);function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(61),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e){e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')},function(e,t,n){"use strict";e.exports=m;var r=n(117),i=n(80),a=i.findOne,o=i.findAll,s=i.getChildren,c=i.removeSubsets,l=n(81).falseFunc,u=n(303),d=u.compileUnsafe;function h(e){return function(t,n,r){return"function"!==typeof t&&(t=d(t,r)),n=Array.isArray(n)?c(n):s(n),e(t,n)}}var f=h((function(e,t){return e!==l&&t&&0!==t.length?o(e,t):[]})),p=h((function(e,t){return e!==l&&t&&0!==t.length?a(e,t):null}));function m(e,t,n){return f(e,t,n)}m.compile=u,m.filters=r.filters,m.pseudos=r.pseudos,m.selectAll=f,m.selectOne=p,m.is=function(e,t,n){return("function"===typeof t?t:u(t,n))(e)},m.parse=u,m.iterate=f,m._compileUnsafe=d},function(e,t,n){var r=n(80),i=r.hasAttrib,a=r.getAttributeValue,o=n(81).falseFunc,s=/[-[\]{}()*+?.,\\^$|#\s]/g,c={__proto__:null,equals:function(e,t){var n=t.name,r=t.value;return t.ignoreCase?(r=r.toLowerCase(),function(t){var i=a(t,n);return null!=i&&i.toLowerCase()===r&&e(t)}):function(t){return a(t,n)===r&&e(t)}},hyphen:function(e,t){var n=t.name,r=t.value,i=r.length;return t.ignoreCase?(r=r.toLowerCase(),function(t){var o=a(t,n);return null!=o&&(o.length===i||"-"===o.charAt(i))&&o.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var o=a(t,n);return null!=o&&o.substr(0,i)===r&&(o.length===i||"-"===o.charAt(i))&&e(t)}},element:function(e,t){var n=t.name,r=t.value;if(/\s/.test(r))return o;var i="(?:^|\\s)"+(r=r.replace(s,"\\$&"))+"(?:$|\\s)",c=t.ignoreCase?"i":"",l=new RegExp(i,c);return function(t){var r=a(t,n);return null!=r&&l.test(r)&&e(t)}},exists:function(e,t){var n=t.name;return function(t){return i(t,n)&&e(t)}},start:function(e,t){var n=t.name,r=t.value,i=r.length;return 0===i?o:t.ignoreCase?(r=r.toLowerCase(),function(t){var o=a(t,n);return null!=o&&o.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var o=a(t,n);return null!=o&&o.substr(0,i)===r&&e(t)}},end:function(e,t){var n=t.name,r=t.value,i=-r.length;return 0===i?o:t.ignoreCase?(r=r.toLowerCase(),function(t){var o=a(t,n);return null!=o&&o.substr(i).toLowerCase()===r&&e(t)}):function(t){var o=a(t,n);return null!=o&&o.substr(i)===r&&e(t)}},any:function(e,t){var n=t.name,r=t.value;if(""===r)return o;if(t.ignoreCase){var i=new RegExp(r.replace(s,"\\$&"),"i");return function(t){var r=a(t,n);return null!=r&&i.test(r)&&e(t)}}return function(t){var i=a(t,n);return null!=i&&i.indexOf(r)>=0&&e(t)}},not:function(e,t){var n=t.name,r=t.value;return""===r?function(t){return!!a(t,n)&&e(t)}:t.ignoreCase?(r=r.toLowerCase(),function(t){var i=a(t,n);return null!=i&&i.toLowerCase()!==r&&e(t)}):function(t){return a(t,n)!==r&&e(t)}}};e.exports={compile:function(e,t,n){if(n&&n.strict&&(t.ignoreCase||"not"===t.action))throw SyntaxError("Unsupported attribute selector");return c[t.action](e,t)},rules:c}},function(e){e.exports=JSON.parse('{"universal":5,"tag":3,"attribute":1,"pseudo":0,"descendant":-1,"child":-1,"parent":-1,"sibling":-1,"adjacent":-1}')},function(e,t,n){var r=n(156),i=n(90),a=n(116),o=n(63);function s(e,t,n){if(t)"string"===typeof t&&(t=r(t,e._root,n));else{if(!e._root||!e._root.children)return"";t=e._root.children}return a(t,n)}t.load=function(e,r){var a=n(113);r=o.defaults(r||{},a.prototype.options);var s=i(e,r),c=function e(t,n,i,c){return this instanceof e?(c=o.defaults(c||{},r),a.call(this,t,n,i||s,c)):new e(t,n,i,c)};return(c.prototype=Object.create(a.prototype)).constructor=c,c.fn=c.prototype,c.prototype._originalRoot=s,o.merge(c,t),c._root=s,c._options=r,c},t.html=function(e,t){var r=n(113);return"[object Object]"!==Object.prototype.toString.call(e)||t||"length"in e||"type"in e||(t=e,e=void 0),s(this,e,t=o.defaults(t||{},this._options,r.prototype.options))},t.xml=function(e){return s(this,e,o.defaults({xmlMode:!0},this._options))},t.text=function(e){if(!e)return"";for(var n,r="",i=e.length,a=0;a<i;a++)"text"===(n=e[a]).type?r+=n.data:n.children&&"comment"!==n.type&&(r+=t.text(n.children));return r},t.parseHTML=function(e,t,n){var r;return e&&"string"===typeof e?("boolean"===typeof t&&(n=t),r=this.load(e),n||r("script").remove(),r.root()[0].children.slice()):null},t.root=function(){return this(this._root)},t.contains=function(e,t){if(t===e)return!1;for(;t&&t!==t.parent;)if((t=t.parent)===e)return!0;return!1}},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(9),o=n(8),s=n(35),c=n(0),l=n.n(c),u=n(26),d=n.n(u),h=n(165);t.a=function(e){var t=e.isOpen,n=e.closeModal,r=Object(s.a)(e,["isOpen","closeModal"]);return t?l.a.createElement(d.a,{isOpen:t,onRequestClose:n,className:"z-modal-inner z-no-pad",overlayClassName:"z-modal z-download-free-modal z-comment-modal",contentLabel:"Chia s\u1ebb"},l.a.createElement(f,Object.assign({},r,{closeModal:n}))):null};var f=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLogin,n=e.id,r=e.type,i=e.addToast,a=e.closeModal,o=e.openPopupLogin;return l.a.createElement("div",{className:"z-modal-content"},l.a.createElement("div",{className:"z-modal-header mar-bottom-0"},l.a.createElement("span",{className:"z-title"},"B\xecnh Lu\u1eadn"),l.a.createElement("a",{className:"z-modal-close",onClick:a},l.a.createElement("i",{className:"icon ic-close"}))),l.a.createElement("div",{className:"clearfix"},l.a.createElement(h.a,{isLogin:t,id:n,type:r,addToast:i,openPopupLogin:o})))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(44),i=n(6),a=n(7),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(1),d=n(69),h=n(33),f=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this)).openVipModal=function(){a.setState({VipModalIsOpen:!0})},a.closeVipModal=function(){a.setState({VipModalIsOpen:!1})},a.onClick=function(){var e=a.props,t=e.downloadSongs,n=e.songsInPlaylist,i=e.title,o=e.isVip,s=e.fireGAEvent,c=e.isIpVn,l=e.isLogin,d=e.openPopupLogin;if(!l)return d();if(h.default.info("download playlist isIpVn: ",c),!Object(u.B)(n)){var f,p=[],m=Object(r.a)(n);try{for(m.s();!(f=m.n()).done;){var g=f.value;(c||g.is_worldwide)&&p.push(g.id)}}catch(v){m.e(v)}finally{m.f()}o?t(p,i):a.openVipModal(),s&&s()}},a.state={disabledDowload:!1,VipModalIsOpen:!1},a}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.isLogin,t=this.state.VipModalIsOpen;return l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{onClick:this.onClick,className:"menu-link",title:"T\u1ea3i xu\u1ed1ng"},this.props.children),l.a.createElement(d.a,{isOpen:t,closeModal:this.closeVipModal,isLogin:e,detail:"B\u1ea1n h\xe3y n\xe2ng c\u1ea5p t\xe0i kho\u1ea3n VIP \u0111\u1ec3 s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y"}))}}]),n}(c.Component);t.a=f},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(9),o=n(8),s=n(0),c=n.n(s),l=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){window.ZaloSocialSDK&&window.ZaloSocialSDK.reload()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.url;return c.a.createElement("a",{className:"zalo-share-button ".concat(t),title:"Zalo","data-href":n,"data-customize":"true","data-oaid":"4073327408156217288"},c.a.createElement("span",{className:"z-ic-svg ic-svg-zalo"}))}}]),n}(s.Component);t.a=l},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(12),o=n(9),s=n(8),c=n(0),l=n.n(c),u=n(1),d=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).onClick=e.onClick.bind(Object(a.a)(e)),e}return Object(i.a)(n,[{key:"onClick",value:function(){var e=this.props.url,t=Object(u.b)(e,"");return window.open(t,"share","height=600,width=600"),!1}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.text;return l.a.createElement("a",{onClick:this.onClick,className:t,title:"Facebook"},n||l.a.createElement("span",{className:"z-ic-svg ic-svg-fb"}),"            ")}}]),n}(c.Component);d.defaultProps={text:""},t.a=d},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(0)),a=c(n(20)),o=c(n(42)),s=n(110);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},h=function(e){function t(){var n,r;l(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=u(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!d(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,a=n.to;i?t.replace(a):t.push(a)}},u(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);(0,o.default)(this.context.router,"You should not use <Link> outside a <Router>"),(0,o.default)(void 0!==t,'You must specify the "to" property');var c=this.context.router.history,l="string"===typeof t?(0,s.createLocation)(t,null,null,c.location):t,u=c.createHref(l);return i.default.createElement("a",r({},a,{onClick:this.handleClick,href:u,ref:n}))},t}(i.default.Component);h.propTypes={onClick:a.default.func,target:a.default.string,replace:a.default.bool,to:a.default.oneOfType([a.default.string,a.default.object]).isRequired,innerRef:a.default.oneOfType([a.default.string,a.default.func])},h.defaultProps={replace:!1},h.contextTypes={router:a.default.shape({history:a.default.shape({push:a.default.func.isRequired,replace:a.default.func.isRequired,createHref:a.default.func.isRequired}).isRequired}).isRequired},t.default=h},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(14),o=n(11),s=n(6),c=n(7),l=n(12),u=n(9),d=n(8),h=n(0),f=n.n(h),p=n(2),m=n(1),g=n(23),v=n(60),y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).onClick=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,o,s,c,l,u,d,h,f,g,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props,a=n.isLogin,o=n.commentId,s=n.addToast,c=n.updateStatus,l=n.openPopupLogin,u=n.type,a){e.next=4;break}return l("Th\xedch B\xecnh Lu\u1eadn"),e.abrupt("return",!1);case 4:return d=r.props.action,h={action:d,commentId:o,type:u},f=Object(m.e)(h),e.next=9,Object(m.l)("".concat(p.m,"/vote?").concat(f),{credentials:"include"});case 9:if(g=e.sent,!(v=g.resp)||0===v.err){e.next=14;break}return s({text:v.msg,error:!0}),e.abrupt("return");case 14:c(d);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.updateState=function(e){var t=r.state.total,n={};switch(e){case"up":n={action:"unup",total:t+1,status:"active"};break;case"unup":n={action:"up",total:t-1,status:""};break;case"down":n={action:"updown",total:t+1,status:"active"};break;case"updown":n={action:"down",total:t-1,status:""};break;default:return r.state}return n},r.state={total:e.total,className:e.className,action:e.action,status:e.status},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.total,r=this.props.status;return f.a.createElement("a",{onClick:this.onClick,className:"z-like-rate ".concat(r)},f.a.createElement("i",{className:"icon ic-".concat(t)}),n)}}]),n}(h.Component),b=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(s.a)(this,n),(r=t.call(this,e)).updateStatus=function(e){var t=r.state,n=t.totalLike,i=t.totalDisLike,a=t.isDownVoted,o=t.isUpVoted,s={};switch(e){case"up":s={totalLike:n+1,isUpVoted:1,isDownVoted:0,totalDisLike:a?i-1:i};break;case"unup":s={totalLike:n-1,isUpVoted:0};break;case"down":s={totalDisLike:i+1,isDownVoted:1,isUpVoted:0,totalLike:o?n-1:n};break;case"undown":s={totalDisLike:i-1,isDownVoted:0};break;default:return}r.setState((function(e){return s}))};var i=Object(m.L)(e.comment.replies);return r.state={showForm:!1,isUpVoted:e.comment.isUpVoted,isDownVoted:e.comment.isDownVoted,showCommentReply:i<3,totalLike:e.comment.totalLike,totalDisLike:e.comment.totalDisLike},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.isLogin,r=e.clickReply,i=e.addToast,a=e.type,o=this.state,s=o.isUpVoted,c=o.isDownVoted,l=o.totalLike,u=o.totalDisLike;return t?f.a.createElement("li",{className:"comment-item"},f.a.createElement("p",{className:"medium-circle-card comment-avatar"},f.a.createElement("img",{src:t.avatar,alt:"Zing MP3"})),f.a.createElement("div",{className:"post-comment"},f.a.createElement("p",{className:"username"},t.username,f.a.createElement("span",{className:"reply-ago-time"},Object(m.M)(t.time))),f.a.createElement("p",{className:"content"},t.content),f.a.createElement("div",{className:"func-comment"},f.a.createElement(y,{isLogin:n,type:a,updateStatus:this.updateStatus,commentId:t.commentId,className:"like-other",total:l,status:s?"active":"",action:s?"unup":"up",addToast:i}),"feed"!==a&&f.a.createElement(y,{isLogin:n,type:a,updateStatus:this.updateStatus,commentId:t.commentId,className:"dislike",total:u,status:c?"active":"",action:c?"undown":"down",addToast:i}),f.a.createElement("a",{onClick:r,className:"reply-func"},"Tr\u1ea3 l\u1eddi")))):null}}]),n}(f.a.Component),w=function(e){var t=e.isLogin,n=(e.commentReplyId,e.comments),r=e.profile,i=e.id,a=e.type,o=(e.addToast,e.clickReply),s=e.showCommentReply;if(Object(m.B)(n))return null;var c=[];if(s)c=n.map((function(e,n){return f.a.createElement(b,{isLogin:t,clickReply:o,comment:e,profile:r,id:i,type:a})}));else{var l=n.length,u=0;l>3&&(u=l-3);for(var d=u;d<l;d++){var h=n[d];h&&c.push(f.a.createElement(b,{isLogin:t,clickReply:o,comment:h,profile:r,id:i,type:a}))}}return Object(m.B)(c)?f.a.createElement("div",null):f.a.createElement("ul",{className:"list-comment list-comment-reply"},c)},_=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(s.a)(this,n),(r=t.call(this,e)).updateStatus=function(e){var t=r.state,n=t.totalLike,i=t.totalDisLike,a=t.isDownVoted,o=t.isUpVoted,s={};switch(e){case"up":s={totalLike:n+1,isUpVoted:1,isDownVoted:0,totalDisLike:a?i-1:i};break;case"unup":s={totalLike:n-1,isUpVoted:0};break;case"down":s={totalDisLike:i+1,isDownVoted:1,isUpVoted:0,totalLike:o?n-1:n};break;case"undown":s={totalDisLike:i-1,isDownVoted:0};break;default:return}r.setState(s)},r.toggleCommentReply=function(){r.setState((function(e){return{showCommentReply:!e.showCommentReply}}))};var i=Object(m.L)(e.comment.replies);return r.state={isUpVoted:e.comment.isUpVoted,isDownVoted:e.comment.isDownVoted,showCommentReply:i<3,totalLike:e.comment.totalLike,totalDisLike:e.comment.totalDisLike},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.comment,n=e.isLogin,r=e.type,i=e.addToast,a=e.openPopupLogin,o=e.id,s=e.replies;if(!t)return null;var c=this.state,l=c.showCommentReply,u=c.isUpVoted,d=c.isDownVoted,h=c.totalLike,p=c.totalDisLike,g=Object(m.L)(t.replies);return f.a.createElement("li",{className:"comment-item"},f.a.createElement("p",{className:"medium-circle-card comment-avatar"},f.a.createElement("img",{src:t.avatar,alt:"Zing MP3"})),f.a.createElement("div",{className:"post-comment"},f.a.createElement("p",{className:"username"},t.username,f.a.createElement("span",{className:"reply-ago-time"},Object(m.M)(t.time))),f.a.createElement("p",{className:"content"},t.content),f.a.createElement("div",{className:"func-comment"},f.a.createElement(y,{isLogin:n,updateStatus:this.updateStatus,commentId:t.commentId,className:"feed"!==r?"like-other":u?"like-full":"like",total:h,status:u?"active":"",action:u?"unup":"up",addToast:i,openPopupLogin:a,type:r}),"feed"!==r&&f.a.createElement(y,{isLogin:n,updateStatus:this.updateStatus,commentId:t.commentId,className:"dislike",total:p,status:d?"active":"",action:d?"undown":"down",addToast:i,openPopupLogin:a,type:r})),g>3&&f.a.createElement("a",{onClick:this.toggleCommentReply,className:"view-all-reply"},f.a.createElement("span",null,l?"\u1ea8n c\xe2u tr\u1ea3 l\u1eddi":"Xem t\u1ea5t c\u1ea3 ".concat(g," c\xe2u tr\u1ea3 l\u1eddi")),f.a.createElement("i",{className:"icon ic-go-".concat(l?"up":"down")})),f.a.createElement("div",{className:"comment-reply-list-wrapper"},f.a.createElement(w,{isLogin:n,clickReply:this.clickReply,commentReplyId:t.id,comments:s,id:o,type:r,addToast:i,openPopupLogin:a,showCommentReply:l}))))}}]),n}(h.Component),E=function(e){var t=e.comments,n=e.isLogin,r=e.id,i=e.type,a=e.addToast,o=e.openPopupLogin;return Object(m.B)(t)?null:f.a.createElement("ul",{className:"list-comment"},t.map((function(e,t){return f.a.createElement(_,{key:t,isLogin:n,comment:e,replies:e.replies,id:r,type:i,addToast:a,openPopupLogin:o})})))},S=n(66),x=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).loadMore=function(){e.setState({showMore:!1});var t=e.props,n=t.type,r=t.id,i=e.state,a=i.start,o=i.count,s=i.sort;e.loadComment(r,n,a+20,o,s)},e.loadComment=function(){var t=Object(o.a)(i.a.mark((function t(n,r,o,s,c){var l,u,d,h,f,v;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l={id:n,type:r,start:o,count:s,sort:c},u=Object(m.e)(l),d={credentials:"include"},t.next=5,Object(m.l)("".concat(p.m,"/get-comments?").concat(u),d);case 5:if(h=t.sent,f=h.resp,Object(g.a)(f)&&!Object(m.B)(f.data.comments)){t.next=10;break}return e.setState({isLoading:!1}),t.abrupt("return");case 10:v=e.state.comments,e.setState({comments:[].concat(Object(a.a)(v),Object(a.a)(f.data.comments)),total:f.data.total,start:o,showMore:f.data.comments.length>=20,isLoading:!1});case 12:case"end":return t.stop()}}),t)})));return function(e,n,r,i,a){return t.apply(this,arguments)}}(),e.sortComment=function(t){if(!t||t===e.state.sort||e.state.total<1)return e.setState({showFilter:!1}),!1;e.setState({start:0,sort:t,comments:[],showFilter:!1,isLoading:!0},(function(){var n=e.props,r=n.type,i=n.id,a=e.state,o=a.start,s=a.count;e.loadComment(i,r,o,s,t)}))},e.toggleFilter=function(t){e.setState((function(e){return{showFilter:!e.showFilter}}))},e.hideFilter=function(){},e.loadMore=e.loadMore.bind(Object(l.a)(e)),e.state={showFilter:!1,start:0,total:0,count:20,sort:"new",comments:[],isLoading:!0},e}return Object(c.a)(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.type,n=e.id,r=this.state,i=r.start,a=r.count,o=r.sort;this.loadComment(n,t,i,a,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLogin,r=t.type,i=t.id,a=t.addToast,o=t.openPopupLogin,s=this.state,c=s.total,l=s.comments,u=s.sort,d=s.showFilter,p=s.showMore,g=s.isLoading,y=Object(m.B)(l);return f.a.createElement("div",{id:"comment"},f.a.createElement("div",{className:"comment-wrapper pad-top-10 pad-bottom-10 mar-top-10 clearfix"},f.a.createElement("div",{className:"comment-header"},f.a.createElement("div",{className:"comment-total"},Object(m.p)(c)," B\xecnh lu\u1eadn"),f.a.createElement("div",{className:"sorting-block-wrapper clearfix"},f.a.createElement("div",{className:"sorting-direction-wrapper"},f.a.createElement("a",{className:"active-sorting-direction"},f.a.createElement("i",{className:"icon  ic-sort"})),f.a.createElement("ul",{className:"sorting-direction",style:{display:"none"}},f.a.createElement("li",null,f.a.createElement("i",{className:"icon  ic-sort"})))),f.a.createElement("div",{className:"sorting-by-wrapper"},f.a.createElement(v.a,{toggleIsOpen:this.toggleFilter,closeMenu:this.hideFilter},f.a.createElement("div",{className:"active-sorting"},"hot"===u?"B\xecnh lu\u1eadn n\u1ed5i b\u1eadt":"B\xecnh lu\u1eadn m\u1edbi nh\u1ea5t"," ",f.a.createElement("i",{className:"icon ic-go-down"}))),f.a.createElement("div",{className:"dropdown-menu-list sort-comment ".concat(d?"":"z-hide")},f.a.createElement("ul",null,f.a.createElement("li",null,f.a.createElement("div",{className:"dropdown-item"},f.a.createElement("a",{onClick:function(){return e.sortComment("hot")}},"B\xecnh lu\u1eadn n\u1ed5i b\u1eadt"))),f.a.createElement("li",null,f.a.createElement("div",{className:"dropdown-item"},f.a.createElement("a",{onClick:function(){return e.sortComment("new")}},"B\xecnh lu\u1eadn m\u1edbi nh\u1ea5t"))))))))),f.a.createElement("div",{className:"".concat(g||!y?"comment-list-wrapper":""," ").concat(g?"comment-loading":"")},g?f.a.createElement(S.a,{isLoading:!0}):y?f.a.createElement("div",{className:"z-no-content-block mar-top-15 mar-bottom-30"},f.a.createElement("div",{className:"z-no-content-group"},f.a.createElement("i",{className:"icon ic-comment",style:{cursor:"initial"}}),f.a.createElement("span",{className:"z-text mar-top-15"},"Ch\u01b0a c\xf3 b\xecnh lu\u1eadn n\xe0o"))):f.a.createElement(h.Fragment,null,f.a.createElement(E,{isLogin:n,comments:l,id:i,type:r,addToast:a,openPopupLogin:o}),f.a.createElement("a",{onClick:this.loadMore,className:"z-btn-text ".concat(p?"":"hidden"),style:{display:p?"block":"none",margin:"10px 0px",textAlign:"center"}},"Xem th\xeam"))),f.a.createElement("section",{className:"z-full-width-notify"},f.a.createElement("div",{className:"z-notify z-notify-block"},f.a.createElement("div",{className:"z-notify-content"},f.a.createElement("i",{className:"icon ic-info"}),f.a.createElement("span",{className:"z-notify-text"},"H\xe3y v\xe0o \u1ee9ng d\u1ee5ng Zing MP3 \u0111\u1ec3 tham gia b\xecnh lu\u1eadn")))))}}]),n}(h.Component);t.a=x},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(52))},function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=d(n(36)),o=d(n(42)),s=n(188),c=n(138),l=d(n(189)),u=n(190);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){try{return window.history.state||{}}catch(e){return{}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(u.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,u.supportsHistory)(),d=!(0,u.supportsPopStateOnHashChange)(),f=e.forceRefresh,p=void 0!==f&&f,m=e.getUserConfirmation,g=void 0===m?u.getConfirmation:m,v=e.keyLength,y=void 0===v?6:v,b=e.basename?(0,c.stripTrailingSlash)((0,c.addLeadingSlash)(e.basename)):"",w=function(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return(0,a.default)(!b||(0,c.hasBasename)(o,b),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+o+'" to begin with "'+b+'".'),b&&(o=(0,c.stripBasename)(o,b)),(0,s.createLocation)(o,r,n)},_=function(){return Math.random().toString(36).substr(2,y)},E=(0,l.default)(),S=function(e){i(H,e),H.length=t.length,E.notifyListeners(H.location,H.action)},x=function(e){(0,u.isExtraneousPopstateEvent)(e)||k(w(e.state))},T=function(){k(w(h()))},O=!1,k=function(e){if(O)O=!1,S();else{E.confirmTransitionTo(e,"POP",g,(function(t){t?S({action:"POP",location:e}):M(e)}))}},M=function(e){var t=H.location,n=C.indexOf(t.key);-1===n&&(n=0);var r=C.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,I(i))},A=w(h()),C=[A.key],L=function(e){return b+(0,c.createPath)(e)},P=function(e,i){(0,a.default)(!("object"===("undefined"===typeof e?"undefined":r(e))&&void 0!==e.state&&void 0!==i),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,s.createLocation)(e,i,_(),H.location);E.confirmTransitionTo(o,"PUSH",g,(function(e){if(e){var r=L(o),i=o.key,s=o.state;if(n)if(t.pushState({key:i,state:s},null,r),p)window.location.href=r;else{var c=C.indexOf(H.location.key),l=C.slice(0,-1===c?0:c+1);l.push(o.key),C=l,S({action:"PUSH",location:o})}else(0,a.default)(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}}))},R=function(e,i){(0,a.default)(!("object"===("undefined"===typeof e?"undefined":r(e))&&void 0!==e.state&&void 0!==i),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,s.createLocation)(e,i,_(),H.location);E.confirmTransitionTo(o,"REPLACE",g,(function(e){if(e){var r=L(o),i=o.key,s=o.state;if(n)if(t.replaceState({key:i,state:s},null,r),p)window.location.replace(r);else{var c=C.indexOf(H.location.key);-1!==c&&(C[c]=o.key),S({action:"REPLACE",location:o})}else(0,a.default)(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}}))},I=function(e){t.go(e)},N=function(){return I(-1)},j=function(){return I(1)},D=0,z=function(e){1===(D+=e)?((0,u.addEventListener)(window,"popstate",x),d&&(0,u.addEventListener)(window,"hashchange",T)):0===D&&((0,u.removeEventListener)(window,"popstate",x),d&&(0,u.removeEventListener)(window,"hashchange",T))},F=!1,U=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=E.setPrompt(e);return F||(z(1),F=!0),function(){return F&&(F=!1,z(-1)),t()}},B=function(e){var t=E.appendListener(e);return z(1),function(){z(-1),t()}},H={length:t.length,action:"POP",location:A,createHref:L,push:P,replace:R,go:I,goBack:N,goForward:j,block:U,listen:B};return H}},function(e,t,n){!function(t,r){var i;e.exports=(i=n(78),function(e){var t=i,n=t.lib,r=n.WordArray,a=n.Hasher,o=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var l=[],u=o.SHA256=a.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],d=n[6],h=n[7],f=0;f<64;f++){if(f<16)l[f]=0|e[t+f];else{var p=l[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[f-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[f]=m+l[f-7]+v+l[f-16]}var y=r&i^r&a^i&a,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[f]+l[f];h=d,d=u,u=s,s=o+w|0,o=a,a=i,i=r,r=w+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(u),t.HmacSHA256=a._createHmacHelper(u)}(Math),i.SHA256)}()},function(e,t,n){!function(t,r,i){var a;e.exports=(a=n(78),n(140),n(196),n(197),a.HmacSHA512)}()},function(e,t,n){var r=n(202).clean,i=/[.*+?^${}()|[\]\\]/g,a=/[a-z0-9_]/i,o=/\s+/;e.exports=function(e,t){return e=r(e),(t=r(t)).trim().split(o).filter((function(e){return e.length>0})).reduce((function(t,n){var r=n.length,o=a.test(n[0])?"\\b":"",s=new RegExp(o+n.replace(i,"\\$&"),"i"),c=e.search(s);return c>-1&&(t.push([c,c+r]),e=e.slice(0,c)+new Array(r+1).join(" ")+e.slice(c+r)),t}),[]).sort((function(e,t){return e[0]-t[0]}))}},function(e,t){e.exports=function(e,t){var n=[];return 0===t.length?n.push({text:e,highlight:!1}):t[0][0]>0&&n.push({text:e.slice(0,t[0][0]),highlight:!1}),t.forEach((function(r,i){var a=r[0],o=r[1];n.push({text:e.slice(a,o),highlight:!0}),i===t.length-1?o<e.length&&n.push({text:e.slice(o,e.length),highlight:!1}):o<t[i+1][0]&&n.push({text:e.slice(o,t[i+1][0]),highlight:!1})})),n}},function(e,t,n){"use strict";e.exports=n(203).default},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object);e.exports=function e(t,n,d){if("string"!==typeof n){if(u){var h=l(n);h&&h!==u&&e(t,h,d)}var f=o(n);s&&(f=f.concat(s(n)));for(var p=0;p<f.length;++p){var m=f[p];if(!r[m]&&!i[m]&&(!d||!d[m])){var g=c(n,m);try{a(t,m,g)}catch(v){}}}return t}return t}},function(e,t,n){var r=n(242),i=n(243),a=n(244),o=n(144),s=n(245),c=Array.prototype.push,l=n(246),u=n(33).default,d={inline:function(e){a({description:null,survey:null},e)},wrapper:function(){}},h={linear:function(e){a({trackingEvents:[],parameters:null,videoClicks:null},e),(e.mediaFiles||[]).forEach((function(e){a({id:null,bitrate:null,scalable:null,maintainAspectRatio:null,apiFramework:null},e)}))},companions:function(e){e.companions.forEach((function(e){a({expandedWidth:null,expandedHeight:null,apiFramework:null,trackingEvents:[],clickThrough:null,altText:null,parameters:null},e)}))},nonLinear:function(e){a({trackingEvents:[]},e),e.ads.forEach((function(e){a({id:null,expandedWidth:null,expandedHeight:null,scalable:null,maintainAspectRatio:null,minSuggestedDuration:null,apiFramework:null,clickThrough:null,parameters:null},e)}))}},f=["ads.celtra.com"];function p(){}function m(e,t){var n=e.indexOf("redirectUrl=");if(n>-1&&f.some((function(t){return e.indexOf(t)>-1}))){var i=e.slice(n+"redirectUrl=".length);return e=e.slice(0,n),r.get(e,t).catch(p).then((function(){return r.get(i,t)}))}return r.get(e,t)}function g(e){i(e,this,!0),this.ads.forEach((function(e){a({system:{version:null},errors:[]},e),e.creatives.forEach((function(e){a({id:null,sequence:null,adID:null},e),h[e.type](e)})),d[e.type](e)})),this.__private__={wrappers:[],inlines:[]}}Object.defineProperties(g.prototype,{wrappers:{get:function(){var e=this.__private__.wrappers;return e.length=0,c.apply(e,this.filter("ads",(function(e){return"wrapper"===e.type}))),e}},inlines:{get:function(){var e=this.__private__.inlines;return e.length=0,c.apply(e,this.filter("ads",(function(e){return"inline"===e.type}))),e}}}),g.prototype.get=function(e){return((e||"").match(/[^\[\]\.]+/g)||[]).reduce((function(e,t){return e?e[t]:void 0}),this)},g.prototype.set=function(e,t){var n=function(){for(var t,n=/[^\[\]\.]+/g,r=[];t=n.exec(e);)r.push({token:t[0],type:a(t,t.index+t[0].length)});return r}(),r=n.pop(),i=n.reduce((function(e,t){return e[t.token]||(e[t.token]=new t.type)}),this);function a(e,t){switch(e.input.charAt(t)){case".":return Object;case"[":return Array;case"]":return a(e,t+1);default:return null}}if(!e)throw new Error("prop must be specified.");return i[r.token]=t},g.prototype.map=function(e,t){var n=this.get(e)||[],r=n.length,i=[];if(!(n instanceof Array))return i;for(var a=0;a<r;a++)i.push(t.call(this,n[a],a,n));return i},g.prototype.filter=function(e,t){var n=this.get(e)||[],r=n.length,i=[];if(!(n instanceof Array))return i;for(var a=0;a<r;a++)t.call(this,n[a],a,n)&&i.push(n[a]);return i},g.prototype.find=function(e,t){var n=this.get(e)||[],r=n.length;if(n instanceof Array)for(var i=0;i<r;i++)if(t.call(this,n[i],i,n))return n[i]},g.prototype.toPOJO=function(){var e=JSON.parse(JSON.stringify(this));return delete e.__private__,e},g.prototype.copy=function(){return new this.constructor(this.toPOJO())},g.prototype.resolveWrappers=function(){var e=isNaN(arguments[0])?1/0:arguments[0],t="function"===typeof arguments[0]?arguments[0]:arguments[1],n=this.constructor,r=this;function i(e,t){var n,r={linear:(n=e.creatives).filter(i("linear")),companions:n.filter(i("companions")),nonLinear:n.filter(i("nonLinear"))};function i(e){return function(t){return t.type===e}}return a(e.impressions,t.impressions),a(e.viewableImpressions,t.viewableImpressions),a(e.errors,t.errors),t.creatives.forEach((function(e){a(r[e.type].shift()||{},e)})),c.apply(t.creatives,["linear","companions","nonLinear"].reduce((function(e,t){return e.concat(r[t])}),[])),t}return 0===e?Promise.reject(new Error("Too many redirects were made.")):s(Promise.all(this.map("wrappers",(function(e){return u.info("daast wrappers url",e.vastAdTagURI),Promise.resolve(m(e.vastAdTagURI,{withCredentials:!0})).then((function(t){return u.info("daast wrappers data",n.pojoFromXML(t.data)),{wrapper:e,response:n.pojoFromXML(t.data).ads}}))}))).then((function(e){var t=e.map((function(e){return e.wrapper})),a=e.map((function(e){return e.response}));return new n(o(r.toPOJO(),{ads:r.map("ads",(function(e){var n=t.indexOf(e),r=t[n],o=a[n];return o?o.map(i.bind(null,r)):[e]})).reduce((function(e,t){return e.concat(t)}))}))})).then((function(t){return t.get("wrappers.length")>0?t.resolveWrappers(e-1):t})),t)},g.prototype.toXML=function(){var e=this.validate();if(!e.valid)throw new Error("VAST is invalid: "+e.reasons.join(", "));return l(this)},g.prototype.validate=function(){var e=this,t=[],n={inline:function(t){var n={linear:function(e){o(e,{exists:["duration"],atLeastOne:["mediaFiles"]})},companions:function(t){e.get(t("companions")).forEach((function(e,n){o((function(e){return t("companions["+n+"]."+e)}),{exists:[],atLeastOne:["resources"]})}))},nonLinear:function(t){e.get(t("ads")).forEach((function(e,n){o((function(e){return t("ads["+n+"]."+e)}),{exists:[],atLeastOne:["resources"]})}))}};o(t,{exists:["title"],atLeastOne:["creatives"]}),e.get(t("creatives")).forEach((function(e,r){function i(e){return t("creatives["+r+"]."+e)}o(i,{exists:["type"],atLeastOne:[]}),(n[e.type]||p)(i)}))},wrapper:function(e){o(e,{exists:["vastAdTagURI"],atLeastOne:[]})}};function r(e,n){e||t.push(n)}function i(t){r(e.get(t),t+" is required")}function a(t){r(e.get(t+".length")>0,t+" must contain at least one value")}function o(e,t){t.exists.map(e).forEach(i),t.atLeastOne.map(e).forEach(a)}return o((function(e){return e}),{exists:[],atLeastOne:["ads"]}),this.get("ads").forEach((function(e,t){function r(e){return"ads["+t+"]."+e}o(r,{exists:["type","system.name"],atLeastOne:["impressions"]}),(n[e.type]||p)(r)})),{valid:0===t.length,reasons:0===t.length?null:t}},g.pojoFromXML=n(249),g.fetch=function(e){var t="object"===typeof arguments[1]&&arguments[1]||{},n="function"===typeof arguments[2]?arguments[2]:arguments[1],r=this;return s(Promise.resolve(m(e,{headers:t.headers||{}})).then((function(e){u.info("daast",r.pojoFromXML(e.data));var n=new r(r.pojoFromXML(e.data));return t.resolveWrappers?n.resolveWrappers(t.maxRedirects):n})),n)},e.exports=g},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(2),o=n(162),s=n(163),c=function(e){var t=e.link;return i.a.createElement("nav",{className:"social-share-block"},i.a.createElement("ul",{className:"clearfix"},i.a.createElement("li",null,i.a.createElement(o.a,{className:"nav-link",url:"".concat(a.r).concat(t)})),i.a.createElement("li",null,i.a.createElement(s.a,{className:"nav-link",url:"".concat(a.r).concat(t)}))))};c.defaultProps={link:""},t.a=c},function(e,t,n){"use strict";n(5),n(14),n(11),n(0),n(97),n(19),n(47)},function(e,t,n){e.exports=n(82)},function(e,t,n){"use strict";var r=n(134),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function _(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var S=E.prototype=new _;S.constructor=E,r(S,w.prototype),S.isPureReactComponent=!0;var x={current:null},T=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:x.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,C=[];function L(e,t,n,r){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case a:case o:c=!0}}if(c)return r(i,t,""===n?"."+I(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=n+I(s=t[l],l);c+=e(s,u,r,i)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),l=0;!(s=t.next()).done;)c+=e(s=s.value,u=n+I(s,l++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return c}(e,"",t,n)}function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?D(e,r,n,(function(e){return e})):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function D(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),R(e,j,t=L(t,a,r,i)),P(t)}var z={current:null};function F(){var e=z.current;if(null===e)throw Error(v(321));return e}var U={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return D(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,N,t=L(null,null,t,n)),P(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return D(e,t,null,(function(e){return e})),t},only:function(e){if(!M(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=l,t.PureComponent=E,t.StrictMode=c,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)T.call(t,u)&&!O.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(0),i=n(134),a=n(181);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var c=!1,l=null,u=!1,d=null,h={onError:function(e){c=!0,l=e}};function f(e,t,n,r,i,a,o,u,d){c=!1,l=null,s.apply(h,arguments)}var p=null,m=null,g=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,a,s,h,p){if(f.apply(this,arguments),c){if(!c)throw Error(o(198));var m=l;c=!1,l=null,u||(u=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function w(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!E[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in E[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,c=r;if(S.hasOwnProperty(c))throw Error(o(99,c));S[c]=a;var l=a.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&_(l[i],s,c);i=!0}else a.registrationName?(_(a.registrationName,s,c),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function _(e,t,n){if(x[e])throw Error(o(100,e));x[e]=t,T[e]=t.eventTypes[n].dependencies}var E=[],S={},x={},T={};function O(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&w()}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),M=null,A=null,C=null;function L(e){if(e=m(e)){if("function"!==typeof M)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),M(e.stateNode,e.type,t))}}function P(e){A?C?C.push(e):C=[e]:A=e}function R(){if(A){var e=A,t=C;if(C=A=null,L(e),t)for(e=0;e<t.length;e++)L(t[e])}}function I(e,t){return e(t)}function N(e,t,n,r,i){return e(t,n,r,i)}function j(){}var D=I,z=!1,F=!1;function U(){null===A&&null===C||(j(),R())}function B(e,t,n){if(F)return e(t,n);F=!0;try{return D(e,t,n)}finally{F=!1,U()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,G={},W={};function q(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Y[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Y[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Y[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Y[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Y[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Y[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Y[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Y[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Y[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var Z=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Z,K);Y[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Z,K);Y[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Z,K);Y[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Y[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),Y.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Y[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=Y.hasOwnProperty(t)?Y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!V.call(W,e)||!V.call(G,e)&&(H.test(e)?W[e]=!0:(G[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,ae=$?Symbol.for("react.provider"):60109,oe=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,ce=$?Symbol.for("react.forward_ref"):60112,le=$?Symbol.for("react.suspense"):60113,ue=$?Symbol.for("react.suspense_list"):60120,de=$?Symbol.for("react.memo"):60115,he=$?Symbol.for("react.lazy"):60116,fe=$?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case fe:return ge(e.render);case he:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ge(e.type);n=null,r&&(n=ge(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xe(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function Te(e,t){xe(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ke(e,t.type,n):t.hasOwnProperty("defaultValue")&&ke(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ke(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Me(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Pe(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ie="http://www.w3.org/1999/xhtml",Ne="http://www.w3.org/2000/svg";function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ze,Fe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ne||"innerHTML"in e)e.innerHTML=t;else{for((ze=ze||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ze.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var He={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},Ve={},Ge={};function We(e){if(Ve[e])return Ve[e];if(!He[e])return e;var t,n=He[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Ve[e]=n[t];return e}k&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);var qe=We("animationend"),Ye=We("animationiteration"),Ze=We("animationstart"),Ke=We("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"===typeof WeakMap?WeakMap:Map);function Je(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if($e(e)!==e)throw Error(o(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return tt(i),e;if(a===r)return tt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function ot(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(at=rt(at,e)),e=at,at=null,e){if(it(e,ot),at)throw Error(o(95));if(u)throw e=d,u=!1,d=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!k)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ut=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function ht(e,t,n,r){if(ut.length){var i=ut.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ft(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=kn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,c=0;c<E.length;c++){var l=E[c];l&&(l=l.extractEvents(r,t,a,i,o))&&(s=rt(s,l))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Zt(t,"scroll",!0);break;case"focus":case"blur":Zt(t,"focus",!0),Zt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Zt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var mt,gt,vt,yt=!1,bt=[],wt=null,_t=null,Et=null,St=new Map,xt=new Map,Tt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),kt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Mt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Ct(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Mt(t,n,r,i,a),null!==t&&(null!==(t=Mn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Lt(e){var t=kn(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Mn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){Pt(e)&&n.delete(t)}function It(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Mn(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Pt(wt)&&(wt=null),null!==_t&&Pt(_t)&&(_t=null),null!==Et&&Pt(Et)&&(Et=null),St.forEach(Rt),xt.forEach(Rt)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,It)))}function jt(e){function t(t){return Nt(t,e)}if(0<bt.length){Nt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Nt(wt,e),null!==_t&&Nt(_t,e),null!==Et&&Nt(Et,e),St.forEach(t),xt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Tt.shift()}var Dt={},zt=new Map,Ft=new Map,Ut=["abort","abort",qe,"animationEnd",Ye,"animationIteration",Ze,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Ft.set(r,t),zt.set(r,a),Dt[i]=a}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Ut,2);for(var Ht="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<Ht.length;Vt++)Ft.set(Ht[Vt],0);var Gt=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,qt=!0;function Yt(e,t){Zt(t,e,!1)}function Zt(e,t,n){var r=Ft.get(t);switch(void 0===r?2:r){case 0:r=Kt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Kt(e,t,n,r){z||j();var i=Qt,a=z;z=!0;try{N(i,e,t,n,r)}finally{(z=a)||U()}}function Xt(e,t,n,r){Wt(Gt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(qt)if(0<bt.length&&-1<Ot.indexOf(e))e=Mt(null,e,t,n,r),bt.push(e);else{var i=Jt(e,t,n,r);if(null===i)At(e,r);else if(-1<Ot.indexOf(e))e=Mt(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Ct(wt,e,t,n,r,i),!0;case"dragenter":return _t=Ct(_t,e,t,n,r,i),!0;case"mouseover":return Et=Ct(Et,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,Ct(St.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xt.set(a,Ct(xt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=ht(e,r,null,t);try{B(ft,e)}finally{dt(e)}}}}function Jt(e,t,n,r){if(null!==(n=kn(n=ct(r)))){var i=$e(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=et(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ht(e,r,n,t);try{B(ft,e)}finally{dt(e)}return null}var $t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||$t.hasOwnProperty(e)&&$t[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys($t).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$t[t]=$t[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function on(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ie;function cn(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function ln(){}function un(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function fn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,gn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0;function _n(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function En(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),xn="__reactInternalInstance$"+Sn,Tn="__reactEventHandlers$"+Sn,On="__reactContainere$"+Sn;function kn(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[xn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=En(e);null!==e;){if(n=e[xn])return n;e=En(e)}return t}n=(e=n).parentNode}return null}function Mn(e){return!(e=e[xn]||e[On])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function An(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Cn(e){return e[Tn]||null}function Ln(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Pn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Rn(e,t,n){(t=Pn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function In(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ln(t);for(t=n.length;0<t--;)Rn(n[t],"captured",e);for(t=0;t<n.length;t++)Rn(n[t],"bubbled",e)}}function Nn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Pn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function jn(e){e&&e.dispatchConfig.registrationName&&Nn(e._targetInst,null,e)}function Dn(e){it(e,In)}var zn=null,Fn=null,Un=null;function Bn(){if(Un)return Un;var e,t,n=Fn,r=n.length,i="value"in zn?zn.value:zn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Un=i.slice(e,1<t?1-t:void 0)}function Hn(){return!0}function Vn(){return!1}function Gn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:Vn,this.isPropagationStopped=Vn,this}function Wn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function qn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Yn(e){e.eventPool=[],e.getPooled=Wn,e.release=qn}i(Gn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:Vn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vn,this._dispatchInstances=this._dispatchListeners=null}}),Gn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Yn(n),n},Yn(Gn);var Zn=Gn.extend({data:null}),Kn=Gn.extend({data:null}),Xn=[9,13,27,32],Qn=k&&"CompositionEvent"in window,Jn=null;k&&"documentMode"in document&&(Jn=document.documentMode);var $n=k&&"TextEvent"in window&&!Jn,er=k&&(!Qn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ar(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var or=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Qn)e:{switch(e){case"compositionstart":var a=nr.compositionStart;break e;case"compositionend":a=nr.compositionEnd;break e;case"compositionupdate":a=nr.compositionUpdate;break e}a=void 0}else or?ir(e,n)&&(a=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=nr.compositionStart);return a?(er&&"ko"!==n.locale&&(or||a!==nr.compositionStart?a===nr.compositionEnd&&or&&(i=Bn()):(Fn="value"in(zn=r)?zn.value:zn.textContent,or=!0)),a=Zn.getPooled(a,t,n,r),i?a.data=i:null!==(i=ar(n))&&(a.data=i),Dn(a),i=a):i=null,(e=$n?function(e,t){switch(e){case"compositionend":return ar(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(or)return"compositionend"===e||!Qn&&ir(e,t)?(e=Bn(),Un=Fn=zn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Kn.getPooled(nr.beforeInput,t,n,r)).data=e,Dn(t)):t=null,null===i?t:null===t?i:[i,t]}},cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!cr[e.type]:"textarea"===t}var ur={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,t,n){return(e=Gn.getPooled(ur.change,e,t,n)).type="change",P(n),Dn(e),e}var hr=null,fr=null;function pr(e){st(e)}function mr(e){if(_e(An(e)))return e}function gr(e,t){if("change"===e)return t}var vr=!1;function yr(){hr&&(hr.detachEvent("onpropertychange",br),fr=hr=null)}function br(e){if("value"===e.propertyName&&mr(fr))if(e=dr(fr,e,ct(e)),z)st(e);else{z=!0;try{I(pr,e)}finally{z=!1,U()}}}function wr(e,t,n){"focus"===e?(yr(),fr=n,(hr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function _r(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(fr)}function Er(e,t){if("click"===e)return mr(t)}function Sr(e,t){if("input"===e||"change"===e)return mr(t)}k&&(vr=lt("input")&&(!document.documentMode||9<document.documentMode));var xr={eventTypes:ur,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var i=t?An(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=gr;else if(lr(i))if(vr)o=Sr;else{o=_r;var s=wr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Er);if(o&&(o=o(e,t)))return dr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&ke(i,"number",i.value)}},Tr=Gn.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function Mr(){return kr}var Ar=0,Cr=0,Lr=!1,Pr=!1,Rr=Tr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Mr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ar;return Ar=e.screenX,Lr?"mousemove"===e.type?e.screenX-t:0:(Lr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Cr;return Cr=e.screenY,Pr?"mousemove"===e.type?e.screenY-t:0:(Pr=!0,0)}}),Ir=Rr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Nr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jr={eventTypes:Nr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?kn(t):null)&&(t!==$e(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Rr,c=Nr.mouseLeave,l=Nr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Ir,c=Nr.pointerLeave,l=Nr.pointerEnter,u="pointer");if(e=null==o?a:An(o),a=null==t?a:An(t),(c=s.getPooled(c,o,n,r)).type=u+"leave",c.target=e,c.relatedTarget=a,(n=s.getPooled(l,t,n,r)).type=u+"enter",n.target=a,n.relatedTarget=e,u=t,(r=o)&&u)e:{for(l=u,o=0,e=s=r;e;e=Ln(e))o++;for(e=0,t=l;t;t=Ln(t))e++;for(;0<o-e;)s=Ln(s),o--;for(;0<e-o;)l=Ln(l),e--;for(;o--;){if(s===l||s===l.alternate)break e;s=Ln(s),l=Ln(l)}s=null}else s=null;for(l=s,s=[];r&&r!==l&&(null===(o=r.alternate)||o!==l);)s.push(r),r=Ln(r);for(r=[];u&&u!==l&&(null===(o=u.alternate)||o!==l);)r.push(u),u=Ln(u);for(u=0;u<s.length;u++)Nn(s[u],"bubbled",c);for(u=r.length;0<u--;)Nn(r[u],"captured",n);return 0===(64&i)?[c]:[c,n]}};var Dr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},zr=Object.prototype.hasOwnProperty;function Fr(e,t){if(Dr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!zr.call(t,n[r])||!Dr(e[n[r]],t[n[r]]))return!1;return!0}var Ur=k&&"documentMode"in document&&11>=document.documentMode,Br={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hr=null,Vr=null,Gr=null,Wr=!1;function qr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==Hr||Hr!==un(n)?null:("selectionStart"in(n=Hr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gr&&Fr(Gr,n)?null:(Gr=n,(e=Gn.getPooled(Br.select,Vr,e,t)).type="select",e.target=Hr,Dn(e),e))}var Yr={eventTypes:Br,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),a=T.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?An(t):window,e){case"focus":(lr(i)||"true"===i.contentEditable)&&(Hr=i,Vr=t,Gr=null);break;case"blur":Gr=Vr=Hr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,qr(n,r);case"selectionchange":if(Ur)break;case"keydown":case"keyup":return qr(n,r)}return null}},Zr=Gn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kr=Gn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xr=Tr.extend({relatedTarget:null});function Qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Tr.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?$r[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Mr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Rr.extend({dataTransfer:null}),ni=Tr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Mr}),ri=Gn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Rr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ai={eventTypes:Dt,extractEvents:function(e,t,n,r){var i=zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===Qr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case qe:case Ye:case Ze:e=Zr;break;case Ke:e=ri;break;case"scroll":e=Tr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ir;break;default:e=Gn}return Dn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Cn,m=Mn,g=An,O({SimpleEventPlugin:ai,EnterLeaveEventPlugin:jr,ChangeEventPlugin:xr,SelectEventPlugin:Yr,BeforeInputEventPlugin:sr});var oi=[],si=-1;function ci(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function li(e,t){si++,oi[si]=e.current,e.current=t}var ui={},di={current:ui},hi={current:!1},fi=ui;function pi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){ci(hi),ci(di)}function vi(e,t,n){if(di.current!==ui)throw Error(o(168));li(di,t),li(hi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,ge(t)||"Unknown",a));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,fi=di.current,li(di,e),li(hi,hi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=yi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ci(hi),ci(di),li(di,e)):ci(hi),li(hi,n)}var _i=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,xi=a.unstable_requestPaint,Ti=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,ki=a.unstable_ImmediatePriority,Mi=a.unstable_UserBlockingPriority,Ai=a.unstable_NormalPriority,Ci=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Pi={},Ri=a.unstable_shouldYield,Ii=void 0!==xi?xi:function(){},Ni=null,ji=null,Di=!1,zi=Ti(),Fi=1e4>zi?Ti:function(){return Ti()-zi};function Ui(){switch(Oi()){case ki:return 99;case Mi:return 98;case Ai:return 97;case Ci:return 96;case Li:return 95;default:throw Error(o(332))}}function Bi(e){switch(e){case 99:return ki;case 98:return Mi;case 97:return Ai;case 96:return Ci;case 95:return Li;default:throw Error(o(332))}}function Hi(e,t){return e=Bi(e),_i(e,t)}function Vi(e,t,n){return e=Bi(e),Ei(e,t,n)}function Gi(e){return null===Ni?(Ni=[e],ji=Ei(ki,qi)):Ni.push(e),Pi}function Wi(){if(null!==ji){var e=ji;ji=null,Si(e)}qi()}function qi(){if(!Di&&null!==Ni){Di=!0;var e=0;try{var t=Ni;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ei(ki,Wi),n}finally{Di=!1}}}function Yi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Zi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ki={current:null},Xi=null,Qi=null,Ji=null;function $i(){Ji=Qi=Xi=null}function ea(e){var t=Ki.current;ci(Ki),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function na(e,t){Xi=e,Ji=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Co=!0),e.firstContext=null)}function ra(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Xi)throw Error(o(308));Qi=t,Xi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function sa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ca(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function la(e,t){var n=e.alternate;null!==n&&oa(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ua(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var c=o.next;o.next=s.next,s.next=c}o=s,a.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=s))}if(null!==o){c=o.next;var l=a.baseState,u=0,d=null,h=null,f=null;if(null!==c)for(var p=c;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(h=f=m,d=l):f=f.next=m,s>u&&(u=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ac(s,p.suspenseConfig);e:{var g=e,v=p;switch(s=t,m=n,v.tag){case 1:if("function"===typeof(g=v.payload)){l=g.call(m,l,s);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=v.payload)?g.call(m,l,s):g)||void 0===s)break e;l=i({},l,s);break e;case 2:ia=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===c){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=c,a.baseQueue=o=s,a.shared.pending=null}}null===f?d=l:f.next=h,a.baseState=d,a.baseQueue=f,oc(u),e.expirationTime=u,e.memoizedState=l}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ha=X.ReactCurrentBatchConfig,fa=(new r.Component).refs;function pa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternalFiber)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),i=ha.suspense;(i=sa(r=Ys(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ca(e,i),Zs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),i=ha.suspense;(i=sa(r=Ys(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ca(e,i),Zs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=qs(),r=ha.suspense;(r=sa(n=Ys(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ca(e,r),Zs(e,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Fr(n,r)||!Fr(i,a))}function va(e,t,n){var r=!1,i=ui,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=mi(t)?fi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?pi(e,i):ui),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ya(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fa,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=mi(t)?fi:di.current,i.context=pi(e,a)),ua(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(pa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var wa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===fa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ac(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=kc(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Cc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ac(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=kc(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case te:return(t=Cc(t,e.mode,n)).return=e,t}if(wa(t)||me(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(wa(n)||me(n))return null!==i?null:d(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||me(r))return d(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function m(i,o,s,c){for(var l=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),l;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],c))&&(o=a(d,o,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),l}function g(i,s,c,l){var u=me(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,a,c){var l="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;l&&(a=a.props.children);var u="object"===typeof a&&null!==a;if(u)switch(a.$$typeof){case ee:e:{for(u=a.key,l=r;null!==l;){if(l.key===u){switch(l.tag){case 7:if(a.type===ne){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=_a(e,l,a),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===ne?((r=Mc(a.props.children,e.mode,c,a.key)).return=e,e=r):((c=kc(a.type,a.key,a.props,null,e.mode,c)).ref=_a(e,r,a),c.return=e,e=c)}return s(e);case te:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Cc(a,e.mode,c)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ac(a,e.mode,c)).return=e,e=r),s(e);if(wa(a))return m(e,r,a,c);if(me(a))return g(e,r,a,c);if(u&&Ea(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var xa=Sa(!0),Ta=Sa(!1),Oa={},ka={current:Oa},Ma={current:Oa},Aa={current:Oa};function Ca(e){if(e===Oa)throw Error(o(174));return e}function La(e,t){switch(li(Aa,t),li(Ma,e),li(ka,Oa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:t=De(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(ka),li(ka,t)}function Pa(){ci(ka),ci(Ma),ci(Aa)}function Ra(e){Ca(Aa.current);var t=Ca(ka.current),n=De(t,e.type);t!==n&&(li(Ma,e),li(ka,n))}function Ia(e){Ma.current===e&&(ci(ka),ci(Ma))}var Na={current:0};function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Da(e,t){return{responder:e,props:t}}var za=X.ReactCurrentDispatcher,Fa=X.ReactCurrentBatchConfig,Ua=0,Ba=null,Ha=null,Va=null,Ga=!1;function Wa(){throw Error(o(321))}function qa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dr(e[n],t[n]))return!1;return!0}function Ya(e,t,n,r,i,a){if(Ua=a,Ba=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,za.current=null===e||null===e.memoizedState?vo:yo,e=n(r,i),t.expirationTime===Ua){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Va=Ha=null,t.updateQueue=null,za.current=bo,e=n(r,i)}while(t.expirationTime===Ua)}if(za.current=go,t=null!==Ha&&null!==Ha.next,Ua=0,Va=Ha=Ba=null,Ga=!1,t)throw Error(o(300));return e}function Za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Va?Ba.memoizedState=Va=e:Va=Va.next=e,Va}function Ka(){if(null===Ha){var e=Ba.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Va?Ba.memoizedState:Va.next;if(null!==t)Va=t,Ha=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Va?Ba.memoizedState=Va=e:Va=Va.next=e}return Va}function Xa(e,t){return"function"===typeof t?t(e):t}function Qa(e){var t=Ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=a=null,l=i;do{var u=l.expirationTime;if(u<Ua){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=d,a=r):c=c.next=d,u>Ba.expirationTime&&(Ba.expirationTime=u,oc(u))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),ac(u,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===c?a=r:c.next=s,Dr(r,t.memoizedState)||(Co=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Ja(e){var t=Ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Dr(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function $a(e){var t=Za();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:e}).dispatch=mo.bind(null,Ba,e),[t.memoizedState,e]}function eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ba.updateQueue)?(t={lastEffect:null},Ba.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function to(){return Ka().memoizedState}function no(e,t,n,r){var i=Za();Ba.effectTag|=e,i.memoizedState=eo(1|t,n,void 0,void 0===r?null:r)}function ro(e,t,n,r){var i=Ka();r=void 0===r?null:r;var a=void 0;if(null!==Ha){var o=Ha.memoizedState;if(a=o.destroy,null!==r&&qa(r,o.deps))return void eo(t,n,a,r)}Ba.effectTag|=e,i.memoizedState=eo(1|t,n,a,r)}function io(e,t){return no(516,4,e,t)}function ao(e,t){return ro(516,4,e,t)}function oo(e,t){return ro(4,2,e,t)}function so(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ro(4,2,so.bind(null,t,e),n)}function lo(){}function uo(e,t){return Za().memoizedState=[e,void 0===t?null:t],e}function ho(e,t){var n=Ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fo(e,t){var n=Ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function po(e,t,n){var r=Ui();Hi(98>r?98:r,(function(){e(!0)})),Hi(97<r?97:r,(function(){var r=Fa.suspense;Fa.suspense=void 0===t?null:t;try{e(!1),n()}finally{Fa.suspense=r}}))}function mo(e,t,n){var r=qs(),i=ha.suspense;i={expirationTime:r=Ys(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ba||null!==a&&a===Ba)Ga=!0,i.expirationTime=Ua,Ba.expirationTime=Ua;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Dr(s,o))return}catch(c){}Zs(e,r)}}var go={readContext:ra,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useResponder:Wa,useDeferredValue:Wa,useTransition:Wa},vo={readContext:ra,useCallback:uo,useContext:ra,useEffect:io,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,no(4,2,so.bind(null,t,e),n)},useLayoutEffect:function(e,t){return no(4,2,e,t)},useMemo:function(e,t){var n=Za();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Za();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=mo.bind(null,Ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Za().memoizedState=e},useState:$a,useDebugValue:lo,useResponder:Da,useDeferredValue:function(e,t){var n=$a(e),r=n[0],i=n[1];return io((function(){var n=Fa.suspense;Fa.suspense=void 0===t?null:t;try{i(e)}finally{Fa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=$a(!1),n=t[0];return t=t[1],[uo(po.bind(null,t,e),[t,e]),n]}},yo={readContext:ra,useCallback:ho,useContext:ra,useEffect:ao,useImperativeHandle:co,useLayoutEffect:oo,useMemo:fo,useReducer:Qa,useRef:to,useState:function(){return Qa(Xa)},useDebugValue:lo,useResponder:Da,useDeferredValue:function(e,t){var n=Qa(Xa),r=n[0],i=n[1];return ao((function(){var n=Fa.suspense;Fa.suspense=void 0===t?null:t;try{i(e)}finally{Fa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Qa(Xa),n=t[0];return t=t[1],[ho(po.bind(null,t,e),[t,e]),n]}},bo={readContext:ra,useCallback:ho,useContext:ra,useEffect:ao,useImperativeHandle:co,useLayoutEffect:oo,useMemo:fo,useReducer:Ja,useRef:to,useState:function(){return Ja(Xa)},useDebugValue:lo,useResponder:Da,useDeferredValue:function(e,t){var n=Ja(Xa),r=n[0],i=n[1];return ao((function(){var n=Fa.suspense;Fa.suspense=void 0===t?null:t;try{i(e)}finally{Fa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ja(Xa),n=t[0];return t=t[1],[ho(po.bind(null,t,e),[t,e]),n]}},wo=null,_o=null,Eo=!1;function So(e,t){var n=xc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function xo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function To(e){if(Eo){var t=_o;if(t){var n=t;if(!xo(e,t)){if(!(t=_n(n.nextSibling))||!xo(e,t))return e.effectTag=-1025&e.effectTag|2,Eo=!1,void(wo=e);So(wo,n)}wo=e,_o=_n(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Eo=!1,wo=e}}function Oo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wo=e}function ko(e){if(e!==wo)return!1;if(!Eo)return Oo(e),Eo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=_o;t;)So(e,t),t=_n(t.nextSibling);if(Oo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){_o=_n(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}_o=null}}else _o=wo?_n(e.stateNode.nextSibling):null;return!0}function Mo(){_o=wo=null,Eo=!1}var Ao=X.ReactCurrentOwner,Co=!1;function Lo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):xa(t,e.child,n,r)}function Po(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=Ya(e,t,n,r,a,i),null===e||Co?(t.effectTag|=1,Lo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Zo(e,t,i))}function Ro(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Tc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kc(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Io(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Fr)(i,r)&&e.ref===t.ref)?Zo(e,t,a):(t.effectTag|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e)}function Io(e,t,n,r,i,a){return null!==e&&Fr(e.memoizedProps,r)&&e.ref===t.ref&&(Co=!1,i<a)?(t.expirationTime=e.expirationTime,Zo(e,t,a)):jo(e,t,n,r,a)}function No(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function jo(e,t,n,r,i){var a=mi(n)?fi:di.current;return a=pi(t,a),na(t,i),n=Ya(e,t,n,r,a,i),null===e||Co?(t.effectTag|=1,Lo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Zo(e,t,i))}function Do(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),va(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=ra(l):l=pi(t,l=mi(n)?fi:di.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==l)&&ya(t,o,r,l),ia=!1;var h=t.memoizedState;o.state=h,ua(t,r,o,i),c=t.memoizedState,s!==r||h!==c||hi.current||ia?("function"===typeof u&&(pa(t,n,u,r),c=t.memoizedState),(s=ia||ga(t,n,s,r,h,c,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,oa(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Zi(t.type,s),c=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ra(l):l=pi(t,l=mi(n)?fi:di.current),(d="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==l)&&ya(t,o,r,l),ia=!1,c=t.memoizedState,o.state=c,ua(t,r,o,i),h=t.memoizedState,s!==r||c!==h||hi.current||ia?("function"===typeof u&&(pa(t,n,u,r),h=t.memoizedState),(u=ia||ga(t,n,s,r,c,h,l))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return zo(e,t,n,r,a,i)}function zo(e,t,n,r,i,a){No(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&wi(t,n,!1),Zo(e,t,a);r=t.stateNode,Ao.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,s,a)):Lo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Fo(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),La(e,t.containerInfo)}var Uo,Bo,Ho,Vo={dehydrated:null,retryTime:0};function Go(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Na.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),li(Na,1&o),null===e){if(void 0!==a.fallback&&To(t),s){if(s=a.fallback,(a=Mc(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Mc(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Vo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Ta(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Oc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Oc(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Vo,t.child=n,i}return n=xa(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Mc(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Mc(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Vo,t.child=a,n}return t.memoizedState=null,t.child=xa(t,e,a.children,n)}function Wo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ta(e.return,t)}function qo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Yo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Lo(e,t,r.children,n),0!==(2&(r=Na.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n);else if(19===e.tag)Wo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Na,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qo(t,!0,n,null,a,t.lastEffect);break;case"together":qo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Zo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&oc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xo(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&gi(),null;case 3:return Pa(),ci(hi),ci(di),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!ko(t)||(t.effectTag|=4),null;case 5:Ia(t),n=Ca(Aa.current);var a=t.type;if(null!==e&&null!=t.stateNode)Bo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ca(ka.current),ko(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[xn]=t,r[Tn]=s,a){case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Yt(Xe[e],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"form":Yt("reset",r),Yt("submit",r);break;case"details":Yt("toggle",r);break;case"input":Se(r,s),Yt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r),cn(n,"onChange");break;case"textarea":Le(r,s),Yt("invalid",r),cn(n,"onChange")}for(var c in an(a,s),e=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):x.hasOwnProperty(c)&&null!=l&&cn(n,c)}switch(a){case"input":we(r),Oe(r,s,!0);break;case"textarea":we(r),Re(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=je(a)),e===sn?"script"===a?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(a,{is:r.is}):(e=c.createElement(a),"select"===a&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,a),e[xn]=t,e[Tn]=r,Uo(e,t),t.stateNode=e,c=on(a,r),a){case"iframe":case"object":case"embed":Yt("load",e),l=r;break;case"video":case"audio":for(l=0;l<Xe.length;l++)Yt(Xe[l],e);l=r;break;case"source":Yt("error",e),l=r;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),l=r;break;case"form":Yt("reset",e),Yt("submit",e),l=r;break;case"details":Yt("toggle",e),l=r;break;case"input":Se(e,r),l=Ee(e,r),Yt("invalid",e),cn(n,"onChange");break;case"option":l=Me(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Yt("invalid",e),cn(n,"onChange");break;case"textarea":Le(e,r),l=Ce(e,r),Yt("invalid",e),cn(n,"onChange");break;default:l=r}an(a,l);var u=l;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?nn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Fe(e,d):"children"===s?"string"===typeof d?("textarea"!==a||""!==d)&&Ue(e,d):"number"===typeof d&&Ue(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?null!=d&&cn(n,s):null!=d&&Q(e,s,d,c))}switch(a){case"input":we(e),Oe(e,r,!1);break;case"textarea":we(e),Re(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=ln)}vn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ho(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ca(Aa.current),Ca(ka.current),ko(t)?(n=t.stateNode,r=t.memoizedProps,n[xn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xn]=t,t.stateNode=n)}return null;case 13:return ci(Na),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&ko(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Na.current)?ks===ws&&(ks=_s):(ks!==ws&&ks!==_s||(ks=Es),0!==Ps&&null!==xs&&(Rc(xs,Os),Ic(xs,Ps)))),(n||r)&&(t.effectTag|=4),null);case 4:return Pa(),null;case 10:return ea(t),null;case 17:return mi(t.type)&&gi(),null;case 19:if(ci(Na),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)Ko(r,!1);else if(ks!==ws||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=ja(s))){for(t.effectTag|=64,Ko(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return li(Na,1&Na.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=ja(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ko(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,Ko(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Fi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fi(),n.sibling=null,t=Na.current,li(Na,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function Qo(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Pa(),ci(hi),ci(di),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ia(e),null;case 13:return ci(Na),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ci(Na),null;case 4:return Pa(),null;case 10:return ea(e),null;default:return null}}function Jo(e,t){return{value:e,source:t,stack:ve(t)}}Uo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,c,l=t.stateNode;switch(Ca(ka.current),e=null,n){case"input":o=Ee(l,o),r=Ee(l,r),e=[];break;case"option":o=Me(l,o),r=Me(l,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ce(l,o),r=Ce(l,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(l.onclick=ln)}for(s in an(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(c in l=o[s])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(l=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&u!==l&&(null!=u||null!=l))if("style"===s)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(s,u)):"children"===s?l===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(x.hasOwnProperty(s)?(null!=u&&cn(a,s),e||l===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Ho=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var $o="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){yc(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Zi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&jt(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function os(e,t,n){switch("function"===typeof Ec&&Ec(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Hi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){yc(i,a)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){yc(e,n)}}(t,n);break;case 5:ts(t);break;case 4:us(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function cs(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(cs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||cs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function us(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var c=e,l=a,u=n,d=l;;)if(os(c,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break e;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(c=r,l=a.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(os(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Tn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xe(n,r),on(e,i),t=on(e,r),i=0;i<a.length;i+=2){var s=a[i],c=a[i+1];"style"===s?nn(n,c):"dangerouslySetInnerHTML"===s?Fe(n,c):"children"===s?Ue(n,c):Q(n,s,c,t)}switch(e){case"input":Te(n,r);break;case"textarea":Pe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,jt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Is=Fi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(o(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=wc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=sa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){js||(js=!0,Ds=r),es(e,t)},n}function ms(e,t,n){(n=sa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===zs?zs=new Set([this]):zs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gs,vs=Math.ceil,ys=X.ReactCurrentDispatcher,bs=X.ReactCurrentOwner,ws=0,_s=3,Es=4,Ss=0,xs=null,Ts=null,Os=0,ks=ws,Ms=null,As=1073741823,Cs=1073741823,Ls=null,Ps=0,Rs=!1,Is=0,Ns=null,js=!1,Ds=null,zs=null,Fs=!1,Us=null,Bs=90,Hs=null,Vs=0,Gs=null,Ws=0;function qs(){return 0!==(48&Ss)?1073741821-(Fi()/10|0):0!==Ws?Ws:Ws=1073741821-(Fi()/10|0)}function Ys(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Ui();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Ss))return Os;if(null!==n)e=Yi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Yi(e,150,100);break;case 97:case 96:e=Yi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==xs&&e===Os&&--e,e}function Zs(e,t){if(50<Vs)throw Vs=0,Gs=null,Error(o(185));if(null!==(e=Ks(e,t))){var n=Ui();1073741823===t?0!==(8&Ss)&&0===(48&Ss)?$s(e):(Qs(e),0===Ss&&Wi()):Qs(e),0===(4&Ss)||98!==n&&99!==n||(null===Hs?Hs=new Map([[e,t]]):(void 0===(n=Hs.get(e))||n>t)&&Hs.set(e,t))}}function Ks(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(xs===i&&(oc(t),ks===Es&&Rc(i,Os)),Ic(i,t)),i}function Xs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Pc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Gi($s.bind(null,e));else{var t=Xs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=qs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Pi&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Gi($s.bind(null,e)):Vi(r,Js.bind(null,e),{timeout:10*(1073741821-t)-Fi()}),e.callbackNode=t}}}function Js(e,t){if(Ws=0,t)return Nc(e,t=qs()),Qs(e),null;var n=Xs(e);if(0!==n){if(t=e.callbackNode,0!==(48&Ss))throw Error(o(327));if(mc(),e===xs&&n===Os||nc(e,n),null!==Ts){var r=Ss;Ss|=16;for(var i=ic();;)try{cc();break}catch(c){rc(e,c)}if($i(),Ss=r,ys.current=i,1===ks)throw t=Ms,nc(e,n),Rc(e,n),Qs(e),t;if(null===Ts)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=ks,xs=null,r){case ws:case 1:throw Error(o(345));case 2:Nc(e,2<n?2:n);break;case _s:if(Rc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dc(i)),1073741823===As&&10<(i=Is+500-Fi())){if(Rs){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,nc(e,n);break}}if(0!==(a=Xs(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(hc.bind(null,e),i);break}hc(e);break;case Es:if(Rc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dc(i)),Rs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nc(e,n);break}if(0!==(i=Xs(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Cs?r=10*(1073741821-Cs)-Fi():1073741823===As?r=0:(r=10*(1073741821-As)-5e3,0>(r=(i=Fi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(hc.bind(null,e),r);break}hc(e);break;case 5:if(1073741823!==As&&null!==Ls){a=As;var s=Ls;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Fi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Rc(e,n),e.timeoutHandle=bn(hc.bind(null,e),r);break}}hc(e);break;default:throw Error(o(329))}if(Qs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function $s(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ss))throw Error(o(327));if(mc(),e===xs&&t===Os||nc(e,t),null!==Ts){var n=Ss;Ss|=16;for(var r=ic();;)try{sc();break}catch(i){rc(e,i)}if($i(),Ss=n,ys.current=r,1===ks)throw n=Ms,nc(e,t),Rc(e,t),Qs(e),n;if(null!==Ts)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,xs=null,hc(e),Qs(e)}return null}function ec(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&Wi()}}function tc(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&Wi()}}function nc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Pa(),ci(hi),ci(di);break;case 5:Ia(r);break;case 4:Pa();break;case 13:case 19:ci(Na);break;case 10:ea(r)}n=n.return}xs=e,Ts=Oc(e.current,null),Os=t,ks=ws,Ms=null,Cs=As=1073741823,Ls=null,Ps=0,Rs=!1}function rc(e,t){for(;;){try{if($i(),za.current=go,Ga)for(var n=Ba.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ua=0,Va=Ha=Ba=null,Ga=!1,null===Ts||null===Ts.return)return ks=1,Ms=t,Ts=null;e:{var i=e,a=Ts.return,o=Ts,s=t;if(t=Os,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&o.mode)){var l=o.alternate;l?(o.updateQueue=l.updateQueue,o.memoizedState=l.memoizedState,o.expirationTime=l.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!==(1&Na.current),d=a;do{var h;if(h=13===d.tag){var f=d.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var p=d.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=sa(1073741823,null);v.tag=2,ca(o,v)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new fs,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(o)){s.add(o);var b=bc.bind(null,i,c,o);c.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((ge(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(o))}5!==ks&&(ks=2),s=Jo(s,o),d=a;do{switch(d.tag){case 3:c=s,d.effectTag|=4096,d.expirationTime=t,la(d,ps(d,c,t));break e;case 1:c=s;var w=d.type,_=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===zs||!zs.has(_)))){d.effectTag|=4096,d.expirationTime=t,la(d,ms(d,c,t));break e}}d=d.return}while(null!==d)}Ts=uc(Ts)}catch(E){t=E;continue}break}}function ic(){var e=ys.current;return ys.current=go,null===e?go:e}function ac(e,t){e<As&&2<e&&(As=e),null!==t&&e<Cs&&2<e&&(Cs=e,Ls=t)}function oc(e){e>Ps&&(Ps=e)}function sc(){for(;null!==Ts;)Ts=lc(Ts)}function cc(){for(;null!==Ts&&!Ri();)Ts=lc(Ts)}function lc(e){var t=gs(e.alternate,e,Os);return e.memoizedProps=e.pendingProps,null===t&&(t=uc(e)),bs.current=null,t}function uc(e){Ts=e;do{var t=Ts.alternate;if(e=Ts.return,0===(2048&Ts.effectTag)){if(t=Xo(t,Ts,Os),1===Os||1!==Ts.childExpirationTime){for(var n=0,r=Ts.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Ts.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ts.firstEffect),null!==Ts.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ts.firstEffect),e.lastEffect=Ts.lastEffect),1<Ts.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ts:e.firstEffect=Ts,e.lastEffect=Ts))}else{if(null!==(t=Qo(Ts)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ts.sibling))return t;Ts=e}while(null!==Ts);return ks===ws&&(ks=5),null}function dc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hc(e){var t=Ui();return Hi(99,fc.bind(null,e,t)),null}function fc(e,t){do{mc()}while(null!==Us);if(0!==(48&Ss))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=dc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===xs&&(Ts=xs=null,Os=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Ss;Ss|=32,bs.current=null,mn=qt;var s=fn();if(pn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{c.nodeType,d.nodeType}catch(O){c=null;break e}var h=0,f=-1,p=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==c||0!==u&&3!==v.nodeType||(f=h+u),v!==d||0!==l&&3!==v.nodeType||(p=h+l),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===c&&++m===u&&(f=h),y===d&&++g===l&&(p=h),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}c=-1===f||-1===p?null:{start:f,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;gn={activeElementDetached:null,focusedElem:s,selectionRange:c},qt=!1,Ns=i;do{try{pc()}catch(O){if(null===Ns)throw Error(o(330));yc(Ns,O),Ns=Ns.nextEffect}}while(null!==Ns);Ns=i;do{try{for(s=e,c=t;null!==Ns;){var w=Ns.effectTag;if(16&w&&Ue(Ns.stateNode,""),128&w){var _=Ns.alternate;if(null!==_){var E=_.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&w){case 2:ls(Ns),Ns.effectTag&=-3;break;case 6:ls(Ns),Ns.effectTag&=-3,ds(Ns.alternate,Ns);break;case 1024:Ns.effectTag&=-1025;break;case 1028:Ns.effectTag&=-1025,ds(Ns.alternate,Ns);break;case 4:ds(Ns.alternate,Ns);break;case 8:us(s,u=Ns,c),ss(u)}Ns=Ns.nextEffect}}catch(O){if(null===Ns)throw Error(o(330));yc(Ns,O),Ns=Ns.nextEffect}}while(null!==Ns);if(E=gn,_=fn(),w=E.focusedElem,c=E.selectionRange,_!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==c&&pn(w)&&(_=c.start,void 0===(E=c.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),u=w.textContent.length,s=Math.min(c.start,u),c=void 0===c.end?s:Math.min(c.end,u),!E.extend&&s>c&&(u=c,c=s,s=u),u=hn(w,s),d=hn(w,c),u&&d&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==d.node||E.focusOffset!==d.offset)&&((_=_.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),s>c?(E.addRange(_),E.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}qt=!!mn,gn=mn=null,e.current=n,Ns=i;do{try{for(w=e;null!==Ns;){var S=Ns.effectTag;if(36&S&&as(w,Ns.alternate,Ns),128&S){_=void 0;var x=Ns.ref;if(null!==x){var T=Ns.stateNode;switch(Ns.tag){case 5:_=T;break;default:_=T}"function"===typeof x?x(_):x.current=_}}Ns=Ns.nextEffect}}catch(O){if(null===Ns)throw Error(o(330));yc(Ns,O),Ns=Ns.nextEffect}}while(null!==Ns);Ns=null,Ii(),Ss=a}else e.current=n;if(Fs)Fs=!1,Us=e,Bs=t;else for(Ns=i;null!==Ns;)t=Ns.nextEffect,Ns.nextEffect=null,Ns=t;if(0===(t=e.firstPendingTime)&&(zs=null),1073741823===t?e===Gs?Vs++:(Vs=0,Gs=e):Vs=0,"function"===typeof _c&&_c(n.stateNode,r),Qs(e),js)throw js=!1,e=Ds,Ds=null,e;return 0!==(8&Ss)||Wi(),null}function pc(){for(;null!==Ns;){var e=Ns.effectTag;0!==(256&e)&&ns(Ns.alternate,Ns),0===(512&e)||Fs||(Fs=!0,Vi(97,(function(){return mc(),null}))),Ns=Ns.nextEffect}}function mc(){if(90!==Bs){var e=97<Bs?97:Bs;return Bs=90,Hi(e,gc)}}function gc(){if(null===Us)return!1;var e=Us;if(Us=null,0!==(48&Ss))throw Error(o(331));var t=Ss;for(Ss|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(o(330));yc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ss=t,Wi(),!0}function vc(e,t,n){ca(e,t=ps(e,t=Jo(n,t),1073741823)),null!==(e=Ks(e,1073741823))&&Qs(e)}function yc(e,t){if(3===e.tag)vc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zs||!zs.has(r))){ca(n,e=ms(n,e=Jo(t,e),1073741823)),null!==(n=Ks(n,1073741823))&&Qs(n);break}}n=n.return}}function bc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),xs===e&&Os===n?ks===Es||ks===_s&&1073741823===As&&Fi()-Is<500?nc(e,Os):Rs=!0:Pc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qs(e)))}function wc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ys(t=qs(),e,null)),null!==(e=Ks(e,t))&&Qs(e)}gs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||hi.current)Co=!0;else{if(r<n){switch(Co=!1,t.tag){case 3:Fo(t),Mo();break;case 5:if(Ra(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&bi(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,li(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Go(e,t,n):(li(Na,1&Na.current),null!==(t=Zo(e,t,n))?t.sibling:null);li(Na,1&Na.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Yo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),li(Na,Na.current),!r)return null}return Zo(e,t,n)}Co=!1}}else Co=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,di.current),na(t,n),i=Ya(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&pa(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternalFiber=t,ba(t,r,e,n),t=zo(null,t,r,!0,a,n)}else t.tag=0,Lo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ce)return 11;if(e===de)return 14}return 2}(i),e=Zi(i,e),a){case 0:t=jo(null,t,i,e,n);break e;case 1:t=Do(null,t,i,e,n);break e;case 11:t=Po(null,t,i,e,n);break e;case 14:t=Ro(null,t,i,Zi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 3:if(Fo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ua(t,r,null,n),(r=t.memoizedState.element)===i)Mo(),t=Zo(e,t,n);else{if((i=t.stateNode.hydrate)&&(_o=_n(t.stateNode.containerInfo.firstChild),wo=t,i=Eo=!0),i)for(n=Ta(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Lo(e,t,r,n),Mo();t=t.child}return t;case 5:return Ra(t),null===e&&To(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,yn(r,i)?s=null:null!==a&&yn(r,a)&&(t.effectTag|=16),No(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Lo(e,t,s,n),t=t.child),t;case 6:return null===e&&To(t),null;case 13:return Go(e,t,n);case 4:return La(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var c=t.type._context;if(li(Ki,c._currentValue),c._currentValue=a,null!==s)if(c=s.value,0===(a=Dr(c,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(s.children===i.children&&!hi.current){t=Zo(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&a)){1===c.tag&&((u=sa(n,null)).tag=2,ca(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),ta(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Lo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.effectTag|=1,Lo(e,t,r,n),t.child;case 14:return a=Zi(i=t.type,t.pendingProps),Ro(e,t,i,a=Zi(i.type,a),r,n);case 15:return Io(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,na(t,n),va(t,r,i),ba(t,r,i,n),zo(null,t,r,!0,e,n);case 19:return Yo(e,t,n)}throw Error(o(156,t.tag))};var _c=null,Ec=null;function Sc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function xc(e,t,n,r){return new Sc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=xc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Tc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Mc(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=xc(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case le:return(e=xc(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=a,e;case ue:return(e=xc(19,n,t,i)).elementType=ue,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case ce:s=11;break e;case de:s=14;break e;case he:s=16,r=null;break e;case fe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=xc(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Mc(e,t,n,r){return(e=xc(7,e,r,t)).expirationTime=n,e}function Ac(e,t,n){return(e=xc(6,e,null,t)).expirationTime=n,e}function Cc(e,t,n){return(t=xc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Pc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Rc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ic(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Nc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function jc(e,t,n,r){var i=t.current,a=qs(),s=ha.suspense;a=Ys(a,i,s);e:if(n){t:{if($e(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(mi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=yi(n,l,c);break e}}n=c}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ca(i,t),Zs(i,a),a}function Dc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function zc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Fc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}function Uc(e,t,n){var r=new Lc(e,t,n=null!=n&&!0===n.hydrate),i=xc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,aa(i),e[On]=r.current,n&&0!==t&&function(e,t){var n=Je(t);Ot.forEach((function(e){pt(e,t,n)})),kt.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Bc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Hc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Dc(o);s.call(e)}}jc(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Uc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var c=i;i=function(){var e=Dc(o);c.call(e)}}tc((function(){jc(t,o,e,i)}))}return Dc(o)}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bc(t))throw Error(o(200));return Vc(e,t,null,n)}Uc.prototype.render=function(e){jc(e,this._internalRoot,null,null)},Uc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;jc(null,e,null,(function(){t[On]=null}))},mt=function(e){if(13===e.tag){var t=Yi(qs(),150,100);Zs(e,t),Fc(e,t)}},gt=function(e){13===e.tag&&(Zs(e,3),Fc(e,3))},vt=function(e){if(13===e.tag){var t=qs();Zs(e,t=Ys(t,e,null)),Fc(e,t)}},M=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Cn(r);if(!i)throw Error(o(90));_e(r),Te(r,i)}}}break;case"textarea":Pe(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},I=ec,N=function(e,t,n,r,i){var a=Ss;Ss|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ss=a)&&Wi()}},j=function(){0===(49&Ss)&&(function(){if(null!==Hs){var e=Hs;Hs=null,e.forEach((function(e,t){Nc(t,e),Qs(t)})),Wi()}}(),mc())},D=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&Wi()}};var Wc={Events:[Mn,An,Cn,O,S,Dn,function(e){it(e,jn)},P,R,Qt,st,mc,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);_c=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ec=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:kn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=Gc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ss))throw Error(o(187));var n=Ss;Ss|=1;try{return Hi(99,e.bind(null,t))}finally{Ss=n,Wi()}},t.hydrate=function(e,t,n){if(!Bc(t))throw Error(o(200));return Hc(null,e,t,!0,n)},t.render=function(e,t,n){if(!Bc(t))throw Error(o(200));return Hc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bc(e))throw Error(o(40));return!!e._reactRootContainer&&(tc((function(){Hc(null,null,e,!1,(function(){e._reactRootContainer=null,e[On]=null}))})),!0)},t.unstable_batchedUpdates=ec,t.unstable_createPortal=function(e,t){return Gc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bc(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Hc(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(182)},function(e,t,n){"use strict";var r,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,u=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(u,0))},i=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=f.now();t.unstable_now=function(){return f.now()-v}}var y=!1,b=null,w=-1,_=5,E=0;o=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,x=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();E=e+_;try{b(!0,e)?x.postMessage(null):(y=!1,b=null)}catch(n){throw x.postMessage(null),n}}else y=!1},r=function(e){b=e,y||(y=!0,x.postMessage(null))},i=function(e,n){w=p((function(){e(t.unstable_now())}),n)},a=function(){m(w),w=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<M(i,t)))break e;e[r]=t,e[n]=i,n=r}}function O(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,c=e[s];if(void 0!==o&&0>M(o,n))void 0!==c&&0>M(c,o)?(e[r]=c,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==c&&0>M(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],C=[],L=1,P=null,R=3,I=!1,N=!1,j=!1;function D(e){for(var t=O(C);null!==t;){if(null===t.callback)k(C);else{if(!(t.startTime<=e))break;k(C),t.sortIndex=t.expirationTime,T(A,t)}t=O(C)}}function z(e){if(j=!1,D(e),!N)if(null!==O(A))N=!0,r(F);else{var t=O(C);null!==t&&i(z,t.startTime-e)}}function F(e,n){N=!1,j&&(j=!1,a()),I=!0;var r=R;try{for(D(n),P=O(A);null!==P&&(!(P.expirationTime>n)||e&&!o());){var s=P.callback;if(null!==s){P.callback=null,R=P.priorityLevel;var c=s(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?P.callback=c:P===O(A)&&k(A),D(n)}else k(A);P=O(A)}if(null!==P)var l=!0;else{var u=O(C);null!==u&&i(z,u.startTime-n),l=!1}return l}finally{P=null,R=r,I=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||I||(N=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return O(A)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var c=o.delay;c="number"===typeof c&&0<c?s+c:s,o="number"===typeof o.timeout?o.timeout:U(e)}else o=U(e),c=s;return e={id:L++,callback:n,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>s?(e.sortIndex=c,T(C,e),null===O(A)&&e===O(C)&&(j?a():j=!0,i(z,c-s))):(e.sortIndex=o,T(A,e),N||I||(N=!0,r(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=O(A);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},function(e,t,n){e.exports=n(184)()},function(e,t,n){"use strict";var r=n(185);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case o:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case g:case l:return e;default:return t}}case a:return t}}}function S(e){return E(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=a,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===c||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===_||e.$$typeof===y)},t.typeOf=E},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(119)),a=s(n(120)),o=n(138);function s(e){return e&&e.__esModule?e:{default:e}}t.createLocation=function(e,t,n,a){var s=void 0;"string"===typeof e?(s=(0,o.parsePath)(e)).state=t:(void 0===(s=r({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(c){throw c instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):c}return n&&(s.key=n),a?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=(0,i.default)(s.pathname,a.pathname)):s.pathname=a.pathname:s.pathname||(s.pathname="/"),s},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,a.default)(e.state,t.state)}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(36),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(){var e=null,t=[];return{setPrompt:function(t){return(0,a.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):((0,a.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";var r=n(192);function i(){}e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){!function(){"use strict";if("object"===typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},r.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},r.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(window,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=s(i),o=this._rootContainsTarget(i),c=r.entry,l=e&&o&&this._computeTargetAndRootIntersection(i,t),u=r.entry=new n({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:t,intersectionRect:l});c?e&&o?this._hasCrossedThreshold(c,u)&&this._queuedEntries.push(u):c&&c.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(t,n){if("none"!=window.getComputedStyle(t).display){for(var r=s(t),i=l(t),a=!1;!a;){var c=null,u=1==i.nodeType?window.getComputedStyle(i):{};if("none"==u.display)return;if(i==this.root||i==e?(a=!0,c=n):i!=e.body&&i!=e.documentElement&&"visible"!=u.overflow&&(c=s(i)),c&&!(r=o(c,r)))break;i=l(i)}return r}},r.prototype._getRootRect=function(){var t;if(this.root)t=s(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},r.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var a=this.thresholds[i];if(a==n||a==r||a<n!==a<r)return!0}},r.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},r.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},r.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},r.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=r,window.IntersectionObserverEntry=n}function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function r(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var n=null;return function(){n||(n=setTimeout((function(){e(),n=null}),t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function i(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function o(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),a=Math.min(e.right,t.right),o=a-i,s=r-n;return o>=0&&s>=0&&{top:n,bottom:r,left:i,right:a,width:o,height:s}}function s(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e,t){for(var n=t;n;){if(n==e)return!0;n=l(n)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}()},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return x()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var l={};function u(){}function d(){}function h(){}var f={};f[i]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(S([])));m&&m!==t&&n.call(m,i)&&(f=m);var g=h.prototype=u.prototype=Object.create(f);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=g.constructor=h,h.constructor=d,h[o]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new y(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},v(g),g[o]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n r\u1ed3i l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(51))},function(e,t,n){!function(t,r,i){var a;e.exports=(a=n(78),n(140),function(){var e=a,t=e.lib.Hasher,n=e.x64,r=n.Word,i=n.WordArray,o=e.algo;function s(){return r.create.apply(r,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=s()}();var u=o.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],d=n[6],h=n[7],f=r.high,p=r.low,m=i.high,g=i.low,v=a.high,y=a.low,b=o.high,w=o.low,_=s.high,E=s.low,S=u.high,x=u.low,T=d.high,O=d.low,k=h.high,M=h.low,A=f,C=p,L=m,P=g,R=v,I=y,N=b,j=w,D=_,z=E,F=S,U=x,B=T,H=O,V=k,G=M,W=0;W<80;W++){var q=l[W];if(W<16)var Y=q.high=0|e[t+2*W],Z=q.low=0|e[t+2*W+1];else{var K=l[W-15],X=K.high,Q=K.low,J=(X>>>1|Q<<31)^(X>>>8|Q<<24)^X>>>7,$=(Q>>>1|X<<31)^(Q>>>8|X<<24)^(Q>>>7|X<<25),ee=l[W-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ae=l[W-7],oe=ae.high,se=ae.low,ce=l[W-16],le=ce.high,ue=ce.low;Y=(Y=(Y=J+oe+((Z=$+se)>>>0<$>>>0?1:0))+re+((Z+=ie)>>>0<ie>>>0?1:0))+le+((Z+=ue)>>>0<ue>>>0?1:0),q.high=Y,q.low=Z}var de,he=D&F^~D&B,fe=z&U^~z&H,pe=A&L^A&R^L&R,me=C&P^C&I^P&I,ge=(A>>>28|C<<4)^(A<<30|C>>>2)^(A<<25|C>>>7),ve=(C>>>28|A<<4)^(C<<30|A>>>2)^(C<<25|A>>>7),ye=(D>>>14|z<<18)^(D>>>18|z<<14)^(D<<23|z>>>9),be=(z>>>14|D<<18)^(z>>>18|D<<14)^(z<<23|D>>>9),we=c[W],_e=we.high,Ee=we.low,Se=V+ye+((de=G+be)>>>0<G>>>0?1:0),xe=ve+me;V=B,G=H,B=F,H=U,F=D,U=z,D=N+(Se=(Se=(Se=Se+he+((de+=fe)>>>0<fe>>>0?1:0))+_e+((de+=Ee)>>>0<Ee>>>0?1:0))+Y+((de+=Z)>>>0<Z>>>0?1:0))+((z=j+de|0)>>>0<j>>>0?1:0)|0,N=R,j=I,R=L,I=P,L=A,P=C,A=Se+(ge+pe+(xe>>>0<ve>>>0?1:0))+((C=de+xe|0)>>>0<de>>>0?1:0)|0}p=r.low=p+C,r.high=f+A+(p>>>0<C>>>0?1:0),g=i.low=g+P,i.high=m+L+(g>>>0<P>>>0?1:0),y=a.low=y+I,a.high=v+R+(y>>>0<I>>>0?1:0),w=o.low=w+j,o.high=b+N+(w>>>0<j>>>0?1:0),E=s.low=E+z,s.high=_+D+(E>>>0<z>>>0?1:0),x=u.low=x+U,u.high=S+F+(x>>>0<U>>>0?1:0),O=d.low=O+H,d.high=T+B+(O>>>0<H>>>0?1:0),M=h.low=M+G,h.high=k+V+(M>>>0<G>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),a.SHA512)}()},function(e,t,n){!function(t,r){var i;e.exports=(i=n(78),void function(){var e=i,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,c=o.words,l=0;l<r;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_IS_PRODUCTION:"true"}).DEBUG),e}(t=e.exports=n(199)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(this,n(56))},function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,a=i-(r||i);e.diff=a,e.prev=r,e.curr=i,r=i;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var a=o[c];n=i.call(e,a),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o);var l=n.log||t.log||console.log.bind(console);l.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(200),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=6e4,i=60*r,a=24*i;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var s,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?o(s=e,a,"day")||o(s,i,"hour")||o(s,r,"minute")||o(s,n,"second")||s+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r,i,a;i=[],void 0===(a="function"===typeof(r=function(){return function(e,t){var n=/\[(\w{2,6}):(.*)\]/,r=/\[(\d{2}):(\d{2})\.(\d{2})\]/,i=(t=t||{},!1),a=[],o=[];String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var s=e.trim();if(!r.test(s))return console.log("\u52a0\u8f7d\u7684\u4e0d\u662f\u5408\u6cd5\u683c\u5f0f\u7684\u6b4c\u8bcd\u54e6"),!1;for(var c=s.split(/\n/),l=0,u=c.length;l<u;l++)if(r.test(c[l])){var d=r.exec(c[l]),h=c[l].replace(d[0],"").trim(),f=60*d[1]+1*d[2]+d[3]/100,p=parseFloat(i?f-i:f).toFixed(2);h&&a.push({id:"id-"+l,timestamp:p<0?.01:p,lyric:h})}else if(n.test(c[l])){var m=n.exec(c[l]),g=m[1],v=m[2].trim();t.hasOwnProperty(g)&&v&&(g=t[g]);var y={};y[m[1]]=g,y.infoValue=v,"offset"===g&&(i=v/1e3),v&&o.push(y)}return{lrcInfo:o,lrcArray:a}}})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){var r,i,a;a=function(){for(var e={map:{}},t=[{base:" ",letters:"\xa0"},{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",letters:"\xde"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"ff",letters:"\ufb00"},{base:"fi",letters:"\ufb01"},{base:"fl",letters:"\ufb02"},{base:"ffi",letters:"\ufb03"},{base:"ffl",letters:"\ufb04"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\xf1n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"\u07c0o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oe",letters:"\u0152\u0153"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"ss",letters:"\xdf"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",letters:"\xfe"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],n=0,r=t.length;n<r;n++)for(var i=t[n].letters.split(""),a=0,o=i.length;a<o;a++)e.map[i[a]]=t[n].base;return e.clean=function(t){if(!t||!t.length||t.length<1)return"";for(var n,r="",i=t.split(""),a=0,o=i.length;a<o;a++)r+=(n=i[a])in e.map?e.map[n]:n;return r},e},e.exports?e.exports=a():void 0===(i="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=d(a),s=d(n(20)),c=d(n(204)),l=d(n(205)),u=n(213);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){return!0},f=function(e){function t(e){var n=e.alwaysRenderSuggestions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return p.call(r),r.state={isFocused:!1,isCollapsed:!n,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},r.justPressedUpDown=!1,r.justMouseEntered=!1,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"componentWillReceiveProps",value:function(e){(0,c.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&!1===this.justPressedUpDown&&!1===this.justMouseEntered&&this.highlightFirstSuggestion():this.willRenderSuggestions(e)?this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions():this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.suggestions,i=n.onSuggestionHighlighted,a=n.highlightFirstSuggestion;if(!(0,c.default)(r,e.suggestions)&&r.length>0&&a)this.highlightFirstSuggestion();else if(i){var o=this.getHighlightedSuggestion();o!=t.highlightedSuggestion&&i({suggestion:o})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown)}},{key:"updateHighlightedSuggestion",value:function(e,t,n){var r=this;this.setState((function(i){var a=i.valueBeforeUpDown;return null===t?a=null:null===a&&"undefined"!==typeof n&&(a=n),{highlightedSectionIndex:e,highlightedSuggestionIndex:t,highlightedSuggestion:null===t?null:r.getSuggestion(e,t),valueBeforeUpDown:a}}))}},{key:"resetHighlightedSuggestion",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState((function(t){var n=t.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:e?null:n}}))}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,t){var n=this.props,r=n.suggestions,i=n.multiSection,a=n.getSectionSuggestions;return i?a(r[e])[t]:r[t]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,t=e.highlightedSectionIndex,n=e.highlightedSuggestionIndex;return null===n?null:this.getSuggestion(t,n)}},{key:"getSuggestionValueByIndex",value:function(e,t){return(0,this.props.getSuggestionValue)(this.getSuggestion(e,t))}},{key:"getSuggestionIndices",value:function(e){var t=e.getAttribute("data-section-index"),n=e.getAttribute("data-suggestion-index");return{sectionIndex:"string"===typeof t?parseInt(t,10):null,suggestionIndex:parseInt(n,10)}}},{key:"findSuggestionElement",value:function(e){var t=e;do{if(null!==t.getAttribute("data-suggestion-index"))return t;t=t.parentNode}while(null!==t);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,t,n){var r=this.props.inputProps,i=r.value,a=r.onChange;t!==i&&a(e,{newValue:t,method:n})}},{key:"willRenderSuggestions",value:function(e){var t=e.suggestions,n=e.inputProps,r=e.shouldRenderSuggestions,i=n.value;return t.length>0&&r(i)}},{key:"getQuery",value:function(){var e=this.props.inputProps.value,t=this.state.valueBeforeUpDown;return(null===t?e:t).trim()}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,i=t.renderInputComponent,a=t.onSuggestionsFetchRequested,s=t.renderSuggestion,c=t.inputProps,d=t.multiSection,f=t.renderSectionTitle,p=t.id,m=t.getSectionSuggestions,g=t.theme,v=t.getSuggestionValue,y=t.alwaysRenderSuggestions,b=t.highlightFirstSuggestion,w=this.state,_=w.isFocused,E=w.isCollapsed,S=w.highlightedSectionIndex,x=w.highlightedSuggestionIndex,T=w.valueBeforeUpDown,O=y?h:this.props.shouldRenderSuggestions,k=c.value,M=c.onFocus,A=c.onKeyDown,C=this.willRenderSuggestions(this.props),L=y||_&&!E&&C,P=L?n:[],R=r({},c,{onFocus:function(t){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var n=O(k);e.setState({isFocused:!0,isCollapsed:!n}),M&&M(t),n&&a({value:k,reason:"input-focused"})}},onBlur:function(t){e.justClickedOnSuggestionsContainer?e.input.focus():(e.blurEvent=t,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested()))},onChange:function(t){var n=t.target.value,i=O(n);e.maybeCallOnChange(t,n,"type"),e.setState(r({},b?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!i})),i?a({value:n,reason:"input-changed"}):e.onSuggestionsClearRequested()},onKeyDown:function(t,r){var i=t.keyCode;switch(i){case 40:case 38:if(E)O(k)&&(a({value:k,reason:"suggestions-revealed"}),e.revealSuggestions());else if(n.length>0){var o=r.newHighlightedSectionIndex,s=r.newHighlightedItemIndex,c=void 0;c=null===s?null===T?k:T:e.getSuggestionValueByIndex(o,s),e.updateHighlightedSuggestion(o,s,k),e.maybeCallOnChange(t,c,40===i?"down":"up")}t.preventDefault(),e.justPressedUpDown=!0,setTimeout((function(){e.justPressedUpDown=!1}));break;case 13:if(229===t.keyCode)break;var l=e.getHighlightedSuggestion();if(L&&!y&&e.closeSuggestions(),null!=l){var u=v(l);e.maybeCallOnChange(t,u,"enter"),e.onSuggestionSelected(t,{suggestion:l,suggestionValue:u,suggestionIndex:x,sectionIndex:S,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout((function(){e.justSelectedSuggestion=!1}))}break;case 27:L&&t.preventDefault();var d=L&&!y;if(null===T){if(!d){e.maybeCallOnChange(t,"","escape"),O("")?a({value:"",reason:"escape-pressed"}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(t,T,"escape");d?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion()}A&&A(t)}}),I={query:this.getQuery()};return o.default.createElement(l.default,{multiSection:d,items:P,renderInputComponent:i,renderItemsContainer:this.renderSuggestionsContainer,renderItem:s,renderItemData:I,renderSectionTitle:f,getSectionItems:m,highlightedSectionIndex:S,highlightedItemIndex:x,inputProps:R,itemProps:this.itemProps,theme:(0,u.mapToAutowhateverTheme)(g),id:p,ref:this.storeAutowhateverRef})}}]),t}(a.Component);f.propTypes={suggestions:s.default.array.isRequired,onSuggestionsFetchRequested:function(e,t){var n=e[t];if("function"!==typeof n)throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(e,t){var n=e[t];if(!1===e.alwaysRenderSuggestions&&"function"!==typeof n)throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},onSuggestionSelected:s.default.func,onSuggestionHighlighted:s.default.func,renderInputComponent:s.default.func,renderSuggestionsContainer:s.default.func,getSuggestionValue:s.default.func.isRequired,renderSuggestion:s.default.func.isRequired,inputProps:function(e,t){var n=e[t];if(!n.hasOwnProperty("value"))throw new Error("'inputProps' must have 'value'.");if(!n.hasOwnProperty("onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:s.default.func,alwaysRenderSuggestions:s.default.bool,multiSection:s.default.bool,renderSectionTitle:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!==typeof n)throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!==typeof n)throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:s.default.bool,highlightFirstSuggestion:s.default.bool,theme:s.default.object,id:s.default.string},f.defaultProps={renderSuggestionsContainer:function(e){var t=e.containerProps,n=e.children;return o.default.createElement("div",t,n)},shouldRenderSuggestions:function(e){return e.trim().length>0},alwaysRenderSuggestions:!1,multiSection:!1,focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:u.defaultTheme,id:"1"};var p=function(){var e=this;this.onDocumentMouseDown=function(t){e.justClickedOnSuggestionsContainer=!1;for(var n=t.detail&&t.detail.target||t.target;null!==n&&n!==document;){if(null!==n.getAttribute("data-suggestion-index"))return;if(n===e.suggestionsContainer)return void(e.justClickedOnSuggestionsContainer=!0);n=n.parentNode}},this.storeAutowhateverRef=function(t){null!==t&&(e.autowhatever=t)},this.onSuggestionMouseEnter=function(t,n){var r=n.sectionIndex,i=n.itemIndex;e.updateHighlightedSuggestion(r,i),e.justMouseEntered=!0,setTimeout((function(){e.justMouseEntered=!1}))},this.highlightFirstSuggestion=function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)},this.onSuggestionMouseDown=function(){e.justSelectedSuggestion=!0},this.onSuggestionsClearRequested=function(){var t=e.props.onSuggestionsClearRequested;t&&t()},this.onSuggestionSelected=function(t,n){var r=e.props,i=r.alwaysRenderSuggestions,a=r.onSuggestionSelected,o=r.onSuggestionsFetchRequested;a&&a(t,n),i?o({value:n.suggestionValue,reason:"suggestion-selected"}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()},this.onSuggestionClick=function(t){var n=e.props,r=n.alwaysRenderSuggestions,i=n.focusInputOnSuggestionClick,a=e.getSuggestionIndices(e.findSuggestionElement(t.target)),o=a.sectionIndex,s=a.suggestionIndex,c=e.getSuggestion(o,s),l=e.props.getSuggestionValue(c);e.maybeCallOnChange(t,l,"click"),e.onSuggestionSelected(t,{suggestion:c,suggestionValue:l,suggestionIndex:s,sectionIndex:o,method:"click"}),r||e.closeSuggestions(),!0===i?e.input.focus():e.onBlur(),setTimeout((function(){e.justSelectedSuggestion=!1}))},this.onBlur=function(){var t=e.props,n=t.inputProps,r=t.shouldRenderSuggestions,i=n.value,a=n.onBlur,o=e.getHighlightedSuggestion(),s=r(i);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!s}),a&&a(e.blurEvent,{highlightedSuggestion:o})},this.resetHighlightedSuggestionOnMouseLeave=function(){e.resetHighlightedSuggestion(!1)},this.itemProps=function(t){return{"data-section-index":t.sectionIndex,"data-suggestion-index":t.itemIndex,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.resetHighlightedSuggestionOnMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionMouseDown,onClick:e.onSuggestionClick}},this.renderSuggestionsContainer=function(t){var n=t.containerProps,r=t.children;return(0,e.props.renderSuggestionsContainer)({containerProps:n,children:r,query:e.getQuery()})}};t.default=f},function(e,t){e.exports=function(e,t){if(e===t)return!0;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}},function(e,t,n){"use strict";e.exports=n(206).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=f(o),c=f(n(20)),l=f(n(207)),u=f(n(208)),d=f(n(210)),h=f(n(211));function f(e){return e&&e.__esModule?e:{default:e}}var p={},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storeInputReference=function(e){null!==e&&(n.input=e)},n.storeItemsContainerReference=function(e){null!==e&&(n.itemsContainer=e)},n.onHighlightedItemChange=function(e){n.highlightedItem=e},n.getItemId=function(e,t){return null===t?null:"react-autowhatever-"+n.props.id+"-"+(null===e?"":"section-"+e)+"-item-"+t},n.onFocus=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!0}),t.onFocus&&t.onFocus(e)},n.onBlur=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!1}),t.onBlur&&t.onBlur(e)},n.onKeyDown=function(e){var t=n.props,r=t.inputProps,a=t.highlightedSectionIndex,o=t.highlightedItemIndex;switch(e.key){case"ArrowDown":case"ArrowUp":var s="ArrowDown"===e.key?"next":"prev",c=n.sectionIterator[s]([a,o]),l=i(c,2),u=l[0],d=l[1];r.onKeyDown(e,{newHighlightedSectionIndex:u,newHighlightedItemIndex:d});break;default:r.onKeyDown(e,{highlightedSectionIndex:a,highlightedItemIndex:o})}},n.highlightedItem=null,n.state={isInputFocused:!1},n.setSectionsItems(e),n.setSectionIterator(e),n.setTheme(e),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"componentWillReceiveProps",value:function(e){e.items!==this.props.items&&this.setSectionsItems(e),e.items===this.props.items&&e.multiSection===this.props.multiSection||this.setSectionIterator(e),e.theme!==this.props.theme&&this.setTheme(e)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(e){e.multiSection&&(this.sectionsItems=e.items.map((function(t){return e.getSectionItems(t)})),this.sectionsLengths=this.sectionsItems.map((function(e){return e.length})),this.allSectionsAreEmpty=this.sectionsLengths.every((function(e){return 0===e})))}},{key:"setSectionIterator",value:function(e){this.sectionIterator=(0,l.default)({multiSection:e.multiSection,data:e.multiSection?this.sectionsLengths:e.items.length})}},{key:"setTheme",value:function(e){this.theme=(0,u.default)(e.theme)}},{key:"renderSections",value:function(){var e=this;if(this.allSectionsAreEmpty)return null;var t=this.theme,n=this.props,r=n.id,i=n.items,a=n.renderItem,o=n.renderItemData,c=n.renderSectionTitle,l=n.highlightedSectionIndex,u=n.highlightedItemIndex,f=n.itemProps;return i.map((function(n,i){var p="react-autowhatever-"+r+"-",m=p+"section-"+i+"-",g=0===i;return s.default.createElement("div",t(m+"container","sectionContainer",g&&"sectionContainerFirst"),s.default.createElement(d.default,{section:n,renderSectionTitle:c,theme:t,sectionKeyPrefix:m}),s.default.createElement(h.default,{items:e.sectionsItems[i],itemProps:f,renderItem:a,renderItemData:o,sectionIndex:i,highlightedItemIndex:l===i?u:null,onHighlightedItemChange:e.onHighlightedItemChange,getItemId:e.getItemId,theme:t,keyPrefix:p,ref:e.storeItemsListReference}))}))}},{key:"renderItems",value:function(){var e=this.props.items;if(0===e.length)return null;var t=this.theme,n=this.props,r=n.id,i=n.renderItem,a=n.renderItemData,o=n.highlightedSectionIndex,c=n.highlightedItemIndex,l=n.itemProps;return s.default.createElement(h.default,{items:e,itemProps:l,renderItem:i,renderItemData:a,highlightedItemIndex:null===o?c:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:t,keyPrefix:"react-autowhatever-"+r+"-"})}},{key:"ensureHighlightedItemIsVisible",value:function(){var e=this.highlightedItem;if(e){var t=this.itemsContainer,n=e.offsetParent===t?e.offsetTop:e.offsetTop-t.offsetTop,r=t.scrollTop;n<r?r=n:n+e.offsetHeight>r+t.offsetHeight&&(r=n+e.offsetHeight-t.offsetHeight),r!==t.scrollTop&&(t.scrollTop=r)}}},{key:"render",value:function(){var e=this.theme,t=this.props,n=t.id,i=t.multiSection,a=t.renderInputComponent,o=t.renderItemsContainer,c=t.highlightedSectionIndex,l=t.highlightedItemIndex,u=this.state.isInputFocused,d=i?this.renderSections():this.renderItems(),h=null!==d,f=this.getItemId(c,l),p="react-autowhatever-"+n,m=r({role:"combobox","aria-haspopup":"listbox","aria-owns":p,"aria-expanded":h},e("react-autowhatever-"+n+"-container","container",h&&"containerOpen")),g=a(r({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":p,"aria-activedescendant":f},e("react-autowhatever-"+n+"-input","input",h&&"inputOpen",u&&"inputFocused"),this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),v=o({containerProps:r({id:p,role:"listbox"},e("react-autowhatever-"+n+"-items-container","itemsContainer",h&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:d});return s.default.createElement("div",m,g,v)}}]),t}(o.Component);m.propTypes={id:c.default.string,multiSection:c.default.bool,renderInputComponent:c.default.func,renderItemsContainer:c.default.func,items:c.default.array.isRequired,renderItem:c.default.func,renderItemData:c.default.object,renderSectionTitle:c.default.func,getSectionItems:c.default.func,inputProps:c.default.object,itemProps:c.default.oneOfType([c.default.object,c.default.func]),highlightedSectionIndex:c.default.number,highlightedItemIndex:c.default.number,theme:c.default.oneOfType([c.default.object,c.default.array])},m.defaultProps={id:"1",multiSection:!1,renderInputComponent:function(e){return s.default.createElement("input",e)},renderItemsContainer:function(e){var t=e.containerProps,n=e.children;return s.default.createElement("div",t,n)},renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:p,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},inputProps:p,itemProps:p,highlightedSectionIndex:null,highlightedItemIndex:null,theme:{container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"}},t.default=m},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.exports=function(e){var t=e.data,n=e.multiSection;function i(e){var i=r(e,2),a=i[0],o=i[1];return n?null===o||o===t[a]-1?null===(a=function(e){for(null===e?e=0:e++;e<t.length&&0===t[e];)e++;return e===t.length?null:e}(a))?[null,null]:[a,0]:[a,o+1]:0===t||o===t-1?[null,null]:null===o?[null,0]:[null,o+1]}return{next:i,prev:function(e){var i=r(e,2),a=i[0],o=i[1];return n?null===o||0===o?null===(a=function(e){for(null===e?e=t.length-1:e--;e>=0&&0===t[e];)e--;return-1===e?null:e}(a))?[null,null]:[a,t[a]-1]:[a,o-1]:0===t||0===o?[null,null]:null===o?[null,t-1]:[null,o-1]},isLast:function(e){return null===i(e)[1]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a,o=n(209),s=(a=o)&&a.__esModule?a:{default:a},c=function(e){return e};t.default=function(e){var t=Array.isArray(e)&&2===e.length?e:[e,null],n=r(t,2),a=n[0],o=n[1];return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var l=n.map((function(e){return a[e]})).filter(c);return"string"===typeof l[0]||"function"===typeof o?{key:e,className:o?o.apply(void 0,i(l)):l.join(" ")}:{key:e,style:s.default.apply(void 0,[{}].concat(i(l)))}}},e.exports=t.default},function(e,t,n){"use strict";var r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter((function(t){return r.call(e,t)}))}e.exports=Object.assign||function(e,t){for(var n,r,o=i(e),s=1;s<arguments.length;s++){n=arguments[s],r=a(Object(n));for(var c=0;c<r.length;c++)o[r[c]]=n[r[c]]}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=c(i),o=c(n(20)),s=c(n(111));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){return(0,s.default)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.section,n=e.renderSectionTitle,r=e.theme,i=e.sectionKeyPrefix,o=n(t);return o?a.default.createElement("div",r(i+"title","sectionTitle"),o):null}}]),t}(i.Component);d.propTypes={section:o.default.any.isRequired,renderSectionTitle:o.default.func.isRequired,theme:o.default.func.isRequired,sectionKeyPrefix:o.default.string.isRequired},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=u(a),s=u(n(20)),c=u(n(212)),l=u(n(111));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,n,r;d(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.storeHighlightedItemReference=function(e){r.props.onHighlightedItemChange(null===e?null:e.item)},h(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return(0,l.default)(e,this.props,["itemProps"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,i=t.itemProps,a=t.renderItem,s=t.renderItemData,l=t.sectionIndex,u=t.highlightedItemIndex,d=t.getItemId,h=t.theme,f=t.keyPrefix,p=null===l?f:f+"section-"+l+"-",m="function"===typeof i;return o.default.createElement("ul",r({role:"listbox"},h(p+"items-list","itemsList")),n.map((function(t,n){var f=0===n,g=n===u,v=p+"item-"+n,y=m?i({sectionIndex:l,itemIndex:n}):i,b=r({id:d(l,n),"aria-selected":g},h(v,"item",f&&"itemFirst",g&&"itemHighlighted"),y);return g&&(b.ref=e.storeHighlightedItemReference),o.default.createElement(c.default,r({},b,{sectionIndex:l,isHighlighted:g,itemIndex:n,item:t,renderItem:a,renderItemData:s}))})))}}]),t}(a.Component);f.propTypes={items:s.default.array.isRequired,itemProps:s.default.oneOfType([s.default.object,s.default.func]),renderItem:s.default.func.isRequired,renderItemData:s.default.object.isRequired,sectionIndex:s.default.number,highlightedItemIndex:s.default.number,onHighlightedItemChange:s.default.func.isRequired,getItemId:s.default.func.isRequired,theme:s.default.func.isRequired,keyPrefix:s.default.string.isRequired},f.defaultProps={sectionIndex:null},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),s=l(n(20)),c=l(n(111));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.storeItemReference=function(e){null!==e&&(r.item=e)},r.onMouseEnter=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onMouseEnter(e,{sectionIndex:n,itemIndex:i})},r.onMouseLeave=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onMouseLeave(e,{sectionIndex:n,itemIndex:i})},r.onMouseDown=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onMouseDown(e,{sectionIndex:n,itemIndex:i})},r.onClick=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onClick(e,{sectionIndex:n,itemIndex:i})},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return(0,c.default)(e,this.props,["renderItemData"])}},{key:"render",value:function(){var e=this.props,t=e.isHighlighted,n=e.item,i=e.renderItem,a=e.renderItemData,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isHighlighted","item","renderItem","renderItemData"]);return delete s.sectionIndex,delete s.itemIndex,"function"===typeof s.onMouseEnter&&(s.onMouseEnter=this.onMouseEnter),"function"===typeof s.onMouseLeave&&(s.onMouseLeave=this.onMouseLeave),"function"===typeof s.onMouseDown&&(s.onMouseDown=this.onMouseDown),"function"===typeof s.onClick&&(s.onClick=this.onClick),o.default.createElement("li",r({role:"option"},s,{ref:this.storeItemReference}),i(n,r({isHighlighted:t},a)))}}]),t}(a.Component);h.propTypes={sectionIndex:s.default.number,isHighlighted:s.default.bool.isRequired,itemIndex:s.default.number.isRequired,item:s.default.any.isRequired,renderItem:s.default.func.isRequired,renderItemData:s.default.object.isRequired,onMouseEnter:s.default.func,onMouseLeave:s.default.func,onMouseDown:s.default.func,onClick:s.default.func},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"},t.mapToAutowhateverTheme=function(e){var t={};for(var n in e)switch(n){case"suggestionsContainer":t.itemsContainer=e[n];break;case"suggestionsContainerOpen":t.itemsContainerOpen=e[n];break;case"suggestion":t.item=e[n];break;case"suggestionFirst":t.itemFirst=e[n];break;case"suggestionHighlighted":t.itemHighlighted=e[n];break;case"suggestionsList":t.itemsList=e[n];break;default:t[n]=e[n]}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(215),o=v(a),s=v(n(141)),c=n(0),l=v(n(20)),u=v(n(222)),d=v(n(223)),h=v(n(224)),f=v(n(225)),p=v(n(226)),m=n(227),g=n(228);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var w=function(e){function t(e){var n;y(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=b(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(i)));return o.getScrollLeft=o.getScrollLeft.bind(o),o.getScrollTop=o.getScrollTop.bind(o),o.getScrollWidth=o.getScrollWidth.bind(o),o.getScrollHeight=o.getScrollHeight.bind(o),o.getClientWidth=o.getClientWidth.bind(o),o.getClientHeight=o.getClientHeight.bind(o),o.getValues=o.getValues.bind(o),o.getThumbHorizontalWidth=o.getThumbHorizontalWidth.bind(o),o.getThumbVerticalHeight=o.getThumbVerticalHeight.bind(o),o.getScrollLeftForOffset=o.getScrollLeftForOffset.bind(o),o.getScrollTopForOffset=o.getScrollTopForOffset.bind(o),o.scrollLeft=o.scrollLeft.bind(o),o.scrollTop=o.scrollTop.bind(o),o.scrollToLeft=o.scrollToLeft.bind(o),o.scrollToTop=o.scrollToTop.bind(o),o.scrollToRight=o.scrollToRight.bind(o),o.scrollToBottom=o.scrollToBottom.bind(o),o.handleTrackMouseEnter=o.handleTrackMouseEnter.bind(o),o.handleTrackMouseLeave=o.handleTrackMouseLeave.bind(o),o.handleHorizontalTrackMouseDown=o.handleHorizontalTrackMouseDown.bind(o),o.handleVerticalTrackMouseDown=o.handleVerticalTrackMouseDown.bind(o),o.handleHorizontalThumbMouseDown=o.handleHorizontalThumbMouseDown.bind(o),o.handleVerticalThumbMouseDown=o.handleVerticalThumbMouseDown.bind(o),o.handleWindowResize=o.handleWindowResize.bind(o),o.handleScroll=o.handleScroll.bind(o),o.handleDrag=o.handleDrag.bind(o),o.handleDragEnd=o.handleDragEnd.bind(o),o.state={didMountUniversal:!1},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,a.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r,a=e.scrollWidth,o=void 0===a?0:a,s=e.scrollHeight,c=void 0===s?0:s,l=e.clientWidth,u=void 0===l?0:l,d=e.clientHeight,h=void 0===d?0:d;return{left:n/(o-u)||0,top:i/(c-h)||0,scrollLeft:n,scrollTop:i,scrollWidth:o,scrollHeight:c,clientWidth:u,clientHeight:h}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollWidth,a=r.clientWidth,o=(0,f.default)(this.trackHorizontal),s=Math.ceil(a/i*o);return o===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollHeight,a=r.clientHeight,o=(0,p.default)(this.trackVertical),s=Math.ceil(a/i*o);return o===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,f.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,p.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,r=n.onScroll,i=n.onScrollFrame;r&&r(e),this.update((function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,i&&i(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),a=Math.abs(r-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(a)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),a=Math.abs(r-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(a)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=r-(n-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=r-(n-i)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=h.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var r=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&o.default.cancel(this.requestFrame),this.requestFrame=(0,o.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,d.default)()){var a=i.scrollLeft,o=i.clientWidth,c=i.scrollWidth,l=(0,f.default)(this.trackHorizontal),u=this.getThumbHorizontalWidth(),h={width:u,transform:"translateX("+a/(c-o)*(l-u)+"px)"},m=i.scrollTop,g=i.clientHeight,v=i.scrollHeight,y=(0,p.default)(this.trackVertical),b=this.getThumbVerticalHeight(),w={height:b,transform:"translateY("+m/(v-g)*(y-b)+"px)"};if(r){var _={visibility:c>o?"visible":"hidden"},E={visibility:v>g?"visible":"hidden"};(0,s.default)(this.trackHorizontal,_),(0,s.default)(this.trackVertical,E)}(0,s.default)(this.thumbHorizontal,h),(0,s.default)(this.thumbVertical,w)}n&&n(i),"function"===typeof e&&e(i)}},{key:"render",value:function(){var e=this,t=(0,d.default)(),n=this.props,i=(n.onScroll,n.onScrollFrame,n.onScrollStart,n.onScrollStop,n.onUpdate,n.renderView),a=n.renderTrackHorizontal,o=n.renderTrackVertical,s=n.renderThumbHorizontal,l=n.renderThumbVertical,h=n.tagName,f=(n.hideTracksWhenNotNeeded,n.autoHide),p=(n.autoHideTimeout,n.autoHideDuration),g=(n.thumbSize,n.thumbMinSize,n.universal),v=n.autoHeight,y=n.autoHeightMin,b=n.autoHeightMax,w=n.style,_=n.children,E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),S=this.state.didMountUniversal,x=r({},m.containerStyleDefault,v&&r({},m.containerStyleAutoHeight,{minHeight:y,maxHeight:b}),w),T=r({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},v&&r({},m.viewStyleAutoHeight,{minHeight:(0,u.default)(y)?"calc("+y+" + "+t+"px)":y+t,maxHeight:(0,u.default)(b)?"calc("+b+" + "+t+"px)":b+t}),v&&g&&!S&&{minHeight:y,maxHeight:b},g&&!S&&m.viewStyleUniversalInitial),O={transition:"opacity "+p+"ms",opacity:0},k=r({},m.trackHorizontalStyleDefault,f&&O,(!t||g&&!S)&&{display:"none"}),M=r({},m.trackVerticalStyleDefault,f&&O,(!t||g&&!S)&&{display:"none"});return(0,c.createElement)(h,r({},E,{style:x,ref:function(t){e.container=t}}),[(0,c.cloneElement)(i({style:T}),{key:"view",ref:function(t){e.view=t}},_),(0,c.cloneElement)(a({style:k}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,c.cloneElement)(s({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,c.cloneElement)(o({style:M}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,c.cloneElement)(l({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(c.Component);t.default=w,w.propTypes={onScroll:l.default.func,onScrollFrame:l.default.func,onScrollStart:l.default.func,onScrollStop:l.default.func,onUpdate:l.default.func,renderView:l.default.func,renderTrackHorizontal:l.default.func,renderTrackVertical:l.default.func,renderThumbHorizontal:l.default.func,renderThumbVertical:l.default.func,tagName:l.default.string,thumbSize:l.default.number,thumbMinSize:l.default.number,hideTracksWhenNotNeeded:l.default.bool,autoHide:l.default.bool,autoHideTimeout:l.default.number,autoHideDuration:l.default.number,autoHeight:l.default.bool,autoHeightMin:l.default.oneOfType([l.default.number,l.default.string]),autoHeightMax:l.default.oneOfType([l.default.number,l.default.string]),universal:l.default.bool,style:l.default.object,children:l.default.node},w.defaultProps={renderView:g.renderViewDefault,renderTrackHorizontal:g.renderTrackHorizontalDefault,renderTrackVertical:g.renderTrackVerticalDefault,renderThumbHorizontal:g.renderThumbHorizontalDefault,renderThumbVertical:g.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},function(e,t,n){(function(t){for(var r=n(216),i="undefined"===typeof window?t:window,a=["moz","webkit"],o="AnimationFrame",s=i["request"+o],c=i["cancel"+o]||i["cancelRequest"+o],l=0;!s&&l<a.length;l++)s=i[a[l]+"Request"+o],c=i[a[l]+"Cancel"+o]||i[a[l]+"CancelRequest"+o];if(!s||!c){var u=0,d=0,h=[];s=function(e){if(0===h.length){var t=r(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout((function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return h.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(this,n(52))},function(e,t,n){(function(t){(function(){var n,r,i,a,o,s;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,a=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),o=a-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(56))},function(e,t){var n=null,r=["Webkit","Moz","O","ms"];e.exports=function(e){n||(n=document.createElement("div"));var t=n.style;if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),a=r.length;a>=0;a--){var o=r[a]+i;if(o in t)return o}return!1}},function(e,t,n){var r=n(219);e.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){var r=n(220);e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},function(e,t){e.exports=function(e){return n.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(a,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():i.test(e)?function(e){return e.replace(o,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var n=/\s/,r=/(_|-|\.|:)/,i=/([a-z][A-Z]|[A-Z][a-z])/;var a=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},function(e,t){var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!==typeof t||n[e]?t:t+"px"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!1!==o)return o;if("undefined"!==typeof document){var e=document.createElement("div");(0,a.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else o=0;return o||0};var r,i=n(141),a=(r=i)&&r.__esModule?r:{default:r};var o=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,i=n.paddingRight;return t-parseFloat(r)-parseFloat(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,i=n.paddingBottom;return t-parseFloat(r)-parseFloat(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.renderViewDefault=function(e){return o.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{right:2,bottom:2,left:2,borderRadius:3});return o.default.createElement("div",r({style:i},n))},t.renderTrackVerticalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{right:2,bottom:2,top:2,borderRadius:3});return o.default.createElement("div",r({style:i},n))},t.renderThumbHorizontalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",r({style:i},n))},t.renderThumbVerticalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",r({style:i},n))};var i,a=n(0),o=(i=a)&&i.__esModule?i:{default:i};function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=p(a),s=p(n(43)),c=p(n(20)),l=p(n(231)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(143)),d=n(112),h=p(d),f=n(236);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var v=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",b=void 0!==s.default.createPortal,w=b?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer;function _(e){return e()}var E=function(e){function t(){var e,n,i;m(this,t);for(var a=arguments.length,c=Array(a),u=0;u<a;u++)c[u]=arguments[u];return n=i=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.removePortal=function(){!b&&s.default.unmountComponentAtNode(i.node),_(i.props.parentSelector).removeChild(i.node)},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=w(i,o.default.createElement(l.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},g(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(b||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,_(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:_(e.parentSelector),nextParent:_(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,i=r.isOpen,a=r.portalClassName;e.portalClassName!==a&&(this.node.className=a);var o=n.prevParent,s=n.nextParent;s!==o&&(o.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&b?(!this.node&&b&&(this.node=document.createElement("div")),w(o.default.createElement(l.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(a.Component);E.propTypes={isOpen:c.default.bool.isRequired,style:c.default.shape({content:c.default.object,overlay:c.default.object}),portalClassName:c.default.string,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,className:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),overlayClassName:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),appElement:c.default.instanceOf(h.default),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,ariaHideApp:c.default.bool,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,parentSelector:c.default.func,aria:c.default.object,data:c.default.object,role:c.default.string,contentLabel:c.default.string,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func},E.defaultProps={isOpen:!1,portalClassName:v,bodyOpenClassName:y,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},E.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(E),t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=m(o),c=m(n(20)),l=p(n(232)),u=m(n(233)),d=p(n(143)),h=p(n(235)),f=m(n(112));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=0,y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,a=e.bodyOpenClassName;h.remove(document.body,a),i&&h.remove(document.getElementsByTagName("html")[0],i),r&&v>0&&0===(v-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(),l.teardownScopedFocus()):l.popWithoutFocus())},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},a=r.base;return n.state.afterOpen&&(a=a+" "+r.afterOpen),n.state.beforeClose&&(a=a+" "+r.beforeClose),"string"===typeof t&&t?a+" "+t:a},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;h.add(document.body,i),r&&h.add(document.getElementsByTagName("html")[0],r),n&&(v+=1,d.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.overlayClassName,i=e.defaultStyles,a=t?{}:i.content,o=n?{}:i.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:r({},o,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,"aria-modal":"true"},s.default.createElement("div",r({ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{})),this.props.children))}}]),t}(o.Component);y.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},y.propTypes={isOpen:c.default.bool.isRequired,defaultStyles:c.default.shape({content:c.default.object,overlay:c.default.object}),style:c.default.shape({content:c.default.object,overlay:c.default.object}),className:c.default.oneOfType([c.default.string,c.default.object]),overlayClassName:c.default.oneOfType([c.default.string,c.default.object]),bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,ariaHideApp:c.default.bool,appElement:c.default.instanceOf(f.default),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,role:c.default.string,contentLabel:c.default.string,aria:c.default.object,data:c.default.object,children:c.default.node,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,testId:c.default.string},t.default=y,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=l,t.handleFocus=u,t.markForFocusLater=function(){o.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==o.length&&(e=o.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){o.length>0&&o.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",u))};var r,i=n(142),a=(r=i)&&r.__esModule?r:{default:r};var o=[],s=null,c=!1;function l(){c=!0}function u(){if(c){if(c=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,a.default)(s)[0]||s).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e);if(!n.length)return void t.preventDefault();var r,i=t.shiftKey,o=n[0],s=n[n.length-1];if(e===document.activeElement){if(!i)return;r=s}s!==document.activeElement||i||(r=o);o===document.activeElement&&i&&(r=s);if(r)return t.preventDefault(),void r.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var l=n.indexOf(document.activeElement);l>-1&&(l+=i?-1:1);t.preventDefault(),n[l].focus()};var r,i=n(142),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},i={};t.add=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(a,e),n.add(e)}));var n,a},t.remove=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(a,e),0===a[e]&&n.remove(e)}));var n,a}},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var c=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return o})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),o=r[0],s=r[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=h,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===a)a=1-l;else{if(a===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=l}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+f]=255&o,f+=p,o/=256,l-=8);e[n+f-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){},function(e,t,n){var r=n(33).default;e.exports={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withCredentials,i=t.headers;return new Promise((function(t,a){var o=new XMLHttpRequest;o.open("GET",e),o.withCredentials=Boolean(n),o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&(200===o.status?t({data:o.responseText}):(r.error("daast Unexpected status code",o),a(new Error("Unexpected status code:",o.status))))},i&&Object.keys(i).forEach((function(e){o.setRequestHeader(e,i[e])})),o.send()}))}}},function(e,t){var n=Array.prototype.push;function r(e,t,n){return Object.keys(e).reduce((function(t,r){return t[r]=n?a(e[r],null,!0):e[r],t}),t||{})}function i(e,t,r){var i=t||[];return n.apply(i,r?e.map((function(e){return a(e,null,!0)})):e),i}function a(e){var t="object"===typeof arguments[1]?arguments[1]:null,n="boolean"===typeof arguments[1]?arguments[1]:arguments[2];return Object(e)!==e?e:e instanceof Array?i(e,t,n):r(e,t,n)}e.exports=a},function(e,t){var n=Array.prototype.push;function r(e){return Object(e)===e}function i(e){return e instanceof Array}e.exports=function e(t,a){return[t,a].every(i)?(n.apply(a,t.filter((function(e){return a.indexOf(e)<0}))),a):Object.keys(t).reduce((function(n,i){return[t[i],n[i]].every(r)&&e(t[i],n[i]),i in n||(n[i]=t[i]),n}),a)}},function(e,t){e.exports=function(e,t){return"function"!==typeof t||e.then((function(e){t(null,e)}),(function(e){t(e)})),e}},function(e,t,n){var r=n(247),i=n(248),a={linear:function(e){return{tag:"Linear",children:[{tag:"Duration",value:r(e.duration)},o(e.trackingEvents),c(e)].concat(e.videoClicks?[{tag:"VideoClicks",children:[{tag:"ClickThrough",value:e.videoClicks.clickThrough,cdata:!0}].concat(e.videoClicks.clickTrackings.map((function(e){return{tag:"ClickTracking",value:e,cdata:!0}})),e.videoClicks.customClicks.map((function(e){return{tag:"CustomClick",attributes:{id:e.id},value:e.uri,cdata:!0}})))}]:[],[{tag:"MediaFiles",children:e.mediaFiles.map((function(e){return{tag:"MediaFile",attributes:{id:e.id,width:e.width,height:e.height,bitrate:e.bitrate,type:e.type,delivery:e.delivery,scalable:e.scalable,maintainAspectRatio:e.maintainAspectRatio,apiFramework:e.apiFramework},value:e.uri,cdata:!0}}))}])}},companions:function(e){return{tag:"CompanionAds",children:e.companions.map((function(e){return{tag:"Companion",attributes:{id:e.id,width:e.width,height:e.height,expandedWidth:e.expandedWidth,expandedHeight:e.expandedHeight,apiFramework:e.apiFramework},children:s(e.resources).concat([o(e.trackingEvents),{tag:"CompanionClickThrough",value:e.clickThrough,cdata:!0},{tag:"AltText",value:e.altText},c(e)])}}))}},nonLinear:function(e){return{tag:"NonLinearAds",children:e.ads.map((function(e){return{tag:"NonLinear",attributes:{id:e.id,width:e.width,height:e.height,expandedWidth:e.expandedWidth,expandedHeight:e.expandedHeight,scalable:e.scalable,maintainAspectRatio:e.maintainAspectRatio,minSuggestedDuration:r(e.minSuggestedDuration),apiFramework:e.apiFramework},children:s(e.resources).concat([{tag:"NonLinearClickThrough",value:e.clickThrough,cdata:!0},c(e)])}})).concat([o(e.trackingEvents)])}}};function o(e){return{tag:"TrackingEvents",children:e.map((function(e){return{tag:"Tracking",attributes:{event:e.event},value:e.uri,cdata:!0}}))}}function s(e){return e.map((function(e){return{tag:function(e){switch(e){case"static":return"StaticResource";case"iframe":return"IFrameResource";case"html":return"HTMLResource"}}(e.type),attributes:{creativeType:e.creativeType},value:e.data,cdata:!0}}))}function c(e){return{tag:"AdParameters",value:e.parameters}}e.exports=function(e){return i({tag:"VAST",attributes:{version:e.get("version")},children:e.map("ads",(function(e){return{tag:"Ad",attributes:{id:e.id},children:[{tag:function(){switch(e.type){case"inline":return"InLine";case"wrapper":return"Wrapper"}}(),children:[{tag:"AdSystem",attributes:{version:e.system.version},value:e.system.name},{tag:"AdTitle",value:e.title},{tag:"Description",value:e.description},{tag:"Survey",value:e.survey,cdata:!0},{tag:"VASTAdTagURI",value:e.vastAdTagURI,cdata:!0}].concat(e.errors.map((function(e){return{tag:"Error",value:e,cdata:!0}})),e.impressions.map((function(e){return{tag:"Impression",value:e.uri,cdata:!0,attributes:{id:e.id}}})),[{tag:"ViewableImpression",children:e.viewableImpressions.map((function(e){return{tag:"Viewable",value:e.uri,cdata:!0,attributes:{id:e.id}}}))}],[{tag:"Creatives",children:e.creatives.map((function(e){return{tag:"Creative",attributes:{id:e.id,sequence:e.sequence,AdID:e.adID},children:[(t=e.type,a[t](e))]};var t})),required:!0}])}]}}))},!0)}},function(e,t){function n(e){return(e>9?"":"0")+e.toString()}e.exports=function(e){return Number(e)!==e?null:[Math.floor(e/60/60),Math.floor(e/60%60),Math.floor(e%60%60)].map(n).join(":")}},function(e,t){function n(e){return null!==e&&void 0!==e}function r(e){return void 0!==e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function i(e){return e.cdata?(void 0!==(t=e.value)?function(e){for(var t,n,r=[],i=/]]>/g,a=0;t=i.exec(e);)n=t.index+2,r.push(t.input.substring(a,n)),a=n;return r.push(e.substring(a,e.length)),r}(String(t)):[""]).reduce((function(e,t){return e+"<![CDATA["+t+"]]>"}),""):r(e.value);var t}e.exports=function(e,t){return['<?xml version="1.0" encoding="UTF-8"?>'].concat(function e(t,a,o){var s=t.tag,c=t.attributes||{},l=Object.keys(c),u=t.children||[],d=t.value,h=u.length>0,f=l.every((function(e){return n(c[e])}))&&l.length>0,p=n(d)||h||f,m=function(e){for(var t="";e--;)t+=" ";return t}(a),g="<"+s+Object.keys(c).reduce((function(e,t){return o&&!n(c[t])?e:e+" "+t+'="'+r(c[t])+'"'}),"")+">",v="</"+s+">";return!o||p||t.required?h?[m+g].concat(t.children.reduce((function(t,n){return t.concat(e(n,a+4,o))}),[]),[m+v]):[m+g+i(t)+v]:[]}(e,0,t)).join("\n")}},function(e,t,n){var r=n(250),i=n(311),a=n(312),o=n(144),s=n(313),c=n(314),l={linear:function(e){var t=d(e.find("Duration")),n=d(e.find("Linear")),r=e.find("Tracking"),o=d(e.find("AdParameters")),s=e.find("VideoClicks")[0],l=e.find("MediaFile"),u=e.find("AdInteractions")[0];return{type:"linear",skipOffset:n.attributes.skipoffset,duration:i(t.value)||void 0,trackingEvents:r.map((function(e){var t={event:e.attributes.event,uri:e.value};return"progress"===e.attributes.event&&(t.offset=i(e.attributes.offset)),t})),parameters:o.value,videoClicks:s&&function(){var e=d(s.find("ClickThrough")),t=s.find("ClickTracking"),n=s.find("CustomClick");return{clickThrough:e.value,clickTrackings:t.map((function(e){return e.value})),customClicks:n.map((function(e){return{id:e.attributes.id,uri:e.value}}))}}(),adInteractions:u&&function(){var e=d(u.find("ClickThrough")),t=u.find("ClickTracking");return{clickThrough:e.value,clickTrackings:t.map((function(e){return e.value}))}}(),mediaFiles:l.map((function(e){var t=e.attributes;return{id:t.id,delivery:t.delivery,type:t.type,uri:e.value,bitrate:c(t.bitrate),width:c(t.width),height:c(t.height),scalable:a(t.scalable),maintainAspectRatio:a(t.maintainAspectRatio),apiFramework:t.apiFramework}}))}},companions:function(e){return{type:"companions",companions:e.find("Companion").map((function(e){var t=e.find("Tracking"),n=d(e.find("CompanionClickThrough")),r=d(e.find("StaticResource")),i=d(e.find("HTMLResource")),a=d(e.find("AltText")),o=d(e.find("AdParameters"));return{id:e.attributes.id,width:c(e.attributes.width),height:c(e.attributes.height),expandedWidth:c(e.attributes.expandedWidth),expandedHeight:c(e.attributes.expandedHeight),apiFramework:e.attributes.apiFramework,resources:h(e),staticResource:r.value,htmlResource:i.value,trackingEvents:t.map((function(e){return{event:e.attributes.event,uri:e.value}})),clickThrough:n.value,altText:a.value,parameters:o.value}}))}},nonLinear:function(e){var t=e.find("NonLinear"),n=e.find("Tracking");return{type:"nonLinear",ads:t.map((function(e){var t=d(e.find("NonLinearClickThrough")),n=d(e.find("StaticResource")),r=d(e.find("AdParameters"));return{id:e.attributes.id,width:e.attributes.width,height:e.attributes.height,expandedWidth:c(e.attributes.expandedWidth),expandedHeight:c(e.attributes.expandedHeight),scalable:a(e.attributes.scalable),maintainAspectRatio:a(e.attributes.maintainAspectRatio),minSuggestedDuration:i(e.attributes.minSuggestedDuration)||void 0,apiFramework:e.attributes.apiFramework,resources:n.value,clickThrough:t.value,parameters:r.value}})),trackingEvents:n.map((function(e){return{event:e.attributes.event,uri:e.value}}))}}},u={inline:function(e){var t=d(e.find("AdTitle")),n=d(e.find("Description")),r=d(e.find("Survey"));return{type:"inline",title:t.value,description:n.value,survey:r.value}},wrapper:function(e){var t=d(e.find("VASTAdTagURI")),n=d(e.find("DAASTAdTagURI"));return{type:"wrapper",vastAdTagURI:t.value||n.value}}};function d(e){return e[0]||{attributes:{}}}function h(e){return e.find("URL").map((function(e){return{data:e.value}}))}e.exports=function(e){var t=r(e),n="VAST";if(t(n)[0]){if(!t(n)[0])throw new Error("["+e+"] is not a valid VAST or DAAST document.")}else n="DAAST";return s({version:d(t(n)).attributes.version,ads:t("Ad").map((function(e){var t=d(e.find("Wrapper,InLine")).tag.toLowerCase(),n=d(e.find("AdSystem")),r=d(e.find("AdTitle")),i=d(e.find("Description")),a=e.find("Error"),s=e.find("Impression"),h=e.find("ViewableImpression Viewable"),f=e.find("Creative");return o({id:e.attributes.id,system:{name:n.value,version:n.attributes.version},advertiser:{title:r.value,description:i.value},errors:a.map((function(e){return e.value})),impressions:s.map((function(e){return{uri:e.value,id:e.attributes.id}})),viewableImpressions:h.map((function(e){return{uri:e.value,id:e.attributes.id}})),creatives:f.map((function(e){var t=function(){switch(d(e.find("Linear,CompanionAds,NonLinearAds")).tag){case"Linear":return"linear";case"CompanionAds":return"companions";case"NonLinearAds":return"nonLinear"}}();if(t)return o({id:e.attributes.id,sequence:c(e.attributes.sequence),adID:e.attributes.AdID},l[t](e))}))},u[t](e))}))},!0)}},function(e,t,n){var r=n(251),i=Array.prototype.map;e.exports=function(e){var t=r.load(e,{xmlMode:!0});function n(e){var n=t(e),r=n.children().length>0;return{tag:e.tagName,value:r?null:n.text(),attributes:n.attr(),find:function(e){return a(n.find(e))},children:function(){return a(n.children())}}}function a(e){return i.call(e,n)}return function(e){return a(t(e))}}},function(e,t,n){(e.exports=n(113)).version=n(310).version},function(e,t,n){var r=n(253);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"\ufffd";e in r&&(e=r[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e){e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')},function(e){e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t,n){var r=n(57),i=/\s+/g,a=n(147),o=n(259);function s(e,t,n){"object"===typeof e?(n=t,t=e,e=null):"function"===typeof t&&(n=t,t=c),this._callback=e,this._options=t||c,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var c={normalizeWhitespace:!1,withStartIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"===typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._elementCB&&this._elementCB(e)},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withDomLvl1&&(e.__proto__="tag"===e.type?o:a),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]};this._addDomElement(n),this._tagStack.push(n)},s.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text||this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text?n?t.data=(t.data+e).replace(i," "):t.data+=e:(n&&(e=e.replace(i," ")),this._addDomElement({data:e,type:r.Text}))},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)t.data+=e;else{var n={data:e,type:r.Comment};this._addDomElement(n),this._tagStack.push(n)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA};this._addDomElement(e),this._tagStack.push(e)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){this._addDomElement({name:e,data:t,type:r.Directive})},e.exports=s},function(e,t,n){var r=n(147),i=e.exports=Object.create(r),a={tagName:"name"};Object.keys(a).forEach((function(e){var t=a[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,n){var r=n(71),i=r.DomHandler,a=r.DomUtils;function o(e,t){this.init(e,t)}function s(e,t){return a.getElementsByTagName(e,t,!0)}function c(e,t){return a.getElementsByTagName(e,t,!0,1)[0]}function l(e,t,n){return a.getText(a.getElementsByTagName(e,t,n,1)).trim()}function u(e,t,n,r,i){var a=l(n,r,i);a&&(e[t]=a)}n(91).inherits(o,i),o.prototype.init=i;var d=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};o.prototype.onend=function(){var e,t,n={},r=c(d,this.dom);r&&("feed"===r.name?(t=r.children,n.type="atom",u(n,"id","id",t),u(n,"title","title",t),(e=c("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),u(n,"description","subtitle",t),(e=l("updated",t))&&(n.updated=new Date(e)),u(n,"author","email",t,!0),n.items=s("entry",t).map((function(e){var t,n={};return u(n,"id","id",e=e.children),u(n,"title","title",e),(t=c("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=l("summary",e)||l("content",e))&&(n.description=t),(t=l("updated",e))&&(n.pubDate=new Date(t)),n}))):(t=c("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=l("lastBuildDate",t))&&(n.updated=new Date(e)),u(n,"author","managingEditor",t,!0),n.items=s("item",r.children).map((function(e){var t,n={};return u(n,"id","guid",e=e.children),u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=l("pubDate",e))&&(n.pubDate=new Date(t)),n})))),this.dom=n,i.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},e.exports=o},function(e,t,n){e.exports=i;var r=n(148);function i(e){r.call(this,new a(this),e)}function a(e){this.scope=e}n(91).inherits(i,r),i.prototype.readable=!0;var o=n(71).EVENTS;Object.keys(o).forEach((function(e){if(0===o[e])a.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===o[e])a.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==o[e])throw Error("wrong number of arguments!");a.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}}))},function(e,t,n){e.exports=i;var r=n(92).EventEmitter;function i(){r.call(this)}n(61)(i,r),i.Readable=n(114),i.Writable=n(271),i.Duplex=n(272),i.Transform=n(273),i.PassThrough=n(274),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var o=!1;function s(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"===typeof e.destroy&&e.destroy())}function l(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",l),e.on("error",l),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var r=n(94).Buffer,i=n(266);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,a=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=a,i=s,t.copy(n,i),s+=o.data.length,o=o.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(268),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(52))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){u(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(u,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},c.clearImmediate=l}function l(e){delete a[e]}function u(e){if(o)setTimeout(u,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{l(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(52),n(56))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(52))},function(e,t,n){"use strict";e.exports=a;var r=n(153),i=n(79);function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(61),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(115)},function(e,t,n){e.exports=n(62)},function(e,t,n){e.exports=n(114).Transform},function(e,t,n){e.exports=n(114).PassThrough},function(e,t){},function(e,t,n){function r(e){this._cbs=e||{}}e.exports=r;var i=n(71).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}}))},function(e,t,n){var r=e.exports;[n(278),n(286),n(287),n(288),n(289),n(290)].forEach((function(e){Object.keys(e).forEach((function(t){r[t]=e[t].bind(r)}))}))},function(e,t,n){var r=n(57),i=n(116),a=r.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map((function(e){return i(e,t)})).join(""):""},getOuterHTML:i,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):a(t)||t.type===r.CDATA?e(t.children):t.type===r.Text?t.data:""}}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){var r=n(281),i=n(282);t.decode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?i.XML:i.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=i.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=i.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=i.HTMLStrict,t.escape=r.escape},function(e,t,n){var r=s(n(154)),i=c(r);t.XML=f(r,i);var a=s(n(155)),o=c(a);function s(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function c(e){var t=[],n=[];return Object.keys(e).forEach((function(e){1===e.length?t.push("\\"+e):n.push(e)})),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=f(a,o);var l=/[^\0-\x7F]/g,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function d(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function h(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(u,h).replace(l,d)}}var p=c(r);t.escape=function(e){return e.replace(p,d).replace(u,h).replace(l,d)}},function(e,t,n){var r=n(155),i=n(283),a=n(154),o=n(284),s=l(a),c=l(r);function l(e){var t=Object.keys(e).join("|"),n=h(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var u=function(){for(var e=Object.keys(i).sort(d),t=Object.keys(r).sort(d),n=0,a=0;n<t.length;n++)e[a]===t[n]?(t[n]+=";?",a++):t[n]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=h(r);function c(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(o,c)}}();function d(e,t){return e<t?1:-1}function h(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?o(parseInt(t.substr(3),16)):o(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:s,HTML:u,HTMLStrict:c}},function(e){e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},function(e,t,n){var r=n(285);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"\ufffd";e in r&&(e=r[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var a=i.children;a[a.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){var r=n(57).isTag;function i(e,t,n,r){for(var a,o=[],s=0,c=t.length;s<c&&!(e(t[s])&&(o.push(t[s]),--r<=0))&&(a=t[s].children,!(n&&a&&a.length>0&&(a=i(e,a,n,r),o=o.concat(a),(r-=a.length)<=0)));s++);return o}e.exports={filter:function(e,t,n,r){Array.isArray(t)||(t=[t]);"number"===typeof r&&isFinite(r)||(r=1/0);return i(e,t,!1!==n,r)},find:i,findOneChild:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,n){for(var i=null,a=0,o=n.length;a<o&&!i;a++)r(n[a])&&(t(n[a])?i=n[a]:n[a].children.length>0&&(i=e(t,n[a].children)));return i},existsOne:function e(t,n){for(var i=0,a=n.length;i<a;i++)if(r(n[i])&&(t(n[i])||n[i].children.length>0&&e(t,n[i].children)))return!0;return!1},findAll:function e(t,n){for(var i=[],a=0,o=n.length;a<o;a++)r(n[a])&&(t(n[a])&&i.push(n[a]),n[a].children.length>0&&(i=i.concat(e(t,n[a].children))));return i}}},function(e,t,n){var r=n(57),i=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!i(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(i(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var a={tag_name:function(e){return"function"===typeof e?function(t){return i(t)&&e(t.name)}:"*"===e?i:function(t){return i(t)&&t.name===e}},tag_type:function(e){return"function"===typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"===typeof e?function(t){return!i(t)&&e(t.data)}:function(t){return!i(t)&&t.data===e}}};function o(e,t){return"function"===typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function s(e,t){return function(n){return e(n)||t(n)}}t.getElements=function(e,t,n,r){var i=Object.keys(e).map((function(t){var n=e[t];return t in a?a[t](n):o(t,n)}));return 0===i.length?[]:this.filter(i.reduce(s),t,n,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(o("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(a.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(a.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,i=e.length;--i>-1;){for(t=n=e[i],e[i]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e};var n=1,r=2,i=4,a=8,o=16,s=t.compareDocumentPosition=function(e,t){var s,c,l,u,d,h,f=[],p=[];if(e===t)return 0;for(s=e;s;)f.unshift(s),s=s.parent;for(s=t;s;)p.unshift(s),s=s.parent;for(h=0;f[h]===p[h];)h++;return 0===h?n:(l=(c=f[h-1]).children,u=f[h],d=p[h],l.indexOf(u)>l.indexOf(d)?c===t?i|o:i:c===e?r|a:r)};t.uniqueSort=function(e){var t,n,a=e.length;for(e=e.slice();--a>-1;)t=e[a],(n=e.indexOf(t))>-1&&n<a&&e.splice(a,1);return e.sort((function(e,t){var n=s(e,t);return n&r?-1:n&i?1:0})),e}},function(e,t,n){function r(e){this._cbs=e||{},this.events=[]}e.exports=r;var i=n(71).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}})),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t,n){var r=n(63),i=n(95),a=i.isTag,o=i.domEach,s=Object.prototype.hasOwnProperty,c=i.camelCase,l=i.cssCase,u=/\s+/,d={null:null,true:!0,false:!1},h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,p=function(e,t){if(e&&a(e))return e.attribs||(e.attribs={}),t?s.call(e.attribs,t)?h.test(t)?t:e.attribs[t]:void 0:e.attribs},m=function(e,t,n){null===n?v(e,t):e.attribs[t]=n+""};t.attr=function(e,t){return"object"===typeof e||void 0!==t?o(this,"function"===typeof t?function(n,r){m(r,e,t.call(r,n,r.attribs[e]))}:function(n,i){a(i)&&("object"===typeof e?r.each(e,(function(e,t){i.attribs[t]=e+""})):m(i,e,t))}):p(this[0],e)};var g=function(e,t){var n,r,i,a,o,u,h,p=1===arguments.length;for(p?i=(n=Object.keys(e.attribs).filter((function(e){return"data-"===e.slice(0,"data-".length)}))).map((function(e){return c(e.slice("data-".length))})):(n=["data-"+l(t)],i=[t]),u=0,h=n.length;u<h;++u)if(r=n[u],a=i[u],s.call(e.attribs,r)){if(o=e.attribs[r],s.call(d,o))o=d[o];else if(o===String(Number(o)))o=Number(o);else if(f.test(o))try{o=JSON.parse(o)}catch(m){}e.data[a]=o}return p?e.data:o};t.data=function(e,t){var n=this[0];if(n&&a(n))return n.data||(n.data={}),e?"object"===typeof e||void 0!==t?(o(this,(function(n,i){!function(e,t,n){if("object"===typeof t)return r.extend(e.data,t);"string"===typeof t&&void 0!==n?e.data[t]=n:"object"===typeof t&&r.exend(e.data,t)}(i,e,t)})),this):s.call(n.data,e)?n.data[e]:g(n,e):g(n)},t.val=function(e){var t=0===arguments.length,n=this[0];if(n)switch(n.name){case"textarea":return this.text(e);case"input":switch(this.attr("type")){case"radio":return t?this.attr("value"):(this.attr("value",e),this);default:return this.attr("value",e)}return;case"select":var r,i=this.find("option:selected");if(void 0===i)return;if(!t){if(!this.attr().hasOwnProperty("multiple")&&"object"==typeof e)return this;"object"!=typeof e&&(e=[e]),this.find("option").removeAttr("selected");for(var a=0;a<e.length;a++)this.find('option[value="'+e[a]+'"]').attr("selected","");return this}return r=i.attr("value"),this.attr().hasOwnProperty("multiple")&&(r=[],o(i,(function(e,t){r.push(t.attribs.value)}))),r;case"option":return t?this.attr("value"):(this.attr("value",e),this)}};var v=function(e,t){e.attribs&&s.call(e.attribs,t)&&delete e.attribs[t]};t.removeAttr=function(e){return o(this,(function(t,n){v(n,e)})),this},t.hasClass=function(e){return r.any(this,(function(t){var n,r=t.attribs,i=r&&r.class,a=-1;if(i)for(;(a=i.indexOf(e,a+1))>-1;)if(n=a+e.length,(0===a||u.test(i[a-1]))&&(n===i.length||u.test(i[n])))return!0}))},t.addClass=function(e){if("function"===typeof e)return o(this,(function(n,r){var i=r.attribs.class||"";t.addClass.call([r],e.call(r,n,i))}));if(!e||"string"!==typeof e)return this;for(var n=e.split(u),r=this.length,i=0;i<r;i++)if(a(this[i])){var s,c,l=p(this[i],"class");if(l){c=" "+l+" ",s=n.length;for(var d=0;d<s;d++){var h=n[d]+" ";c.indexOf(" "+h)<0&&(c+=h)}m(this[i],"class",c.trim())}else m(this[i],"class",n.join(" ").trim())}return this};var y=function(e){return e?e.trim().split(u):[]};t.removeClass=function(e){var n,r,i;return"function"===typeof e?o(this,(function(n,r){t.removeClass.call([r],e.call(r,n,r.attribs.class||""))})):(n=y(e),r=n.length,i=0===arguments.length,o(this,(function(e,t){if(a(t))if(i)t.attribs.class="";else{for(var o,s,c=y(t.attribs.class),l=0;l<r;l++)(o=c.indexOf(n[l]))>=0&&(c.splice(o,1),s=!0,l--);s&&(t.attribs.class=c.join(" "))}})))},t.toggleClass=function(e,n){if("function"===typeof e)return o(this,(function(r,i){t.toggleClass.call([i],e.call(i,r,i.attribs.class||"",n),n)}));if(!e||"string"!==typeof e)return this;for(var r,i,s=e.split(u),c=s.length,l="boolean"===typeof n?n?1:-1:0,d=this.length,h=0;h<d;h++)if(a(this[h])){r=y(this[h].attribs.class);for(var f=0;f<c;f++)i=r.indexOf(s[f]),l>=0&&i<0?r.push(s[f]):l<=0&&i>=0&&r.splice(i,1);this[h].attribs.class=r.join(" ")}return this},t.is=function(e){return!!e&&this.filter(e).length>0}},function(e,t,n){var r=n(63),i=n(156),a=n(95),o=a.domEach,s=n(71).DomUtils.uniqueSort,c=a.isTag;t.find=function(e){var t,n=r.reduce(this,(function(e,t){return e.concat(r.filter(t.children,c))}),[]),a=this.constructor.contains;return e&&"string"!==typeof e?(t=e.cheerio?e.get():[e],this._make(t.filter((function(e){var t,n;for(t=0,n=this.length;t<n;++t)if(a(this[t],e))return!0}),this))):this._make(i(e,n,this.options))},t.parent=function(e){var n=[];return o(this,(function(e,t){var r=t.parent;r&&n.indexOf(r)<0&&n.push(r)})),arguments.length&&(n=t.filter.call(n,e,this)),this._make(n)},t.parents=function(e){var t=[];return this.get().reverse().forEach((function(n){u(this,n.parent,e,1/0).forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))}),this),this._make(t)},t.parentsUntil=function(e,t){var n,r,a=[];return"string"===typeof e?n=i(e,this.parents().toArray(),this.options)[0]:e&&e.cheerio?r=e.toArray():e&&(n=e),this.toArray().reverse().forEach((function(e){for(;(e=e.parent)&&(n&&e!==n||r&&-1===r.indexOf(e)||!n&&!r);)c(e)&&-1===a.indexOf(e)&&a.push(e)}),this),this._make(t?i(t,a,this.options):a)},t.closest=function(e){var t=[];return e?(o(this,function(n,r){var i=u(this,r,e,1)[0];i&&t.indexOf(i)<0&&t.push(i)}.bind(this)),this._make(t)):this._make(t)},t.next=function(e){if(!this[0])return this;var n=[];return r.forEach(this,(function(e){for(;e=e.next;)if(c(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextAll=function(e){if(!this[0])return this;var n=[];return r.forEach(this,(function(e){for(;e=e.next;)c(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextUntil=function(e,n){if(!this[0])return this;var a,o,s=[];return"string"===typeof e?a=i(e,this.nextAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(a=e),r.forEach(this,(function(e){for(;(e=e.next)&&(a&&e!==a||o&&-1===o.indexOf(e)||!a&&!o);)c(e)&&-1===s.indexOf(e)&&s.push(e)})),n?t.filter.call(s,n,this):this._make(s)},t.prev=function(e){if(!this[0])return this;var n=[];return r.forEach(this,(function(e){for(;e=e.prev;)if(c(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevAll=function(e){if(!this[0])return this;var n=[];return r.forEach(this,(function(e){for(;e=e.prev;)c(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevUntil=function(e,n){if(!this[0])return this;var a,o,s=[];return"string"===typeof e?a=i(e,this.prevAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(a=e),r.forEach(this,(function(e){for(;(e=e.prev)&&(a&&e!==a||o&&-1===o.indexOf(e)||!a&&!o);)c(e)&&-1===s.indexOf(e)&&s.push(e)})),n?t.filter.call(s,n,this):this._make(s)},t.siblings=function(e){var n=this.parent(),i=r.filter(n?n.children():this.siblingsAndMe(),(function(e){return c(e)&&!this.is(e)}),this);return void 0!==e?t.filter.call(i,e,this):this._make(i)},t.children=function(e){var n=r.reduce(this,(function(e,t){return e.concat(r.filter(t.children,c))}),[]);return void 0===e?this._make(n):t.filter.call(n,e,this)},t.contents=function(){return this._make(r.reduce(this,(function(e,t){return e.push.apply(e,t.children),e}),[]))},t.each=function(e){for(var t=0,n=this.length;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this},t.map=function(e){return this._make(r.reduce(this,(function(t,n,r){var i=e.call(n,r,n);return null==i?t:t.concat(i)}),[]))};var l=function(e){return function(t,n){var r;return n=n||this,r="string"===typeof t?i.compile(t,n.options):"function"===typeof t?function(e,n){return t.call(e,n,e)}:t.cheerio?t.is.bind(t):function(e){return t===e},n._make(e(this,r))}};function u(e,n,r,i){for(var a=[];n&&a.length<i;)r&&!t.filter.call([n],r,e).length||a.push(n),n=n.parent;return a}t.filter=l(r.filter),t.not=l(r.reject),t.has=function(e){var n=this;return t.filter.call(this,(function(){return n._make(this).find(e).length>0}))},t.first=function(){return this.length>1?this._make(this[0]):this},t.last=function(){return this.length>1?this._make(this[this.length-1]):this},t.eq=function(e){return 0===(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this[e]?this._make(this[e]):this._make([]))},t.get=function(e){return null==e?Array.prototype.slice.call(this):this[e<0?this.length+e:e]},t.index=function(e){var t,n;return 0===arguments.length?(t=this.parent().children(),n=this[0]):"string"===typeof e?(t=this._make(e),n=this[0]):(t=this,n=e.cheerio?e[0]:e),t.get().indexOf(n)},t.slice=function(){return this._make([].slice.apply(this,arguments))},t.end=function(){return this.prevObject||this._make([])},t.add=function(e,t){for(var n=this._make(e,t),r=s(n.get().concat(this.get())),i=0;i<r.length;++i)n[i]=r[i];return n.length=r.length,n},t.addBack=function(e){return this.add(arguments.length?this.prevObject.filter(e):this.prevObject)}},function(e,t,n){var r=n(57),i=r.isTag;function a(e){return e.children?e.children.map(c).join(""):""}e.exports={getInnerHTML:a,getOuterHTML:c,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):i(t)||t.type===r.CDATA?e(t.children):t.type===r.Text?t.data:""}};var o={__proto__:null,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,defer:!0,disabled:!0,hidden:!0,loop:!0,multiple:!0,open:!0,readonly:!0,required:!0,scoped:!0,selected:!0},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,link:!0,meta:!0,param:!0,embed:!0};function c(e){switch(e.type){case r.Text:return e.data;case r.Comment:return"\x3c!--"+e.data+"--\x3e";case r.Directive:return"<"+e.data+">";case r.CDATA:return"<!CDATA "+a(e)+"]]>"}var t="<"+e.name;if("attribs"in e)for(var n in e.attribs)if(e.attribs.hasOwnProperty(n)){t+=" "+n;var i=e.attribs[n];null==i?n in o||(t+='=""'):t+='="'+i+'"'}return e.name in s&&0===e.children.length?t+" />":t+">"+a(e)+"</"+e.name+">"}},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var a=i.children;a[a.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){var r=n(57).isTag;function i(e,t,n,r){for(var a,o=[],s=0,c=t.length;s<c&&!(e(t[s])&&(o.push(t[s]),--r<=0))&&(a=t[s].children,!(n&&a&&a.length>0&&(a=i(e,a,n,r),o=o.concat(a),(r-=a.length)<=0)));s++);return o}e.exports={filter:function(e,t,n,r){Array.isArray(t)||(t=[t]);"number"===typeof r&&isFinite(r)||(r=1/0);return i(e,t,!1!==n,r)},find:i,findOneChild:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,n){for(var i=null,a=0,o=n.length;a<o&&!i;a++)r(n[a])&&(t(n[a])?i=n[a]:n[a].children.length>0&&(i=e(t,n[a].children)));return i},existsOne:function e(t,n){for(var i=0,a=n.length;i<a;i++)if(r(n[i])&&(t(n[i])||n[i].children.length>0&&e(t,n[i].children)))return!0;return!1},findAll:function e(t,n){for(var i=[],a=0,o=n.length;a<o;a++)r(n[a])&&(t(n[a])&&i.push(n[a]),n[a].children.length>0&&(i=i.concat(e(t,n[a].children))));return i}}},function(e,t,n){var r=n(57),i=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!i(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(i(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var a={tag_name:function(e){return"function"===typeof e?function(t){return i(t)&&e(t.name)}:"*"===e?i:function(t){return i(t)&&t.name===e}},tag_type:function(e){return"function"===typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"===typeof e?function(t){return!i(t)&&e(t.data)}:function(t){return!i(t)&&t.data===e}}};function o(e,t){return"function"===typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function s(e,t){return function(n){return e(n)||t(n)}}t.getElements=function(e,t,n,r){var i=Object.keys(e).map((function(t){var n=e[t];return t in a?a[t](n):o(t,n)}));return 0===i.length?[]:this.filter(i.reduce(s),t,n,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(o("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(a.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(a.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,i=e.length;--i>-1;){for(t=n=e[i],e[i]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e}},function(e,t,n){var r=n(301),i=n(302);e.exports=function(e){return i(r(e))},e.exports.parse=r,e.exports.compile=i},function(e,t){e.exports=function(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];var t,r=e.match(n);if(!r)throw new SyntaxError("n-th rule couldn't be parsed ('"+e+"')");return r[1]?(t=parseInt(r[1],10),isNaN(t)&&(t="-"===r[1].charAt(0)?-1:1)):t=0,[t,r[3]?parseInt((r[2]||"")+r[3],10):0]};var n=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/},function(e,t,n){e.exports=function(e){var t=e[0],n=e[1]-1;if(n<0&&t<=0)return a;if(-1===t)return function(e){return e<=n};if(0===t)return function(e){return e===n};if(1===t)return n<0?i:function(e){return e>=n};var r=n%t;r<0&&(r+=t);if(t>1)return function(e){return e>=n&&e%t===r};return t*=-1,function(e){return e<=n&&e%t===r}};var r=n(81),i=r.trueFunc,a=r.falseFunc},function(e,t,n){e.exports=function(e,t){return h(f(e,t))},e.exports.compileUnsafe=f;var r=n(304),i=n(80),a=i.isTag,o=n(305),s=n(306),c=n(81),l=c.trueFunc,u=c.falseFunc,d=n(158);function h(e){return function(t){return a(t)&&e(t)}}function f(e,t){return p(r(e,t),t)}function p(e,t){if(e.forEach(s),t&&t.context){var n=t.context;e.forEach((function(e){m(e[0])||e.unshift({type:"descendant"})}));var r=Array.isArray(n)?function(e){return n.indexOf(e)>=0}:function(e){return n===e};if(t.rootFunc){var i=t.rootFunc;t.rootFunc=function(e){return r(e)&&i(e)}}else t.rootFunc=r}return e.map(g,t).reduce(v,u)}function m(e){return d[e.type]<0}function g(e){if(0===e.length)return u;var t=this;return e.reduce((function(e,n){return e===u?e:o[n.type](e,n,t)}),t&&t.rootFunc||l)}function v(e,t){return t===u||e===l?e:e===u||t===l?t:function(n){return e(n)||t(n)}}var y=n(117).filters,b=i.existsOne,w=(a=i.isTag,i.getChildren);function _(e){return e.some(m)}function E(e){var t=e.charAt(0);return t!==e.slice(-1)||"'"!==t&&'"'!==t||(e=e.slice(1,-1)),e}y.not=function(e,t,n){var i,a={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)};if(t=E(t),a.strict){var o=r(t);if(o.length>1||o.some(_))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");i=p(o,a)}else i=f(t,a);return i===u?e:i===l?u:function(t){return!i(t)&&e(t)}},y.has=function(e,t,n){var r=f(t,{xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)});return r===u?u:r===l?function(t){return w(t).some(a)&&e(t)}:(r=h(r),function(t){return e(t)&&b(r,w(t))})},y.matches=function(e,t,n){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict),rootFunc:e};return f(t=E(t),r)}},function(e,t,n){"use strict";e.exports=function(e,t){e=(e+"").trimLeft();var n,a,u,f=[],p=[],m=!1;function g(){var t=e.match(i)[0];return e=e.substr(t.length),d(t)}for(;""!==e;)if(i.test(e))m&&(p.push({type:"descendant"}),m=!1),u=g(),t&&("lowerCaseTags"in t?!t.lowerCaseTags:t.xmlMode)||(u=u.toLowerCase()),p.push({type:"tag",name:u});else if(r.test(e))m=!0,e=e.trimLeft();else{if(a=e.charAt(0),e=e.substr(1),a in c){p.push({type:c[a]}),e=e.trimLeft(),m=!1;continue}if(","===a){if(0===p.length)throw new SyntaxError("empty sub-selector");f.push(p),p=[],e=e.trimLeft(),m=!1;continue}if(m&&(p.push({type:"descendant"}),m=!1),"*"===a)p.push({type:"universal"});else if(a in l)p.push({type:"attribute",name:l[a][0],action:l[a][1],value:g(),ignoreCase:!1});else if("["===a){if(!(n=e.match(o)))throw new SyntaxError("Malformed attribute selector: "+e);e=e.substr(n[0].length),u=d(n[1]),t&&("lowerCaseAttributeNames"in t?!t.lowerCaseAttributeNames:t.xmlMode)||(u=u.toLowerCase()),p.push({type:"attribute",name:u,action:s[n[2]],value:d(n[4]||n[5]||""),ignoreCase:!!n[6]})}else{if(":"!==a)throw new SyntaxError("Unmatched selector: "+a+e);if(u=g().toLowerCase(),n=null,"("===e.charAt(0)){var v=h(e);n=e.substr(1,v-2),e=e.substr(v)}p.push({type:"pseudo",name:u,data:n})}}if(f.length>0&&0===p.length)throw new SyntaxError("empty sub-selector");return f.push(p),f};var r=/^\s/,i=/^(?:\\.|[\w\-\u00c0-\uFFFF])+/,a=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,o=/^\s*((?:\\.|[\w\u00c0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])(.*?)\3|(#?(?:\\.|[\w\u00c0-\uFFFF\-])*)|)|)\s*(i)?\]/,s={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},c={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},l={__proto__:null,"#":["id","equals"],".":["class","element"]};function u(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function d(e){return e.replace(a,u)}function h(e){for(var t=1,n=1,r=e.length;n>0&&t<r;t++)"("===e.charAt(t)?n++:")"===e.charAt(t)&&n--;return t}},function(e,t,n){var r=n(80),i=r.isTag,a=r.getParent,o=r.getChildren,s=r.getSiblings,c=r.getName;e.exports={__proto__:null,attribute:n(157).compile,pseudo:n(117).compile,tag:function(e,t){var n=t.name;return function(t){return c(t)===n&&e(t)}},descendant:function(e){return function(t){for(var n=!1;!n&&(t=a(t));)n=e(t);return n}},parent:function(e,t,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(e){return o(e).some(r)};function r(t){return i(t)&&e(t)}},child:function(e){return function(t){var n=a(t);return!!n&&e(n)}},sibling:function(e){return function(t){for(var n=s(t),r=0;r<n.length;r++)if(i(n[r])){if(n[r]===t)break;if(e(n[r]))return!0}return!1}},adjacent:function(e){return function(t){for(var n,r=s(t),a=0;a<r.length;a++)if(i(r[a])){if(r[a]===t)break;n=r[a]}return!!n&&e(n)}},universal:function(e){return e}}},function(e,t,n){e.exports=function(e){for(var t=1;t<e.length;t++){var n=r[e[t].type];if(!(n<0))for(var o=t-1;o>=0&&(!(n>r[e[o].type])&&(n===i&&r[e[o].type]===i&&a[e[t].action]<=a[e[o].action]));o--){var s=e[o+1];e[o+1]=e[o],e[o]=s}}};var r=n(158),i=r.attribute,a={__proto__:null,exists:8,equals:7,not:6,start:5,end:4,any:3,hyphen:2,element:1}},function(e,t,n){var r=n(63),i=n(90),a=n(159),o=i.update,s=i.evaluate,c=n(95),l=c.domEach,u=c.cloneDom,d=Array.prototype.slice;t._makeDomArray=function(e,t){return null==e?[]:e.cheerio?t?u(e.get(),e.options):e.get():Array.isArray(e)?r.flatten(e.map((function(e){return this._makeDomArray(e,t)}),this)):"string"===typeof e?s(e,this.options):t?u([e]):[e]};var h=function(e){return function(){var t=d.call(arguments),n=this.length-1;return l(this,(function(r,i){var o,s;s="function"===typeof t[0]?t[0].call(i,r,a.html(i.children)):t,o=this._makeDomArray(s,r<n),e(o,i.children,i)}))}},f=function(e,t,n,r,i){var a,o,s,c,l,u=[t,n].concat(r),d=e[t-1]||null,h=e[t]||null;for(a=0,o=r.length;a<o;++a)s=(l=(c=r[a]).parent||c.root)&&l.children.indexOf(r[a]),l&&s>-1&&(l.children.splice(s,1),i===l&&t>s&&u[0]--),c.root=null,c.parent=i,c.prev&&(c.prev.next=c.next||null),c.next&&(c.next.prev=c.prev||null),c.prev=r[a-1]||d,c.next=r[a+1]||h;return d&&(d.next=r[0]),h&&(h.prev=r[r.length-1]),e.splice.apply(e,u)};t.append=h((function(e,t,n){f(t,t.length,0,e,n)})),t.prepend=h((function(e,t,n){f(t,0,0,e,n)})),t.after=function(){var e=d.call(arguments),t=this.length-1;return l(this,(function(n,r){var i=r.parent||r.root;if(i){var o,s,c=i.children,l=c.indexOf(r);l<0||(o="function"===typeof e[0]?e[0].call(r,n,a.html(r.children)):e,s=this._makeDomArray(o,n<t),f(c,l+1,0,s,i))}})),this},t.insertAfter=function(e){var t=[],n=this;return"string"===typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),a=r.parent||r.root;if(a){var o=a.children,s=o.indexOf(r);s<0||(f(o,s+1,0,i,a),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.before=function(){var e=d.call(arguments),t=this.length-1;return l(this,(function(n,r){var i=r.parent||r.root;if(i){var o,s,c=i.children,l=c.indexOf(r);l<0||(o="function"===typeof e[0]?e[0].call(r,n,a.html(r.children)):e,s=this._makeDomArray(o,n<t),f(c,l,0,s,i))}})),this},t.insertBefore=function(e){var t=[],n=this;return"string"===typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),a=r.parent||r.root;if(a){var o=a.children,s=o.indexOf(r);s<0||(f(o,s,0,i,a),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.remove=function(e){var t=this;return e&&(t=t.filter(e)),l(t,(function(e,t){var n=t.parent||t.root;if(n){var r=n.children,i=r.indexOf(t);i<0||(r.splice(i,1),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.prev=t.next=t.parent=t.root=null)}})),this},t.replaceWith=function(e){var t=this;return l(this,(function(n,r){var i=r.parent||r.root;if(i){var a,s=i.children,c=t._makeDomArray("function"===typeof e?e.call(r,n,r):e);o(c,null),a=s.indexOf(r),f(s,a,1,c,i),r.parent=r.prev=r.next=r.root=null}})),this},t.empty=function(){return l(this,(function(e,t){r.each(t.children,(function(e){e.next=e.prev=e.parent=null})),t.children.length=0})),this},t.html=function(e){if(void 0===e)return this[0]&&this[0].children?a.html(this[0].children,this.options):null;var t=this.options;return l(this,(function(n,i){r.each(i.children,(function(e){e.next=e.prev=e.parent=null}));var a=e.cheerio?e.clone().get():s(e,t);o(a,i)})),this},t.toString=function(){return a.html(this,this.options)},t.text=function(e){return void 0===e?a.text(this):"function"===typeof e?l(this,(function(n,r){var i=[r];return t.text.call(i,e.call(r,n,a.text(i)))})):(l(this,(function(t,n){r.each(n.children,(function(e){e.next=e.prev=e.parent=null})),o({data:e,type:"text",parent:n,prev:null,next:null,children:[]},n)})),this)},t.clone=function(){return this._make(u(this.get(),this.options))}},function(e,t,n){var r=n(63),i=n(95).domEach,a=Object.prototype.toString;function o(e,t,n,r){if("string"==typeof t){var i=s(e);"function"===typeof n&&(n=n.call(e,r,i[t])),""===n?delete i[t]:null!=n&&(i[t]=n),e.attribs.style=(a=i,Object.keys(a||{}).reduce((function(e,t){return e+(e?" ":"")+t+": "+a[t]+";"}),""))}else"object"==typeof t&&Object.keys(t).forEach((function(n){o(e,n,t[n])}));var a}function s(e,t){var n=function(e){return(e=(e||"").trim())?e.split(";").reduce((function(e,t){var n=t.indexOf(":");return n<1||n===t.length-1||(e[t.slice(0,n).trim()]=t.slice(n+1).trim()),e}),{}):{}}(e.attribs.style);return"string"===typeof t?n[t]:Array.isArray(t)?r.pick(n,t):n}t.css=function(e,t){return 2===arguments.length||"[object Object]"===a.call(e)?i(this,(function(n,r){o(r,e,t,n)})):s(this[0],e)}},function(e,t,n){var r=n(63),i=/\r?\n/g,a=/^(?:checkbox|radio)$/i,o=/^(?:submit|button|image|reset|file)$/i;t.serializeArray=function(){var e=this.constructor;return this.map((function(){var t=e(this);return"form"===this.name?t.find("input,select,textarea,keygen").toArray():t.filter("input,select,textarea,keygen").toArray()})).filter((function(){var t=e(this),n=t.attr("type");return t.attr("name")&&!t.is(":disabled")&&!o.test(n)&&(t.attr("checked")||!a.test(n))})).map((function(t,n){var a=e(n),o=a.attr("name"),s=a.val();return null==s?null:Array.isArray(s)?r.map(s,(function(e){return{name:o,value:e.replace(i,"\r\n")}})):{name:o,value:s.replace(i,"\r\n")}})).get()}},function(e){e.exports=JSON.parse('{"_args":[["cheerio@0.19.0","/builds/zmjs/mp3/js/zmp3-desktop"]],"_from":"cheerio@0.19.0","_id":"cheerio@0.19.0","_inBundle":false,"_integrity":"sha1-dy5wFfLuKZZQltcepBdbdas1SSU=","_location":"/cheerio","_phantomChildren":{"boolbase":"1.0.0","core-util-is":"1.0.2","dom-serializer":"0.1.0","domelementtype":"1.3.0","inherits":"2.0.3","isarray":"0.0.1","nth-check":"1.0.1"},"_requested":{"type":"version","registry":true,"raw":"cheerio@0.19.0","name":"cheerio","escapedName":"cheerio","rawSpec":"0.19.0","saveSpec":null,"fetchSpec":"0.19.0"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/cheerio/-/cheerio-0.19.0.tgz","_spec":"0.19.0","_where":"/builds/zmjs/mp3/js/zmp3-desktop","author":{"name":"Matt Mueller","email":"mattmuelle@gmail.com","url":"mat.io"},"bugs":{"url":"https://github.com/cheeriojs/cheerio/issues"},"dependencies":{"css-select":"~1.0.0","dom-serializer":"~0.1.0","entities":"~1.1.1","htmlparser2":"~3.8.1","lodash":"^3.2.0"},"description":"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server","devDependencies":{"benchmark":"~1.0.0","coveralls":"~2.10","expect.js":"~0.3.1","istanbul":"~0.2","jsdom":"~0.8.9","jshint":"~2.5.1","mocha":"*","xyz":"~0.5.0"},"engines":{"node":">= 0.6"},"homepage":"https://github.com/cheeriojs/cheerio#readme","keywords":["htmlparser","jquery","selector","scraper","parser","html"],"license":"MIT","main":"./index.js","name":"cheerio","repository":{"type":"git","url":"git://github.com/cheeriojs/cheerio.git"},"scripts":{"test":"make test"},"version":"0.19.0"}')},function(e,t){e.exports=function(e){var t=(e||"").match(/^(\d\d):(\d\d):(\d\d)$/);return t&&t.slice(1,4).map(parseFloat).reduce((function(e,t,n){return e+t*Math.pow(60,Math.abs(n-2))}),0)}},function(e,t){e.exports=function(e){switch((e||"").toLowerCase()){case"true":return!0;case"false":return!1}}},function(e,t){e.exports=function e(t,n){return Object(t)!==t?t:Object.keys(t).reduce((function(r,i){return n&&t[i]instanceof Array?r[i]=t[i].filter((function(e){return void 0!==e})).map((function(t){return e(t,!0)})):n&&t[i]instanceof Object?r[i]=e(t[i],!0):void 0!==t[i]&&(r[i]=t[i]),r}),{})}},function(e,t){e.exports=function(e){if(/string|number|boolean/.test(typeof e))return isNaN(e)?void 0:Number(e)}},function(e,t,n){var r,i,a;i=[e,n(316),n(318),n(319)],void 0===(a="function"===typeof(r=function(e,t,n,r){"use strict";var i=s(t),a=s(n),o=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof e.action?e.action:this.defaultAction,this.target="function"===typeof e.target?e.target:this.defaultTarget,this.text="function"===typeof e.text?e.text:this.defaultText,this.container="object"===c(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,o.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:function(e){var t=d("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return d("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"===typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(a.default);function d(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=u})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){var r,i,a;i=[e,n(317)],void 0===(a="function"===typeof(r=function(e,t){"use strict";var n,r=(n=t)&&n.__esModule?n:{default:n},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"===typeof e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=o})?r.apply(t,i):r)||(e.exports=a)},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var a=0,o=r.length;a<o;a++)r[a].fn!==t&&r[a].fn._!==t&&i.push(r[a]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){var r=n(320),i=n(321);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"===typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(322);function i(e,t,n,r,i){var o=a.apply(this,arguments);return e.addEventListener(n,o,i),{destroy:function(){e.removeEventListener(n,o,i)}}}function a(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=function(e,t,n,r,a){return"function"===typeof e.addEventListener?i.apply(null,arguments):"function"===typeof n?i.bind(null,document).apply(null,arguments):("string"===typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,a)})))}},function(e,t){if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"===typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(20),o=n.n(a),s=n(174),c=n.n(s),l=n(103),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var d=function(e){var t=function(t){var n=t.wrappedComponentRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["wrappedComponentRef"]);return i.a.createElement(l.a,{children:function(t){return i.a.createElement(e,u({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:o.a.func},c()(t,e)};t.a=d}]);
//# sourceMappingURL=main.min.js.map